var $re=Object.defineProperty;var f8=t=>{throw TypeError(t)};var Ure=(t,e,r)=>e in t?$re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>Ure(t,typeof e!="symbol"?e+"":e,r),A_=(t,e,r)=>e.has(t)||f8("Cannot "+r);var ge=(t,e,r)=>(A_(t,e,"read from private field"),r?r.call(t):e.get(t)),Wt=(t,e,r)=>e.has(t)?f8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),bt=(t,e,r,n)=>(A_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),dr=(t,e,r)=>(A_(t,e,"access private method"),r);var Px=(t,e,r,n)=>({set _(a){bt(t,e,a,r)},get _(){return ge(t,e,n)}});function Vre(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T_={exports:{}},Rp={},C_={exports:{}},vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d8;function Hre(){if(d8)return vr;d8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function w(z,F,ee){this.props=z,this.context=F,this.refs=v,this.updater=ee||g}w.prototype.isReactComponent={},w.prototype.setState=function(z,F){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,F,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=w.prototype;function b(z,F,ee){this.props=z,this.context=F,this.refs=v,this.updater=ee||g}var _=b.prototype=new S;_.constructor=b,x(_,w.prototype),_.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,j={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function D(z,F,ee){var K,ae={},q=null,pe=null;if(F!=null)for(K in F.ref!==void 0&&(pe=F.ref),F.key!==void 0&&(q=""+F.key),F)A.call(F,K)&&!O.hasOwnProperty(K)&&(ae[K]=F[K]);var W=arguments.length-2;if(W===1)ae.children=ee;else if(1<W){for(var V=Array(W),fe=0;fe<W;fe++)V[fe]=arguments[fe+2];ae.children=V}if(z&&z.defaultProps)for(K in W=z.defaultProps,W)ae[K]===void 0&&(ae[K]=W[K]);return{$$typeof:t,type:z,key:q,ref:pe,props:ae,_owner:j.current}}function M(z,F){return{$$typeof:t,type:z.type,key:F,ref:z.ref,props:z.props,_owner:z._owner}}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function I(z){var F={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ee){return F[ee]})}var R=/\/+/g;function L(z,F){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):F.toString(36)}function U(z,F,ee,K,ae){var q=typeof z;(q==="undefined"||q==="boolean")&&(z=null);var pe=!1;if(z===null)pe=!0;else switch(q){case"string":case"number":pe=!0;break;case"object":switch(z.$$typeof){case t:case e:pe=!0}}if(pe)return pe=z,ae=ae(pe),z=K===""?"."+L(pe,0):K,E(ae)?(ee="",z!=null&&(ee=z.replace(R,"$&/")+"/"),U(ae,F,ee,"",function(fe){return fe})):ae!=null&&(k(ae)&&(ae=M(ae,ee+(!ae.key||pe&&pe.key===ae.key?"":(""+ae.key).replace(R,"$&/")+"/")+z)),F.push(ae)),1;if(pe=0,K=K===""?".":K+":",E(z))for(var W=0;W<z.length;W++){q=z[W];var V=K+L(q,W);pe+=U(q,F,ee,V,ae)}else if(V=m(z),typeof V=="function")for(z=V.call(z),W=0;!(q=z.next()).done;)q=q.value,V=K+L(q,W++),pe+=U(q,F,ee,V,ae);else if(q==="object")throw F=String(z),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return pe}function X(z,F,ee){if(z==null)return z;var K=[],ae=0;return U(z,K,"","",function(q){return F.call(ee,q,ae++)}),K}function ue(z){if(z._status===-1){var F=z._result;F=F(),F.then(function(ee){(z._status===0||z._status===-1)&&(z._status=1,z._result=ee)},function(ee){(z._status===0||z._status===-1)&&(z._status=2,z._result=ee)}),z._status===-1&&(z._status=0,z._result=F)}if(z._status===1)return z._result.default;throw z._result}var he={current:null},J={transition:null},ne={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:J,ReactCurrentOwner:j};function G(){throw Error("act(...) is not supported in production builds of React.")}return vr.Children={map:X,forEach:function(z,F,ee){X(z,function(){F.apply(this,arguments)},ee)},count:function(z){var F=0;return X(z,function(){F++}),F},toArray:function(z){return X(z,function(F){return F})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},vr.Component=w,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=b,vr.StrictMode=n,vr.Suspense=c,vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,vr.act=G,vr.cloneElement=function(z,F,ee){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var K=x({},z.props),ae=z.key,q=z.ref,pe=z._owner;if(F!=null){if(F.ref!==void 0&&(q=F.ref,pe=j.current),F.key!==void 0&&(ae=""+F.key),z.type&&z.type.defaultProps)var W=z.type.defaultProps;for(V in F)A.call(F,V)&&!O.hasOwnProperty(V)&&(K[V]=F[V]===void 0&&W!==void 0?W[V]:F[V])}var V=arguments.length-2;if(V===1)K.children=ee;else if(1<V){W=Array(V);for(var fe=0;fe<V;fe++)W[fe]=arguments[fe+2];K.children=W}return{$$typeof:t,type:z.type,key:ae,ref:q,props:K,_owner:pe}},vr.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},vr.createElement=D,vr.createFactory=function(z){var F=D.bind(null,z);return F.type=z,F},vr.createRef=function(){return{current:null}},vr.forwardRef=function(z){return{$$typeof:o,render:z}},vr.isValidElement=k,vr.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ue}},vr.memo=function(z,F){return{$$typeof:u,type:z,compare:F===void 0?null:F}},vr.startTransition=function(z){var F=J.transition;J.transition={};try{z()}finally{J.transition=F}},vr.unstable_act=G,vr.useCallback=function(z,F){return he.current.useCallback(z,F)},vr.useContext=function(z){return he.current.useContext(z)},vr.useDebugValue=function(){},vr.useDeferredValue=function(z){return he.current.useDeferredValue(z)},vr.useEffect=function(z,F){return he.current.useEffect(z,F)},vr.useId=function(){return he.current.useId()},vr.useImperativeHandle=function(z,F,ee){return he.current.useImperativeHandle(z,F,ee)},vr.useInsertionEffect=function(z,F){return he.current.useInsertionEffect(z,F)},vr.useLayoutEffect=function(z,F){return he.current.useLayoutEffect(z,F)},vr.useMemo=function(z,F){return he.current.useMemo(z,F)},vr.useReducer=function(z,F,ee){return he.current.useReducer(z,F,ee)},vr.useRef=function(z){return he.current.useRef(z)},vr.useState=function(z){return he.current.useState(z)},vr.useSyncExternalStore=function(z,F,ee){return he.current.useSyncExternalStore(z,F,ee)},vr.useTransition=function(){return he.current.useTransition()},vr.version="18.3.1",vr}var h8;function T2(){return h8||(h8=1,C_.exports=Hre()),C_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8;function zre(){if(p8)return Rp;p8=1;var t=T2(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,u){var f,h={},m=null,g=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)n.call(c,f)&&!i.hasOwnProperty(f)&&(h[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:o,key:m,ref:g,props:h,_owner:a.current}}return Rp.Fragment=r,Rp.jsx=s,Rp.jsxs=s,Rp}var m8;function qre(){return m8||(m8=1,T_.exports=zre()),T_.exports}var l=qre(),Dx={},j_={exports:{}},Gi={},O_={exports:{}},I_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g8;function Wre(){return g8||(g8=1,(function(t){function e(J,ne){var G=J.length;J.push(ne);e:for(;0<G;){var z=G-1>>>1,F=J[z];if(0<a(F,ne))J[z]=ne,J[G]=F,G=z;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ne=J[0],G=J.pop();if(G!==ne){J[0]=G;e:for(var z=0,F=J.length,ee=F>>>1;z<ee;){var K=2*(z+1)-1,ae=J[K],q=K+1,pe=J[q];if(0>a(ae,G))q<F&&0>a(pe,ae)?(J[z]=pe,J[q]=G,z=q):(J[z]=ae,J[K]=G,z=K);else if(q<F&&0>a(pe,G))J[z]=pe,J[q]=G,z=q;else break e}}return ne}function a(J,ne){var G=J.sortIndex-ne.sortIndex;return G!==0?G:J.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],f=1,h=null,m=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(J){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=J)n(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=r(u)}}function E(J){if(v=!1,_(J),!x)if(r(c)!==null)x=!0,ue(A);else{var ne=r(u);ne!==null&&he(E,ne.startTime-J)}}function A(J,ne){x=!1,v&&(v=!1,S(D),D=-1),g=!0;var G=m;try{for(_(ne),h=r(c);h!==null&&(!(h.expirationTime>ne)||J&&!I());){var z=h.callback;if(typeof z=="function"){h.callback=null,m=h.priorityLevel;var F=z(h.expirationTime<=ne);ne=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(c)&&n(c),_(ne)}else n(c);h=r(c)}if(h!==null)var ee=!0;else{var K=r(u);K!==null&&he(E,K.startTime-ne),ee=!1}return ee}finally{h=null,m=G,g=!1}}var j=!1,O=null,D=-1,M=5,k=-1;function I(){return!(t.unstable_now()-k<M)}function R(){if(O!==null){var J=t.unstable_now();k=J;var ne=!0;try{ne=O(!0,J)}finally{ne?L():(j=!1,O=null)}}else j=!1}var L;if(typeof b=="function")L=function(){b(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=R,L=function(){X.postMessage(null)}}else L=function(){w(R,0)};function ue(J){O=J,j||(j=!0,L())}function he(J,ne){D=w(function(){J(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,ue(A))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(J){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var G=m;m=ne;try{return J()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ne){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var G=m;m=J;try{return ne()}finally{m=G}},t.unstable_scheduleCallback=function(J,ne,G){var z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?z+G:z):G=z,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,J={id:f++,callback:ne,priorityLevel:J,startTime:G,expirationTime:F,sortIndex:-1},G>z?(J.sortIndex=G,e(u,J),r(c)===null&&J===r(u)&&(v?(S(D),D=-1):v=!0,he(E,G-z))):(J.sortIndex=F,e(c,J),x||g||(x=!0,ue(A))),J},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(J){var ne=m;return function(){var G=m;m=ne;try{return J.apply(this,arguments)}finally{m=G}}}})(I_)),I_}var v8;function Gre(){return v8||(v8=1,O_.exports=Wre()),O_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x8;function Kre(){if(x8)return Gi;x8=1;var t=T2(),e=Gre();function r(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,y=1;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(d,p){s(d,p),s(d+"Capture",p)}function s(d,p){for(a[d]=p,d=0;d<p.length;d++)n.add(p[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(d){return c.call(h,d)?!0:c.call(f,d)?!1:u.test(d)?h[d]=!0:(f[d]=!0,!1)}function g(d,p,y,N){if(y!==null&&y.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return N?!1:y!==null?!y.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function x(d,p,y,N){if(p===null||typeof p>"u"||g(d,p,y,N))return!0;if(N)return!1;if(y!==null)switch(y.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function v(d,p,y,N,C,P,B){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=N,this.attributeNamespace=C,this.mustUseProperty=y,this.propertyName=d,this.type=p,this.sanitizeURL=P,this.removeEmptyString=B}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){w[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];w[p]=new v(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){w[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){w[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){w[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){w[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){w[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){w[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){w[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function b(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(S,b);w[p]=new v(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(S,b);w[p]=new v(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(S,b);w[p]=new v(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){w[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){w[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function _(d,p,y,N){var C=w.hasOwnProperty(p)?w[p]:null;(C!==null?C.type!==0:N||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,y,C,N)&&(y=null),N||C===null?m(p)&&(y===null?d.removeAttribute(p):d.setAttribute(p,""+y)):C.mustUseProperty?d[C.propertyName]=y===null?C.type===3?!1:"":y:(p=C.attributeName,N=C.attributeNamespace,y===null?d.removeAttribute(p):(C=C.type,y=C===3||C===4&&y===!0?"":""+y,N?d.setAttributeNS(N,p,y):d.setAttribute(p,y))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),J=Symbol.iterator;function ne(d){return d===null||typeof d!="object"?null:(d=J&&d[J]||d["@@iterator"],typeof d=="function"?d:null)}var G=Object.assign,z;function F(d){if(z===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);z=p&&p[1]||""}return`
`+z+d}var ee=!1;function K(d,p){if(!d||ee)return"";ee=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Pe){var N=Pe}Reflect.construct(d,[],p)}else{try{p.call()}catch(Pe){N=Pe}d.call(p.prototype)}else{try{throw Error()}catch(Pe){N=Pe}d()}}catch(Pe){if(Pe&&N&&typeof Pe.stack=="string"){for(var C=Pe.stack.split(`
`),P=N.stack.split(`
`),B=C.length-1,de=P.length-1;1<=B&&0<=de&&C[B]!==P[de];)de--;for(;1<=B&&0<=de;B--,de--)if(C[B]!==P[de]){if(B!==1||de!==1)do if(B--,de--,0>de||C[B]!==P[de]){var me=`
`+C[B].replace(" at new "," at ");return d.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",d.displayName)),me}while(1<=B&&0<=de);break}}}finally{ee=!1,Error.prepareStackTrace=y}return(d=d?d.displayName||d.name:"")?F(d):""}function ae(d){switch(d.tag){case 5:return F(d.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return d=K(d.type,!1),d;case 11:return d=K(d.type.render,!1),d;case 1:return d=K(d.type,!0),d;default:return""}}function q(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case j:return"Portal";case M:return"Profiler";case D:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case I:return(d.displayName||"Context")+".Consumer";case k:return(d._context.displayName||"Context")+".Provider";case R:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case X:return p=d.displayName||null,p!==null?p:q(d.type)||"Memo";case ue:p=d._payload,d=d._init;try{return q(d(p))}catch{}}return null}function pe(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(p);case 8:return p===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function W(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function V(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function fe(d){var p=V(d)?"checked":"value",y=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),N=""+d[p];if(!d.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var C=y.get,P=y.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return C.call(this)},set:function(B){N=""+B,P.call(this,B)}}),Object.defineProperty(d,p,{enumerable:y.enumerable}),{getValue:function(){return N},setValue:function(B){N=""+B},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Se(d){d._valueTracker||(d._valueTracker=fe(d))}function ve(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var y=p.getValue(),N="";return d&&(N=V(d)?d.checked?"true":"false":d.value),d=N,d!==y?(p.setValue(d),!0):!1}function gt(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Y(d,p){var y=p.checked;return G({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??d._wrapperState.initialChecked})}function Oe(d,p){var y=p.defaultValue==null?"":p.defaultValue,N=p.checked!=null?p.checked:p.defaultChecked;y=W(p.value!=null?p.value:y),d._wrapperState={initialChecked:N,initialValue:y,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Re(d,p){p=p.checked,p!=null&&_(d,"checked",p,!1)}function Me(d,p){Re(d,p);var y=W(p.value),N=p.type;if(y!=null)N==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+y):d.value!==""+y&&(d.value=""+y);else if(N==="submit"||N==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?qt(d,p.type,y):p.hasOwnProperty("defaultValue")&&qt(d,p.type,W(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function st(d,p,y){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var N=p.type;if(!(N!=="submit"&&N!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,y||p===d.value||(d.value=p),d.defaultValue=p}y=d.name,y!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,y!==""&&(d.name=y)}function qt(d,p,y){(p!=="number"||gt(d.ownerDocument)!==d)&&(y==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+y&&(d.defaultValue=""+y))}var we=Array.isArray;function qe(d,p,y,N){if(d=d.options,p){p={};for(var C=0;C<y.length;C++)p["$"+y[C]]=!0;for(y=0;y<d.length;y++)C=p.hasOwnProperty("$"+d[y].value),d[y].selected!==C&&(d[y].selected=C),C&&N&&(d[y].defaultSelected=!0)}else{for(y=""+W(y),p=null,C=0;C<d.length;C++){if(d[C].value===y){d[C].selected=!0,N&&(d[C].defaultSelected=!0);return}p!==null||d[C].disabled||(p=d[C])}p!==null&&(p.selected=!0)}}function se(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function ye(d,p){var y=p.value;if(y==null){if(y=p.children,p=p.defaultValue,y!=null){if(p!=null)throw Error(r(92));if(we(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),y=p}d._wrapperState={initialValue:W(y)}}function _e(d,p){var y=W(p.value),N=W(p.defaultValue);y!=null&&(y=""+y,y!==d.value&&(d.value=y),p.defaultValue==null&&d.defaultValue!==y&&(d.defaultValue=y)),N!=null&&(d.defaultValue=""+N)}function Ye(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function at(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?at(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var pt,kt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,y,N,C){MSApp.execUnsafeLocalFunction(function(){return d(p,y,N,C)})}:d})(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=pt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function tr(d,p){if(p){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=p;return}}d.textContent=p}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ks=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(d){ks.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),Sr[p]=Sr[d]})});function $i(d,p,y){return p==null||typeof p=="boolean"||p===""?"":y||typeof p!="number"||p===0||Sr.hasOwnProperty(d)&&Sr[d]?(""+p).trim():p+"px"}function an(d,p){d=d.style;for(var y in p)if(p.hasOwnProperty(y)){var N=y.indexOf("--")===0,C=$i(y,p[y],N);y==="float"&&(y="cssFloat"),N?d.setProperty(y,C):d[y]=C}}var Go=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(d,p){if(p){if(Go[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function os(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function uo(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var sn=null,Rs=null,ti=null;function Ui(d){if(d=wp(d)){if(typeof sn!="function")throw Error(r(280));var p=d.stateNode;p&&(p=Gv(p),sn(d.stateNode,d.type,p))}}function Ac(d){Rs?ti?ti.push(d):ti=[d]:Rs=d}function bd(){if(Rs){var d=Rs,p=ti;if(ti=Rs=null,Ui(d),p)for(d=0;d<p.length;d++)Ui(p[d])}}function _d(d,p){return d(p)}function Sd(){}var yn=!1;function ls(d,p,y){if(yn)return d(p,y);yn=!0;try{return _d(d,p,y)}finally{yn=!1,(Rs!==null||ti!==null)&&(Sd(),bd())}}function Ko(d,p){var y=d.stateNode;if(y===null)return null;var N=Gv(y);if(N===null)return null;y=N[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(d=d.type,N=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!N;break e;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(r(231,p,typeof y));return y}var Tc=!1;if(o)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Tc=!1}function Ms(d,p,y,N,C,P,B,de,me){var Pe=Array.prototype.slice.call(arguments,3);try{p.apply(y,Pe)}catch(Xe){this.onError(Xe)}}var jl=!1,cs=null,H=!1,ie=null,Q={onError:function(d){jl=!0,cs=d}};function te(d,p,y,N,C,P,B,de,me){jl=!1,cs=null,Ms.apply(Q,arguments)}function le(d,p,y,N,C,P,B,de,me){if(te.apply(this,arguments),jl){if(jl){var Pe=cs;jl=!1,cs=null}else throw Error(r(198));H||(H=!0,ie=Pe)}}function ce(d){var p=d,y=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(y=p.return),d=p.return;while(d)}return p.tag===3?y:null}function Ae(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function Fe(d){if(ce(d)!==d)throw Error(r(188))}function Te(d){var p=d.alternate;if(!p){if(p=ce(d),p===null)throw Error(r(188));return p!==d?null:d}for(var y=d,N=p;;){var C=y.return;if(C===null)break;var P=C.alternate;if(P===null){if(N=C.return,N!==null){y=N;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===y)return Fe(C),d;if(P===N)return Fe(C),p;P=P.sibling}throw Error(r(188))}if(y.return!==N.return)y=C,N=P;else{for(var B=!1,de=C.child;de;){if(de===y){B=!0,y=C,N=P;break}if(de===N){B=!0,N=C,y=P;break}de=de.sibling}if(!B){for(de=P.child;de;){if(de===y){B=!0,y=P,N=C;break}if(de===N){B=!0,N=P,y=C;break}de=de.sibling}if(!B)throw Error(r(189))}}if(y.alternate!==N)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?d:p}function je(d){return d=Te(d),d!==null?Ie(d):null}function Ie(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=Ie(d);if(p!==null)return p;d=d.sibling}return null}var Ke=e.unstable_scheduleCallback,ft=e.unstable_cancelCallback,yt=e.unstable_shouldYield,rt=e.unstable_requestPaint,Je=e.unstable_now,Qt=e.unstable_getCurrentPriorityLevel,Hr=e.unstable_ImmediatePriority,Yr=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,Xo=e.unstable_LowPriority,ho=e.unstable_IdlePriority,us=null,Z=null;function De(d){if(Z&&typeof Z.onCommitFiberRoot=="function")try{Z.onCommitFiberRoot(us,d,void 0,(d.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Dt,nt=Math.log,cr=Math.LN2;function Dt(d){return d>>>=0,d===0?32:31-(nt(d)/cr|0)|0}var wr=64,En=4194304;function Bn(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function xa(d,p){var y=d.pendingLanes;if(y===0)return 0;var N=0,C=d.suspendedLanes,P=d.pingedLanes,B=y&268435455;if(B!==0){var de=B&~C;de!==0?N=Bn(de):(P&=B,P!==0&&(N=Bn(P)))}else B=y&~C,B!==0?N=Bn(B):P!==0&&(N=Bn(P));if(N===0)return 0;if(p!==0&&p!==N&&(p&C)===0&&(C=N&-N,P=p&-p,C>=P||C===16&&(P&4194240)!==0))return p;if((N&4)!==0&&(N|=y&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=N;0<p;)y=31-Qe(p),C=1<<y,N|=d[y],p&=~C;return N}function $n(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(d,p){for(var y=d.suspendedLanes,N=d.pingedLanes,C=d.expirationTimes,P=d.pendingLanes;0<P;){var B=31-Qe(P),de=1<<B,me=C[B];me===-1?((de&y)===0||(de&N)!==0)&&(C[B]=$n(de,p)):me<=p&&(d.expiredLanes|=de),P&=~de}}function Fs(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Iv(){var d=wr;return wr<<=1,(wr&4194240)===0&&(wr=64),d}function rp(d){for(var p=[],y=0;31>y;y++)p.push(d);return p}function np(d,p,y){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-Qe(p),d[p]=y}function ote(d,p){var y=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var N=d.eventTimes;for(d=d.expirationTimes;0<y;){var C=31-Qe(y),P=1<<C;p[C]=0,N[C]=-1,d[C]=-1,y&=~P}}function Xw(d,p){var y=d.entangledLanes|=p;for(d=d.entanglements;y;){var N=31-Qe(y),C=1<<N;C&p|d[N]&p&&(d[N]|=p),y&=~C}}var zr=0;function HO(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var zO,Qw,qO,WO,GO,Yw=!1,Pv=[],Cc=null,jc=null,Oc=null,ap=new Map,ip=new Map,Ic=[],lte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KO(d,p){switch(d){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":jc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":ap.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(p.pointerId)}}function sp(d,p,y,N,C,P){return d===null||d.nativeEvent!==P?(d={blockedOn:p,domEventName:y,eventSystemFlags:N,nativeEvent:P,targetContainers:[C]},p!==null&&(p=wp(p),p!==null&&Qw(p)),d):(d.eventSystemFlags|=N,p=d.targetContainers,C!==null&&p.indexOf(C)===-1&&p.push(C),d)}function cte(d,p,y,N,C){switch(p){case"focusin":return Cc=sp(Cc,d,p,y,N,C),!0;case"dragenter":return jc=sp(jc,d,p,y,N,C),!0;case"mouseover":return Oc=sp(Oc,d,p,y,N,C),!0;case"pointerover":var P=C.pointerId;return ap.set(P,sp(ap.get(P)||null,d,p,y,N,C)),!0;case"gotpointercapture":return P=C.pointerId,ip.set(P,sp(ip.get(P)||null,d,p,y,N,C)),!0}return!1}function XO(d){var p=Uu(d.target);if(p!==null){var y=ce(p);if(y!==null){if(p=y.tag,p===13){if(p=Ae(y),p!==null){d.blockedOn=p,GO(d.priority,function(){qO(y)});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function kv(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var y=Jw(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(y===null){y=d.nativeEvent;var N=new y.constructor(y.type,y);Ds=N,y.target.dispatchEvent(N),Ds=null}else return p=wp(y),p!==null&&Qw(p),d.blockedOn=y,!1;p.shift()}return!0}function QO(d,p,y){kv(d)&&y.delete(p)}function ute(){Yw=!1,Cc!==null&&kv(Cc)&&(Cc=null),jc!==null&&kv(jc)&&(jc=null),Oc!==null&&kv(Oc)&&(Oc=null),ap.forEach(QO),ip.forEach(QO)}function op(d,p){d.blockedOn===p&&(d.blockedOn=null,Yw||(Yw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ute)))}function lp(d){function p(C){return op(C,d)}if(0<Pv.length){op(Pv[0],d);for(var y=1;y<Pv.length;y++){var N=Pv[y];N.blockedOn===d&&(N.blockedOn=null)}}for(Cc!==null&&op(Cc,d),jc!==null&&op(jc,d),Oc!==null&&op(Oc,d),ap.forEach(p),ip.forEach(p),y=0;y<Ic.length;y++)N=Ic[y],N.blockedOn===d&&(N.blockedOn=null);for(;0<Ic.length&&(y=Ic[0],y.blockedOn===null);)XO(y),y.blockedOn===null&&Ic.shift()}var Nd=E.ReactCurrentBatchConfig,Dv=!0;function fte(d,p,y,N){var C=zr,P=Nd.transition;Nd.transition=null;try{zr=1,Zw(d,p,y,N)}finally{zr=C,Nd.transition=P}}function dte(d,p,y,N){var C=zr,P=Nd.transition;Nd.transition=null;try{zr=4,Zw(d,p,y,N)}finally{zr=C,Nd.transition=P}}function Zw(d,p,y,N){if(Dv){var C=Jw(d,p,y,N);if(C===null)gb(d,p,N,Rv,y),KO(d,N);else if(cte(C,d,p,y,N))N.stopPropagation();else if(KO(d,N),p&4&&-1<lte.indexOf(d)){for(;C!==null;){var P=wp(C);if(P!==null&&zO(P),P=Jw(d,p,y,N),P===null&&gb(d,p,N,Rv,y),P===C)break;C=P}C!==null&&N.stopPropagation()}else gb(d,p,N,null,y)}}var Rv=null;function Jw(d,p,y,N){if(Rv=null,d=uo(N),d=Uu(d),d!==null)if(p=ce(d),p===null)d=null;else if(y=p.tag,y===13){if(d=Ae(p),d!==null)return d;d=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Rv=d,null}function YO(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Hr:return 1;case Yr:return 4;case Nn:case Xo:return 16;case ho:return 536870912;default:return 16}default:return 16}}var Pc=null,eb=null,Mv=null;function ZO(){if(Mv)return Mv;var d,p=eb,y=p.length,N,C="value"in Pc?Pc.value:Pc.textContent,P=C.length;for(d=0;d<y&&p[d]===C[d];d++);var B=y-d;for(N=1;N<=B&&p[y-N]===C[P-N];N++);return Mv=C.slice(d,1<N?1-N:void 0)}function Fv(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Lv(){return!0}function JO(){return!1}function fs(d){function p(y,N,C,P,B){this._reactName=y,this._targetInst=C,this.type=N,this.nativeEvent=P,this.target=B,this.currentTarget=null;for(var de in d)d.hasOwnProperty(de)&&(y=d[de],this[de]=y?y(P):P[de]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Lv:JO,this.isPropagationStopped=JO,this}return G(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Lv)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Lv)},persist:function(){},isPersistent:Lv}),p}var Ed={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tb=fs(Ed),cp=G({},Ed,{view:0,detail:0}),hte=fs(cp),rb,nb,up,Bv=G({},cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ib,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==up&&(up&&d.type==="mousemove"?(rb=d.screenX-up.screenX,nb=d.screenY-up.screenY):nb=rb=0,up=d),rb)},movementY:function(d){return"movementY"in d?d.movementY:nb}}),eI=fs(Bv),pte=G({},Bv,{dataTransfer:0}),mte=fs(pte),gte=G({},cp,{relatedTarget:0}),ab=fs(gte),vte=G({},Ed,{animationName:0,elapsedTime:0,pseudoElement:0}),xte=fs(vte),yte=G({},Ed,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),wte=fs(yte),bte=G({},Ed,{data:0}),tI=fs(bte),_te={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ste={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ete(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=Nte[d])?!!p[d]:!1}function ib(){return Ete}var Ate=G({},cp,{key:function(d){if(d.key){var p=_te[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Fv(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Ste[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ib,charCode:function(d){return d.type==="keypress"?Fv(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Fv(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Tte=fs(Ate),Cte=G({},Bv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rI=fs(Cte),jte=G({},cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ib}),Ote=fs(jte),Ite=G({},Ed,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pte=fs(Ite),kte=G({},Bv,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Dte=fs(kte),Rte=[9,13,27,32],sb=o&&"CompositionEvent"in window,fp=null;o&&"documentMode"in document&&(fp=document.documentMode);var Mte=o&&"TextEvent"in window&&!fp,nI=o&&(!sb||fp&&8<fp&&11>=fp),aI=" ",iI=!1;function sI(d,p){switch(d){case"keyup":return Rte.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oI(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ad=!1;function Fte(d,p){switch(d){case"compositionend":return oI(p);case"keypress":return p.which!==32?null:(iI=!0,aI);case"textInput":return d=p.data,d===aI&&iI?null:d;default:return null}}function Lte(d,p){if(Ad)return d==="compositionend"||!sb&&sI(d,p)?(d=ZO(),Mv=eb=Pc=null,Ad=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return nI&&p.locale!=="ko"?null:p.data;default:return null}}var Bte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lI(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!Bte[d.type]:p==="textarea"}function cI(d,p,y,N){Ac(N),p=zv(p,"onChange"),0<p.length&&(y=new tb("onChange","change",null,y,N),d.push({event:y,listeners:p}))}var dp=null,hp=null;function $te(d){TI(d,0)}function $v(d){var p=Id(d);if(ve(p))return d}function Ute(d,p){if(d==="change")return p}var uI=!1;if(o){var ob;if(o){var lb="oninput"in document;if(!lb){var fI=document.createElement("div");fI.setAttribute("oninput","return;"),lb=typeof fI.oninput=="function"}ob=lb}else ob=!1;uI=ob&&(!document.documentMode||9<document.documentMode)}function dI(){dp&&(dp.detachEvent("onpropertychange",hI),hp=dp=null)}function hI(d){if(d.propertyName==="value"&&$v(hp)){var p=[];cI(p,hp,d,uo(d)),ls($te,p)}}function Vte(d,p,y){d==="focusin"?(dI(),dp=p,hp=y,dp.attachEvent("onpropertychange",hI)):d==="focusout"&&dI()}function Hte(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return $v(hp)}function zte(d,p){if(d==="click")return $v(p)}function qte(d,p){if(d==="input"||d==="change")return $v(p)}function Wte(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var po=typeof Object.is=="function"?Object.is:Wte;function pp(d,p){if(po(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var y=Object.keys(d),N=Object.keys(p);if(y.length!==N.length)return!1;for(N=0;N<y.length;N++){var C=y[N];if(!c.call(p,C)||!po(d[C],p[C]))return!1}return!0}function pI(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function mI(d,p){var y=pI(d);d=0;for(var N;y;){if(y.nodeType===3){if(N=d+y.textContent.length,d<=p&&N>=p)return{node:y,offset:p-d};d=N}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=pI(y)}}function gI(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?gI(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function vI(){for(var d=window,p=gt();p instanceof d.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)d=p.contentWindow;else break;p=gt(d.document)}return p}function cb(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function Gte(d){var p=vI(),y=d.focusedElem,N=d.selectionRange;if(p!==y&&y&&y.ownerDocument&&gI(y.ownerDocument.documentElement,y)){if(N!==null&&cb(y)){if(p=N.start,d=N.end,d===void 0&&(d=p),"selectionStart"in y)y.selectionStart=p,y.selectionEnd=Math.min(d,y.value.length);else if(d=(p=y.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var C=y.textContent.length,P=Math.min(N.start,C);N=N.end===void 0?P:Math.min(N.end,C),!d.extend&&P>N&&(C=N,N=P,P=C),C=mI(y,P);var B=mI(y,N);C&&B&&(d.rangeCount!==1||d.anchorNode!==C.node||d.anchorOffset!==C.offset||d.focusNode!==B.node||d.focusOffset!==B.offset)&&(p=p.createRange(),p.setStart(C.node,C.offset),d.removeAllRanges(),P>N?(d.addRange(p),d.extend(B.node,B.offset)):(p.setEnd(B.node,B.offset),d.addRange(p)))}}for(p=[],d=y;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<p.length;y++)d=p[y],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Kte=o&&"documentMode"in document&&11>=document.documentMode,Td=null,ub=null,mp=null,fb=!1;function xI(d,p,y){var N=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;fb||Td==null||Td!==gt(N)||(N=Td,"selectionStart"in N&&cb(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),mp&&pp(mp,N)||(mp=N,N=zv(ub,"onSelect"),0<N.length&&(p=new tb("onSelect","select",null,p,y),d.push({event:p,listeners:N}),p.target=Td)))}function Uv(d,p){var y={};return y[d.toLowerCase()]=p.toLowerCase(),y["Webkit"+d]="webkit"+p,y["Moz"+d]="moz"+p,y}var Cd={animationend:Uv("Animation","AnimationEnd"),animationiteration:Uv("Animation","AnimationIteration"),animationstart:Uv("Animation","AnimationStart"),transitionend:Uv("Transition","TransitionEnd")},db={},yI={};o&&(yI=document.createElement("div").style,"AnimationEvent"in window||(delete Cd.animationend.animation,delete Cd.animationiteration.animation,delete Cd.animationstart.animation),"TransitionEvent"in window||delete Cd.transitionend.transition);function Vv(d){if(db[d])return db[d];if(!Cd[d])return d;var p=Cd[d],y;for(y in p)if(p.hasOwnProperty(y)&&y in yI)return db[d]=p[y];return d}var wI=Vv("animationend"),bI=Vv("animationiteration"),_I=Vv("animationstart"),SI=Vv("transitionend"),NI=new Map,EI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kc(d,p){NI.set(d,p),i(p,[d])}for(var hb=0;hb<EI.length;hb++){var pb=EI[hb],Xte=pb.toLowerCase(),Qte=pb[0].toUpperCase()+pb.slice(1);kc(Xte,"on"+Qte)}kc(wI,"onAnimationEnd"),kc(bI,"onAnimationIteration"),kc(_I,"onAnimationStart"),kc("dblclick","onDoubleClick"),kc("focusin","onFocus"),kc("focusout","onBlur"),kc(SI,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yte=new Set("cancel close invalid load scroll toggle".split(" ").concat(gp));function AI(d,p,y){var N=d.type||"unknown-event";d.currentTarget=y,le(N,p,void 0,d),d.currentTarget=null}function TI(d,p){p=(p&4)!==0;for(var y=0;y<d.length;y++){var N=d[y],C=N.event;N=N.listeners;e:{var P=void 0;if(p)for(var B=N.length-1;0<=B;B--){var de=N[B],me=de.instance,Pe=de.currentTarget;if(de=de.listener,me!==P&&C.isPropagationStopped())break e;AI(C,de,Pe),P=me}else for(B=0;B<N.length;B++){if(de=N[B],me=de.instance,Pe=de.currentTarget,de=de.listener,me!==P&&C.isPropagationStopped())break e;AI(C,de,Pe),P=me}}}if(H)throw d=ie,H=!1,ie=null,d}function dn(d,p){var y=p[_b];y===void 0&&(y=p[_b]=new Set);var N=d+"__bubble";y.has(N)||(CI(p,d,2,!1),y.add(N))}function mb(d,p,y){var N=0;p&&(N|=4),CI(y,d,N,p)}var Hv="_reactListening"+Math.random().toString(36).slice(2);function vp(d){if(!d[Hv]){d[Hv]=!0,n.forEach(function(y){y!=="selectionchange"&&(Yte.has(y)||mb(y,!1,d),mb(y,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[Hv]||(p[Hv]=!0,mb("selectionchange",!1,p))}}function CI(d,p,y,N){switch(YO(p)){case 1:var C=fte;break;case 4:C=dte;break;default:C=Zw}y=C.bind(null,p,y,d),C=void 0,!Tc||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(C=!0),N?C!==void 0?d.addEventListener(p,y,{capture:!0,passive:C}):d.addEventListener(p,y,!0):C!==void 0?d.addEventListener(p,y,{passive:C}):d.addEventListener(p,y,!1)}function gb(d,p,y,N,C){var P=N;if((p&1)===0&&(p&2)===0&&N!==null)e:for(;;){if(N===null)return;var B=N.tag;if(B===3||B===4){var de=N.stateNode.containerInfo;if(de===C||de.nodeType===8&&de.parentNode===C)break;if(B===4)for(B=N.return;B!==null;){var me=B.tag;if((me===3||me===4)&&(me=B.stateNode.containerInfo,me===C||me.nodeType===8&&me.parentNode===C))return;B=B.return}for(;de!==null;){if(B=Uu(de),B===null)return;if(me=B.tag,me===5||me===6){N=P=B;continue e}de=de.parentNode}}N=N.return}ls(function(){var Pe=P,Xe=uo(y),Ze=[];e:{var We=NI.get(d);if(We!==void 0){var wt=tb,Et=d;switch(d){case"keypress":if(Fv(y)===0)break e;case"keydown":case"keyup":wt=Tte;break;case"focusin":Et="focus",wt=ab;break;case"focusout":Et="blur",wt=ab;break;case"beforeblur":case"afterblur":wt=ab;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=eI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=mte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Ote;break;case wI:case bI:case _I:wt=xte;break;case SI:wt=Pte;break;case"scroll":wt=hte;break;case"wheel":wt=Dte;break;case"copy":case"cut":case"paste":wt=wte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=rI}var Tt=(p&4)!==0,Rn=!Tt&&d==="scroll",Ne=Tt?We!==null?We+"Capture":null:We;Tt=[];for(var xe=Pe,Ce;xe!==null;){Ce=xe;var ot=Ce.stateNode;if(Ce.tag===5&&ot!==null&&(Ce=ot,Ne!==null&&(ot=Ko(xe,Ne),ot!=null&&Tt.push(xp(xe,ot,Ce)))),Rn)break;xe=xe.return}0<Tt.length&&(We=new wt(We,Et,null,y,Xe),Ze.push({event:We,listeners:Tt}))}}if((p&7)===0){e:{if(We=d==="mouseover"||d==="pointerover",wt=d==="mouseout"||d==="pointerout",We&&y!==Ds&&(Et=y.relatedTarget||y.fromElement)&&(Uu(Et)||Et[Ol]))break e;if((wt||We)&&(We=Xe.window===Xe?Xe:(We=Xe.ownerDocument)?We.defaultView||We.parentWindow:window,wt?(Et=y.relatedTarget||y.toElement,wt=Pe,Et=Et?Uu(Et):null,Et!==null&&(Rn=ce(Et),Et!==Rn||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(wt=null,Et=Pe),wt!==Et)){if(Tt=eI,ot="onMouseLeave",Ne="onMouseEnter",xe="mouse",(d==="pointerout"||d==="pointerover")&&(Tt=rI,ot="onPointerLeave",Ne="onPointerEnter",xe="pointer"),Rn=wt==null?We:Id(wt),Ce=Et==null?We:Id(Et),We=new Tt(ot,xe+"leave",wt,y,Xe),We.target=Rn,We.relatedTarget=Ce,ot=null,Uu(Xe)===Pe&&(Tt=new Tt(Ne,xe+"enter",Et,y,Xe),Tt.target=Ce,Tt.relatedTarget=Rn,ot=Tt),Rn=ot,wt&&Et)t:{for(Tt=wt,Ne=Et,xe=0,Ce=Tt;Ce;Ce=jd(Ce))xe++;for(Ce=0,ot=Ne;ot;ot=jd(ot))Ce++;for(;0<xe-Ce;)Tt=jd(Tt),xe--;for(;0<Ce-xe;)Ne=jd(Ne),Ce--;for(;xe--;){if(Tt===Ne||Ne!==null&&Tt===Ne.alternate)break t;Tt=jd(Tt),Ne=jd(Ne)}Tt=null}else Tt=null;wt!==null&&jI(Ze,We,wt,Tt,!1),Et!==null&&Rn!==null&&jI(Ze,Rn,Et,Tt,!0)}}e:{if(We=Pe?Id(Pe):window,wt=We.nodeName&&We.nodeName.toLowerCase(),wt==="select"||wt==="input"&&We.type==="file")var Ot=Ute;else if(lI(We))if(uI)Ot=qte;else{Ot=Hte;var $t=Vte}else(wt=We.nodeName)&&wt.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(Ot=zte);if(Ot&&(Ot=Ot(d,Pe))){cI(Ze,Ot,y,Xe);break e}$t&&$t(d,We,Pe),d==="focusout"&&($t=We._wrapperState)&&$t.controlled&&We.type==="number"&&qt(We,"number",We.value)}switch($t=Pe?Id(Pe):window,d){case"focusin":(lI($t)||$t.contentEditable==="true")&&(Td=$t,ub=Pe,mp=null);break;case"focusout":mp=ub=Td=null;break;case"mousedown":fb=!0;break;case"contextmenu":case"mouseup":case"dragend":fb=!1,xI(Ze,y,Xe);break;case"selectionchange":if(Kte)break;case"keydown":case"keyup":xI(Ze,y,Xe)}var Ut;if(sb)e:{switch(d){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Ad?sI(d,y)&&(Yt="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(Yt="onCompositionStart");Yt&&(nI&&y.locale!=="ko"&&(Ad||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ad&&(Ut=ZO()):(Pc=Xe,eb="value"in Pc?Pc.value:Pc.textContent,Ad=!0)),$t=zv(Pe,Yt),0<$t.length&&(Yt=new tI(Yt,d,null,y,Xe),Ze.push({event:Yt,listeners:$t}),Ut?Yt.data=Ut:(Ut=oI(y),Ut!==null&&(Yt.data=Ut)))),(Ut=Mte?Fte(d,y):Lte(d,y))&&(Pe=zv(Pe,"onBeforeInput"),0<Pe.length&&(Xe=new tI("onBeforeInput","beforeinput",null,y,Xe),Ze.push({event:Xe,listeners:Pe}),Xe.data=Ut))}TI(Ze,p)})}function xp(d,p,y){return{instance:d,listener:p,currentTarget:y}}function zv(d,p){for(var y=p+"Capture",N=[];d!==null;){var C=d,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=Ko(d,y),P!=null&&N.unshift(xp(d,P,C)),P=Ko(d,p),P!=null&&N.push(xp(d,P,C))),d=d.return}return N}function jd(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function jI(d,p,y,N,C){for(var P=p._reactName,B=[];y!==null&&y!==N;){var de=y,me=de.alternate,Pe=de.stateNode;if(me!==null&&me===N)break;de.tag===5&&Pe!==null&&(de=Pe,C?(me=Ko(y,P),me!=null&&B.unshift(xp(y,me,de))):C||(me=Ko(y,P),me!=null&&B.push(xp(y,me,de)))),y=y.return}B.length!==0&&d.push({event:p,listeners:B})}var Zte=/\r\n?/g,Jte=/\u0000|\uFFFD/g;function OI(d){return(typeof d=="string"?d:""+d).replace(Zte,`
`).replace(Jte,"")}function qv(d,p,y){if(p=OI(p),OI(d)!==p&&y)throw Error(r(425))}function Wv(){}var vb=null,xb=null;function yb(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var wb=typeof setTimeout=="function"?setTimeout:void 0,ere=typeof clearTimeout=="function"?clearTimeout:void 0,II=typeof Promise=="function"?Promise:void 0,tre=typeof queueMicrotask=="function"?queueMicrotask:typeof II<"u"?function(d){return II.resolve(null).then(d).catch(rre)}:wb;function rre(d){setTimeout(function(){throw d})}function bb(d,p){var y=p,N=0;do{var C=y.nextSibling;if(d.removeChild(y),C&&C.nodeType===8)if(y=C.data,y==="/$"){if(N===0){d.removeChild(C),lp(p);return}N--}else y!=="$"&&y!=="$?"&&y!=="$!"||N++;y=C}while(y);lp(p)}function Dc(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function PI(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"){if(p===0)return d;p--}else y==="/$"&&p++}d=d.previousSibling}return null}var Od=Math.random().toString(36).slice(2),Qo="__reactFiber$"+Od,yp="__reactProps$"+Od,Ol="__reactContainer$"+Od,_b="__reactEvents$"+Od,nre="__reactListeners$"+Od,are="__reactHandles$"+Od;function Uu(d){var p=d[Qo];if(p)return p;for(var y=d.parentNode;y;){if(p=y[Ol]||y[Qo]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(d=PI(d);d!==null;){if(y=d[Qo])return y;d=PI(d)}return p}d=y,y=d.parentNode}return null}function wp(d){return d=d[Qo]||d[Ol],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Id(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Gv(d){return d[yp]||null}var Sb=[],Pd=-1;function Rc(d){return{current:d}}function hn(d){0>Pd||(d.current=Sb[Pd],Sb[Pd]=null,Pd--)}function on(d,p){Pd++,Sb[Pd]=d.current,d.current=p}var Mc={},ri=Rc(Mc),Vi=Rc(!1),Vu=Mc;function kd(d,p){var y=d.type.contextTypes;if(!y)return Mc;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===p)return N.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in y)C[P]=p[P];return N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=C),C}function Hi(d){return d=d.childContextTypes,d!=null}function Kv(){hn(Vi),hn(ri)}function kI(d,p,y){if(ri.current!==Mc)throw Error(r(168));on(ri,p),on(Vi,y)}function DI(d,p,y){var N=d.stateNode;if(p=p.childContextTypes,typeof N.getChildContext!="function")return y;N=N.getChildContext();for(var C in N)if(!(C in p))throw Error(r(108,pe(d)||"Unknown",C));return G({},y,N)}function Xv(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Mc,Vu=ri.current,on(ri,d),on(Vi,Vi.current),!0}function RI(d,p,y){var N=d.stateNode;if(!N)throw Error(r(169));y?(d=DI(d,p,Vu),N.__reactInternalMemoizedMergedChildContext=d,hn(Vi),hn(ri),on(ri,d)):hn(Vi),on(Vi,y)}var Il=null,Qv=!1,Nb=!1;function MI(d){Il===null?Il=[d]:Il.push(d)}function ire(d){Qv=!0,MI(d)}function Fc(){if(!Nb&&Il!==null){Nb=!0;var d=0,p=zr;try{var y=Il;for(zr=1;d<y.length;d++){var N=y[d];do N=N(!0);while(N!==null)}Il=null,Qv=!1}catch(C){throw Il!==null&&(Il=Il.slice(d+1)),Ke(Hr,Fc),C}finally{zr=p,Nb=!1}}return null}var Dd=[],Rd=0,Yv=null,Zv=0,Ls=[],Bs=0,Hu=null,Pl=1,kl="";function zu(d,p){Dd[Rd++]=Zv,Dd[Rd++]=Yv,Yv=d,Zv=p}function FI(d,p,y){Ls[Bs++]=Pl,Ls[Bs++]=kl,Ls[Bs++]=Hu,Hu=d;var N=Pl;d=kl;var C=32-Qe(N)-1;N&=~(1<<C),y+=1;var P=32-Qe(p)+C;if(30<P){var B=C-C%5;P=(N&(1<<B)-1).toString(32),N>>=B,C-=B,Pl=1<<32-Qe(p)+C|y<<C|N,kl=P+d}else Pl=1<<P|y<<C|N,kl=d}function Eb(d){d.return!==null&&(zu(d,1),FI(d,1,0))}function Ab(d){for(;d===Yv;)Yv=Dd[--Rd],Dd[Rd]=null,Zv=Dd[--Rd],Dd[Rd]=null;for(;d===Hu;)Hu=Ls[--Bs],Ls[Bs]=null,kl=Ls[--Bs],Ls[Bs]=null,Pl=Ls[--Bs],Ls[Bs]=null}var ds=null,hs=null,wn=!1,mo=null;function LI(d,p){var y=Hs(5,null,null,0);y.elementType="DELETED",y.stateNode=p,y.return=d,p=d.deletions,p===null?(d.deletions=[y],d.flags|=16):p.push(y)}function BI(d,p){switch(d.tag){case 5:var y=d.type;return p=p.nodeType!==1||y.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,ds=d,hs=Dc(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,ds=d,hs=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(y=Hu!==null?{id:Pl,overflow:kl}:null,d.memoizedState={dehydrated:p,treeContext:y,retryLane:1073741824},y=Hs(18,null,null,0),y.stateNode=p,y.return=d,d.child=y,ds=d,hs=null,!0):!1;default:return!1}}function Tb(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Cb(d){if(wn){var p=hs;if(p){var y=p;if(!BI(d,p)){if(Tb(d))throw Error(r(418));p=Dc(y.nextSibling);var N=ds;p&&BI(d,p)?LI(N,y):(d.flags=d.flags&-4097|2,wn=!1,ds=d)}}else{if(Tb(d))throw Error(r(418));d.flags=d.flags&-4097|2,wn=!1,ds=d}}}function $I(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ds=d}function Jv(d){if(d!==ds)return!1;if(!wn)return $I(d),wn=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!yb(d.type,d.memoizedProps)),p&&(p=hs)){if(Tb(d))throw UI(),Error(r(418));for(;p;)LI(d,p),p=Dc(p.nextSibling)}if($I(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"){if(p===0){hs=Dc(d.nextSibling);break e}p--}else y!=="$"&&y!=="$!"&&y!=="$?"||p++}d=d.nextSibling}hs=null}}else hs=ds?Dc(d.stateNode.nextSibling):null;return!0}function UI(){for(var d=hs;d;)d=Dc(d.nextSibling)}function Md(){hs=ds=null,wn=!1}function jb(d){mo===null?mo=[d]:mo.push(d)}var sre=E.ReactCurrentBatchConfig;function bp(d,p,y){if(d=y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var N=y.stateNode}if(!N)throw Error(r(147,d));var C=N,P=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===P?p.ref:(p=function(B){var de=C.refs;B===null?delete de[P]:de[P]=B},p._stringRef=P,p)}if(typeof d!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,d))}return d}function ex(d,p){throw d=Object.prototype.toString.call(p),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function VI(d){var p=d._init;return p(d._payload)}function HI(d){function p(Ne,xe){if(d){var Ce=Ne.deletions;Ce===null?(Ne.deletions=[xe],Ne.flags|=16):Ce.push(xe)}}function y(Ne,xe){if(!d)return null;for(;xe!==null;)p(Ne,xe),xe=xe.sibling;return null}function N(Ne,xe){for(Ne=new Map;xe!==null;)xe.key!==null?Ne.set(xe.key,xe):Ne.set(xe.index,xe),xe=xe.sibling;return Ne}function C(Ne,xe){return Ne=qc(Ne,xe),Ne.index=0,Ne.sibling=null,Ne}function P(Ne,xe,Ce){return Ne.index=Ce,d?(Ce=Ne.alternate,Ce!==null?(Ce=Ce.index,Ce<xe?(Ne.flags|=2,xe):Ce):(Ne.flags|=2,xe)):(Ne.flags|=1048576,xe)}function B(Ne){return d&&Ne.alternate===null&&(Ne.flags|=2),Ne}function de(Ne,xe,Ce,ot){return xe===null||xe.tag!==6?(xe=w_(Ce,Ne.mode,ot),xe.return=Ne,xe):(xe=C(xe,Ce),xe.return=Ne,xe)}function me(Ne,xe,Ce,ot){var Ot=Ce.type;return Ot===O?Xe(Ne,xe,Ce.props.children,ot,Ce.key):xe!==null&&(xe.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ue&&VI(Ot)===xe.type)?(ot=C(xe,Ce.props),ot.ref=bp(Ne,xe,Ce),ot.return=Ne,ot):(ot=Nx(Ce.type,Ce.key,Ce.props,null,Ne.mode,ot),ot.ref=bp(Ne,xe,Ce),ot.return=Ne,ot)}function Pe(Ne,xe,Ce,ot){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ce.containerInfo||xe.stateNode.implementation!==Ce.implementation?(xe=b_(Ce,Ne.mode,ot),xe.return=Ne,xe):(xe=C(xe,Ce.children||[]),xe.return=Ne,xe)}function Xe(Ne,xe,Ce,ot,Ot){return xe===null||xe.tag!==7?(xe=Zu(Ce,Ne.mode,ot,Ot),xe.return=Ne,xe):(xe=C(xe,Ce),xe.return=Ne,xe)}function Ze(Ne,xe,Ce){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=w_(""+xe,Ne.mode,Ce),xe.return=Ne,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case A:return Ce=Nx(xe.type,xe.key,xe.props,null,Ne.mode,Ce),Ce.ref=bp(Ne,null,xe),Ce.return=Ne,Ce;case j:return xe=b_(xe,Ne.mode,Ce),xe.return=Ne,xe;case ue:var ot=xe._init;return Ze(Ne,ot(xe._payload),Ce)}if(we(xe)||ne(xe))return xe=Zu(xe,Ne.mode,Ce,null),xe.return=Ne,xe;ex(Ne,xe)}return null}function We(Ne,xe,Ce,ot){var Ot=xe!==null?xe.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ot!==null?null:de(Ne,xe,""+Ce,ot);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:return Ce.key===Ot?me(Ne,xe,Ce,ot):null;case j:return Ce.key===Ot?Pe(Ne,xe,Ce,ot):null;case ue:return Ot=Ce._init,We(Ne,xe,Ot(Ce._payload),ot)}if(we(Ce)||ne(Ce))return Ot!==null?null:Xe(Ne,xe,Ce,ot,null);ex(Ne,Ce)}return null}function wt(Ne,xe,Ce,ot,Ot){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Ne=Ne.get(Ce)||null,de(xe,Ne,""+ot,Ot);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case A:return Ne=Ne.get(ot.key===null?Ce:ot.key)||null,me(xe,Ne,ot,Ot);case j:return Ne=Ne.get(ot.key===null?Ce:ot.key)||null,Pe(xe,Ne,ot,Ot);case ue:var $t=ot._init;return wt(Ne,xe,Ce,$t(ot._payload),Ot)}if(we(ot)||ne(ot))return Ne=Ne.get(Ce)||null,Xe(xe,Ne,ot,Ot,null);ex(xe,ot)}return null}function Et(Ne,xe,Ce,ot){for(var Ot=null,$t=null,Ut=xe,Yt=xe=0,ba=null;Ut!==null&&Yt<Ce.length;Yt++){Ut.index>Yt?(ba=Ut,Ut=null):ba=Ut.sibling;var jr=We(Ne,Ut,Ce[Yt],ot);if(jr===null){Ut===null&&(Ut=ba);break}d&&Ut&&jr.alternate===null&&p(Ne,Ut),xe=P(jr,xe,Yt),$t===null?Ot=jr:$t.sibling=jr,$t=jr,Ut=ba}if(Yt===Ce.length)return y(Ne,Ut),wn&&zu(Ne,Yt),Ot;if(Ut===null){for(;Yt<Ce.length;Yt++)Ut=Ze(Ne,Ce[Yt],ot),Ut!==null&&(xe=P(Ut,xe,Yt),$t===null?Ot=Ut:$t.sibling=Ut,$t=Ut);return wn&&zu(Ne,Yt),Ot}for(Ut=N(Ne,Ut);Yt<Ce.length;Yt++)ba=wt(Ut,Ne,Yt,Ce[Yt],ot),ba!==null&&(d&&ba.alternate!==null&&Ut.delete(ba.key===null?Yt:ba.key),xe=P(ba,xe,Yt),$t===null?Ot=ba:$t.sibling=ba,$t=ba);return d&&Ut.forEach(function(Wc){return p(Ne,Wc)}),wn&&zu(Ne,Yt),Ot}function Tt(Ne,xe,Ce,ot){var Ot=ne(Ce);if(typeof Ot!="function")throw Error(r(150));if(Ce=Ot.call(Ce),Ce==null)throw Error(r(151));for(var $t=Ot=null,Ut=xe,Yt=xe=0,ba=null,jr=Ce.next();Ut!==null&&!jr.done;Yt++,jr=Ce.next()){Ut.index>Yt?(ba=Ut,Ut=null):ba=Ut.sibling;var Wc=We(Ne,Ut,jr.value,ot);if(Wc===null){Ut===null&&(Ut=ba);break}d&&Ut&&Wc.alternate===null&&p(Ne,Ut),xe=P(Wc,xe,Yt),$t===null?Ot=Wc:$t.sibling=Wc,$t=Wc,Ut=ba}if(jr.done)return y(Ne,Ut),wn&&zu(Ne,Yt),Ot;if(Ut===null){for(;!jr.done;Yt++,jr=Ce.next())jr=Ze(Ne,jr.value,ot),jr!==null&&(xe=P(jr,xe,Yt),$t===null?Ot=jr:$t.sibling=jr,$t=jr);return wn&&zu(Ne,Yt),Ot}for(Ut=N(Ne,Ut);!jr.done;Yt++,jr=Ce.next())jr=wt(Ut,Ne,Yt,jr.value,ot),jr!==null&&(d&&jr.alternate!==null&&Ut.delete(jr.key===null?Yt:jr.key),xe=P(jr,xe,Yt),$t===null?Ot=jr:$t.sibling=jr,$t=jr);return d&&Ut.forEach(function(Bre){return p(Ne,Bre)}),wn&&zu(Ne,Yt),Ot}function Rn(Ne,xe,Ce,ot){if(typeof Ce=="object"&&Ce!==null&&Ce.type===O&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:e:{for(var Ot=Ce.key,$t=xe;$t!==null;){if($t.key===Ot){if(Ot=Ce.type,Ot===O){if($t.tag===7){y(Ne,$t.sibling),xe=C($t,Ce.props.children),xe.return=Ne,Ne=xe;break e}}else if($t.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ue&&VI(Ot)===$t.type){y(Ne,$t.sibling),xe=C($t,Ce.props),xe.ref=bp(Ne,$t,Ce),xe.return=Ne,Ne=xe;break e}y(Ne,$t);break}else p(Ne,$t);$t=$t.sibling}Ce.type===O?(xe=Zu(Ce.props.children,Ne.mode,ot,Ce.key),xe.return=Ne,Ne=xe):(ot=Nx(Ce.type,Ce.key,Ce.props,null,Ne.mode,ot),ot.ref=bp(Ne,xe,Ce),ot.return=Ne,Ne=ot)}return B(Ne);case j:e:{for($t=Ce.key;xe!==null;){if(xe.key===$t)if(xe.tag===4&&xe.stateNode.containerInfo===Ce.containerInfo&&xe.stateNode.implementation===Ce.implementation){y(Ne,xe.sibling),xe=C(xe,Ce.children||[]),xe.return=Ne,Ne=xe;break e}else{y(Ne,xe);break}else p(Ne,xe);xe=xe.sibling}xe=b_(Ce,Ne.mode,ot),xe.return=Ne,Ne=xe}return B(Ne);case ue:return $t=Ce._init,Rn(Ne,xe,$t(Ce._payload),ot)}if(we(Ce))return Et(Ne,xe,Ce,ot);if(ne(Ce))return Tt(Ne,xe,Ce,ot);ex(Ne,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,xe!==null&&xe.tag===6?(y(Ne,xe.sibling),xe=C(xe,Ce),xe.return=Ne,Ne=xe):(y(Ne,xe),xe=w_(Ce,Ne.mode,ot),xe.return=Ne,Ne=xe),B(Ne)):y(Ne,xe)}return Rn}var Fd=HI(!0),zI=HI(!1),tx=Rc(null),rx=null,Ld=null,Ob=null;function Ib(){Ob=Ld=rx=null}function Pb(d){var p=tx.current;hn(tx),d._currentValue=p}function kb(d,p,y){for(;d!==null;){var N=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,N!==null&&(N.childLanes|=p)):N!==null&&(N.childLanes&p)!==p&&(N.childLanes|=p),d===y)break;d=d.return}}function Bd(d,p){rx=d,Ob=Ld=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(zi=!0),d.firstContext=null)}function $s(d){var p=d._currentValue;if(Ob!==d)if(d={context:d,memoizedValue:p,next:null},Ld===null){if(rx===null)throw Error(r(308));Ld=d,rx.dependencies={lanes:0,firstContext:d}}else Ld=Ld.next=d;return p}var qu=null;function Db(d){qu===null?qu=[d]:qu.push(d)}function qI(d,p,y,N){var C=p.interleaved;return C===null?(y.next=y,Db(p)):(y.next=C.next,C.next=y),p.interleaved=y,Dl(d,N)}function Dl(d,p){d.lanes|=p;var y=d.alternate;for(y!==null&&(y.lanes|=p),y=d,d=d.return;d!==null;)d.childLanes|=p,y=d.alternate,y!==null&&(y.childLanes|=p),y=d,d=d.return;return y.tag===3?y.stateNode:null}var Lc=!1;function Rb(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WI(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Rl(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Bc(d,p,y){var N=d.updateQueue;if(N===null)return null;if(N=N.shared,(Tr&2)!==0){var C=N.pending;return C===null?p.next=p:(p.next=C.next,C.next=p),N.pending=p,Dl(d,y)}return C=N.interleaved,C===null?(p.next=p,Db(N)):(p.next=C.next,C.next=p),N.interleaved=p,Dl(d,y)}function nx(d,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194240)!==0)){var N=p.lanes;N&=d.pendingLanes,y|=N,p.lanes=y,Xw(d,y)}}function GI(d,p){var y=d.updateQueue,N=d.alternate;if(N!==null&&(N=N.updateQueue,y===N)){var C=null,P=null;if(y=y.firstBaseUpdate,y!==null){do{var B={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};P===null?C=P=B:P=P.next=B,y=y.next}while(y!==null);P===null?C=P=p:P=P.next=p}else C=P=p;y={baseState:N.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:N.shared,effects:N.effects},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=p:d.next=p,y.lastBaseUpdate=p}function ax(d,p,y,N){var C=d.updateQueue;Lc=!1;var P=C.firstBaseUpdate,B=C.lastBaseUpdate,de=C.shared.pending;if(de!==null){C.shared.pending=null;var me=de,Pe=me.next;me.next=null,B===null?P=Pe:B.next=Pe,B=me;var Xe=d.alternate;Xe!==null&&(Xe=Xe.updateQueue,de=Xe.lastBaseUpdate,de!==B&&(de===null?Xe.firstBaseUpdate=Pe:de.next=Pe,Xe.lastBaseUpdate=me))}if(P!==null){var Ze=C.baseState;B=0,Xe=Pe=me=null,de=P;do{var We=de.lane,wt=de.eventTime;if((N&We)===We){Xe!==null&&(Xe=Xe.next={eventTime:wt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var Et=d,Tt=de;switch(We=p,wt=y,Tt.tag){case 1:if(Et=Tt.payload,typeof Et=="function"){Ze=Et.call(wt,Ze,We);break e}Ze=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Tt.payload,We=typeof Et=="function"?Et.call(wt,Ze,We):Et,We==null)break e;Ze=G({},Ze,We);break e;case 2:Lc=!0}}de.callback!==null&&de.lane!==0&&(d.flags|=64,We=C.effects,We===null?C.effects=[de]:We.push(de))}else wt={eventTime:wt,lane:We,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Xe===null?(Pe=Xe=wt,me=Ze):Xe=Xe.next=wt,B|=We;if(de=de.next,de===null){if(de=C.shared.pending,de===null)break;We=de,de=We.next,We.next=null,C.lastBaseUpdate=We,C.shared.pending=null}}while(!0);if(Xe===null&&(me=Ze),C.baseState=me,C.firstBaseUpdate=Pe,C.lastBaseUpdate=Xe,p=C.shared.interleaved,p!==null){C=p;do B|=C.lane,C=C.next;while(C!==p)}else P===null&&(C.shared.lanes=0);Ku|=B,d.lanes=B,d.memoizedState=Ze}}function KI(d,p,y){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var N=d[p],C=N.callback;if(C!==null){if(N.callback=null,N=y,typeof C!="function")throw Error(r(191,C));C.call(N)}}}var _p={},Yo=Rc(_p),Sp=Rc(_p),Np=Rc(_p);function Wu(d){if(d===_p)throw Error(r(174));return d}function Mb(d,p){switch(on(Np,p),on(Sp,d),on(Yo,_p),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:He(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=He(p,d)}hn(Yo),on(Yo,p)}function $d(){hn(Yo),hn(Sp),hn(Np)}function XI(d){Wu(Np.current);var p=Wu(Yo.current),y=He(p,d.type);p!==y&&(on(Sp,d),on(Yo,y))}function Fb(d){Sp.current===d&&(hn(Yo),hn(Sp))}var An=Rc(0);function ix(d){for(var p=d;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Lb=[];function Bb(){for(var d=0;d<Lb.length;d++)Lb[d]._workInProgressVersionPrimary=null;Lb.length=0}var sx=E.ReactCurrentDispatcher,$b=E.ReactCurrentBatchConfig,Gu=0,Tn=null,Jn=null,ya=null,ox=!1,Ep=!1,Ap=0,ore=0;function ni(){throw Error(r(321))}function Ub(d,p){if(p===null)return!1;for(var y=0;y<p.length&&y<d.length;y++)if(!po(d[y],p[y]))return!1;return!0}function Vb(d,p,y,N,C,P){if(Gu=P,Tn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,sx.current=d===null||d.memoizedState===null?fre:dre,d=y(N,C),Ep){P=0;do{if(Ep=!1,Ap=0,25<=P)throw Error(r(301));P+=1,ya=Jn=null,p.updateQueue=null,sx.current=hre,d=y(N,C)}while(Ep)}if(sx.current=ux,p=Jn!==null&&Jn.next!==null,Gu=0,ya=Jn=Tn=null,ox=!1,p)throw Error(r(300));return d}function Hb(){var d=Ap!==0;return Ap=0,d}function Zo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ya===null?Tn.memoizedState=ya=d:ya=ya.next=d,ya}function Us(){if(Jn===null){var d=Tn.alternate;d=d!==null?d.memoizedState:null}else d=Jn.next;var p=ya===null?Tn.memoizedState:ya.next;if(p!==null)ya=p,Jn=d;else{if(d===null)throw Error(r(310));Jn=d,d={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},ya===null?Tn.memoizedState=ya=d:ya=ya.next=d}return ya}function Tp(d,p){return typeof p=="function"?p(d):p}function zb(d){var p=Us(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var N=Jn,C=N.baseQueue,P=y.pending;if(P!==null){if(C!==null){var B=C.next;C.next=P.next,P.next=B}N.baseQueue=C=P,y.pending=null}if(C!==null){P=C.next,N=N.baseState;var de=B=null,me=null,Pe=P;do{var Xe=Pe.lane;if((Gu&Xe)===Xe)me!==null&&(me=me.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),N=Pe.hasEagerState?Pe.eagerState:d(N,Pe.action);else{var Ze={lane:Xe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};me===null?(de=me=Ze,B=N):me=me.next=Ze,Tn.lanes|=Xe,Ku|=Xe}Pe=Pe.next}while(Pe!==null&&Pe!==P);me===null?B=N:me.next=de,po(N,p.memoizedState)||(zi=!0),p.memoizedState=N,p.baseState=B,p.baseQueue=me,y.lastRenderedState=N}if(d=y.interleaved,d!==null){C=d;do P=C.lane,Tn.lanes|=P,Ku|=P,C=C.next;while(C!==d)}else C===null&&(y.lanes=0);return[p.memoizedState,y.dispatch]}function qb(d){var p=Us(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var N=y.dispatch,C=y.pending,P=p.memoizedState;if(C!==null){y.pending=null;var B=C=C.next;do P=d(P,B.action),B=B.next;while(B!==C);po(P,p.memoizedState)||(zi=!0),p.memoizedState=P,p.baseQueue===null&&(p.baseState=P),y.lastRenderedState=P}return[P,N]}function QI(){}function YI(d,p){var y=Tn,N=Us(),C=p(),P=!po(N.memoizedState,C);if(P&&(N.memoizedState=C,zi=!0),N=N.queue,Wb(eP.bind(null,y,N,d),[d]),N.getSnapshot!==p||P||ya!==null&&ya.memoizedState.tag&1){if(y.flags|=2048,Cp(9,JI.bind(null,y,N,C,p),void 0,null),wa===null)throw Error(r(349));(Gu&30)!==0||ZI(y,p,C)}return C}function ZI(d,p,y){d.flags|=16384,d={getSnapshot:p,value:y},p=Tn.updateQueue,p===null?(p={lastEffect:null,stores:null},Tn.updateQueue=p,p.stores=[d]):(y=p.stores,y===null?p.stores=[d]:y.push(d))}function JI(d,p,y,N){p.value=y,p.getSnapshot=N,tP(p)&&rP(d)}function eP(d,p,y){return y(function(){tP(p)&&rP(d)})}function tP(d){var p=d.getSnapshot;d=d.value;try{var y=p();return!po(d,y)}catch{return!0}}function rP(d){var p=Dl(d,1);p!==null&&yo(p,d,1,-1)}function nP(d){var p=Zo();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:d},p.queue=d,d=d.dispatch=ure.bind(null,Tn,d),[p.memoizedState,d]}function Cp(d,p,y,N){return d={tag:d,create:p,destroy:y,deps:N,next:null},p=Tn.updateQueue,p===null?(p={lastEffect:null,stores:null},Tn.updateQueue=p,p.lastEffect=d.next=d):(y=p.lastEffect,y===null?p.lastEffect=d.next=d:(N=y.next,y.next=d,d.next=N,p.lastEffect=d)),d}function aP(){return Us().memoizedState}function lx(d,p,y,N){var C=Zo();Tn.flags|=d,C.memoizedState=Cp(1|p,y,void 0,N===void 0?null:N)}function cx(d,p,y,N){var C=Us();N=N===void 0?null:N;var P=void 0;if(Jn!==null){var B=Jn.memoizedState;if(P=B.destroy,N!==null&&Ub(N,B.deps)){C.memoizedState=Cp(p,y,P,N);return}}Tn.flags|=d,C.memoizedState=Cp(1|p,y,P,N)}function iP(d,p){return lx(8390656,8,d,p)}function Wb(d,p){return cx(2048,8,d,p)}function sP(d,p){return cx(4,2,d,p)}function oP(d,p){return cx(4,4,d,p)}function lP(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function cP(d,p,y){return y=y!=null?y.concat([d]):null,cx(4,4,lP.bind(null,p,d),y)}function Gb(){}function uP(d,p){var y=Us();p=p===void 0?null:p;var N=y.memoizedState;return N!==null&&p!==null&&Ub(p,N[1])?N[0]:(y.memoizedState=[d,p],d)}function fP(d,p){var y=Us();p=p===void 0?null:p;var N=y.memoizedState;return N!==null&&p!==null&&Ub(p,N[1])?N[0]:(d=d(),y.memoizedState=[d,p],d)}function dP(d,p,y){return(Gu&21)===0?(d.baseState&&(d.baseState=!1,zi=!0),d.memoizedState=y):(po(y,p)||(y=Iv(),Tn.lanes|=y,Ku|=y,d.baseState=!0),p)}function lre(d,p){var y=zr;zr=y!==0&&4>y?y:4,d(!0);var N=$b.transition;$b.transition={};try{d(!1),p()}finally{zr=y,$b.transition=N}}function hP(){return Us().memoizedState}function cre(d,p,y){var N=Hc(d);if(y={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null},pP(d))mP(p,y);else if(y=qI(d,p,y,N),y!==null){var C=xi();yo(y,d,N,C),gP(y,p,N)}}function ure(d,p,y){var N=Hc(d),C={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null};if(pP(d))mP(p,C);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=p.lastRenderedReducer,P!==null))try{var B=p.lastRenderedState,de=P(B,y);if(C.hasEagerState=!0,C.eagerState=de,po(de,B)){var me=p.interleaved;me===null?(C.next=C,Db(p)):(C.next=me.next,me.next=C),p.interleaved=C;return}}catch{}finally{}y=qI(d,p,C,N),y!==null&&(C=xi(),yo(y,d,N,C),gP(y,p,N))}}function pP(d){var p=d.alternate;return d===Tn||p!==null&&p===Tn}function mP(d,p){Ep=ox=!0;var y=d.pending;y===null?p.next=p:(p.next=y.next,y.next=p),d.pending=p}function gP(d,p,y){if((y&4194240)!==0){var N=p.lanes;N&=d.pendingLanes,y|=N,p.lanes=y,Xw(d,y)}}var ux={readContext:$s,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},fre={readContext:$s,useCallback:function(d,p){return Zo().memoizedState=[d,p===void 0?null:p],d},useContext:$s,useEffect:iP,useImperativeHandle:function(d,p,y){return y=y!=null?y.concat([d]):null,lx(4194308,4,lP.bind(null,p,d),y)},useLayoutEffect:function(d,p){return lx(4194308,4,d,p)},useInsertionEffect:function(d,p){return lx(4,2,d,p)},useMemo:function(d,p){var y=Zo();return p=p===void 0?null:p,d=d(),y.memoizedState=[d,p],d},useReducer:function(d,p,y){var N=Zo();return p=y!==void 0?y(p):p,N.memoizedState=N.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},N.queue=d,d=d.dispatch=cre.bind(null,Tn,d),[N.memoizedState,d]},useRef:function(d){var p=Zo();return d={current:d},p.memoizedState=d},useState:nP,useDebugValue:Gb,useDeferredValue:function(d){return Zo().memoizedState=d},useTransition:function(){var d=nP(!1),p=d[0];return d=lre.bind(null,d[1]),Zo().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,y){var N=Tn,C=Zo();if(wn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=p(),wa===null)throw Error(r(349));(Gu&30)!==0||ZI(N,p,y)}C.memoizedState=y;var P={value:y,getSnapshot:p};return C.queue=P,iP(eP.bind(null,N,P,d),[d]),N.flags|=2048,Cp(9,JI.bind(null,N,P,y,p),void 0,null),y},useId:function(){var d=Zo(),p=wa.identifierPrefix;if(wn){var y=kl,N=Pl;y=(N&~(1<<32-Qe(N)-1)).toString(32)+y,p=":"+p+"R"+y,y=Ap++,0<y&&(p+="H"+y.toString(32)),p+=":"}else y=ore++,p=":"+p+"r"+y.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},dre={readContext:$s,useCallback:uP,useContext:$s,useEffect:Wb,useImperativeHandle:cP,useInsertionEffect:sP,useLayoutEffect:oP,useMemo:fP,useReducer:zb,useRef:aP,useState:function(){return zb(Tp)},useDebugValue:Gb,useDeferredValue:function(d){var p=Us();return dP(p,Jn.memoizedState,d)},useTransition:function(){var d=zb(Tp)[0],p=Us().memoizedState;return[d,p]},useMutableSource:QI,useSyncExternalStore:YI,useId:hP,unstable_isNewReconciler:!1},hre={readContext:$s,useCallback:uP,useContext:$s,useEffect:Wb,useImperativeHandle:cP,useInsertionEffect:sP,useLayoutEffect:oP,useMemo:fP,useReducer:qb,useRef:aP,useState:function(){return qb(Tp)},useDebugValue:Gb,useDeferredValue:function(d){var p=Us();return Jn===null?p.memoizedState=d:dP(p,Jn.memoizedState,d)},useTransition:function(){var d=qb(Tp)[0],p=Us().memoizedState;return[d,p]},useMutableSource:QI,useSyncExternalStore:YI,useId:hP,unstable_isNewReconciler:!1};function go(d,p){if(d&&d.defaultProps){p=G({},p),d=d.defaultProps;for(var y in d)p[y]===void 0&&(p[y]=d[y]);return p}return p}function Kb(d,p,y,N){p=d.memoizedState,y=y(N,p),y=y==null?p:G({},p,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var fx={isMounted:function(d){return(d=d._reactInternals)?ce(d)===d:!1},enqueueSetState:function(d,p,y){d=d._reactInternals;var N=xi(),C=Hc(d),P=Rl(N,C);P.payload=p,y!=null&&(P.callback=y),p=Bc(d,P,C),p!==null&&(yo(p,d,C,N),nx(p,d,C))},enqueueReplaceState:function(d,p,y){d=d._reactInternals;var N=xi(),C=Hc(d),P=Rl(N,C);P.tag=1,P.payload=p,y!=null&&(P.callback=y),p=Bc(d,P,C),p!==null&&(yo(p,d,C,N),nx(p,d,C))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var y=xi(),N=Hc(d),C=Rl(y,N);C.tag=2,p!=null&&(C.callback=p),p=Bc(d,C,N),p!==null&&(yo(p,d,N,y),nx(p,d,N))}};function vP(d,p,y,N,C,P,B){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(N,P,B):p.prototype&&p.prototype.isPureReactComponent?!pp(y,N)||!pp(C,P):!0}function xP(d,p,y){var N=!1,C=Mc,P=p.contextType;return typeof P=="object"&&P!==null?P=$s(P):(C=Hi(p)?Vu:ri.current,N=p.contextTypes,P=(N=N!=null)?kd(d,C):Mc),p=new p(y,P),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=fx,d.stateNode=p,p._reactInternals=d,N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=C,d.__reactInternalMemoizedMaskedChildContext=P),p}function yP(d,p,y,N){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,N),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,N),p.state!==d&&fx.enqueueReplaceState(p,p.state,null)}function Xb(d,p,y,N){var C=d.stateNode;C.props=y,C.state=d.memoizedState,C.refs={},Rb(d);var P=p.contextType;typeof P=="object"&&P!==null?C.context=$s(P):(P=Hi(p)?Vu:ri.current,C.context=kd(d,P)),C.state=d.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(Kb(d,p,P,y),C.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(p=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),p!==C.state&&fx.enqueueReplaceState(C,C.state,null),ax(d,y,C,N),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308)}function Ud(d,p){try{var y="",N=p;do y+=ae(N),N=N.return;while(N);var C=y}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:d,source:p,stack:C,digest:null}}function Qb(d,p,y){return{value:d,source:null,stack:y??null,digest:p??null}}function Yb(d,p){try{console.error(p.value)}catch(y){setTimeout(function(){throw y})}}var pre=typeof WeakMap=="function"?WeakMap:Map;function wP(d,p,y){y=Rl(-1,y),y.tag=3,y.payload={element:null};var N=p.value;return y.callback=function(){xx||(xx=!0,d_=N),Yb(d,p)},y}function bP(d,p,y){y=Rl(-1,y),y.tag=3;var N=d.type.getDerivedStateFromError;if(typeof N=="function"){var C=p.value;y.payload=function(){return N(C)},y.callback=function(){Yb(d,p)}}var P=d.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(y.callback=function(){Yb(d,p),typeof N!="function"&&(Uc===null?Uc=new Set([this]):Uc.add(this));var B=p.stack;this.componentDidCatch(p.value,{componentStack:B!==null?B:""})}),y}function _P(d,p,y){var N=d.pingCache;if(N===null){N=d.pingCache=new pre;var C=new Set;N.set(p,C)}else C=N.get(p),C===void 0&&(C=new Set,N.set(p,C));C.has(y)||(C.add(y),d=Cre.bind(null,d,p,y),p.then(d,d))}function SP(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function NP(d,p,y,N,C){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(p=Rl(-1,1),p.tag=2,Bc(y,p,1))),y.lanes|=1),d):(d.flags|=65536,d.lanes=C,d)}var mre=E.ReactCurrentOwner,zi=!1;function vi(d,p,y,N){p.child=d===null?zI(p,null,y,N):Fd(p,d.child,y,N)}function EP(d,p,y,N,C){y=y.render;var P=p.ref;return Bd(p,C),N=Vb(d,p,y,N,P,C),y=Hb(),d!==null&&!zi?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~C,Ml(d,p,C)):(wn&&y&&Eb(p),p.flags|=1,vi(d,p,N,C),p.child)}function AP(d,p,y,N,C){if(d===null){var P=y.type;return typeof P=="function"&&!y_(P)&&P.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(p.tag=15,p.type=P,TP(d,p,P,N,C)):(d=Nx(y.type,null,N,p,p.mode,C),d.ref=p.ref,d.return=p,p.child=d)}if(P=d.child,(d.lanes&C)===0){var B=P.memoizedProps;if(y=y.compare,y=y!==null?y:pp,y(B,N)&&d.ref===p.ref)return Ml(d,p,C)}return p.flags|=1,d=qc(P,N),d.ref=p.ref,d.return=p,p.child=d}function TP(d,p,y,N,C){if(d!==null){var P=d.memoizedProps;if(pp(P,N)&&d.ref===p.ref)if(zi=!1,p.pendingProps=N=P,(d.lanes&C)!==0)(d.flags&131072)!==0&&(zi=!0);else return p.lanes=d.lanes,Ml(d,p,C)}return Zb(d,p,y,N,C)}function CP(d,p,y){var N=p.pendingProps,C=N.children,P=d!==null?d.memoizedState:null;if(N.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Hd,ps),ps|=y;else{if((y&1073741824)===0)return d=P!==null?P.baseLanes|y:y,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,on(Hd,ps),ps|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=P!==null?P.baseLanes:y,on(Hd,ps),ps|=N}else P!==null?(N=P.baseLanes|y,p.memoizedState=null):N=y,on(Hd,ps),ps|=N;return vi(d,p,C,y),p.child}function jP(d,p){var y=p.ref;(d===null&&y!==null||d!==null&&d.ref!==y)&&(p.flags|=512,p.flags|=2097152)}function Zb(d,p,y,N,C){var P=Hi(y)?Vu:ri.current;return P=kd(p,P),Bd(p,C),y=Vb(d,p,y,N,P,C),N=Hb(),d!==null&&!zi?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~C,Ml(d,p,C)):(wn&&N&&Eb(p),p.flags|=1,vi(d,p,y,C),p.child)}function OP(d,p,y,N,C){if(Hi(y)){var P=!0;Xv(p)}else P=!1;if(Bd(p,C),p.stateNode===null)hx(d,p),xP(p,y,N),Xb(p,y,N,C),N=!0;else if(d===null){var B=p.stateNode,de=p.memoizedProps;B.props=de;var me=B.context,Pe=y.contextType;typeof Pe=="object"&&Pe!==null?Pe=$s(Pe):(Pe=Hi(y)?Vu:ri.current,Pe=kd(p,Pe));var Xe=y.getDerivedStateFromProps,Ze=typeof Xe=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ze||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(de!==N||me!==Pe)&&yP(p,B,N,Pe),Lc=!1;var We=p.memoizedState;B.state=We,ax(p,N,B,C),me=p.memoizedState,de!==N||We!==me||Vi.current||Lc?(typeof Xe=="function"&&(Kb(p,y,Xe,N),me=p.memoizedState),(de=Lc||vP(p,y,de,N,We,me,Pe))?(Ze||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(p.flags|=4194308)):(typeof B.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=N,p.memoizedState=me),B.props=N,B.state=me,B.context=Pe,N=de):(typeof B.componentDidMount=="function"&&(p.flags|=4194308),N=!1)}else{B=p.stateNode,WI(d,p),de=p.memoizedProps,Pe=p.type===p.elementType?de:go(p.type,de),B.props=Pe,Ze=p.pendingProps,We=B.context,me=y.contextType,typeof me=="object"&&me!==null?me=$s(me):(me=Hi(y)?Vu:ri.current,me=kd(p,me));var wt=y.getDerivedStateFromProps;(Xe=typeof wt=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(de!==Ze||We!==me)&&yP(p,B,N,me),Lc=!1,We=p.memoizedState,B.state=We,ax(p,N,B,C);var Et=p.memoizedState;de!==Ze||We!==Et||Vi.current||Lc?(typeof wt=="function"&&(Kb(p,y,wt,N),Et=p.memoizedState),(Pe=Lc||vP(p,y,Pe,N,We,Et,me)||!1)?(Xe||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(N,Et,me),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(N,Et,me)),typeof B.componentDidUpdate=="function"&&(p.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof B.componentDidUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(p.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(p.flags|=1024),p.memoizedProps=N,p.memoizedState=Et),B.props=N,B.state=Et,B.context=me,N=Pe):(typeof B.componentDidUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(p.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&We===d.memoizedState||(p.flags|=1024),N=!1)}return Jb(d,p,y,N,P,C)}function Jb(d,p,y,N,C,P){jP(d,p);var B=(p.flags&128)!==0;if(!N&&!B)return C&&RI(p,y,!1),Ml(d,p,P);N=p.stateNode,mre.current=p;var de=B&&typeof y.getDerivedStateFromError!="function"?null:N.render();return p.flags|=1,d!==null&&B?(p.child=Fd(p,d.child,null,P),p.child=Fd(p,null,de,P)):vi(d,p,de,P),p.memoizedState=N.state,C&&RI(p,y,!0),p.child}function IP(d){var p=d.stateNode;p.pendingContext?kI(d,p.pendingContext,p.pendingContext!==p.context):p.context&&kI(d,p.context,!1),Mb(d,p.containerInfo)}function PP(d,p,y,N,C){return Md(),jb(C),p.flags|=256,vi(d,p,y,N),p.child}var e_={dehydrated:null,treeContext:null,retryLane:0};function t_(d){return{baseLanes:d,cachePool:null,transitions:null}}function kP(d,p,y){var N=p.pendingProps,C=An.current,P=!1,B=(p.flags&128)!==0,de;if((de=B)||(de=d!==null&&d.memoizedState===null?!1:(C&2)!==0),de?(P=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(C|=1),on(An,C&1),d===null)return Cb(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(B=N.children,d=N.fallback,P?(N=p.mode,P=p.child,B={mode:"hidden",children:B},(N&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=B):P=Ex(B,N,0,null),d=Zu(d,N,y,null),P.return=p,d.return=p,P.sibling=d,p.child=P,p.child.memoizedState=t_(y),p.memoizedState=e_,d):r_(p,B));if(C=d.memoizedState,C!==null&&(de=C.dehydrated,de!==null))return gre(d,p,B,N,de,C,y);if(P){P=N.fallback,B=p.mode,C=d.child,de=C.sibling;var me={mode:"hidden",children:N.children};return(B&1)===0&&p.child!==C?(N=p.child,N.childLanes=0,N.pendingProps=me,p.deletions=null):(N=qc(C,me),N.subtreeFlags=C.subtreeFlags&14680064),de!==null?P=qc(de,P):(P=Zu(P,B,y,null),P.flags|=2),P.return=p,N.return=p,N.sibling=P,p.child=N,N=P,P=p.child,B=d.child.memoizedState,B=B===null?t_(y):{baseLanes:B.baseLanes|y,cachePool:null,transitions:B.transitions},P.memoizedState=B,P.childLanes=d.childLanes&~y,p.memoizedState=e_,N}return P=d.child,d=P.sibling,N=qc(P,{mode:"visible",children:N.children}),(p.mode&1)===0&&(N.lanes=y),N.return=p,N.sibling=null,d!==null&&(y=p.deletions,y===null?(p.deletions=[d],p.flags|=16):y.push(d)),p.child=N,p.memoizedState=null,N}function r_(d,p){return p=Ex({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function dx(d,p,y,N){return N!==null&&jb(N),Fd(p,d.child,null,y),d=r_(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function gre(d,p,y,N,C,P,B){if(y)return p.flags&256?(p.flags&=-257,N=Qb(Error(r(422))),dx(d,p,B,N)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(P=N.fallback,C=p.mode,N=Ex({mode:"visible",children:N.children},C,0,null),P=Zu(P,C,B,null),P.flags|=2,N.return=p,P.return=p,N.sibling=P,p.child=N,(p.mode&1)!==0&&Fd(p,d.child,null,B),p.child.memoizedState=t_(B),p.memoizedState=e_,P);if((p.mode&1)===0)return dx(d,p,B,null);if(C.data==="$!"){if(N=C.nextSibling&&C.nextSibling.dataset,N)var de=N.dgst;return N=de,P=Error(r(419)),N=Qb(P,N,void 0),dx(d,p,B,N)}if(de=(B&d.childLanes)!==0,zi||de){if(N=wa,N!==null){switch(B&-B){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(N.suspendedLanes|B))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,Dl(d,C),yo(N,d,C,-1))}return x_(),N=Qb(Error(r(421))),dx(d,p,B,N)}return C.data==="$?"?(p.flags|=128,p.child=d.child,p=jre.bind(null,d),C._reactRetry=p,null):(d=P.treeContext,hs=Dc(C.nextSibling),ds=p,wn=!0,mo=null,d!==null&&(Ls[Bs++]=Pl,Ls[Bs++]=kl,Ls[Bs++]=Hu,Pl=d.id,kl=d.overflow,Hu=p),p=r_(p,N.children),p.flags|=4096,p)}function DP(d,p,y){d.lanes|=p;var N=d.alternate;N!==null&&(N.lanes|=p),kb(d.return,p,y)}function n_(d,p,y,N,C){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:N,tail:y,tailMode:C}:(P.isBackwards=p,P.rendering=null,P.renderingStartTime=0,P.last=N,P.tail=y,P.tailMode=C)}function RP(d,p,y){var N=p.pendingProps,C=N.revealOrder,P=N.tail;if(vi(d,p,N.children,y),N=An.current,(N&2)!==0)N=N&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&DP(d,y,p);else if(d.tag===19)DP(d,y,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}N&=1}if(on(An,N),(p.mode&1)===0)p.memoizedState=null;else switch(C){case"forwards":for(y=p.child,C=null;y!==null;)d=y.alternate,d!==null&&ix(d)===null&&(C=y),y=y.sibling;y=C,y===null?(C=p.child,p.child=null):(C=y.sibling,y.sibling=null),n_(p,!1,C,y,P);break;case"backwards":for(y=null,C=p.child,p.child=null;C!==null;){if(d=C.alternate,d!==null&&ix(d)===null){p.child=C;break}d=C.sibling,C.sibling=y,y=C,C=d}n_(p,!0,y,null,P);break;case"together":n_(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function hx(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Ml(d,p,y){if(d!==null&&(p.dependencies=d.dependencies),Ku|=p.lanes,(y&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(r(153));if(p.child!==null){for(d=p.child,y=qc(d,d.pendingProps),p.child=y,y.return=p;d.sibling!==null;)d=d.sibling,y=y.sibling=qc(d,d.pendingProps),y.return=p;y.sibling=null}return p.child}function vre(d,p,y){switch(p.tag){case 3:IP(p),Md();break;case 5:XI(p);break;case 1:Hi(p.type)&&Xv(p);break;case 4:Mb(p,p.stateNode.containerInfo);break;case 10:var N=p.type._context,C=p.memoizedProps.value;on(tx,N._currentValue),N._currentValue=C;break;case 13:if(N=p.memoizedState,N!==null)return N.dehydrated!==null?(on(An,An.current&1),p.flags|=128,null):(y&p.child.childLanes)!==0?kP(d,p,y):(on(An,An.current&1),d=Ml(d,p,y),d!==null?d.sibling:null);on(An,An.current&1);break;case 19:if(N=(y&p.childLanes)!==0,(d.flags&128)!==0){if(N)return RP(d,p,y);p.flags|=128}if(C=p.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),on(An,An.current),N)break;return null;case 22:case 23:return p.lanes=0,CP(d,p,y)}return Ml(d,p,y)}var MP,a_,FP,LP;MP=function(d,p){for(var y=p.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},a_=function(){},FP=function(d,p,y,N){var C=d.memoizedProps;if(C!==N){d=p.stateNode,Wu(Yo.current);var P=null;switch(y){case"input":C=Y(d,C),N=Y(d,N),P=[];break;case"select":C=G({},C,{value:void 0}),N=G({},N,{value:void 0}),P=[];break;case"textarea":C=se(d,C),N=se(d,N),P=[];break;default:typeof C.onClick!="function"&&typeof N.onClick=="function"&&(d.onclick=Wv)}ss(y,N);var B;y=null;for(Pe in C)if(!N.hasOwnProperty(Pe)&&C.hasOwnProperty(Pe)&&C[Pe]!=null)if(Pe==="style"){var de=C[Pe];for(B in de)de.hasOwnProperty(B)&&(y||(y={}),y[B]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(a.hasOwnProperty(Pe)?P||(P=[]):(P=P||[]).push(Pe,null));for(Pe in N){var me=N[Pe];if(de=C!=null?C[Pe]:void 0,N.hasOwnProperty(Pe)&&me!==de&&(me!=null||de!=null))if(Pe==="style")if(de){for(B in de)!de.hasOwnProperty(B)||me&&me.hasOwnProperty(B)||(y||(y={}),y[B]="");for(B in me)me.hasOwnProperty(B)&&de[B]!==me[B]&&(y||(y={}),y[B]=me[B])}else y||(P||(P=[]),P.push(Pe,y)),y=me;else Pe==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,de=de?de.__html:void 0,me!=null&&de!==me&&(P=P||[]).push(Pe,me)):Pe==="children"?typeof me!="string"&&typeof me!="number"||(P=P||[]).push(Pe,""+me):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(a.hasOwnProperty(Pe)?(me!=null&&Pe==="onScroll"&&dn("scroll",d),P||de===me||(P=[])):(P=P||[]).push(Pe,me))}y&&(P=P||[]).push("style",y);var Pe=P;(p.updateQueue=Pe)&&(p.flags|=4)}},LP=function(d,p,y,N){y!==N&&(p.flags|=4)};function jp(d,p){if(!wn)switch(d.tailMode){case"hidden":p=d.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var N=null;y!==null;)y.alternate!==null&&(N=y),y=y.sibling;N===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:N.sibling=null}}function ai(d){var p=d.alternate!==null&&d.alternate.child===d.child,y=0,N=0;if(p)for(var C=d.child;C!==null;)y|=C.lanes|C.childLanes,N|=C.subtreeFlags&14680064,N|=C.flags&14680064,C.return=d,C=C.sibling;else for(C=d.child;C!==null;)y|=C.lanes|C.childLanes,N|=C.subtreeFlags,N|=C.flags,C.return=d,C=C.sibling;return d.subtreeFlags|=N,d.childLanes=y,p}function xre(d,p,y){var N=p.pendingProps;switch(Ab(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(p),null;case 1:return Hi(p.type)&&Kv(),ai(p),null;case 3:return N=p.stateNode,$d(),hn(Vi),hn(ri),Bb(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(d===null||d.child===null)&&(Jv(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,mo!==null&&(m_(mo),mo=null))),a_(d,p),ai(p),null;case 5:Fb(p);var C=Wu(Np.current);if(y=p.type,d!==null&&p.stateNode!=null)FP(d,p,y,N,C),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!N){if(p.stateNode===null)throw Error(r(166));return ai(p),null}if(d=Wu(Yo.current),Jv(p)){N=p.stateNode,y=p.type;var P=p.memoizedProps;switch(N[Qo]=p,N[yp]=P,d=(p.mode&1)!==0,y){case"dialog":dn("cancel",N),dn("close",N);break;case"iframe":case"object":case"embed":dn("load",N);break;case"video":case"audio":for(C=0;C<gp.length;C++)dn(gp[C],N);break;case"source":dn("error",N);break;case"img":case"image":case"link":dn("error",N),dn("load",N);break;case"details":dn("toggle",N);break;case"input":Oe(N,P),dn("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!P.multiple},dn("invalid",N);break;case"textarea":ye(N,P),dn("invalid",N)}ss(y,P),C=null;for(var B in P)if(P.hasOwnProperty(B)){var de=P[B];B==="children"?typeof de=="string"?N.textContent!==de&&(P.suppressHydrationWarning!==!0&&qv(N.textContent,de,d),C=["children",de]):typeof de=="number"&&N.textContent!==""+de&&(P.suppressHydrationWarning!==!0&&qv(N.textContent,de,d),C=["children",""+de]):a.hasOwnProperty(B)&&de!=null&&B==="onScroll"&&dn("scroll",N)}switch(y){case"input":Se(N),st(N,P,!0);break;case"textarea":Se(N),Ye(N);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(N.onclick=Wv)}N=C,p.updateQueue=N,N!==null&&(p.flags|=4)}else{B=C.nodeType===9?C:C.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=at(y)),d==="http://www.w3.org/1999/xhtml"?y==="script"?(d=B.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof N.is=="string"?d=B.createElement(y,{is:N.is}):(d=B.createElement(y),y==="select"&&(B=d,N.multiple?B.multiple=!0:N.size&&(B.size=N.size))):d=B.createElementNS(d,y),d[Qo]=p,d[yp]=N,MP(d,p,!1,!1),p.stateNode=d;e:{switch(B=os(y,N),y){case"dialog":dn("cancel",d),dn("close",d),C=N;break;case"iframe":case"object":case"embed":dn("load",d),C=N;break;case"video":case"audio":for(C=0;C<gp.length;C++)dn(gp[C],d);C=N;break;case"source":dn("error",d),C=N;break;case"img":case"image":case"link":dn("error",d),dn("load",d),C=N;break;case"details":dn("toggle",d),C=N;break;case"input":Oe(d,N),C=Y(d,N),dn("invalid",d);break;case"option":C=N;break;case"select":d._wrapperState={wasMultiple:!!N.multiple},C=G({},N,{value:void 0}),dn("invalid",d);break;case"textarea":ye(d,N),C=se(d,N),dn("invalid",d);break;default:C=N}ss(y,C),de=C;for(P in de)if(de.hasOwnProperty(P)){var me=de[P];P==="style"?an(d,me):P==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&kt(d,me)):P==="children"?typeof me=="string"?(y!=="textarea"||me!=="")&&tr(d,me):typeof me=="number"&&tr(d,""+me):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?me!=null&&P==="onScroll"&&dn("scroll",d):me!=null&&_(d,P,me,B))}switch(y){case"input":Se(d),st(d,N,!1);break;case"textarea":Se(d),Ye(d);break;case"option":N.value!=null&&d.setAttribute("value",""+W(N.value));break;case"select":d.multiple=!!N.multiple,P=N.value,P!=null?qe(d,!!N.multiple,P,!1):N.defaultValue!=null&&qe(d,!!N.multiple,N.defaultValue,!0);break;default:typeof C.onClick=="function"&&(d.onclick=Wv)}switch(y){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ai(p),null;case 6:if(d&&p.stateNode!=null)LP(d,p,d.memoizedProps,N);else{if(typeof N!="string"&&p.stateNode===null)throw Error(r(166));if(y=Wu(Np.current),Wu(Yo.current),Jv(p)){if(N=p.stateNode,y=p.memoizedProps,N[Qo]=p,(P=N.nodeValue!==y)&&(d=ds,d!==null))switch(d.tag){case 3:qv(N.nodeValue,y,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&qv(N.nodeValue,y,(d.mode&1)!==0)}P&&(p.flags|=4)}else N=(y.nodeType===9?y:y.ownerDocument).createTextNode(N),N[Qo]=p,p.stateNode=N}return ai(p),null;case 13:if(hn(An),N=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(wn&&hs!==null&&(p.mode&1)!==0&&(p.flags&128)===0)UI(),Md(),p.flags|=98560,P=!1;else if(P=Jv(p),N!==null&&N.dehydrated!==null){if(d===null){if(!P)throw Error(r(318));if(P=p.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Qo]=p}else Md(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ai(p),P=!1}else mo!==null&&(m_(mo),mo=null),P=!0;if(!P)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=y,p):(N=N!==null,N!==(d!==null&&d.memoizedState!==null)&&N&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(An.current&1)!==0?ea===0&&(ea=3):x_())),p.updateQueue!==null&&(p.flags|=4),ai(p),null);case 4:return $d(),a_(d,p),d===null&&vp(p.stateNode.containerInfo),ai(p),null;case 10:return Pb(p.type._context),ai(p),null;case 17:return Hi(p.type)&&Kv(),ai(p),null;case 19:if(hn(An),P=p.memoizedState,P===null)return ai(p),null;if(N=(p.flags&128)!==0,B=P.rendering,B===null)if(N)jp(P,!1);else{if(ea!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(B=ix(d),B!==null){for(p.flags|=128,jp(P,!1),N=B.updateQueue,N!==null&&(p.updateQueue=N,p.flags|=4),p.subtreeFlags=0,N=y,y=p.child;y!==null;)P=y,d=N,P.flags&=14680066,B=P.alternate,B===null?(P.childLanes=0,P.lanes=d,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=B.childLanes,P.lanes=B.lanes,P.child=B.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=B.memoizedProps,P.memoizedState=B.memoizedState,P.updateQueue=B.updateQueue,P.type=B.type,d=B.dependencies,P.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),y=y.sibling;return on(An,An.current&1|2),p.child}d=d.sibling}P.tail!==null&&Je()>zd&&(p.flags|=128,N=!0,jp(P,!1),p.lanes=4194304)}else{if(!N)if(d=ix(B),d!==null){if(p.flags|=128,N=!0,y=d.updateQueue,y!==null&&(p.updateQueue=y,p.flags|=4),jp(P,!0),P.tail===null&&P.tailMode==="hidden"&&!B.alternate&&!wn)return ai(p),null}else 2*Je()-P.renderingStartTime>zd&&y!==1073741824&&(p.flags|=128,N=!0,jp(P,!1),p.lanes=4194304);P.isBackwards?(B.sibling=p.child,p.child=B):(y=P.last,y!==null?y.sibling=B:p.child=B,P.last=B)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=Je(),p.sibling=null,y=An.current,on(An,N?y&1|2:y&1),p):(ai(p),null);case 22:case 23:return v_(),N=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==N&&(p.flags|=8192),N&&(p.mode&1)!==0?(ps&1073741824)!==0&&(ai(p),p.subtreeFlags&6&&(p.flags|=8192)):ai(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function yre(d,p){switch(Ab(p),p.tag){case 1:return Hi(p.type)&&Kv(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return $d(),hn(Vi),hn(ri),Bb(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return Fb(p),null;case 13:if(hn(An),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Md()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return hn(An),null;case 4:return $d(),null;case 10:return Pb(p.type._context),null;case 22:case 23:return v_(),null;case 24:return null;default:return null}}var px=!1,ii=!1,wre=typeof WeakSet=="function"?WeakSet:Set,St=null;function Vd(d,p){var y=d.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(N){On(d,p,N)}else y.current=null}function i_(d,p,y){try{y()}catch(N){On(d,p,N)}}var BP=!1;function bre(d,p){if(vb=Dv,d=vI(),cb(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else e:{y=(y=d.ownerDocument)&&y.defaultView||window;var N=y.getSelection&&y.getSelection();if(N&&N.rangeCount!==0){y=N.anchorNode;var C=N.anchorOffset,P=N.focusNode;N=N.focusOffset;try{y.nodeType,P.nodeType}catch{y=null;break e}var B=0,de=-1,me=-1,Pe=0,Xe=0,Ze=d,We=null;t:for(;;){for(var wt;Ze!==y||C!==0&&Ze.nodeType!==3||(de=B+C),Ze!==P||N!==0&&Ze.nodeType!==3||(me=B+N),Ze.nodeType===3&&(B+=Ze.nodeValue.length),(wt=Ze.firstChild)!==null;)We=Ze,Ze=wt;for(;;){if(Ze===d)break t;if(We===y&&++Pe===C&&(de=B),We===P&&++Xe===N&&(me=B),(wt=Ze.nextSibling)!==null)break;Ze=We,We=Ze.parentNode}Ze=wt}y=de===-1||me===-1?null:{start:de,end:me}}else y=null}y=y||{start:0,end:0}}else y=null;for(xb={focusedElem:d,selectionRange:y},Dv=!1,St=p;St!==null;)if(p=St,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,St=d;else for(;St!==null;){p=St;try{var Et=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var Tt=Et.memoizedProps,Rn=Et.memoizedState,Ne=p.stateNode,xe=Ne.getSnapshotBeforeUpdate(p.elementType===p.type?Tt:go(p.type,Tt),Rn);Ne.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var Ce=p.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){On(p,p.return,ot)}if(d=p.sibling,d!==null){d.return=p.return,St=d;break}St=p.return}return Et=BP,BP=!1,Et}function Op(d,p,y){var N=p.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var C=N=N.next;do{if((C.tag&d)===d){var P=C.destroy;C.destroy=void 0,P!==void 0&&i_(p,y,P)}C=C.next}while(C!==N)}}function mx(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&d)===d){var N=y.create;y.destroy=N()}y=y.next}while(y!==p)}}function s_(d){var p=d.ref;if(p!==null){var y=d.stateNode;switch(d.tag){case 5:d=y;break;default:d=y}typeof p=="function"?p(d):p.current=d}}function $P(d){var p=d.alternate;p!==null&&(d.alternate=null,$P(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[Qo],delete p[yp],delete p[_b],delete p[nre],delete p[are])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function UP(d){return d.tag===5||d.tag===3||d.tag===4}function VP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||UP(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function o_(d,p,y){var N=d.tag;if(N===5||N===6)d=d.stateNode,p?y.nodeType===8?y.parentNode.insertBefore(d,p):y.insertBefore(d,p):(y.nodeType===8?(p=y.parentNode,p.insertBefore(d,y)):(p=y,p.appendChild(d)),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=Wv));else if(N!==4&&(d=d.child,d!==null))for(o_(d,p,y),d=d.sibling;d!==null;)o_(d,p,y),d=d.sibling}function l_(d,p,y){var N=d.tag;if(N===5||N===6)d=d.stateNode,p?y.insertBefore(d,p):y.appendChild(d);else if(N!==4&&(d=d.child,d!==null))for(l_(d,p,y),d=d.sibling;d!==null;)l_(d,p,y),d=d.sibling}var Ba=null,vo=!1;function $c(d,p,y){for(y=y.child;y!==null;)HP(d,p,y),y=y.sibling}function HP(d,p,y){if(Z&&typeof Z.onCommitFiberUnmount=="function")try{Z.onCommitFiberUnmount(us,y)}catch{}switch(y.tag){case 5:ii||Vd(y,p);case 6:var N=Ba,C=vo;Ba=null,$c(d,p,y),Ba=N,vo=C,Ba!==null&&(vo?(d=Ba,y=y.stateNode,d.nodeType===8?d.parentNode.removeChild(y):d.removeChild(y)):Ba.removeChild(y.stateNode));break;case 18:Ba!==null&&(vo?(d=Ba,y=y.stateNode,d.nodeType===8?bb(d.parentNode,y):d.nodeType===1&&bb(d,y),lp(d)):bb(Ba,y.stateNode));break;case 4:N=Ba,C=vo,Ba=y.stateNode.containerInfo,vo=!0,$c(d,p,y),Ba=N,vo=C;break;case 0:case 11:case 14:case 15:if(!ii&&(N=y.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){C=N=N.next;do{var P=C,B=P.destroy;P=P.tag,B!==void 0&&((P&2)!==0||(P&4)!==0)&&i_(y,p,B),C=C.next}while(C!==N)}$c(d,p,y);break;case 1:if(!ii&&(Vd(y,p),N=y.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=y.memoizedProps,N.state=y.memoizedState,N.componentWillUnmount()}catch(de){On(y,p,de)}$c(d,p,y);break;case 21:$c(d,p,y);break;case 22:y.mode&1?(ii=(N=ii)||y.memoizedState!==null,$c(d,p,y),ii=N):$c(d,p,y);break;default:$c(d,p,y)}}function zP(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var y=d.stateNode;y===null&&(y=d.stateNode=new wre),p.forEach(function(N){var C=Ore.bind(null,d,N);y.has(N)||(y.add(N),N.then(C,C))})}}function xo(d,p){var y=p.deletions;if(y!==null)for(var N=0;N<y.length;N++){var C=y[N];try{var P=d,B=p,de=B;e:for(;de!==null;){switch(de.tag){case 5:Ba=de.stateNode,vo=!1;break e;case 3:Ba=de.stateNode.containerInfo,vo=!0;break e;case 4:Ba=de.stateNode.containerInfo,vo=!0;break e}de=de.return}if(Ba===null)throw Error(r(160));HP(P,B,C),Ba=null,vo=!1;var me=C.alternate;me!==null&&(me.return=null),C.return=null}catch(Pe){On(C,p,Pe)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)qP(p,d),p=p.sibling}function qP(d,p){var y=d.alternate,N=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(xo(p,d),Jo(d),N&4){try{Op(3,d,d.return),mx(3,d)}catch(Tt){On(d,d.return,Tt)}try{Op(5,d,d.return)}catch(Tt){On(d,d.return,Tt)}}break;case 1:xo(p,d),Jo(d),N&512&&y!==null&&Vd(y,y.return);break;case 5:if(xo(p,d),Jo(d),N&512&&y!==null&&Vd(y,y.return),d.flags&32){var C=d.stateNode;try{tr(C,"")}catch(Tt){On(d,d.return,Tt)}}if(N&4&&(C=d.stateNode,C!=null)){var P=d.memoizedProps,B=y!==null?y.memoizedProps:P,de=d.type,me=d.updateQueue;if(d.updateQueue=null,me!==null)try{de==="input"&&P.type==="radio"&&P.name!=null&&Re(C,P),os(de,B);var Pe=os(de,P);for(B=0;B<me.length;B+=2){var Xe=me[B],Ze=me[B+1];Xe==="style"?an(C,Ze):Xe==="dangerouslySetInnerHTML"?kt(C,Ze):Xe==="children"?tr(C,Ze):_(C,Xe,Ze,Pe)}switch(de){case"input":Me(C,P);break;case"textarea":_e(C,P);break;case"select":var We=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var wt=P.value;wt!=null?qe(C,!!P.multiple,wt,!1):We!==!!P.multiple&&(P.defaultValue!=null?qe(C,!!P.multiple,P.defaultValue,!0):qe(C,!!P.multiple,P.multiple?[]:"",!1))}C[yp]=P}catch(Tt){On(d,d.return,Tt)}}break;case 6:if(xo(p,d),Jo(d),N&4){if(d.stateNode===null)throw Error(r(162));C=d.stateNode,P=d.memoizedProps;try{C.nodeValue=P}catch(Tt){On(d,d.return,Tt)}}break;case 3:if(xo(p,d),Jo(d),N&4&&y!==null&&y.memoizedState.isDehydrated)try{lp(p.containerInfo)}catch(Tt){On(d,d.return,Tt)}break;case 4:xo(p,d),Jo(d);break;case 13:xo(p,d),Jo(d),C=d.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(f_=Je())),N&4&&zP(d);break;case 22:if(Xe=y!==null&&y.memoizedState!==null,d.mode&1?(ii=(Pe=ii)||Xe,xo(p,d),ii=Pe):xo(p,d),Jo(d),N&8192){if(Pe=d.memoizedState!==null,(d.stateNode.isHidden=Pe)&&!Xe&&(d.mode&1)!==0)for(St=d,Xe=d.child;Xe!==null;){for(Ze=St=Xe;St!==null;){switch(We=St,wt=We.child,We.tag){case 0:case 11:case 14:case 15:Op(4,We,We.return);break;case 1:Vd(We,We.return);var Et=We.stateNode;if(typeof Et.componentWillUnmount=="function"){N=We,y=We.return;try{p=N,Et.props=p.memoizedProps,Et.state=p.memoizedState,Et.componentWillUnmount()}catch(Tt){On(N,y,Tt)}}break;case 5:Vd(We,We.return);break;case 22:if(We.memoizedState!==null){KP(Ze);continue}}wt!==null?(wt.return=We,St=wt):KP(Ze)}Xe=Xe.sibling}e:for(Xe=null,Ze=d;;){if(Ze.tag===5){if(Xe===null){Xe=Ze;try{C=Ze.stateNode,Pe?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(de=Ze.stateNode,me=Ze.memoizedProps.style,B=me!=null&&me.hasOwnProperty("display")?me.display:null,de.style.display=$i("display",B))}catch(Tt){On(d,d.return,Tt)}}}else if(Ze.tag===6){if(Xe===null)try{Ze.stateNode.nodeValue=Pe?"":Ze.memoizedProps}catch(Tt){On(d,d.return,Tt)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===d)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===d)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===d)break e;Xe===Ze&&(Xe=null),Ze=Ze.return}Xe===Ze&&(Xe=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:xo(p,d),Jo(d),N&4&&zP(d);break;case 21:break;default:xo(p,d),Jo(d)}}function Jo(d){var p=d.flags;if(p&2){try{e:{for(var y=d.return;y!==null;){if(UP(y)){var N=y;break e}y=y.return}throw Error(r(160))}switch(N.tag){case 5:var C=N.stateNode;N.flags&32&&(tr(C,""),N.flags&=-33);var P=VP(d);l_(d,P,C);break;case 3:case 4:var B=N.stateNode.containerInfo,de=VP(d);o_(d,de,B);break;default:throw Error(r(161))}}catch(me){On(d,d.return,me)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function _re(d,p,y){St=d,WP(d)}function WP(d,p,y){for(var N=(d.mode&1)!==0;St!==null;){var C=St,P=C.child;if(C.tag===22&&N){var B=C.memoizedState!==null||px;if(!B){var de=C.alternate,me=de!==null&&de.memoizedState!==null||ii;de=px;var Pe=ii;if(px=B,(ii=me)&&!Pe)for(St=C;St!==null;)B=St,me=B.child,B.tag===22&&B.memoizedState!==null?XP(C):me!==null?(me.return=B,St=me):XP(C);for(;P!==null;)St=P,WP(P),P=P.sibling;St=C,px=de,ii=Pe}GP(d)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,St=P):GP(d)}}function GP(d){for(;St!==null;){var p=St;if((p.flags&8772)!==0){var y=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:ii||mx(5,p);break;case 1:var N=p.stateNode;if(p.flags&4&&!ii)if(y===null)N.componentDidMount();else{var C=p.elementType===p.type?y.memoizedProps:go(p.type,y.memoizedProps);N.componentDidUpdate(C,y.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var P=p.updateQueue;P!==null&&KI(p,P,N);break;case 3:var B=p.updateQueue;if(B!==null){if(y=null,p.child!==null)switch(p.child.tag){case 5:y=p.child.stateNode;break;case 1:y=p.child.stateNode}KI(p,B,y)}break;case 5:var de=p.stateNode;if(y===null&&p.flags&4){y=de;var me=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&y.focus();break;case"img":me.src&&(y.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Pe=p.alternate;if(Pe!==null){var Xe=Pe.memoizedState;if(Xe!==null){var Ze=Xe.dehydrated;Ze!==null&&lp(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ii||p.flags&512&&s_(p)}catch(We){On(p,p.return,We)}}if(p===d){St=null;break}if(y=p.sibling,y!==null){y.return=p.return,St=y;break}St=p.return}}function KP(d){for(;St!==null;){var p=St;if(p===d){St=null;break}var y=p.sibling;if(y!==null){y.return=p.return,St=y;break}St=p.return}}function XP(d){for(;St!==null;){var p=St;try{switch(p.tag){case 0:case 11:case 15:var y=p.return;try{mx(4,p)}catch(me){On(p,y,me)}break;case 1:var N=p.stateNode;if(typeof N.componentDidMount=="function"){var C=p.return;try{N.componentDidMount()}catch(me){On(p,C,me)}}var P=p.return;try{s_(p)}catch(me){On(p,P,me)}break;case 5:var B=p.return;try{s_(p)}catch(me){On(p,B,me)}}}catch(me){On(p,p.return,me)}if(p===d){St=null;break}var de=p.sibling;if(de!==null){de.return=p.return,St=de;break}St=p.return}}var Sre=Math.ceil,gx=E.ReactCurrentDispatcher,c_=E.ReactCurrentOwner,Vs=E.ReactCurrentBatchConfig,Tr=0,wa=null,Vn=null,$a=0,ps=0,Hd=Rc(0),ea=0,Ip=null,Ku=0,vx=0,u_=0,Pp=null,qi=null,f_=0,zd=1/0,Fl=null,xx=!1,d_=null,Uc=null,yx=!1,Vc=null,wx=0,kp=0,h_=null,bx=-1,_x=0;function xi(){return(Tr&6)!==0?Je():bx!==-1?bx:bx=Je()}function Hc(d){return(d.mode&1)===0?1:(Tr&2)!==0&&$a!==0?$a&-$a:sre.transition!==null?(_x===0&&(_x=Iv()),_x):(d=zr,d!==0||(d=window.event,d=d===void 0?16:YO(d.type)),d)}function yo(d,p,y,N){if(50<kp)throw kp=0,h_=null,Error(r(185));np(d,y,N),((Tr&2)===0||d!==wa)&&(d===wa&&((Tr&2)===0&&(vx|=y),ea===4&&zc(d,$a)),Wi(d,N),y===1&&Tr===0&&(p.mode&1)===0&&(zd=Je()+500,Qv&&Fc()))}function Wi(d,p){var y=d.callbackNode;Un(d,p);var N=xa(d,d===wa?$a:0);if(N===0)y!==null&&ft(y),d.callbackNode=null,d.callbackPriority=0;else if(p=N&-N,d.callbackPriority!==p){if(y!=null&&ft(y),p===1)d.tag===0?ire(YP.bind(null,d)):MI(YP.bind(null,d)),tre(function(){(Tr&6)===0&&Fc()}),y=null;else{switch(HO(N)){case 1:y=Hr;break;case 4:y=Yr;break;case 16:y=Nn;break;case 536870912:y=ho;break;default:y=Nn}y=i8(y,QP.bind(null,d))}d.callbackPriority=p,d.callbackNode=y}}function QP(d,p){if(bx=-1,_x=0,(Tr&6)!==0)throw Error(r(327));var y=d.callbackNode;if(qd()&&d.callbackNode!==y)return null;var N=xa(d,d===wa?$a:0);if(N===0)return null;if((N&30)!==0||(N&d.expiredLanes)!==0||p)p=Sx(d,N);else{p=N;var C=Tr;Tr|=2;var P=JP();(wa!==d||$a!==p)&&(Fl=null,zd=Je()+500,Qu(d,p));do try{Are();break}catch(de){ZP(d,de)}while(!0);Ib(),gx.current=P,Tr=C,Vn!==null?p=0:(wa=null,$a=0,p=ea)}if(p!==0){if(p===2&&(C=Fs(d),C!==0&&(N=C,p=p_(d,C))),p===1)throw y=Ip,Qu(d,0),zc(d,N),Wi(d,Je()),y;if(p===6)zc(d,N);else{if(C=d.current.alternate,(N&30)===0&&!Nre(C)&&(p=Sx(d,N),p===2&&(P=Fs(d),P!==0&&(N=P,p=p_(d,P))),p===1))throw y=Ip,Qu(d,0),zc(d,N),Wi(d,Je()),y;switch(d.finishedWork=C,d.finishedLanes=N,p){case 0:case 1:throw Error(r(345));case 2:Yu(d,qi,Fl);break;case 3:if(zc(d,N),(N&130023424)===N&&(p=f_+500-Je(),10<p)){if(xa(d,0)!==0)break;if(C=d.suspendedLanes,(C&N)!==N){xi(),d.pingedLanes|=d.suspendedLanes&C;break}d.timeoutHandle=wb(Yu.bind(null,d,qi,Fl),p);break}Yu(d,qi,Fl);break;case 4:if(zc(d,N),(N&4194240)===N)break;for(p=d.eventTimes,C=-1;0<N;){var B=31-Qe(N);P=1<<B,B=p[B],B>C&&(C=B),N&=~P}if(N=C,N=Je()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*Sre(N/1960))-N,10<N){d.timeoutHandle=wb(Yu.bind(null,d,qi,Fl),N);break}Yu(d,qi,Fl);break;case 5:Yu(d,qi,Fl);break;default:throw Error(r(329))}}}return Wi(d,Je()),d.callbackNode===y?QP.bind(null,d):null}function p_(d,p){var y=Pp;return d.current.memoizedState.isDehydrated&&(Qu(d,p).flags|=256),d=Sx(d,p),d!==2&&(p=qi,qi=y,p!==null&&m_(p)),d}function m_(d){qi===null?qi=d:qi.push.apply(qi,d)}function Nre(d){for(var p=d;;){if(p.flags&16384){var y=p.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var N=0;N<y.length;N++){var C=y[N],P=C.getSnapshot;C=C.value;try{if(!po(P(),C))return!1}catch{return!1}}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function zc(d,p){for(p&=~u_,p&=~vx,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var y=31-Qe(p),N=1<<y;d[y]=-1,p&=~N}}function YP(d){if((Tr&6)!==0)throw Error(r(327));qd();var p=xa(d,0);if((p&1)===0)return Wi(d,Je()),null;var y=Sx(d,p);if(d.tag!==0&&y===2){var N=Fs(d);N!==0&&(p=N,y=p_(d,N))}if(y===1)throw y=Ip,Qu(d,0),zc(d,p),Wi(d,Je()),y;if(y===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Yu(d,qi,Fl),Wi(d,Je()),null}function g_(d,p){var y=Tr;Tr|=1;try{return d(p)}finally{Tr=y,Tr===0&&(zd=Je()+500,Qv&&Fc())}}function Xu(d){Vc!==null&&Vc.tag===0&&(Tr&6)===0&&qd();var p=Tr;Tr|=1;var y=Vs.transition,N=zr;try{if(Vs.transition=null,zr=1,d)return d()}finally{zr=N,Vs.transition=y,Tr=p,(Tr&6)===0&&Fc()}}function v_(){ps=Hd.current,hn(Hd)}function Qu(d,p){d.finishedWork=null,d.finishedLanes=0;var y=d.timeoutHandle;if(y!==-1&&(d.timeoutHandle=-1,ere(y)),Vn!==null)for(y=Vn.return;y!==null;){var N=y;switch(Ab(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Kv();break;case 3:$d(),hn(Vi),hn(ri),Bb();break;case 5:Fb(N);break;case 4:$d();break;case 13:hn(An);break;case 19:hn(An);break;case 10:Pb(N.type._context);break;case 22:case 23:v_()}y=y.return}if(wa=d,Vn=d=qc(d.current,null),$a=ps=p,ea=0,Ip=null,u_=vx=Ku=0,qi=Pp=null,qu!==null){for(p=0;p<qu.length;p++)if(y=qu[p],N=y.interleaved,N!==null){y.interleaved=null;var C=N.next,P=y.pending;if(P!==null){var B=P.next;P.next=C,N.next=B}y.pending=N}qu=null}return d}function ZP(d,p){do{var y=Vn;try{if(Ib(),sx.current=ux,ox){for(var N=Tn.memoizedState;N!==null;){var C=N.queue;C!==null&&(C.pending=null),N=N.next}ox=!1}if(Gu=0,ya=Jn=Tn=null,Ep=!1,Ap=0,c_.current=null,y===null||y.return===null){ea=1,Ip=p,Vn=null;break}e:{var P=d,B=y.return,de=y,me=p;if(p=$a,de.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Pe=me,Xe=de,Ze=Xe.tag;if((Xe.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var We=Xe.alternate;We?(Xe.updateQueue=We.updateQueue,Xe.memoizedState=We.memoizedState,Xe.lanes=We.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var wt=SP(B);if(wt!==null){wt.flags&=-257,NP(wt,B,de,P,p),wt.mode&1&&_P(P,Pe,p),p=wt,me=Pe;var Et=p.updateQueue;if(Et===null){var Tt=new Set;Tt.add(me),p.updateQueue=Tt}else Et.add(me);break e}else{if((p&1)===0){_P(P,Pe,p),x_();break e}me=Error(r(426))}}else if(wn&&de.mode&1){var Rn=SP(B);if(Rn!==null){(Rn.flags&65536)===0&&(Rn.flags|=256),NP(Rn,B,de,P,p),jb(Ud(me,de));break e}}P=me=Ud(me,de),ea!==4&&(ea=2),Pp===null?Pp=[P]:Pp.push(P),P=B;do{switch(P.tag){case 3:P.flags|=65536,p&=-p,P.lanes|=p;var Ne=wP(P,me,p);GI(P,Ne);break e;case 1:de=me;var xe=P.type,Ce=P.stateNode;if((P.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Uc===null||!Uc.has(Ce)))){P.flags|=65536,p&=-p,P.lanes|=p;var ot=bP(P,de,p);GI(P,ot);break e}}P=P.return}while(P!==null)}t8(y)}catch(Ot){p=Ot,Vn===y&&y!==null&&(Vn=y=y.return);continue}break}while(!0)}function JP(){var d=gx.current;return gx.current=ux,d===null?ux:d}function x_(){(ea===0||ea===3||ea===2)&&(ea=4),wa===null||(Ku&268435455)===0&&(vx&268435455)===0||zc(wa,$a)}function Sx(d,p){var y=Tr;Tr|=2;var N=JP();(wa!==d||$a!==p)&&(Fl=null,Qu(d,p));do try{Ere();break}catch(C){ZP(d,C)}while(!0);if(Ib(),Tr=y,gx.current=N,Vn!==null)throw Error(r(261));return wa=null,$a=0,ea}function Ere(){for(;Vn!==null;)e8(Vn)}function Are(){for(;Vn!==null&&!yt();)e8(Vn)}function e8(d){var p=a8(d.alternate,d,ps);d.memoizedProps=d.pendingProps,p===null?t8(d):Vn=p,c_.current=null}function t8(d){var p=d;do{var y=p.alternate;if(d=p.return,(p.flags&32768)===0){if(y=xre(y,p,ps),y!==null){Vn=y;return}}else{if(y=yre(y,p),y!==null){y.flags&=32767,Vn=y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{ea=6,Vn=null;return}}if(p=p.sibling,p!==null){Vn=p;return}Vn=p=d}while(p!==null);ea===0&&(ea=5)}function Yu(d,p,y){var N=zr,C=Vs.transition;try{Vs.transition=null,zr=1,Tre(d,p,y,N)}finally{Vs.transition=C,zr=N}return null}function Tre(d,p,y,N){do qd();while(Vc!==null);if((Tr&6)!==0)throw Error(r(327));y=d.finishedWork;var C=d.finishedLanes;if(y===null)return null;if(d.finishedWork=null,d.finishedLanes=0,y===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var P=y.lanes|y.childLanes;if(ote(d,P),d===wa&&(Vn=wa=null,$a=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||yx||(yx=!0,i8(Nn,function(){return qd(),null})),P=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||P){P=Vs.transition,Vs.transition=null;var B=zr;zr=1;var de=Tr;Tr|=4,c_.current=null,bre(d,y),qP(y,d),Gte(xb),Dv=!!vb,xb=vb=null,d.current=y,_re(y),rt(),Tr=de,zr=B,Vs.transition=P}else d.current=y;if(yx&&(yx=!1,Vc=d,wx=C),P=d.pendingLanes,P===0&&(Uc=null),De(y.stateNode),Wi(d,Je()),p!==null)for(N=d.onRecoverableError,y=0;y<p.length;y++)C=p[y],N(C.value,{componentStack:C.stack,digest:C.digest});if(xx)throw xx=!1,d=d_,d_=null,d;return(wx&1)!==0&&d.tag!==0&&qd(),P=d.pendingLanes,(P&1)!==0?d===h_?kp++:(kp=0,h_=d):kp=0,Fc(),null}function qd(){if(Vc!==null){var d=HO(wx),p=Vs.transition,y=zr;try{if(Vs.transition=null,zr=16>d?16:d,Vc===null)var N=!1;else{if(d=Vc,Vc=null,wx=0,(Tr&6)!==0)throw Error(r(331));var C=Tr;for(Tr|=4,St=d.current;St!==null;){var P=St,B=P.child;if((St.flags&16)!==0){var de=P.deletions;if(de!==null){for(var me=0;me<de.length;me++){var Pe=de[me];for(St=Pe;St!==null;){var Xe=St;switch(Xe.tag){case 0:case 11:case 15:Op(8,Xe,P)}var Ze=Xe.child;if(Ze!==null)Ze.return=Xe,St=Ze;else for(;St!==null;){Xe=St;var We=Xe.sibling,wt=Xe.return;if($P(Xe),Xe===Pe){St=null;break}if(We!==null){We.return=wt,St=We;break}St=wt}}}var Et=P.alternate;if(Et!==null){var Tt=Et.child;if(Tt!==null){Et.child=null;do{var Rn=Tt.sibling;Tt.sibling=null,Tt=Rn}while(Tt!==null)}}St=P}}if((P.subtreeFlags&2064)!==0&&B!==null)B.return=P,St=B;else e:for(;St!==null;){if(P=St,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Op(9,P,P.return)}var Ne=P.sibling;if(Ne!==null){Ne.return=P.return,St=Ne;break e}St=P.return}}var xe=d.current;for(St=xe;St!==null;){B=St;var Ce=B.child;if((B.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=B,St=Ce;else e:for(B=xe;St!==null;){if(de=St,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:mx(9,de)}}catch(Ot){On(de,de.return,Ot)}if(de===B){St=null;break e}var ot=de.sibling;if(ot!==null){ot.return=de.return,St=ot;break e}St=de.return}}if(Tr=C,Fc(),Z&&typeof Z.onPostCommitFiberRoot=="function")try{Z.onPostCommitFiberRoot(us,d)}catch{}N=!0}return N}finally{zr=y,Vs.transition=p}}return!1}function r8(d,p,y){p=Ud(y,p),p=wP(d,p,1),d=Bc(d,p,1),p=xi(),d!==null&&(np(d,1,p),Wi(d,p))}function On(d,p,y){if(d.tag===3)r8(d,d,y);else for(;p!==null;){if(p.tag===3){r8(p,d,y);break}else if(p.tag===1){var N=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Uc===null||!Uc.has(N))){d=Ud(y,d),d=bP(p,d,1),p=Bc(p,d,1),d=xi(),p!==null&&(np(p,1,d),Wi(p,d));break}}p=p.return}}function Cre(d,p,y){var N=d.pingCache;N!==null&&N.delete(p),p=xi(),d.pingedLanes|=d.suspendedLanes&y,wa===d&&($a&y)===y&&(ea===4||ea===3&&($a&130023424)===$a&&500>Je()-f_?Qu(d,0):u_|=y),Wi(d,p)}function n8(d,p){p===0&&((d.mode&1)===0?p=1:(p=En,En<<=1,(En&130023424)===0&&(En=4194304)));var y=xi();d=Dl(d,p),d!==null&&(np(d,p,y),Wi(d,y))}function jre(d){var p=d.memoizedState,y=0;p!==null&&(y=p.retryLane),n8(d,y)}function Ore(d,p){var y=0;switch(d.tag){case 13:var N=d.stateNode,C=d.memoizedState;C!==null&&(y=C.retryLane);break;case 19:N=d.stateNode;break;default:throw Error(r(314))}N!==null&&N.delete(p),n8(d,y)}var a8;a8=function(d,p,y){if(d!==null)if(d.memoizedProps!==p.pendingProps||Vi.current)zi=!0;else{if((d.lanes&y)===0&&(p.flags&128)===0)return zi=!1,vre(d,p,y);zi=(d.flags&131072)!==0}else zi=!1,wn&&(p.flags&1048576)!==0&&FI(p,Zv,p.index);switch(p.lanes=0,p.tag){case 2:var N=p.type;hx(d,p),d=p.pendingProps;var C=kd(p,ri.current);Bd(p,y),C=Vb(null,p,N,d,C,y);var P=Hb();return p.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Hi(N)?(P=!0,Xv(p)):P=!1,p.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Rb(p),C.updater=fx,p.stateNode=C,C._reactInternals=p,Xb(p,N,d,y),p=Jb(null,p,N,!0,P,y)):(p.tag=0,wn&&P&&Eb(p),vi(null,p,C,y),p=p.child),p;case 16:N=p.elementType;e:{switch(hx(d,p),d=p.pendingProps,C=N._init,N=C(N._payload),p.type=N,C=p.tag=Pre(N),d=go(N,d),C){case 0:p=Zb(null,p,N,d,y);break e;case 1:p=OP(null,p,N,d,y);break e;case 11:p=EP(null,p,N,d,y);break e;case 14:p=AP(null,p,N,go(N.type,d),y);break e}throw Error(r(306,N,""))}return p;case 0:return N=p.type,C=p.pendingProps,C=p.elementType===N?C:go(N,C),Zb(d,p,N,C,y);case 1:return N=p.type,C=p.pendingProps,C=p.elementType===N?C:go(N,C),OP(d,p,N,C,y);case 3:e:{if(IP(p),d===null)throw Error(r(387));N=p.pendingProps,P=p.memoizedState,C=P.element,WI(d,p),ax(p,N,null,y);var B=p.memoizedState;if(N=B.element,P.isDehydrated)if(P={element:N,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},p.updateQueue.baseState=P,p.memoizedState=P,p.flags&256){C=Ud(Error(r(423)),p),p=PP(d,p,N,y,C);break e}else if(N!==C){C=Ud(Error(r(424)),p),p=PP(d,p,N,y,C);break e}else for(hs=Dc(p.stateNode.containerInfo.firstChild),ds=p,wn=!0,mo=null,y=zI(p,null,N,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Md(),N===C){p=Ml(d,p,y);break e}vi(d,p,N,y)}p=p.child}return p;case 5:return XI(p),d===null&&Cb(p),N=p.type,C=p.pendingProps,P=d!==null?d.memoizedProps:null,B=C.children,yb(N,C)?B=null:P!==null&&yb(N,P)&&(p.flags|=32),jP(d,p),vi(d,p,B,y),p.child;case 6:return d===null&&Cb(p),null;case 13:return kP(d,p,y);case 4:return Mb(p,p.stateNode.containerInfo),N=p.pendingProps,d===null?p.child=Fd(p,null,N,y):vi(d,p,N,y),p.child;case 11:return N=p.type,C=p.pendingProps,C=p.elementType===N?C:go(N,C),EP(d,p,N,C,y);case 7:return vi(d,p,p.pendingProps,y),p.child;case 8:return vi(d,p,p.pendingProps.children,y),p.child;case 12:return vi(d,p,p.pendingProps.children,y),p.child;case 10:e:{if(N=p.type._context,C=p.pendingProps,P=p.memoizedProps,B=C.value,on(tx,N._currentValue),N._currentValue=B,P!==null)if(po(P.value,B)){if(P.children===C.children&&!Vi.current){p=Ml(d,p,y);break e}}else for(P=p.child,P!==null&&(P.return=p);P!==null;){var de=P.dependencies;if(de!==null){B=P.child;for(var me=de.firstContext;me!==null;){if(me.context===N){if(P.tag===1){me=Rl(-1,y&-y),me.tag=2;var Pe=P.updateQueue;if(Pe!==null){Pe=Pe.shared;var Xe=Pe.pending;Xe===null?me.next=me:(me.next=Xe.next,Xe.next=me),Pe.pending=me}}P.lanes|=y,me=P.alternate,me!==null&&(me.lanes|=y),kb(P.return,y,p),de.lanes|=y;break}me=me.next}}else if(P.tag===10)B=P.type===p.type?null:P.child;else if(P.tag===18){if(B=P.return,B===null)throw Error(r(341));B.lanes|=y,de=B.alternate,de!==null&&(de.lanes|=y),kb(B,y,p),B=P.sibling}else B=P.child;if(B!==null)B.return=P;else for(B=P;B!==null;){if(B===p){B=null;break}if(P=B.sibling,P!==null){P.return=B.return,B=P;break}B=B.return}P=B}vi(d,p,C.children,y),p=p.child}return p;case 9:return C=p.type,N=p.pendingProps.children,Bd(p,y),C=$s(C),N=N(C),p.flags|=1,vi(d,p,N,y),p.child;case 14:return N=p.type,C=go(N,p.pendingProps),C=go(N.type,C),AP(d,p,N,C,y);case 15:return TP(d,p,p.type,p.pendingProps,y);case 17:return N=p.type,C=p.pendingProps,C=p.elementType===N?C:go(N,C),hx(d,p),p.tag=1,Hi(N)?(d=!0,Xv(p)):d=!1,Bd(p,y),xP(p,N,C),Xb(p,N,C,y),Jb(null,p,N,!0,d,y);case 19:return RP(d,p,y);case 22:return CP(d,p,y)}throw Error(r(156,p.tag))};function i8(d,p){return Ke(d,p)}function Ire(d,p,y,N){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(d,p,y,N){return new Ire(d,p,y,N)}function y_(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Pre(d){if(typeof d=="function")return y_(d)?1:0;if(d!=null){if(d=d.$$typeof,d===R)return 11;if(d===X)return 14}return 2}function qc(d,p){var y=d.alternate;return y===null?(y=Hs(d.tag,p,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=p,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&14680064,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,p=d.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y}function Nx(d,p,y,N,C,P){var B=2;if(N=d,typeof d=="function")y_(d)&&(B=1);else if(typeof d=="string")B=5;else e:switch(d){case O:return Zu(y.children,C,P,p);case D:B=8,C|=8;break;case M:return d=Hs(12,y,p,C|2),d.elementType=M,d.lanes=P,d;case L:return d=Hs(13,y,p,C),d.elementType=L,d.lanes=P,d;case U:return d=Hs(19,y,p,C),d.elementType=U,d.lanes=P,d;case he:return Ex(y,C,P,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case k:B=10;break e;case I:B=9;break e;case R:B=11;break e;case X:B=14;break e;case ue:B=16,N=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return p=Hs(B,y,p,C),p.elementType=d,p.type=N,p.lanes=P,p}function Zu(d,p,y,N){return d=Hs(7,d,N,p),d.lanes=y,d}function Ex(d,p,y,N){return d=Hs(22,d,N,p),d.elementType=he,d.lanes=y,d.stateNode={isHidden:!1},d}function w_(d,p,y){return d=Hs(6,d,null,p),d.lanes=y,d}function b_(d,p,y){return p=Hs(4,d.children!==null?d.children:[],d.key,p),p.lanes=y,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function kre(d,p,y,N,C){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=N,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function __(d,p,y,N,C,P,B,de,me){return d=new kre(d,p,y,de,me),p===1?(p=1,P===!0&&(p|=8)):p=0,P=Hs(3,null,null,p),d.current=P,P.stateNode=d,P.memoizedState={element:N,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rb(P),d}function Dre(d,p,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:N==null?null:""+N,children:d,containerInfo:p,implementation:y}}function s8(d){if(!d)return Mc;d=d._reactInternals;e:{if(ce(d)!==d||d.tag!==1)throw Error(r(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Hi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(d.tag===1){var y=d.type;if(Hi(y))return DI(d,y,p)}return p}function o8(d,p,y,N,C,P,B,de,me){return d=__(y,N,!0,d,C,P,B,de,me),d.context=s8(null),y=d.current,N=xi(),C=Hc(y),P=Rl(N,C),P.callback=p??null,Bc(y,P,C),d.current.lanes=C,np(d,C,N),Wi(d,N),d}function Ax(d,p,y,N){var C=p.current,P=xi(),B=Hc(C);return y=s8(y),p.context===null?p.context=y:p.pendingContext=y,p=Rl(P,B),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=Bc(C,p,B),d!==null&&(yo(d,C,B,P),nx(d,C,B)),B}function Tx(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function l8(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<p?y:p}}function S_(d,p){l8(d,p),(d=d.alternate)&&l8(d,p)}function Rre(){return null}var c8=typeof reportError=="function"?reportError:function(d){console.error(d)};function N_(d){this._internalRoot=d}Cx.prototype.render=N_.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(r(409));Ax(d,p,null,null)},Cx.prototype.unmount=N_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;Xu(function(){Ax(null,d,null,null)}),p[Ol]=null}};function Cx(d){this._internalRoot=d}Cx.prototype.unstable_scheduleHydration=function(d){if(d){var p=WO();d={blockedOn:null,target:d,priority:p};for(var y=0;y<Ic.length&&p!==0&&p<Ic[y].priority;y++);Ic.splice(y,0,d),y===0&&XO(d)}};function E_(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function jx(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function u8(){}function Mre(d,p,y,N,C){if(C){if(typeof N=="function"){var P=N;N=function(){var Pe=Tx(B);P.call(Pe)}}var B=o8(p,N,d,0,null,!1,!1,"",u8);return d._reactRootContainer=B,d[Ol]=B.current,vp(d.nodeType===8?d.parentNode:d),Xu(),B}for(;C=d.lastChild;)d.removeChild(C);if(typeof N=="function"){var de=N;N=function(){var Pe=Tx(me);de.call(Pe)}}var me=__(d,0,!1,null,null,!1,!1,"",u8);return d._reactRootContainer=me,d[Ol]=me.current,vp(d.nodeType===8?d.parentNode:d),Xu(function(){Ax(p,me,y,N)}),me}function Ox(d,p,y,N,C){var P=y._reactRootContainer;if(P){var B=P;if(typeof C=="function"){var de=C;C=function(){var me=Tx(B);de.call(me)}}Ax(p,B,d,C)}else B=Mre(y,p,d,C,N);return Tx(B)}zO=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var y=Bn(p.pendingLanes);y!==0&&(Xw(p,y|1),Wi(p,Je()),(Tr&6)===0&&(zd=Je()+500,Fc()))}break;case 13:Xu(function(){var N=Dl(d,1);if(N!==null){var C=xi();yo(N,d,1,C)}}),S_(d,1)}},Qw=function(d){if(d.tag===13){var p=Dl(d,134217728);if(p!==null){var y=xi();yo(p,d,134217728,y)}S_(d,134217728)}},qO=function(d){if(d.tag===13){var p=Hc(d),y=Dl(d,p);if(y!==null){var N=xi();yo(y,d,p,N)}S_(d,p)}},WO=function(){return zr},GO=function(d,p){var y=zr;try{return zr=d,p()}finally{zr=y}},sn=function(d,p,y){switch(p){case"input":if(Me(d,y),p=y.name,y.type==="radio"&&p!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<y.length;p++){var N=y[p];if(N!==d&&N.form===d.form){var C=Gv(N);if(!C)throw Error(r(90));ve(N),Me(N,C)}}}break;case"textarea":_e(d,y);break;case"select":p=y.value,p!=null&&qe(d,!!y.multiple,p,!1)}},_d=g_,Sd=Xu;var Fre={usingClientEntryPoint:!1,Events:[wp,Id,Gv,Ac,bd,g_]},Dp={findFiberByHostInstance:Uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lre={bundleType:Dp.bundleType,version:Dp.version,rendererPackageName:Dp.rendererPackageName,rendererConfig:Dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=je(d),d===null?null:d.stateNode},findFiberByHostInstance:Dp.findFiberByHostInstance||Rre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ix.isDisabled&&Ix.supportsFiber)try{us=Ix.inject(Lre),Z=Ix}catch{}}return Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fre,Gi.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E_(p))throw Error(r(200));return Dre(d,p,null,y)},Gi.createRoot=function(d,p){if(!E_(d))throw Error(r(299));var y=!1,N="",C=c8;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&(C=p.onRecoverableError)),p=__(d,1,!1,null,null,y,!1,N,C),d[Ol]=p.current,vp(d.nodeType===8?d.parentNode:d),new N_(p)},Gi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=je(p),d=d===null?null:d.stateNode,d},Gi.flushSync=function(d){return Xu(d)},Gi.hydrate=function(d,p,y){if(!jx(p))throw Error(r(200));return Ox(null,d,p,!0,y)},Gi.hydrateRoot=function(d,p,y){if(!E_(d))throw Error(r(405));var N=y!=null&&y.hydratedSources||null,C=!1,P="",B=c8;if(y!=null&&(y.unstable_strictMode===!0&&(C=!0),y.identifierPrefix!==void 0&&(P=y.identifierPrefix),y.onRecoverableError!==void 0&&(B=y.onRecoverableError)),p=o8(p,null,d,1,y??null,C,!1,P,B),d[Ol]=p.current,vp(d),N)for(d=0;d<N.length;d++)y=N[d],C=y._getVersion,C=C(y._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[y,C]:p.mutableSourceEagerHydrationData.push(y,C);return new Cx(p)},Gi.render=function(d,p,y){if(!jx(p))throw Error(r(200));return Ox(null,d,p,!1,y)},Gi.unmountComponentAtNode=function(d){if(!jx(d))throw Error(r(40));return d._reactRootContainer?(Xu(function(){Ox(null,null,d,!1,function(){d._reactRootContainer=null,d[Ol]=null})}),!0):!1},Gi.unstable_batchedUpdates=g_,Gi.unstable_renderSubtreeIntoContainer=function(d,p,y,N){if(!jx(y))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Ox(d,p,y,!1,N)},Gi.version="18.3.1-next-f1338f8080-20240426",Gi}var y8;function oV(){if(y8)return j_.exports;y8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),j_.exports=Kre(),j_.exports}var w8;function Xre(){if(w8)return Dx;w8=1;var t=oV();return Dx.createRoot=t.createRoot,Dx.hydrateRoot=t.hydrateRoot,Dx}var Qre=Xre();function Yre(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,i,s=[],o="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(s.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),s.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var T=T2();const oe=Vr(T),lV=Vre({__proto__:null,default:oe},[T]);var P_={exports:{}},k_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b8;function Zre(){if(b8)return k_;b8=1;var t=T2();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(h,m){var g=m(),x=n({inst:{value:g,getSnapshot:m}}),v=x[0].inst,w=x[1];return i(function(){v.value=g,v.getSnapshot=m,c(v)&&w({inst:v})},[h,g,m]),a(function(){return c(v)&&w({inst:v}),h(function(){c(v)&&w({inst:v})})},[h]),s(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!r(h,g)}catch{return!0}}function u(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return k_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,k_}var _8;function Jre(){return _8||(_8=1,P_.exports=Zre()),P_.exports}var ene=Jre();const tne=lV.useInsertionEffect,rne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nne=rne?T.useLayoutEffect:T.useEffect,ane=tne||nne,cV=t=>{const e=T.useRef([t,(...r)=>e[0](...r)]).current;return ane(()=>{e[0]=t}),e[1]},ine="popstate",Y4="pushState",Z4="replaceState",sne="hashchange",S8=[ine,Y4,Z4,sne],one=t=>{for(const e of S8)addEventListener(e,t);return()=>{for(const e of S8)removeEventListener(e,t)}},uV=(t,e)=>ene.useSyncExternalStore(one,t,e),lne=()=>location.search,cne=({ssrSearch:t=""}={})=>uV(lne,()=>t),N8=()=>location.pathname,une=({ssrPath:t}={})=>uV(N8,t?()=>t:N8),fne=(t,{replace:e=!1,state:r=null}={})=>history[e?Z4:Y4](r,"",t),dne=(t={})=>[une(t),fne],E8=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[E8]>"u"){for(const t of[Y4,Z4]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,E8,{value:!0})}const hne=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",fV=(t="")=>t==="/"?"":t,pne=(t,e)=>t[0]==="~"?t.slice(1):fV(e)+t,mne=(t="",e)=>hne(A8(fV(t)),A8(e)),A8=t=>{try{return decodeURI(t)}catch{return t}},dV={hook:dne,searchHook:cne,parser:Yre,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},hV=T.createContext(dV),O0=()=>T.useContext(hV),pV={},mV=T.createContext(pV),gne=()=>T.useContext(mV),C2=t=>{const[e,r]=t.hook(t);return[mne(t.base,e),cV((n,a)=>r(pne(n,t.base),a))]},Fi=()=>C2(O0()),J4=(t,e,r,n)=>{const{pattern:a,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),s=a.exec(r)||[],[o,...c]=s;return o!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,m)=>[h,c[m]])):s.groups;let f={...c};return u&&Object.assign(f,u),f})(),...n?[o]:[]]:[!1,null]},vne=t=>J4(O0().parser,t,Fi()[0]),xne=({children:t,...e})=>{var f,h;const r=O0(),n=e.hook?dV:r;let a=n;const[i,s]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let o=T.useRef({}),c=o.current,u=c;for(let m in n){const g=m==="base"?n[m]+(e[m]||""):e[m]||n[m];c===u&&g!==u[m]&&(o.current=u={...u}),u[m]=g,g!==n[m]&&(a=u)}return T.createElement(hV.Provider,{value:a,children:t})},T8=({children:t,component:e},r)=>e?T.createElement(e,{params:r}):typeof t=="function"?t(r):t,yne=t=>{let e=T.useRef(pV),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Hn=({path:t,nest:e,match:r,...n})=>{const a=O0(),[i]=C2(a),[s,o,c]=r??J4(a.parser,t,i,e),u=yne({...gne(),...o});if(!s)return null;const f=c?T.createElement(xne,{base:c},T8(n,u)):T8(n,u);return T.createElement(mV.Provider,{value:u,children:f})},C8=T.forwardRef((t,e)=>{const r=O0(),[n,a]=C2(r),{to:i="",href:s=i,onClick:o,asChild:c,children:u,className:f,replace:h,state:m,...g}=t,x=cV(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(o==null||o(w),w.defaultPrevented||(w.preventDefault(),a(s,t)))}),v=r.hrefs(s[0]==="~"?s.slice(1):r.base+s,r);return c&&T.isValidElement(u)?T.cloneElement(u,{onClick:x,href:v}):T.createElement("a",{...g,onClick:x,href:v,className:f!=null&&f.call?f(n===s):f,children:u,ref:e})}),gV=t=>Array.isArray(t)?t.flatMap(e=>gV(e&&e.type===T.Fragment?e.props.children:e)):[t],wne=({children:t,location:e})=>{const r=O0(),[n]=C2(r);for(const a of gV(t)){let i=0;if(T.isValidElement(a)&&(i=J4(r.parser,a.props.path,e||n,a.props.nest))[0])return T.cloneElement(a,{match:i})}return null};var I0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lf=typeof window>"u"||"Deno"in globalThis;function Qs(){}function bne(t,e){return typeof t=="function"?t(e):t}function bT(t){return typeof t=="number"&&t>=0&&t!==1/0}function vV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gh(t,e){return typeof t=="function"?t(e):t}function jo(t,e){return typeof t=="function"?t(e):t}function j8(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==ej(s,e.options))return!1}else if(!km(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||a&&a!==e.state.fetchStatus||i&&!i(e))}function O8(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Bf(e.options.mutationKey)!==Bf(i))return!1}else if(!km(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function ej(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bf)(t)}function Bf(t){return JSON.stringify(t,(e,r)=>_T(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function km(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!km(t[r],e[r])):!1}function xV(t,e){if(t===e)return t;const r=I8(t)&&I8(e);if(r||_T(t)&&_T(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let c=0;for(let u=0;u<s;u++){const f=r?u:i[u];(!r&&n.includes(f)||r)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,c++):(o[f]=xV(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&c++)}return a===s&&c===a?t:o}return e}function P1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function I8(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _T(t){if(!P8(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!P8(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function P8(t){return Object.prototype.toString.call(t)==="[object Object]"}function _ne(t){return new Promise(e=>{setTimeout(e,t)})}function ST(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?xV(t,e):e}function Sne(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Nne(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var tj=Symbol();function yV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===tj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Sf,au,kh,m9,Ene=(m9=class extends I0{constructor(){super();Wt(this,Sf);Wt(this,au);Wt(this,kh);bt(this,kh,e=>{if(!Lf&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ge(this,au)||this.setEventListener(ge(this,kh))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,au))==null||e.call(this),bt(this,au,void 0))}setEventListener(e){var r;bt(this,kh,e),(r=ge(this,au))==null||r.call(this),bt(this,au,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ge(this,Sf)!==e&&(bt(this,Sf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ge(this,Sf)=="boolean"?ge(this,Sf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Sf=new WeakMap,au=new WeakMap,kh=new WeakMap,m9),rj=new Ene,Dh,iu,Rh,g9,Ane=(g9=class extends I0{constructor(){super();Wt(this,Dh,!0);Wt(this,iu);Wt(this,Rh);bt(this,Rh,e=>{if(!Lf&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ge(this,iu)||this.setEventListener(ge(this,Rh))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,iu))==null||e.call(this),bt(this,iu,void 0))}setEventListener(e){var r;bt(this,Rh,e),(r=ge(this,iu))==null||r.call(this),bt(this,iu,e(this.setOnline.bind(this)))}setOnline(e){ge(this,Dh)!==e&&(bt(this,Dh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ge(this,Dh)}},Dh=new WeakMap,iu=new WeakMap,Rh=new WeakMap,g9),k1=new Ane;function NT(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function Tne(t){return Math.min(1e3*2**t,3e4)}function wV(t){return(t??"online")==="online"?k1.isOnline():!0}var bV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function D_(t){return t instanceof bV}function _V(t){let e=!1,r=0,n=!1,a;const i=NT(),s=v=>{var w;n||(m(new bV(v)),(w=t.abort)==null||w.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>rj.isFocused()&&(t.networkMode==="always"||k1.isOnline())&&t.canRun(),f=()=>wV(t.networkMode)&&t.canRun(),h=v=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,v),a==null||a(),i.resolve(v))},m=v=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,v),a==null||a(),i.reject(v))},g=()=>new Promise(v=>{var w;a=S=>{(n||u())&&v(S)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;a=void 0,n||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(n)return;let v;const w=r===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(S){v=Promise.reject(S)}Promise.resolve(v).then(h).catch(S=>{var j;if(n)return;const b=t.retry??(Lf?0:3),_=t.retryDelay??Tne,E=typeof _=="function"?_(r,S):_,A=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,S);if(e||!A){m(S);return}r++,(j=t.onFail)==null||j.call(t,r,S),_ne(E).then(()=>u()?void 0:g()).then(()=>{e?m(S):x()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?x():g().then(x),i)}}function Cne(){let t=[],e=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{e?t.push(o):a(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var oa=Cne(),Nf,v9,SV=(v9=class{constructor(){Wt(this,Nf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bT(this.gcTime)&&bt(this,Nf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lf?1/0:300*1e3))}clearGcTimeout(){ge(this,Nf)&&(clearTimeout(ge(this,Nf)),bt(this,Nf,void 0))}},Nf=new WeakMap,v9),Mh,Fh,Xs,oi,ev,Ef,Ao,zl,x9,jne=(x9=class extends SV{constructor(e){super();Wt(this,Ao);Wt(this,Mh);Wt(this,Fh);Wt(this,Xs);Wt(this,oi);Wt(this,ev);Wt(this,Ef);bt(this,Ef,!1),bt(this,ev,e.defaultOptions),this.setOptions(e.options),this.observers=[],bt(this,Xs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,bt(this,Mh,One(this.options)),this.state=e.state??ge(this,Mh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ge(this,oi))==null?void 0:e.promise}setOptions(e){this.options={...ge(this,ev),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Xs).remove(this)}setData(e,r){const n=ST(this.state.data,e,this.options);return dr(this,Ao,zl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){dr(this,Ao,zl).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,a;const r=(n=ge(this,oi))==null?void 0:n.promise;return(a=ge(this,oi))==null||a.cancel(e),r?r.then(Qs).catch(Qs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,Mh))}isActive(){return this.observers.some(e=>jo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!vV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ge(this,oi))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ge(this,oi))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ge(this,Xs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ge(this,oi)&&(ge(this,Ef)?ge(this,oi).cancel({revert:!0}):ge(this,oi).cancelRetry()),this.scheduleGc()),ge(this,Xs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dr(this,Ao,zl).call(this,{type:"invalidate"})}fetch(e,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ge(this,oi))return ge(this,oi).continueRetry(),ge(this,oi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(bt(this,Ef,!0),n.signal)})},i=()=>{const h=yV(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),bt(this,Ef,!1),this.options.persister?this.options.persister(h,m,this):h(m)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(s),(c=this.options.behavior)==null||c.onFetch(s,this),bt(this,Fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&dr(this,Ao,zl).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const o=h=>{var m,g,x,v;D_(h)&&h.silent||dr(this,Ao,zl).call(this,{type:"error",error:h}),D_(h)||((g=(m=ge(this,Xs).config).onError)==null||g.call(m,h,this),(v=(x=ge(this,Xs).config).onSettled)==null||v.call(x,this.state.data,h,this)),this.scheduleGc()};return bt(this,oi,_V({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,x,v;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){o(w);return}(g=(m=ge(this,Xs).config).onSuccess)==null||g.call(m,h,this),(v=(x=ge(this,Xs).config).onSettled)==null||v.call(x,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,m)=>{dr(this,Ao,zl).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{dr(this,Ao,zl).call(this,{type:"pause"})},onContinue:()=>{dr(this,Ao,zl).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ge(this,oi).start()}},Mh=new WeakMap,Fh=new WeakMap,Xs=new WeakMap,oi=new WeakMap,ev=new WeakMap,Ef=new WeakMap,Ao=new WeakSet,zl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...NV(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return D_(a)&&a.revert&&ge(this,Fh)?{...ge(this,Fh),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),oa.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ge(this,Xs).notify({query:this,type:"updated",action:e})})},x9);function NV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function One(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rl,y9,Ine=(y9=class extends I0{constructor(e={}){super();Wt(this,rl);this.config=e,bt(this,rl,new Map)}build(e,r,n){const a=r.queryKey,i=r.queryHash??ej(a,r);let s=this.get(i);return s||(s=new jne({cache:this,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){ge(this,rl).has(e.queryHash)||(ge(this,rl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ge(this,rl).get(e.queryHash);r&&(e.destroy(),r===e&&ge(this,rl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){oa.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ge(this,rl).get(e)}getAll(){return[...ge(this,rl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>j8(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>j8(e,n)):r}notify(e){oa.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){oa.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){oa.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rl=new WeakMap,y9),nl,Si,Af,al,Zc,w9,Pne=(w9=class extends SV{constructor(e){super();Wt(this,al);Wt(this,nl);Wt(this,Si);Wt(this,Af);this.mutationId=e.mutationId,bt(this,Si,e.mutationCache),bt(this,nl,[]),this.state=e.state||EV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ge(this,nl).includes(e)||(ge(this,nl).push(e),this.clearGcTimeout(),ge(this,Si).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){bt(this,nl,ge(this,nl).filter(r=>r!==e)),this.scheduleGc(),ge(this,Si).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ge(this,nl).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Si).remove(this))}continue(){var e;return((e=ge(this,Af))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,i,s,o,c,u,f,h,m,g,x,v,w,S,b,_,E,A,j,O;bt(this,Af,_V({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,M)=>{dr(this,al,Zc).call(this,{type:"failed",failureCount:D,error:M})},onPause:()=>{dr(this,al,Zc).call(this,{type:"pause"})},onContinue:()=>{dr(this,al,Zc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Si).canRun(this)}));const r=this.state.status==="pending",n=!ge(this,Af).canStart();try{if(!r){dr(this,al,Zc).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(a=ge(this,Si).config).onMutate)==null?void 0:i.call(a,e,this));const M=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));M!==this.state.context&&dr(this,al,Zc).call(this,{type:"pending",context:M,variables:e,isPaused:n})}const D=await ge(this,Af).start();return await((u=(c=ge(this,Si).config).onSuccess)==null?void 0:u.call(c,D,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,D,e,this.state.context)),await((g=(m=ge(this,Si).config).onSettled)==null?void 0:g.call(m,D,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,D,null,e,this.state.context)),dr(this,al,Zc).call(this,{type:"success",data:D}),D}catch(D){try{throw await((S=(w=ge(this,Si).config).onError)==null?void 0:S.call(w,D,e,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,D,e,this.state.context)),await((A=(E=ge(this,Si).config).onSettled)==null?void 0:A.call(E,void 0,D,this.state.variables,this.state.context,this)),await((O=(j=this.options).onSettled)==null?void 0:O.call(j,void 0,D,e,this.state.context)),D}finally{dr(this,al,Zc).call(this,{type:"error",error:D})}}finally{ge(this,Si).runNext(this)}}},nl=new WeakMap,Si=new WeakMap,Af=new WeakMap,al=new WeakSet,Zc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),oa.batch(()=>{ge(this,nl).forEach(n=>{n.onMutationUpdate(e)}),ge(this,Si).notify({mutation:this,type:"updated",action:e})})},w9);function EV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vs,tv,b9,kne=(b9=class extends I0{constructor(e={}){super();Wt(this,vs);Wt(this,tv);this.config=e,bt(this,vs,new Map),bt(this,tv,Date.now())}build(e,r,n){const a=new Pne({mutationCache:this,mutationId:++Px(this,tv)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){const r=Rx(e),n=ge(this,vs).get(r)??[];n.push(e),ge(this,vs).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Rx(e);if(ge(this,vs).has(r)){const a=(n=ge(this,vs).get(r))==null?void 0:n.filter(i=>i!==e);a&&(a.length===0?ge(this,vs).delete(r):ge(this,vs).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=ge(this,vs).get(Rx(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=ge(this,vs).get(Rx(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){oa.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ge(this,vs).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>O8(r,n))}findAll(e={}){return this.getAll().filter(r=>O8(e,r))}notify(e){oa.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return oa.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qs))))}},vs=new WeakMap,tv=new WeakMap,b9);function Rx(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function k8(t){return{onFetch:(e,r)=>{var f,h,m,g,x;const n=e.options,a=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],s=((x=e.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},S=yV(e.options,e.fetchOptions),b=async(_,E,A)=>{if(v)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const j={queryKey:e.queryKey,pageParam:E,direction:A?"backward":"forward",meta:e.options.meta};w(j);const O=await S(j),{maxPages:D}=e.options,M=A?Nne:Sne;return{pages:M(_.pages,O,D),pageParams:M(_.pageParams,E,D)}};if(a&&i.length){const _=a==="backward",E=_?Dne:D8,A={pages:i,pageParams:s},j=E(n,A);o=await b(A,j,_)}else{const _=t??i.length;do{const E=c===0?s[0]??n.initialPageParam:D8(n,o);if(c>0&&E==null)break;o=await b(o,E),c++}while(c<_)}return o};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function D8(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Dne(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var In,su,ou,Lh,Bh,lu,$h,Uh,_9,Rne=(_9=class{constructor(t={}){Wt(this,In);Wt(this,su);Wt(this,ou);Wt(this,Lh);Wt(this,Bh);Wt(this,lu);Wt(this,$h);Wt(this,Uh);bt(this,In,t.queryCache||new Ine),bt(this,su,t.mutationCache||new kne),bt(this,ou,t.defaultOptions||{}),bt(this,Lh,new Map),bt(this,Bh,new Map),bt(this,lu,0)}mount(){Px(this,lu)._++,ge(this,lu)===1&&(bt(this,$h,rj.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,In).onFocus())})),bt(this,Uh,k1.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,In).onOnline())})))}unmount(){var t,e;Px(this,lu)._--,ge(this,lu)===0&&((t=ge(this,$h))==null||t.call(this),bt(this,$h,void 0),(e=ge(this,Uh))==null||e.call(this),bt(this,Uh,void 0))}isFetching(t){return ge(this,In).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ge(this,su).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ge(this,In).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=ge(this,In).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(gh(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return ge(this,In).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=ge(this,In).get(n.queryHash),i=a==null?void 0:a.state.data,s=bne(e,i);if(s!==void 0)return ge(this,In).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return oa.batch(()=>ge(this,In).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ge(this,In).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ge(this,In);oa.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ge(this,In),n={type:"active",...t};return oa.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=oa.batch(()=>ge(this,In).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Qs).catch(Qs)}invalidateQueries(t={},e={}){return oa.batch(()=>{if(ge(this,In).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=oa.batch(()=>ge(this,In).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Qs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Qs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ge(this,In).build(this,e);return r.isStaleByTime(gh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qs).catch(Qs)}fetchInfiniteQuery(t){return t.behavior=k8(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qs).catch(Qs)}ensureInfiniteQueryData(t){return t.behavior=k8(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return k1.isOnline()?ge(this,su).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,In)}getMutationCache(){return ge(this,su)}getDefaultOptions(){return ge(this,ou)}setDefaultOptions(t){bt(this,ou,t)}setQueryDefaults(t,e){ge(this,Lh).set(Bf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ge(this,Lh).values()];let r={};return e.forEach(n=>{km(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){ge(this,Bh).set(Bf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ge(this,Bh).values()];let r={};return e.forEach(n=>{km(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ge(this,ou).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ej(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===tj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ge(this,ou).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ge(this,In).clear(),ge(this,su).clear()}},In=new WeakMap,su=new WeakMap,ou=new WeakMap,Lh=new WeakMap,Bh=new WeakMap,lu=new WeakMap,$h=new WeakMap,Uh=new WeakMap,_9),Xi,br,rv,Ni,Tf,Vh,cu,il,nv,Hh,zh,Cf,jf,uu,qh,Ur,tm,ET,AT,TT,CT,jT,OT,IT,AV,S9,Mne=(S9=class extends I0{constructor(e,r){super();Wt(this,Ur);Wt(this,Xi);Wt(this,br);Wt(this,rv);Wt(this,Ni);Wt(this,Tf);Wt(this,Vh);Wt(this,cu);Wt(this,il);Wt(this,nv);Wt(this,Hh);Wt(this,zh);Wt(this,Cf);Wt(this,jf);Wt(this,uu);Wt(this,qh,new Set);this.options=r,bt(this,Xi,e),bt(this,il,null),bt(this,cu,NT()),this.options.experimental_prefetchInRender||ge(this,cu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,br).addObserver(this),R8(ge(this,br),this.options)?dr(this,Ur,tm).call(this):this.updateResult(),dr(this,Ur,CT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PT(ge(this,br),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PT(ge(this,br),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dr(this,Ur,jT).call(this),dr(this,Ur,OT).call(this),ge(this,br).removeObserver(this)}setOptions(e,r){const n=this.options,a=ge(this,br);if(this.options=ge(this,Xi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jo(this.options.enabled,ge(this,br))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dr(this,Ur,IT).call(this),ge(this,br).setOptions(this.options),n._defaulted&&!P1(this.options,n)&&ge(this,Xi).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,br),observer:this});const i=this.hasListeners();i&&M8(ge(this,br),a,this.options,n)&&dr(this,Ur,tm).call(this),this.updateResult(r),i&&(ge(this,br)!==a||jo(this.options.enabled,ge(this,br))!==jo(n.enabled,ge(this,br))||gh(this.options.staleTime,ge(this,br))!==gh(n.staleTime,ge(this,br)))&&dr(this,Ur,ET).call(this);const s=dr(this,Ur,AT).call(this);i&&(ge(this,br)!==a||jo(this.options.enabled,ge(this,br))!==jo(n.enabled,ge(this,br))||s!==ge(this,uu))&&dr(this,Ur,TT).call(this,s)}getOptimisticResult(e){const r=ge(this,Xi).getQueryCache().build(ge(this,Xi),e),n=this.createResult(r,e);return Lne(this,n)&&(bt(this,Ni,n),bt(this,Vh,this.options),bt(this,Tf,ge(this,br).state)),n}getCurrentResult(){return ge(this,Ni)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){ge(this,qh).add(e)}getCurrentQuery(){return ge(this,br)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ge(this,Xi).defaultQueryOptions(e),n=ge(this,Xi).getQueryCache().build(ge(this,Xi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return dr(this,Ur,tm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Ni)))}createResult(e,r){var D;const n=ge(this,br),a=this.options,i=ge(this,Ni),s=ge(this,Tf),o=ge(this,Vh),u=e!==n?e.state:ge(this,rv),{state:f}=e;let h={...f},m=!1,g;if(r._optimisticResults){const M=this.hasListeners(),k=!M&&R8(e,r),I=M&&M8(e,n,r,a);(k||I)&&(h={...h,...NV(f.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:w}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(s==null?void 0:s.data)&&r.select===ge(this,nv))g=ge(this,Hh);else try{bt(this,nv,r.select),g=r.select(h.data),g=ST(i==null?void 0:i.data,g,r),bt(this,Hh,g),bt(this,il,null)}catch(M){bt(this,il,M)}else g=h.data;if(r.placeholderData!==void 0&&g===void 0&&w==="pending"){let M;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))M=i.data;else if(M=typeof r.placeholderData=="function"?r.placeholderData((D=ge(this,zh))==null?void 0:D.state.data,ge(this,zh)):r.placeholderData,r.select&&M!==void 0)try{M=r.select(M),bt(this,il,null)}catch(k){bt(this,il,k)}M!==void 0&&(w="success",g=ST(i==null?void 0:i.data,M,r),m=!0)}ge(this,il)&&(x=ge(this,il),g=ge(this,Hh),v=Date.now(),w="error");const S=h.fetchStatus==="fetching",b=w==="pending",_=w==="error",E=b&&S,A=g!==void 0,O={status:w,fetchStatus:h.fetchStatus,isPending:b,isSuccess:w==="success",isError:_,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:_&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&A,isStale:nj(e,r),refetch:this.refetch,promise:ge(this,cu)};if(this.options.experimental_prefetchInRender){const M=R=>{O.status==="error"?R.reject(O.error):O.data!==void 0&&R.resolve(O.data)},k=()=>{const R=bt(this,cu,O.promise=NT());M(R)},I=ge(this,cu);switch(I.status){case"pending":e.queryHash===n.queryHash&&M(I);break;case"fulfilled":(O.status==="error"||O.data!==I.value)&&k();break;case"rejected":(O.status!=="error"||O.error!==I.reason)&&k();break}}return O}updateResult(e){const r=ge(this,Ni),n=this.createResult(ge(this,br),this.options);if(bt(this,Tf,ge(this,br).state),bt(this,Vh,this.options),ge(this,Tf).data!==void 0&&bt(this,zh,ge(this,br)),P1(n,r))return;bt(this,Ni,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!ge(this,qh).size)return!0;const c=new Set(o??ge(this,qh));return this.options.throwOnError&&c.add("error"),Object.keys(ge(this,Ni)).some(u=>{const f=u;return ge(this,Ni)[f]!==r[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&i()&&(a.listeners=!0),dr(this,Ur,AV).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dr(this,Ur,CT).call(this)}},Xi=new WeakMap,br=new WeakMap,rv=new WeakMap,Ni=new WeakMap,Tf=new WeakMap,Vh=new WeakMap,cu=new WeakMap,il=new WeakMap,nv=new WeakMap,Hh=new WeakMap,zh=new WeakMap,Cf=new WeakMap,jf=new WeakMap,uu=new WeakMap,qh=new WeakMap,Ur=new WeakSet,tm=function(e){dr(this,Ur,IT).call(this);let r=ge(this,br).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Qs)),r},ET=function(){dr(this,Ur,jT).call(this);const e=gh(this.options.staleTime,ge(this,br));if(Lf||ge(this,Ni).isStale||!bT(e))return;const n=vV(ge(this,Ni).dataUpdatedAt,e)+1;bt(this,Cf,setTimeout(()=>{ge(this,Ni).isStale||this.updateResult()},n))},AT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,br)):this.options.refetchInterval)??!1},TT=function(e){dr(this,Ur,OT).call(this),bt(this,uu,e),!(Lf||jo(this.options.enabled,ge(this,br))===!1||!bT(ge(this,uu))||ge(this,uu)===0)&&bt(this,jf,setInterval(()=>{(this.options.refetchIntervalInBackground||rj.isFocused())&&dr(this,Ur,tm).call(this)},ge(this,uu)))},CT=function(){dr(this,Ur,ET).call(this),dr(this,Ur,TT).call(this,dr(this,Ur,AT).call(this))},jT=function(){ge(this,Cf)&&(clearTimeout(ge(this,Cf)),bt(this,Cf,void 0))},OT=function(){ge(this,jf)&&(clearInterval(ge(this,jf)),bt(this,jf,void 0))},IT=function(){const e=ge(this,Xi).getQueryCache().build(ge(this,Xi),this.options);if(e===ge(this,br))return;const r=ge(this,br);bt(this,br,e),bt(this,rv,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},AV=function(e){oa.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ge(this,Ni))}),ge(this,Xi).getQueryCache().notify({query:ge(this,br),type:"observerResultsUpdated"})})},S9);function Fne(t,e){return jo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function R8(t,e){return Fne(t,e)||t.state.data!==void 0&&PT(t,e,e.refetchOnMount)}function PT(t,e,r){if(jo(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&nj(t,e)}return!1}function M8(t,e,r,n){return(t!==e||jo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&nj(t,r)}function nj(t,e){return jo(e.enabled,t)!==!1&&t.isStaleByTime(gh(e.staleTime,t))}function Lne(t,e){return!P1(t.getCurrentResult(),e)}var fu,du,Qi,Kl,sc,v1,kT,N9,Bne=(N9=class extends I0{constructor(r,n){super();Wt(this,sc);Wt(this,fu);Wt(this,du);Wt(this,Qi);Wt(this,Kl);bt(this,fu,r),this.setOptions(n),this.bindMethods(),dr(this,sc,v1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=ge(this,fu).defaultMutationOptions(r),P1(this.options,n)||ge(this,fu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,Qi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Bf(n.mutationKey)!==Bf(this.options.mutationKey)?this.reset():((a=ge(this,Qi))==null?void 0:a.state.status)==="pending"&&ge(this,Qi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ge(this,Qi))==null||r.removeObserver(this)}onMutationUpdate(r){dr(this,sc,v1).call(this),dr(this,sc,kT).call(this,r)}getCurrentResult(){return ge(this,du)}reset(){var r;(r=ge(this,Qi))==null||r.removeObserver(this),bt(this,Qi,void 0),dr(this,sc,v1).call(this),dr(this,sc,kT).call(this)}mutate(r,n){var a;return bt(this,Kl,n),(a=ge(this,Qi))==null||a.removeObserver(this),bt(this,Qi,ge(this,fu).getMutationCache().build(ge(this,fu),this.options)),ge(this,Qi).addObserver(this),ge(this,Qi).execute(r)}},fu=new WeakMap,du=new WeakMap,Qi=new WeakMap,Kl=new WeakMap,sc=new WeakSet,v1=function(){var n;const r=((n=ge(this,Qi))==null?void 0:n.state)??EV();bt(this,du,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},kT=function(r){oa.batch(()=>{var n,a,i,s,o,c,u,f;if(ge(this,Kl)&&this.hasListeners()){const h=ge(this,du).variables,m=ge(this,du).context;(r==null?void 0:r.type)==="success"?((a=(n=ge(this,Kl)).onSuccess)==null||a.call(n,r.data,h,m),(s=(i=ge(this,Kl)).onSettled)==null||s.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(o=ge(this,Kl)).onError)==null||c.call(o,r.error,h,m),(f=(u=ge(this,Kl)).onSettled)==null||f.call(u,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(ge(this,du))})})},N9),TV=T.createContext(void 0),El=t=>{const e=T.useContext(TV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$ne=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(TV.Provider,{value:t,children:e})),CV=T.createContext(!1),Une=()=>T.useContext(CV);CV.Provider;function Vne(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Hne=T.createContext(Vne()),zne=()=>T.useContext(Hne);function jV(t,e){return typeof t=="function"?t(...e):!!t}function DT(){}var qne=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Wne=t=>{T.useEffect(()=>{t.clearReset()},[t])},Gne=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&jV(r,[t.error,n]),Kne=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Xne=(t,e)=>t.isLoading&&t.isFetching&&!e,Qne=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,F8=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Yne(t,e,r){var f,h,m,g,x;const n=El(),a=Une(),i=zne(),s=n.defaultQueryOptions(t);(h=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=a?"isRestoring":"optimistic",Kne(s),qne(s,i),Wne(i);const o=!n.getQueryCache().get(s.queryHash),[c]=T.useState(()=>new e(n,s)),u=c.getOptimisticResult(s);if(T.useSyncExternalStore(T.useCallback(v=>{const w=a?DT:c.subscribe(oa.batchCalls(v));return c.updateResult(),w},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(s,{listeners:!1})},[s,c]),Qne(s,u))throw F8(s,c,i);if(Gne({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw u.error;if((g=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,s,u),s.experimental_prefetchInRender&&!Lf&&Xne(u,a)){const v=o?F8(s,c,i):(x=n.getQueryCache().get(s.queryHash))==null?void 0:x.promise;v==null||v.catch(DT).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function Ft(t,e){return Yne(t,Mne)}function Vt(t,e){const r=El(),[n]=T.useState(()=>new Bne(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const a=T.useSyncExternalStore(T.useCallback(s=>n.subscribe(oa.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=T.useCallback((s,o)=>{n.mutate(s,o).catch(DT)},[n]);if(a.error&&jV(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const OV="http://101.53.9.76:5273";async function IV(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function At(t,e){const r=t.startsWith("http")?t:OV+t;console.log("apiRequest - Full URL:",r),e.body instanceof FormData&&e.headers&&typeof e.headers=="object"&&"Content-Type"in e.headers&&delete e.headers["Content-Type"];const n=await fetch(r,{...e,credentials:"include"});console.log("apiRequest - Response status:",n.status),console.log("apiRequest - Response ok:",n.ok),await IV(n);const a=n.headers.get("content-type")||"";if(console.log("apiRequest - Content type:",a),a.includes("application/json")){const s=await n.json();return console.log("apiRequest - JSON data:",s),s}const i=await n.text();return console.log("apiRequest - Text data:",i),i}const Zne=({on401:t})=>async({queryKey:e})=>{const r=e.join("/"),n=r.startsWith("http")?r:OV+r,a=await fetch(n,{credentials:"include"});return await IV(a),await a.json()},Jt=new Rne({defaultOptions:{queries:{queryFn:Zne({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Jne=1,eae=1e6;let R_=0;function tae(){return R_=(R_+1)%Number.MAX_SAFE_INTEGER,R_.toString()}const M_=new Map,L8=t=>{if(M_.has(t))return;const e=setTimeout(()=>{M_.delete(t),gm({type:"REMOVE_TOAST",toastId:t})},eae);M_.set(t,e)},rae=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Jne)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?L8(r):t.toasts.forEach(n=>{L8(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},x1=[];let y1={toasts:[]};function gm(t){y1=rae(y1,t),x1.forEach(e=>{e(y1)})}function nae({...t}){const e=tae(),r=a=>gm({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>gm({type:"DISMISS_TOAST",toastId:e});return gm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function mi(){const[t,e]=T.useState(y1);return T.useEffect(()=>(x1.push(e),()=>{const r=x1.indexOf(e);r>-1&&x1.splice(r,1)}),[t]),{...t,toast:nae,dismiss:r=>gm({type:"DISMISS_TOAST",toastId:r})}}var P0=oV();const aae=Vr(P0);function mt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function B8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function j2(...t){return e=>{let r=!1;const n=t.map(a=>{const i=B8(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():B8(t[a],null)}}}}function _r(...t){return T.useCallback(j2(...t),t)}function iae(t,e){const r=T.createContext(e),n=i=>{const{children:s,...o}=i,c=T.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:s})};n.displayName=t+"Provider";function a(i){const s=T.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Li(t,e=[]){let r=[];function n(i,s){const o=T.createContext(s),c=r.length;r=[...r,s];const u=h=>{var S;const{scope:m,children:g,...x}=h,v=((S=m==null?void 0:m[t])==null?void 0:S[c])||o,w=T.useMemo(()=>x,Object.values(x));return l.jsx(v.Provider,{value:w,children:g})};u.displayName=i+"Provider";function f(h,m){var v;const g=((v=m==null?void 0:m[t])==null?void 0:v[c])||o,x=T.useContext(g);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(s=>T.createContext(s));return function(o){const c=(o==null?void 0:o[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,sae(a,...e)]}function sae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function $f(t){const e=oae(t),r=T.forwardRef((n,a)=>{const{children:i,...s}=n,o=T.Children.toArray(i),c=o.find(lae);if(c){const u=c.props.children,f=o.map(h=>h===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return l.jsx(e,{...s,ref:a,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return l.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var PV=$f("Slot");function oae(t){const e=T.forwardRef((r,n)=>{const{children:a,...i}=r;if(T.isValidElement(a)){const s=uae(a),o=cae(i,a.props);return a.type!==T.Fragment&&(o.ref=n?j2(n,s):s),T.cloneElement(a,o)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kV=Symbol("radix.slottable");function DV(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=kV,e}function lae(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kV}function cae(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function uae(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function O2(t){const e=t+"CollectionProvider",[r,n]=Li(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:w,children:S}=v,b=oe.useRef(null),_=oe.useRef(new Map).current;return l.jsx(a,{scope:w,itemMap:_,collectionRef:b,children:S})};s.displayName=e;const o=t+"CollectionSlot",c=$f(o),u=oe.forwardRef((v,w)=>{const{scope:S,children:b}=v,_=i(o,S),E=_r(w,_.collectionRef);return l.jsx(c,{ref:E,children:b})});u.displayName=o;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=$f(f),g=oe.forwardRef((v,w)=>{const{scope:S,children:b,..._}=v,E=oe.useRef(null),A=_r(w,E),j=i(f,S);return oe.useEffect(()=>(j.itemMap.set(E,{ref:E,..._}),()=>void j.itemMap.delete(E))),l.jsx(m,{[h]:"",ref:A,children:b})});g.displayName=f;function x(v){const w=i(t+"CollectionConsumer",v);return oe.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((j,O)=>_.indexOf(j.ref.current)-_.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:g},x,n]}var fae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Lt=fae.reduce((t,e)=>{const r=$f(`Primitive.${e}`),n=T.forwardRef((a,i)=>{const{asChild:s,...o}=a,c=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function aj(t,e){t&&P0.flushSync(()=>t.dispatchEvent(e))}function Ja(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function dae(t,e=globalThis==null?void 0:globalThis.document){const r=Ja(t);T.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var hae="DismissableLayer",RT="dismissableLayer.update",pae="dismissableLayer.pointerDownOutside",mae="dismissableLayer.focusOutside",$8,RV=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),k0=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...c}=t,u=T.useContext(RV),[f,h]=T.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=T.useState({}),x=_r(e,O=>h(O)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=v.indexOf(w),b=f?v.indexOf(f):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,E=b>=S,A=vae(O=>{const D=O.target,M=[...u.branches].some(k=>k.contains(D));!E||M||(a==null||a(O),s==null||s(O),O.defaultPrevented||o==null||o())},m),j=xae(O=>{const D=O.target;[...u.branches].some(k=>k.contains(D))||(i==null||i(O),s==null||s(O),O.defaultPrevented||o==null||o())},m);return dae(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&o&&(O.preventDefault(),o()))},m),T.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($8=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),U8(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$8)}},[f,m,r,u]),T.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),U8())},[f,u]),T.useEffect(()=>{const O=()=>g({});return document.addEventListener(RT,O),()=>document.removeEventListener(RT,O)},[]),l.jsx(Lt.div,{...c,ref:x,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:mt(t.onFocusCapture,j.onFocusCapture),onBlurCapture:mt(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:mt(t.onPointerDownCapture,A.onPointerDownCapture)})});k0.displayName=hae;var gae="DismissableLayerBranch",MV=T.forwardRef((t,e)=>{const r=T.useContext(RV),n=T.useRef(null),a=_r(e,n);return T.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(Lt.div,{...t,ref:a})});MV.displayName=gae;function vae(t,e=globalThis==null?void 0:globalThis.document){const r=Ja(t),n=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){FV(pae,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function xae(t,e=globalThis==null?void 0:globalThis.document){const r=Ja(t),n=T.useRef(!1);return T.useEffect(()=>{const a=i=>{i.target&&!n.current&&FV(mae,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U8(){const t=new CustomEvent(RT);document.dispatchEvent(t)}function FV(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?aj(a,i):a.dispatchEvent(i)}var yae=k0,wae=MV,ga=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},bae="Portal",av=T.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[a,i]=T.useState(!1);ga(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?aae.createPortal(l.jsx(Lt.div,{...n,ref:e}),s):null});av.displayName=bae;function _ae(t,e){return T.useReducer((r,n)=>e[r][n]??r,t)}var so=t=>{const{present:e,children:r}=t,n=Sae(e),a=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),i=_r(n.ref,Nae(a));return typeof r=="function"||n.isPresent?T.cloneElement(a,{ref:i}):null};so.displayName="Presence";function Sae(t){const[e,r]=T.useState(),n=T.useRef({}),a=T.useRef(t),i=T.useRef("none"),s=t?"mounted":"unmounted",[o,c]=_ae(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Mx(n.current);i.current=o==="mounted"?u:"none"},[o]),ga(()=>{const u=n.current,f=a.current;if(f!==t){const m=i.current,g=Mx(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),ga(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=g=>{const v=Mx(n.current).includes(g.animationName);if(g.target===e&&v&&(c("ANIMATION_END"),!a.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=g=>{g.target===e&&(i.current=Mx(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Mx(t){return(t==null?void 0:t.animationName)||"none"}function Nae(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function oc({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=Eae({defaultProp:e,onChange:r}),i=t!==void 0,s=i?t:n,o=Ja(r),c=T.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&o(h)}else a(u)},[i,t,a,o]);return[s,c]}function Eae({defaultProp:t,onChange:e}){const r=T.useState(t),[n]=r,a=T.useRef(n),i=Ja(e);return T.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Aae="VisuallyHidden",iv=T.forwardRef((t,e)=>l.jsx(Lt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));iv.displayName=Aae;var Tae=iv,ij="ToastProvider",[sj,Cae,jae]=O2("Toast"),[LV,_Me]=Li("Toast",[jae]),[Oae,I2]=LV(ij),BV=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=t,[o,c]=T.useState(null),[u,f]=T.useState(0),h=T.useRef(!1),m=T.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ij}\`. Expected non-empty \`string\`.`),l.jsx(sj.Provider,{scope:e,children:l.jsx(Oae,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:T.useCallback(()=>f(g=>g+1),[]),onToastRemove:T.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:s})})};BV.displayName=ij;var $V="ToastViewport",Iae=["F8"],MT="toast.viewportPause",FT="toast.viewportResume",UV=T.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Iae,label:a="Notifications ({hotkey})",...i}=t,s=I2($V,r),o=Cae(r),c=T.useRef(null),u=T.useRef(null),f=T.useRef(null),h=T.useRef(null),m=_r(e,h,s.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;T.useEffect(()=>{const w=S=>{var _;n.length!==0&&n.every(E=>S[E]||S.code===E)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),T.useEffect(()=>{const w=c.current,S=h.current;if(x&&w&&S){const b=()=>{if(!s.isClosePausedRef.current){const j=new CustomEvent(MT);S.dispatchEvent(j),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const j=new CustomEvent(FT);S.dispatchEvent(j),s.isClosePausedRef.current=!1}},E=j=>{!w.contains(j.relatedTarget)&&_()},A=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",b),w.addEventListener("focusout",E),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",A),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",A),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[x,s.isClosePausedRef]);const v=T.useCallback(({tabbingDirection:w})=>{const b=o().map(_=>{const E=_.ref.current,A=[E,...zae(E)];return w==="forwards"?A:A.reverse()});return(w==="forwards"?b.reverse():b).flat()},[o]);return T.useEffect(()=>{const w=h.current;if(w){const S=b=>{var A,j,O;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const D=document.activeElement,M=b.shiftKey;if(b.target===w&&M){(A=u.current)==null||A.focus();return}const R=v({tabbingDirection:M?"backwards":"forwards"}),L=R.findIndex(U=>U===D);F_(R.slice(L+1))?b.preventDefault():M?(j=u.current)==null||j.focus():(O=f.current)==null||O.focus()}};return w.addEventListener("keydown",S),()=>w.removeEventListener("keydown",S)}},[o,v]),l.jsxs(wae,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(LT,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});F_(w)}}),l.jsx(sj.Slot,{scope:r,children:l.jsx(Lt.ol,{tabIndex:-1,...i,ref:m})}),x&&l.jsx(LT,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});F_(w)}})]})});UV.displayName=$V;var VV="ToastFocusProxy",LT=T.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=I2(VV,r);return l.jsx(iv,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&n()}})});LT.displayName=VV;var P2="Toast",Pae="toast.swipeStart",kae="toast.swipeMove",Dae="toast.swipeCancel",Rae="toast.swipeEnd",HV=T.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=t,[o=!0,c]=oc({prop:n,defaultProp:a,onChange:i});return l.jsx(so,{present:r||o,children:l.jsx(Lae,{open:o,...s,ref:e,onClose:()=>c(!1),onPause:Ja(t.onPause),onResume:Ja(t.onResume),onSwipeStart:mt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:mt(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:mt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:mt(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});HV.displayName=P2;var[Mae,Fae]=LV(P2,{onClose(){}}),Lae=T.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...x}=t,v=I2(P2,r),[w,S]=T.useState(null),b=_r(e,U=>S(U)),_=T.useRef(null),E=T.useRef(null),A=a||v.duration,j=T.useRef(0),O=T.useRef(A),D=T.useRef(0),{onToastAdd:M,onToastRemove:k}=v,I=Ja(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=v.viewport)==null||X.focus()),s()}),R=T.useCallback(U=>{!U||U===1/0||(window.clearTimeout(D.current),j.current=new Date().getTime(),D.current=window.setTimeout(I,U))},[I]);T.useEffect(()=>{const U=v.viewport;if(U){const X=()=>{R(O.current),u==null||u()},ue=()=>{const he=new Date().getTime()-j.current;O.current=O.current-he,window.clearTimeout(D.current),c==null||c()};return U.addEventListener(MT,ue),U.addEventListener(FT,X),()=>{U.removeEventListener(MT,ue),U.removeEventListener(FT,X)}}},[v.viewport,A,c,u,R]),T.useEffect(()=>{i&&!v.isClosePausedRef.current&&R(A)},[i,A,v.isClosePausedRef,R]),T.useEffect(()=>(M(),()=>k()),[M,k]);const L=T.useMemo(()=>w?QV(w):null,[w]);return v.viewport?l.jsxs(l.Fragment,{children:[L&&l.jsx(Bae,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),l.jsx(Mae,{scope:r,onClose:I,children:P0.createPortal(l.jsx(sj.ItemSlot,{scope:r,children:l.jsx(yae,{asChild:!0,onEscapeKeyDown:mt(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Lt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:mt(t.onKeyDown,U=>{U.key==="Escape"&&(o==null||o(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:mt(t.onPointerDown,U=>{U.button===0&&(_.current={x:U.clientX,y:U.clientY})}),onPointerMove:mt(t.onPointerMove,U=>{if(!_.current)return;const X=U.clientX-_.current.x,ue=U.clientY-_.current.y,he=!!E.current,J=["left","right"].includes(v.swipeDirection),ne=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=J?ne(0,X):0,z=J?0:ne(0,ue),F=U.pointerType==="touch"?10:2,ee={x:G,y:z},K={originalEvent:U,delta:ee};he?(E.current=ee,Fx(kae,h,K,{discrete:!1})):V8(ee,v.swipeDirection,F)?(E.current=ee,Fx(Pae,f,K,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(X)>F||Math.abs(ue)>F)&&(_.current=null)}),onPointerUp:mt(t.onPointerUp,U=>{const X=E.current,ue=U.target;if(ue.hasPointerCapture(U.pointerId)&&ue.releasePointerCapture(U.pointerId),E.current=null,_.current=null,X){const he=U.currentTarget,J={originalEvent:U,delta:X};V8(X,v.swipeDirection,v.swipeThreshold)?Fx(Rae,g,J,{discrete:!0}):Fx(Dae,m,J,{discrete:!0}),he.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Bae=t=>{const{__scopeToast:e,children:r,...n}=t,a=I2(P2,e),[i,s]=T.useState(!1),[o,c]=T.useState(!1);return Vae(()=>s(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(av,{asChild:!0,children:l.jsx(iv,{...n,children:i&&l.jsxs(l.Fragment,{children:[a.label," ",r]})})})},$ae="ToastTitle",zV=T.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Lt.div,{...n,ref:e})});zV.displayName=$ae;var Uae="ToastDescription",qV=T.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Lt.div,{...n,ref:e})});qV.displayName=Uae;var WV="ToastAction",GV=T.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(XV,{altText:r,asChild:!0,children:l.jsx(oj,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${WV}\`. Expected non-empty \`string\`.`),null)});GV.displayName=WV;var KV="ToastClose",oj=T.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=Fae(KV,r);return l.jsx(XV,{asChild:!0,children:l.jsx(Lt.button,{type:"button",...n,ref:e,onClick:mt(t.onClick,a.onClose)})})});oj.displayName=KV;var XV=T.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return l.jsx(Lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function QV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Hae(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...QV(n))}}),e}function Fx(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?aj(a,i):a.dispatchEvent(i)}var V8=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return e==="left"||e==="right"?i&&n>r:!i&&a>r};function Vae(t=()=>{}){const e=Ja(t);ga(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Hae(t){return t.nodeType===t.ELEMENT_NODE}function zae(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function F_(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var qae=BV,YV=UV,ZV=HV,JV=zV,eH=qV,tH=GV,rH=oj;function nH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=nH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function or(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=nH(t))&&(n&&(n+=" "),n+=e);return n}const H8=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z8=or,sv=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return z8(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],h=i==null?void 0:i[u];if(f===null)return null;const m=H8(f)||H8(h);return a[u][m]}),o=r&&Object.entries(r).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(x=>{let[v,w]=x;return Array.isArray(w)?w.includes({...i,...o}[v]):{...i,...o}[v]===w})?[...u,h,m]:u},[]);return z8(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aH=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>T.createElement("svg",{ref:c,...Gae,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:aH("lucide",a),...o},[...s.map(([u,f])=>T.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const r=T.forwardRef(({className:n,...a},i)=>T.createElement(Kae,{ref:i,iconNode:e,className:aH(`lucide-${Wae(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=it("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=it("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=it("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=it("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=it("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=it("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=it("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=it("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=it("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=it("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=it("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=it("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=it("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=it("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=it("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=it("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=it("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=it("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=it("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=it("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=it("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=it("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=it("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=it("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=it("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=it("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=it("FolderDown",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=it("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=it("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=it("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=it("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=it("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=it("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=it("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=it("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=it("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=it("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=it("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=it("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=it("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=it("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=it("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=it("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=it("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=it("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=it("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=it("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=it("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=it("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=it("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=it("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=it("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=it("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=it("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=it("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=it("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=it("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=it("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=it("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=it("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=it("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=it("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=it("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=it("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=it("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=it("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hj="-",Nie=t=>{const e=Aie(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(hj);return o[0]===""&&o.length!==1&&o.shift(),pH(o,e)||Eie(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},pH=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?pH(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(hj);return(s=e.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},X8=/^\[(.+)\]$/,Eie=t=>{if(X8.test(t)){const e=X8.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Aie=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Cie(Object.entries(t.classGroups),r).forEach(([i,s])=>{VT(s,n,i,e)}),n},VT=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:Q8(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(Tie(a)){VT(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{VT(s,Q8(e,i),r,n)})})},Q8=(t,e)=>{let r=t;return e.split(hj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Tie=t=>t.isThemeGetter,Cie=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[e+s,o])):i);return[r,a]}):t,jie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},mH="!",Oie=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,s=o=>{const c=[];let u=0,f=0,h;for(let w=0;w<o.length;w++){let S=o[w];if(u===0){if(S===a&&(n||o.slice(w,w+i)===e)){c.push(o.slice(f,w)),f=w+i;continue}if(S==="/"){h=w;continue}}S==="["?u++:S==="]"&&u--}const m=c.length===0?o:o.substring(f),g=m.startsWith(mH),x=g?m.substring(1):m,v=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:s}):s},Iie=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Pie=t=>({cache:jie(t.cacheSize),parseClassName:Oie(t),...Nie(t)}),kie=/\s+/,Die=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],s=t.trim().split(kie);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=r(u);let x=!!g,v=n(x?m.substring(0,g):m);if(!v){if(!x){o=u+(o.length>0?" "+o:o);continue}if(v=n(m),!v){o=u+(o.length>0?" "+o:o);continue}x=!1}const w=Iie(f).join(":"),S=h?w+mH:w,b=S+v;if(i.includes(b))continue;i.push(b);const _=a(v,x);for(let E=0;E<_.length;++E){const A=_[E];i.push(S+A)}o=u+(o.length>0?" "+o:o)}return o};function Rie(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=gH(e))&&(n&&(n+=" "),n+=r);return n}const gH=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=gH(t[n]))&&(r&&(r+=" "),r+=e);return r};function Mie(t,...e){let r,n,a,i=s;function s(c){const u=e.reduce((f,h)=>h(f),t());return r=Pie(u),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const f=Die(c,r);return a(c,f),f}return function(){return i(Rie.apply(null,arguments))}}const pn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},vH=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fie=/^\d+\/\d+$/,Lie=new Set(["px","full","screen"]),Bie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$ie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ll=t=>xh(t)||Lie.has(t)||Fie.test(t),Gc=t=>M0(t,"length",Yie),xh=t=>!!t&&!Number.isNaN(Number(t)),B_=t=>M0(t,"number",xh),Fp=t=>!!t&&Number.isInteger(Number(t)),zie=t=>t.endsWith("%")&&xh(t.slice(0,-1)),ur=t=>vH.test(t),Kc=t=>Bie.test(t),qie=new Set(["length","size","percentage"]),Wie=t=>M0(t,qie,xH),Gie=t=>M0(t,"position",xH),Kie=new Set(["image","url"]),Xie=t=>M0(t,Kie,Jie),Qie=t=>M0(t,"",Zie),Lp=()=>!0,M0=(t,e,r)=>{const n=vH.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Yie=t=>$ie.test(t)&&!Uie.test(t),xH=()=>!1,Zie=t=>Vie.test(t),Jie=t=>Hie.test(t),ese=()=>{const t=pn("colors"),e=pn("spacing"),r=pn("blur"),n=pn("brightness"),a=pn("borderColor"),i=pn("borderRadius"),s=pn("borderSpacing"),o=pn("borderWidth"),c=pn("contrast"),u=pn("grayscale"),f=pn("hueRotate"),h=pn("invert"),m=pn("gap"),g=pn("gradientColorStops"),x=pn("gradientColorStopPositions"),v=pn("inset"),w=pn("margin"),S=pn("opacity"),b=pn("padding"),_=pn("saturate"),E=pn("scale"),A=pn("sepia"),j=pn("skew"),O=pn("space"),D=pn("translate"),M=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ur,e],R=()=>[ur,e],L=()=>["",Ll,Gc],U=()=>["auto",xh,ur],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",ur],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[xh,ur];return{cacheSize:500,separator:":",theme:{colors:[Lp],spacing:[Ll,Gc],blur:["none","",Kc,ur],brightness:z(),borderColor:[t],borderRadius:["none","","full",Kc,ur],borderSpacing:R(),borderWidth:L(),contrast:z(),grayscale:ne(),hueRotate:z(),invert:ne(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[zie,Gc],inset:I(),margin:I(),opacity:z(),padding:R(),saturate:z(),scale:z(),sepia:ne(),skew:z(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ur]}],container:["container"],columns:[{columns:[Kc]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ur]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fp,ur]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ur]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",Fp,ur]}],"grid-cols":[{"grid-cols":[Lp]}],"col-start-end":[{col:["auto",{span:["full",Fp,ur]},ur]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Lp]}],"row-start-end":[{row:["auto",{span:[Fp,ur]},ur]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ur]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ur]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ur,e]}],"min-w":[{"min-w":[ur,e,"min","max","fit"]}],"max-w":[{"max-w":[ur,e,"none","full","min","max","fit","prose",{screen:[Kc]},Kc]}],h:[{h:[ur,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ur,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ur,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ur,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Kc,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",B_]}],"font-family":[{font:[Lp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ur]}],"line-clamp":[{"line-clamp":["none",xh,B_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ll,ur]}],"list-image":[{"list-image":["none",ur]}],"list-style-type":[{list:["none","disc","decimal",ur]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ll,Gc]}],"underline-offset":[{"underline-offset":["auto",Ll,ur]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ur]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ur]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),Gie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xie]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ue()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[Ll,ur]}],"outline-w":[{outline:[Ll,Gc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Ll,Gc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Kc,Qie]}],"shadow-color":[{shadow:[Lp]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kc,ur]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ur]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ur]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ur]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Fp,ur]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ur]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ur]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ur]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ll,Gc,B_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tse=Mie(ese);function dt(...t){return tse(or(t))}function rse(t){if(!t)return"";const e={á:"a",à:"a",ả:"a",ã:"a",ạ:"a",ă:"a",ắ:"a",ằ:"a",ẳ:"a",ẵ:"a",ặ:"a",â:"a",ấ:"a",ầ:"a",ẩ:"a",ẫ:"a",ậ:"a",é:"e",è:"e",ẻ:"e",ẽ:"e",ẹ:"e",ê:"e",ế:"e",ề:"e",ể:"e",ễ:"e",ệ:"e",í:"i",ì:"i",ỉ:"i",ĩ:"i",ị:"i",ó:"o",ò:"o",ỏ:"o",õ:"o",ọ:"o",ô:"o",ố:"o",ồ:"o",ổ:"o",ỗ:"o",ộ:"o",ơ:"o",ớ:"o",ờ:"o",ở:"o",ỡ:"o",ợ:"o",ú:"u",ù:"u",ủ:"u",ũ:"u",ụ:"u",ư:"u",ứ:"u",ừ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ỳ:"y",ỷ:"y",ỹ:"y",ỵ:"y",đ:"d",Á:"A",À:"A",Ả:"A",Ã:"A",Ạ:"A",Ă:"A",Ắ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Â:"A",Ấ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",É:"E",È:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ê:"E",Ế:"E",Ề:"E",Ể:"E",Ễ:"E",Ệ:"E",Í:"I",Ì:"I",Ỉ:"I",Ĩ:"I",Ị:"I",Ó:"O",Ò:"O",Ỏ:"O",Õ:"O",Ọ:"O",Ô:"O",Ố:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ơ:"O",Ớ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ợ:"O",Ú:"U",Ù:"U",Ủ:"U",Ũ:"U",Ụ:"U",Ư:"U",Ứ:"U",Ừ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",Ỳ:"Y",Ỷ:"Y",Ỹ:"Y",Ỵ:"Y",Đ:"D"};return t.split("").map(r=>e[r]||r).join("")}function ui(t){return rse(t).toLowerCase().trim()}const nse=qae,yH=T.forwardRef(({className:t,...e},r)=>l.jsx(YV,{ref:r,className:dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yH.displayName=YV.displayName;const ase=sv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wH=T.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(ZV,{ref:n,className:dt(ase({variant:e}),t),...r}));wH.displayName=ZV.displayName;const ise=T.forwardRef(({className:t,...e},r)=>l.jsx(tH,{ref:r,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ise.displayName=tH.displayName;const bH=T.forwardRef(({className:t,...e},r)=>l.jsx(rH,{ref:r,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(R0,{className:"h-4 w-4"})}));bH.displayName=rH.displayName;const _H=T.forwardRef(({className:t,...e},r)=>l.jsx(JV,{ref:r,className:dt("text-sm font-semibold",t),...e}));_H.displayName=JV.displayName;const SH=T.forwardRef(({className:t,...e},r)=>l.jsx(eH,{ref:r,className:dt("text-sm opacity-90",t),...e}));SH.displayName=eH.displayName;function sse(){const{toasts:t}=mi();return l.jsxs(nse,{children:[t.map(function({id:e,title:r,description:n,action:a,...i}){return l.jsxs(wH,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(_H,{children:r}),n&&l.jsx(SH,{children:n})]}),a,l.jsx(bH,{})]},e)}),l.jsx(yH,{})]})}var ose=lV[" useId ".trim().toString()]||(()=>{}),lse=0;function fl(t){const[e,r]=T.useState(ose());return ga(()=>{r(n=>n??String(lse++))},[t]),e?`radix-${e}`:""}const cse=["top","right","bottom","left"],Su=Math.min,Ss=Math.max,F1=Math.round,Bx=Math.floor,dl=t=>({x:t,y:t}),use={left:"right",right:"left",bottom:"top",top:"bottom"},fse={start:"end",end:"start"};function HT(t,e,r){return Ss(t,Su(e,r))}function cc(t,e){return typeof t=="function"?t(e):t}function uc(t){return t.split("-")[0]}function F0(t){return t.split("-")[1]}function pj(t){return t==="x"?"y":"x"}function mj(t){return t==="y"?"height":"width"}function Nu(t){return["top","bottom"].includes(uc(t))?"y":"x"}function gj(t){return pj(Nu(t))}function dse(t,e,r){r===void 0&&(r=!1);const n=F0(t),a=gj(t),i=mj(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=L1(s)),[s,L1(s)]}function hse(t){const e=L1(t);return[zT(t),e,zT(e)]}function zT(t){return t.replace(/start|end/g,e=>fse[e])}function pse(t,e,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?i:s;default:return[]}}function mse(t,e,r,n){const a=F0(t);let i=pse(uc(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(zT)))),i}function L1(t){return t.replace(/left|right|bottom|top/g,e=>use[e])}function gse(t){return{top:0,right:0,bottom:0,left:0,...t}}function NH(t){return typeof t!="number"?gse(t):{top:t,right:t,bottom:t,left:t}}function B1(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Y8(t,e,r){let{reference:n,floating:a}=t;const i=Nu(e),s=gj(e),o=mj(s),c=uc(e),u=i==="y",f=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[o]/2-a[o]/2;let g;switch(c){case"top":g={x:f,y:n.y-a.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-a.width,y:h};break;default:g={x:n.x,y:n.y}}switch(F0(e)){case"start":g[s]-=m*(r&&u?-1:1);break;case"end":g[s]+=m*(r&&u?-1:1);break}return g}const vse=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:f,y:h}=Y8(u,n,c),m=n,g={},x=0;for(let v=0;v<o.length;v++){const{name:w,fn:S}=o[v],{x:b,y:_,data:E,reset:A}=await S({x:f,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:g,rects:u,platform:s,elements:{reference:t,floating:e}});f=b??f,h=_??h,g={...g,[w]:{...g[w],...E}},A&&x<=50&&(x++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):A.rects),{x:f,y:h}=Y8(u,m,c)),v=-1)}return{x:f,y:h,placement:m,strategy:a,middlewareData:g}};async function Bm(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=cc(e,t),x=NH(g),w=o[m?h==="floating"?"reference":"floating":h],S=B1(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:c})),b=h==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),E=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},A=B1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:_,strategy:c}):b);return{top:(S.top-A.top+x.top)/E.y,bottom:(A.bottom-S.bottom+x.bottom)/E.y,left:(S.left-A.left+x.left)/E.x,right:(A.right-S.right+x.right)/E.x}}const xse=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=e,{element:u,padding:f=0}=cc(t,e)||{};if(u==null)return{};const h=NH(f),m={x:r,y:n},g=gj(a),x=mj(g),v=await s.getDimensions(u),w=g==="y",S=w?"top":"left",b=w?"bottom":"right",_=w?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[g]-m[g]-i.floating[x],A=m[g]-i.reference[g],j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let O=j?j[_]:0;(!O||!await(s.isElement==null?void 0:s.isElement(j)))&&(O=o.floating[_]||i.floating[x]);const D=E/2-A/2,M=O/2-v[x]/2-1,k=Su(h[S],M),I=Su(h[b],M),R=k,L=O-v[x]-I,U=O/2-v[x]/2+D,X=HT(R,U,L),ue=!c.arrow&&F0(a)!=null&&U!==X&&i.reference[x]/2-(U<R?k:I)-v[x]/2<0,he=ue?U<R?U-R:U-L:0;return{[g]:m[g]+he,data:{[g]:X,centerOffset:U-X-he,...ue&&{alignmentOffset:he}},reset:ue}}}),yse=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=cc(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=uc(a),b=Nu(o),_=uc(o)===o,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(_||!v?[L1(o)]:hse(o)),j=x!=="none";!m&&j&&A.push(...mse(o,v,x,E));const O=[o,...A],D=await Bm(e,w),M=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&M.push(D[S]),h){const U=dse(a,s,E);M.push(D[U[0]],D[U[1]])}if(k=[...k,{placement:a,overflows:M}],!M.every(U=>U<=0)){var I,R;const U=(((I=i.flip)==null?void 0:I.index)||0)+1,X=O[U];if(X)return{data:{index:U,overflows:k},reset:{placement:X}};let ue=(R=k.filter(he=>he.overflows[0]<=0).sort((he,J)=>he.overflows[1]-J.overflows[1])[0])==null?void 0:R.placement;if(!ue)switch(g){case"bestFit":{var L;const he=(L=k.filter(J=>{if(j){const ne=Nu(J.placement);return ne===b||ne==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ne=>ne>0).reduce((ne,G)=>ne+G,0)]).sort((J,ne)=>J[1]-ne[1])[0])==null?void 0:L[0];he&&(ue=he);break}case"initialPlacement":ue=o;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}};function Z8(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function J8(t){return cse.some(e=>t[e]>=0)}const wse=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=cc(t,e);switch(n){case"referenceHidden":{const i=await Bm(e,{...a,elementContext:"reference"}),s=Z8(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:J8(s)}}}case"escaped":{const i=await Bm(e,{...a,altBoundary:!0}),s=Z8(i,r.floating);return{data:{escapedOffsets:s,escaped:J8(s)}}}default:return{}}}}};async function bse(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=uc(r),o=F0(r),c=Nu(r)==="y",u=["left","top"].includes(s)?-1:1,f=i&&c?-1:1,h=cc(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof x=="number"&&(g=o==="end"?x*-1:x),c?{x:g*f,y:m*u}:{x:m*u,y:g*f}}const _se=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=e,c=await bse(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},Sse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:w=>{let{x:S,y:b}=w;return{x:S,y:b}}},...c}=cc(t,e),u={x:r,y:n},f=await Bm(e,c),h=Nu(uc(a)),m=pj(h);let g=u[m],x=u[h];if(i){const w=m==="y"?"top":"left",S=m==="y"?"bottom":"right",b=g+f[w],_=g-f[S];g=HT(b,g,_)}if(s){const w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",b=x+f[w],_=x-f[S];x=HT(b,x,_)}const v=o.fn({...e,[m]:g,[h]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[h]:s}}}}}},Nse=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=cc(t,e),f={x:r,y:n},h=Nu(a),m=pj(h);let g=f[m],x=f[h];const v=cc(o,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const _=m==="y"?"height":"width",E=i.reference[m]-i.floating[_]+w.mainAxis,A=i.reference[m]+i.reference[_]-w.mainAxis;g<E?g=E:g>A&&(g=A)}if(u){var S,b;const _=m==="y"?"width":"height",E=["top","left"].includes(uc(a)),A=i.reference[h]-i.floating[_]+(E&&((S=s.offset)==null?void 0:S[h])||0)+(E?0:w.crossAxis),j=i.reference[h]+i.reference[_]+(E?0:((b=s.offset)==null?void 0:b[h])||0)-(E?w.crossAxis:0);x<A?x=A:x>j&&(x=j)}return{[m]:g,[h]:x}}}},Ese=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:s,elements:o}=e,{apply:c=()=>{},...u}=cc(t,e),f=await Bm(e,u),h=uc(a),m=F0(a),g=Nu(a)==="y",{width:x,height:v}=i.floating;let w,S;h==="top"||h==="bottom"?(w=h,S=m===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(S=h,w=m==="end"?"top":"bottom");const b=v-f.top-f.bottom,_=x-f.left-f.right,E=Su(v-f[w],b),A=Su(x-f[S],_),j=!e.middlewareData.shift;let O=E,D=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(D=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=b),j&&!m){const k=Ss(f.left,0),I=Ss(f.right,0),R=Ss(f.top,0),L=Ss(f.bottom,0);g?D=x-2*(k!==0||I!==0?k+I:Ss(f.left,f.right)):O=v-2*(R!==0||L!==0?R+L:Ss(f.top,f.bottom))}await c({...e,availableWidth:D,availableHeight:O});const M=await s.getDimensions(o.floating);return x!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function D2(){return typeof window<"u"}function L0(t){return EH(t)?(t.nodeName||"").toLowerCase():"#document"}function Cs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Al(t){var e;return(e=(EH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function EH(t){return D2()?t instanceof Node||t instanceof Cs(t).Node:!1}function Vo(t){return D2()?t instanceof Element||t instanceof Cs(t).Element:!1}function vl(t){return D2()?t instanceof HTMLElement||t instanceof Cs(t).HTMLElement:!1}function ek(t){return!D2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cs(t).ShadowRoot}function ov(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Ho(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function Ase(t){return["table","td","th"].includes(L0(t))}function R2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vj(t){const e=xj(),r=Vo(t)?Ho(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Tse(t){let e=Eu(t);for(;vl(e)&&!Kh(e);){if(vj(e))return e;if(R2(e))return null;e=Eu(e)}return null}function xj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kh(t){return["html","body","#document"].includes(L0(t))}function Ho(t){return Cs(t).getComputedStyle(t)}function M2(t){return Vo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Eu(t){if(L0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ek(t)&&t.host||Al(t);return ek(e)?e.host:e}function AH(t){const e=Eu(t);return Kh(e)?t.ownerDocument?t.ownerDocument.body:t.body:vl(e)&&ov(e)?e:AH(e)}function $m(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=AH(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=Cs(a);if(i){const o=qT(s);return e.concat(s,s.visualViewport||[],ov(a)?a:[],o&&r?$m(o):[])}return e.concat(a,$m(a,[],r))}function qT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TH(t){const e=Ho(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=vl(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,o=F1(r)!==i||F1(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function yj(t){return Vo(t)?t:t.contextElement}function yh(t){const e=yj(t);if(!vl(e))return dl(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=TH(e);let s=(i?F1(r.width):r.width)/n,o=(i?F1(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Cse=dl(0);function CH(t){const e=Cs(t);return!xj()||!e.visualViewport?Cse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jse(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Cs(t)?!1:e}function Wf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=yj(t);let s=dl(1);e&&(n?Vo(n)&&(s=yh(n)):s=yh(t));const o=jse(i,r,n)?CH(i):dl(0);let c=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,f=a.width/s.x,h=a.height/s.y;if(i){const m=Cs(i),g=n&&Vo(n)?Cs(n):n;let x=m,v=qT(x);for(;v&&n&&g!==x;){const w=yh(v),S=v.getBoundingClientRect(),b=Ho(v),_=S.left+(v.clientLeft+parseFloat(b.paddingLeft))*w.x,E=S.top+(v.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,h*=w.y,c+=_,u+=E,x=Cs(v),v=qT(x)}}return B1({width:f,height:h,x:c,y:u})}function wj(t,e){const r=M2(t).scrollLeft;return e?e.left+r:Wf(Al(t)).left+r}function jH(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:wj(t,n)),i=n.top+e.scrollTop;return{x:a,y:i}}function Ose(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=Al(n),o=e?R2(e.floating):!1;if(n===s||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=dl(1);const f=dl(0),h=vl(n);if((h||!h&&!i)&&((L0(n)!=="body"||ov(s))&&(c=M2(n)),vl(n))){const g=Wf(n);u=yh(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const m=s&&!h&&!i?jH(s,c,!0):dl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function Ise(t){return Array.from(t.getClientRects())}function Pse(t){const e=Al(t),r=M2(t),n=t.ownerDocument.body,a=Ss(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ss(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+wj(t);const o=-r.scrollTop;return Ho(n).direction==="rtl"&&(s+=Ss(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function kse(t,e){const r=Cs(t),n=Al(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const u=xj();(!u||u&&e==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}function Dse(t,e){const r=Wf(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=vl(t)?yh(t):dl(1),s=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:o,x:c,y:u}}function tk(t,e,r){let n;if(e==="viewport")n=kse(t,r);else if(e==="document")n=Pse(Al(t));else if(Vo(e))n=Dse(e,r);else{const a=CH(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return B1(n)}function OH(t,e){const r=Eu(t);return r===e||!Vo(r)||Kh(r)?!1:Ho(r).position==="fixed"||OH(r,e)}function Rse(t,e){const r=e.get(t);if(r)return r;let n=$m(t,[],!1).filter(o=>Vo(o)&&L0(o)!=="body"),a=null;const i=Ho(t).position==="fixed";let s=i?Eu(t):t;for(;Vo(s)&&!Kh(s);){const o=Ho(s),c=vj(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ov(s)&&!c&&OH(t,s))?n=n.filter(f=>f!==s):a=o,s=Eu(s)}return e.set(t,n),n}function Mse(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?R2(e)?[]:Rse(e,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,f)=>{const h=tk(e,f,a);return u.top=Ss(h.top,u.top),u.right=Su(h.right,u.right),u.bottom=Su(h.bottom,u.bottom),u.left=Ss(h.left,u.left),u},tk(e,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fse(t){const{width:e,height:r}=TH(t);return{width:e,height:r}}function Lse(t,e,r){const n=vl(e),a=Al(e),i=r==="fixed",s=Wf(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const c=dl(0);if(n||!n&&!i)if((L0(e)!=="body"||ov(a))&&(o=M2(e)),n){const m=Wf(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else a&&(c.x=wj(a));const u=a&&!n&&!i?jH(a,o):dl(0),f=s.left+o.scrollLeft-c.x-u.x,h=s.top+o.scrollTop-c.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function $_(t){return Ho(t).position==="static"}function rk(t,e){if(!vl(t)||Ho(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Al(t)===r&&(r=r.ownerDocument.body),r}function IH(t,e){const r=Cs(t);if(R2(t))return r;if(!vl(t)){let a=Eu(t);for(;a&&!Kh(a);){if(Vo(a)&&!$_(a))return a;a=Eu(a)}return r}let n=rk(t,e);for(;n&&Ase(n)&&$_(n);)n=rk(n,e);return n&&Kh(n)&&$_(n)&&!vj(n)?r:n||Tse(t)||r}const Bse=async function(t){const e=this.getOffsetParent||IH,r=this.getDimensions,n=await r(t.floating);return{reference:Lse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $se(t){return Ho(t).direction==="rtl"}const Use={convertOffsetParentRelativeRectToViewportRelativeRect:Ose,getDocumentElement:Al,getClippingRect:Mse,getOffsetParent:IH,getElementRects:Bse,getClientRects:Ise,getDimensions:Fse,getScale:yh,isElement:Vo,isRTL:$se};function PH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Vse(t,e){let r=null,n;const a=Al(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:f,top:h,width:m,height:g}=u;if(o||e(),!m||!g)return;const x=Bx(h),v=Bx(a.clientWidth-(f+m)),w=Bx(a.clientHeight-(h+g)),S=Bx(f),_={rootMargin:-x+"px "+-v+"px "+-w+"px "+-S+"px",threshold:Ss(0,Su(1,c))||1};let E=!0;function A(j){const O=j[0].intersectionRatio;if(O!==c){if(!E)return s();O?s(!1,O):n=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!PH(u,t.getBoundingClientRect())&&s(),E=!1}try{r=new IntersectionObserver(A,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(A,_)}r.observe(t)}return s(!0),i}function Hse(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=yj(t),f=a||i?[...u?$m(u):[],...$m(e)]:[];f.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const h=u&&o?Vse(u,r):null;let m=-1,g=null;s&&(g=new ResizeObserver(S=>{let[b]=S;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),r()}),u&&!c&&g.observe(u),g.observe(e));let x,v=c?Wf(t):null;c&&w();function w(){const S=Wf(t);v&&!PH(v,S)&&r(),v=S,x=requestAnimationFrame(w)}return r(),()=>{var S;f.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),h==null||h(),(S=g)==null||S.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const zse=_se,qse=Sse,Wse=yse,Gse=Ese,Kse=wse,nk=xse,Xse=Nse,Qse=(t,e,r)=>{const n=new Map,a={platform:Use,...r},i={...a.platform,_c:n};return vse(t,e,{...a,platform:i})};var _1=typeof document<"u"?T.useLayoutEffect:T.useEffect;function $1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!$1(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!$1(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function kH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ak(t,e){const r=kH(t);return Math.round(e*r)/r}function U_(t){const e=T.useRef(t);return _1(()=>{e.current=t}),e}function Yse(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[f,h]=T.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=T.useState(n);$1(m,n)||g(n);const[x,v]=T.useState(null),[w,S]=T.useState(null),b=T.useCallback(J=>{J!==j.current&&(j.current=J,v(J))},[]),_=T.useCallback(J=>{J!==O.current&&(O.current=J,S(J))},[]),E=i||x,A=s||w,j=T.useRef(null),O=T.useRef(null),D=T.useRef(f),M=c!=null,k=U_(c),I=U_(a),R=U_(u),L=T.useCallback(()=>{if(!j.current||!O.current)return;const J={placement:e,strategy:r,middleware:m};I.current&&(J.platform=I.current),Qse(j.current,O.current,J).then(ne=>{const G={...ne,isPositioned:R.current!==!1};U.current&&!$1(D.current,G)&&(D.current=G,P0.flushSync(()=>{h(G)}))})},[m,e,r,I,R]);_1(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(J=>({...J,isPositioned:!1})))},[u]);const U=T.useRef(!1);_1(()=>(U.current=!0,()=>{U.current=!1}),[]),_1(()=>{if(E&&(j.current=E),A&&(O.current=A),E&&A){if(k.current)return k.current(E,A,L);L()}},[E,A,L,k,M]);const X=T.useMemo(()=>({reference:j,floating:O,setReference:b,setFloating:_}),[b,_]),ue=T.useMemo(()=>({reference:E,floating:A}),[E,A]),he=T.useMemo(()=>{const J={position:r,left:0,top:0};if(!ue.floating)return J;const ne=ak(ue.floating,f.x),G=ak(ue.floating,f.y);return o?{...J,transform:"translate("+ne+"px, "+G+"px)",...kH(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:G}},[r,o,ue.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:L,refs:X,elements:ue,floatingStyles:he}),[f,L,X,ue,he])}const Zse=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?nk({element:n.current,padding:a}).fn(r):{}:n?nk({element:n,padding:a}).fn(r):{}}}},Jse=(t,e)=>({...zse(t),options:[t,e]}),eoe=(t,e)=>({...qse(t),options:[t,e]}),toe=(t,e)=>({...Xse(t),options:[t,e]}),roe=(t,e)=>({...Wse(t),options:[t,e]}),noe=(t,e)=>({...Gse(t),options:[t,e]}),aoe=(t,e)=>({...Kse(t),options:[t,e]}),ioe=(t,e)=>({...Zse(t),options:[t,e]});var soe="Arrow",DH=T.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return l.jsx(Lt.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});DH.displayName=soe;var ooe=DH;function bj(t){const[e,r]=T.useState(void 0);return ga(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var _j="Popper",[RH,B0]=Li(_j),[loe,MH]=RH(_j),FH=t=>{const{__scopePopper:e,children:r}=t,[n,a]=T.useState(null);return l.jsx(loe,{scope:e,anchor:n,onAnchorChange:a,children:r})};FH.displayName=_j;var LH="PopperAnchor",BH=T.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=MH(LH,r),s=T.useRef(null),o=_r(e,s);return T.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(Lt.div,{...a,ref:o})});BH.displayName=LH;var Sj="PopperContent",[coe,uoe]=RH(Sj),$H=T.forwardRef((t,e)=>{var pe,W,V,fe,Se,ve;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=t,w=MH(Sj,r),[S,b]=T.useState(null),_=_r(e,gt=>b(gt)),[E,A]=T.useState(null),j=bj(E),O=(j==null?void 0:j.width)??0,D=(j==null?void 0:j.height)??0,M=n+(i!=="center"?"-"+i:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},I=Array.isArray(u)?u:[u],R=I.length>0,L={padding:k,boundary:I.filter(doe),altBoundary:R},{refs:U,floatingStyles:X,placement:ue,isPositioned:he,middlewareData:J}=Yse({strategy:"fixed",placement:M,whileElementsMounted:(...gt)=>Hse(...gt,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[Jse({mainAxis:a+D,alignmentAxis:s}),c&&eoe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?toe():void 0,...L}),c&&roe({...L}),noe({...L,apply:({elements:gt,rects:Y,availableWidth:Oe,availableHeight:Re})=>{const{width:Me,height:st}=Y.reference,qt=gt.floating.style;qt.setProperty("--radix-popper-available-width",`${Oe}px`),qt.setProperty("--radix-popper-available-height",`${Re}px`),qt.setProperty("--radix-popper-anchor-width",`${Me}px`),qt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),E&&ioe({element:E,padding:o}),hoe({arrowWidth:O,arrowHeight:D}),m&&aoe({strategy:"referenceHidden",...L})]}),[ne,G]=HH(ue),z=Ja(x);ga(()=>{he&&(z==null||z())},[he,z]);const F=(pe=J.arrow)==null?void 0:pe.x,ee=(W=J.arrow)==null?void 0:W.y,K=((V=J.arrow)==null?void 0:V.centerOffset)!==0,[ae,q]=T.useState();return ga(()=>{S&&q(window.getComputedStyle(S).zIndex)},[S]),l.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:he?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(fe=J.transformOrigin)==null?void 0:fe.x,(Se=J.transformOrigin)==null?void 0:Se.y].join(" "),...((ve=J.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(coe,{scope:r,placedSide:ne,onArrowChange:A,arrowX:F,arrowY:ee,shouldHideArrow:K,children:l.jsx(Lt.div,{"data-side":ne,"data-align":G,...v,ref:_,style:{...v.style,animation:he?void 0:"none"}})})})});$H.displayName=Sj;var UH="PopperArrow",foe={top:"bottom",right:"left",bottom:"top",left:"right"},VH=T.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=uoe(UH,n),s=foe[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(ooe,{...a,ref:r,style:{...a.style,display:"block"}})})});VH.displayName=UH;function doe(t){return t!==null}var hoe=t=>({name:"transformOrigin",options:t,fn(e){var w,S,b;const{placement:r,rects:n,middlewareData:a}=e,s=((w=a.arrow)==null?void 0:w.centerOffset)!==0,o=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,f]=HH(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(((S=a.arrow)==null?void 0:S.x)??0)+o/2,g=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=s?h:`${m}px`,v=`${-c}px`):u==="top"?(x=s?h:`${m}px`,v=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=s?h:`${g}px`):u==="left"&&(x=`${n.floating.width+c}px`,v=s?h:`${g}px`),{data:{x,y:v}}}});function HH(t){const[e,r="center"]=t.split("-");return[e,r]}var zH=FH,Nj=BH,Ej=$H,Aj=VH,[F2,SMe]=Li("Tooltip",[B0]),Tj=B0(),qH="TooltipProvider",poe=700,ik="tooltip.open",[moe,WH]=F2(qH),GH=t=>{const{__scopeTooltip:e,delayDuration:r=poe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,s=T.useRef(!0),o=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(moe,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:i})};GH.displayName=qH;var KH="Tooltip",[NMe,L2]=F2(KH),WT="TooltipTrigger",goe=T.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=L2(WT,r),i=WH(WT,r),s=Tj(r),o=T.useRef(null),c=_r(e,o,a.onTriggerChange),u=T.useRef(!1),f=T.useRef(!1),h=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Nj,{asChild:!0,...s,children:l.jsx(Lt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:mt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:mt(t.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:mt(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:mt(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:mt(t.onBlur,a.onClose),onClick:mt(t.onClick,a.onClose)})})});goe.displayName=WT;var voe="TooltipPortal",[EMe,xoe]=F2(voe,{forceMount:void 0}),Xh="TooltipContent",XH=T.forwardRef((t,e)=>{const r=xoe(Xh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,s=L2(Xh,t.__scopeTooltip);return l.jsx(so,{present:n||s.open,children:s.disableHoverableContent?l.jsx(QH,{side:a,...i,ref:e}):l.jsx(yoe,{side:a,...i,ref:e})})}),yoe=T.forwardRef((t,e)=>{const r=L2(Xh,t.__scopeTooltip),n=WH(Xh,t.__scopeTooltip),a=T.useRef(null),i=_r(e,a),[s,o]=T.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:h}=n,m=T.useCallback(()=>{o(null),h(!1)},[h]),g=T.useCallback((x,v)=>{const w=x.currentTarget,S={x:x.clientX,y:x.clientY},b=Noe(S,w.getBoundingClientRect()),_=Eoe(S,b),E=Aoe(v.getBoundingClientRect()),A=Coe([..._,...E]);o(A),h(!0)},[h]);return T.useEffect(()=>()=>m(),[m]),T.useEffect(()=>{if(c&&f){const x=w=>g(w,f),v=w=>g(w,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[c,f,g,m]),T.useEffect(()=>{if(s){const x=v=>{const w=v.target,S={x:v.clientX,y:v.clientY},b=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),_=!Toe(S,s);b?m():_&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,s,u,m]),l.jsx(QH,{...t,ref:i})}),[woe,boe]=F2(KH,{isInside:!1}),_oe=DV("TooltipContent"),QH=T.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=t,c=L2(Xh,r),u=Tj(r),{onClose:f}=c;return T.useEffect(()=>(document.addEventListener(ik,f),()=>document.removeEventListener(ik,f)),[f]),T.useEffect(()=>{if(c.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),l.jsx(k0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:l.jsxs(Ej,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(_oe,{children:n}),l.jsx(woe,{scope:r,isInside:!0,children:l.jsx(Tae,{id:c.contentId,role:"tooltip",children:a||n})})]})})});XH.displayName=Xh;var YH="TooltipArrow",Soe=T.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=Tj(r);return boe(YH,r).isInside?null:l.jsx(Aj,{...a,...n,ref:e})});Soe.displayName=YH;function Noe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Eoe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Aoe(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function Toe(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const o=e[i].x,c=e[i].y,u=e[s].x,f=e[s].y;c>n!=f>n&&r<(u-o)*(n-c)/(f-c)+o&&(a=!a)}return a}function Coe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),joe(e)}function joe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],s=e[e.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Ooe=GH,ZH=XH;const Ioe=Ooe,Poe=T.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(ZH,{ref:n,sideOffset:e,className:dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));Poe.displayName=ZH.displayName;const JH=T.createContext(void 0);function koe({children:t}){const[e,r]=T.useState(null),[n,a]=T.useState(!1),[i,s]=T.useState(null),[o,c]=T.useState([]),[u,f]=T.useState(!0);T.useEffect(()=>{const _=localStorage.getItem("user"),E=localStorage.getItem("isAuthenticated"),A=localStorage.getItem("currentStore");if(console.log("🔄 AuthProvider loading from localStorage:",{savedUser:!!_,savedAuth:E,savedStore:!!A}),_&&E==="true")try{const j=JSON.parse(_);if(r(j),a(!0),A){const O=JSON.parse(A);s(O),console.log("🏪 Loaded store from localStorage:",O.name)}}catch(j){console.error("Error parsing saved user data:",j),localStorage.removeItem("user"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("currentStore")}f(!1)},[]);const h=T.useCallback(async()=>{if(e)try{const _=await fetch("http://101.53.9.76:5273/api/storeswitch/my-stores",{method:"GET",headers:{"Content-Type":"application/json",Username:e.username},credentials:"include"});if(_.ok){const E=await _.json();c(E)}}catch(_){console.error("Error loading stores:",_)}},[e==null?void 0:e.username]),m=T.useCallback(async()=>{if(e)try{const _=await fetch("http://101.53.9.76:5273/api/storeswitch/current",{method:"GET",headers:{"Content-Type":"application/json",Username:e.username},credentials:"include"});if(_.ok){const E=await _.json();if(E.storeId){const A=o.find(j=>j.storeId===E.storeId);A&&(s(A),localStorage.setItem("currentStore",JSON.stringify(A)))}}}catch(_){console.error("Error loading current store:",_)}},[e==null?void 0:e.username,o]);T.useEffect(()=>{n&&e&&h()},[n,e,h]),T.useEffect(()=>{n&&e&&o.length>0&&!i&&m()},[n,e,o,i,m]);const b={user:e,isAuthenticated:n,currentStore:i,availableStores:o,isLoading:u,login:_=>{r(_),a(!0),localStorage.setItem("user",JSON.stringify(_)),localStorage.setItem("isAuthenticated","true")},logout:()=>{r(null),a(!1),s(null),c([]),localStorage.removeItem("user"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("currentStore"),localStorage.removeItem("intendedRoute")},switchStore:async _=>{if(e)try{if((await fetch("http://101.53.9.76:5273/api/storeswitch/set-current",{method:"POST",headers:{"Content-Type":"application/json",Username:e.username},body:JSON.stringify({storeId:_}),credentials:"include"})).ok){const A=o.find(j=>j.storeId===_);if(A){s(A);const j={...e,storeId:_,storeName:A.name};r(j),localStorage.setItem("user",JSON.stringify(j)),localStorage.setItem("currentStore",JSON.stringify(A))}}else throw new Error("Failed to switch store")}catch(E){throw console.error("Error switching store:",E),E}},hasPermission:_=>!e||!e.permissions?!1:e.permissions.includes(_),refreshPermissions:async()=>{if(e)try{const _=await fetch(`http://101.53.9.76:5273/api/Staff/refresh-permissions/${e.staffId}`);if(_.ok){const E=await _.json(),A={staffId:E.staffId,fullName:E.fullName,username:E.username,email:E.email,roleId:E.roleId,roleName:E.roleName,permissions:E.permissions,lastLogin:E.lastLogin,storeId:E.storeId,storeName:E.storeName};r(A),localStorage.setItem("user",JSON.stringify(A))}}catch(_){console.error("Error refreshing permissions:",_)}},loadAvailableStores:h,loadCurrentStore:m};return l.jsx(JH.Provider,{value:b,children:t})}function oo(){const t=T.useContext(JH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Ue=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ue.displayName="Card";const Rt=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));Rt.displayName="CardHeader";const Mt=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mt.displayName="CardTitle";const ez=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));ez.displayName="CardDescription";const Ve=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("p-6 pt-0",t),...e}));Ve.displayName="CardContent";const Doe=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("flex items-center p-6 pt-0",t),...e}));Doe.displayName="CardFooter";const B2=sv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=T.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?PV:"button";return l.jsx(s,{className:dt(B2({variant:e,size:r,className:t})),ref:i,...a})});ke.displayName="Button";function Roe(){const[,t]=Fi();return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:l.jsxs(Ue,{className:"w-full max-w-md text-center",children:[l.jsxs(Rt,{children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Wh,{className:"w-8 h-8 text-red-600"})}),l.jsx(Mt,{className:"text-xl text-gray-900",children:"Không có quyền truy cập"})]}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập vào trang này. Vui lòng liên hệ quản trị viên để được cấp quyền."}),l.jsxs(ke,{onClick:()=>t("/"),className:"w-full",children:[l.jsx(iH,{className:"w-4 h-4 mr-2"}),"Quay về trang chính"]})]})]})})}function _a({children:t,requiredPermission:e}){const{isAuthenticated:r,hasPermission:n,user:a,currentStore:i,isLoading:s}=oo(),[o,c]=Fi(),[u,f]=T.useState(!1),[h,m]=T.useState(!1);return T.useEffect(()=>{if(s){console.log("⏳ Auth still loading from localStorage...");return}if(console.log("🔍 ProtectedRoute check:",{isAuthenticated:r,user:!!a,currentStore:!!i,location:o}),!r){o!=="/login"&&(localStorage.setItem("intendedRoute",o),console.log("🔄 Stored intended route:",o)),c("/login");return}if(o==="/store-selection"){if(e&&!n(e)){f(!0);return}f(!1);return}if(a&&!i){if(o!=="/store-selection"&&(localStorage.setItem("intendedRoute",o),console.log("🔄 Stored intended route before store selection:",o)),a.roleName==="Admin"){c("/store-selection");return}c("/store-selection");return}if(r&&a&&i&&!h){const g=localStorage.getItem("intendedRoute");if(console.log("🔍 Checking intended route:",g,"current location:",o),g&&g!==o&&g!=="/login"&&g!=="/store-selection"){console.log("🎯 Redirecting to intended route:",g),localStorage.removeItem("intendedRoute"),m(!0),c(g);return}m(!0)}if(e&&!n(e)){f(!0);return}f(!1)},[r,e,n,c,a,i,o,h,s]),s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):r?u?l.jsx(Roe,{}):l.jsx(l.Fragment,{children:t}):null}function Moe(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Ue,{className:"w-full max-w-md mx-4",children:l.jsxs(Ve,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(oH,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const tt=T.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));tt.displayName="Input";var Foe="Label",tz=T.forwardRef((t,e)=>l.jsx(Lt.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tz.displayName=Foe;var rz=tz;const Loe=sv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jr=T.forwardRef(({className:t,...e},r)=>l.jsx(rz,{ref:r,className:dt(Loe(),t),...e}));Jr.displayName=rz.displayName;const Boe=sv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uf=T.forwardRef(({className:t,variant:e,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:dt(Boe({variant:e}),t),...r}));uf.displayName="Alert";const $oe=T.forwardRef(({className:t,...e},r)=>l.jsx("h5",{ref:r,className:dt("mb-1 font-medium leading-none tracking-tight",t),...e}));$oe.displayName="AlertTitle";const ff=T.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:dt("text-sm [&_p]:leading-relaxed",t),...e}));ff.displayName="AlertDescription";function Uoe(){const[,t]=Fi(),{login:e,isAuthenticated:r}=oo(),[n,a]=T.useState({username:"",password:""}),[i,s]=T.useState(!1),[o,c]=T.useState(""),{toast:u}=mi();T.useEffect(()=>{r&&t("/")},[r,t]);const f=Vt({mutationFn:async g=>{try{const x=await fetch("http://101.53.9.76:5273/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!x.ok){const w=await x.text();throw new Error(w||"Đăng nhập thất bại")}return await x.json()}catch(x){throw x instanceof Error?x:new Error("Đăng nhập thất bại")}},onSuccess:async g=>{e(g),u({title:"Đăng nhập thành công",description:`Chào mừng ${g.fullName}!`});const x=localStorage.getItem("intendedRoute");try{const v=await fetch("http://101.53.9.76:5273/api/storeswitch/my-stores",{method:"GET",headers:{"Content-Type":"application/json",Username:g.username},credentials:"include"});if(v.ok){const w=await v.json();if(w.length===0)localStorage.removeItem("intendedRoute"),t("/store-selection");else if(w.length===1&&g.roleName!=="Admin"){const S=w[0];await fetch("http://101.53.9.76:5273/api/storeswitch/set-current",{method:"POST",headers:{"Content-Type":"application/json",Username:g.username},credentials:"include",body:JSON.stringify({storeId:S.storeId})});const b=x&&x!=="/login"?x:"/sales";localStorage.removeItem("intendedRoute"),t(b)}else t("/store-selection")}else t("/store-selection")}catch(v){console.error("Error checking stores:",v),t("/store-selection")}},onError:g=>{c(g.message),u({title:"Đăng nhập thất bại",description:g.message,variant:"destructive"})}}),h=g=>{if(g.preventDefault(),c(""),!n.username.trim()){c("Vui lòng nhập tên đăng nhập");return}if(!n.password.trim()){c("Vui lòng nhập mật khẩu");return}f.mutate(n)},m=g=>x=>{a(v=>({...v,[g]:x.target.value})),o&&c("")};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs(Ue,{className:"shadow-xl border-0",children:[l.jsxs(Rt,{className:"space-y-4 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-600 rounded-full flex items-center justify-center",children:l.jsx(K8,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{children:[l.jsx(Mt,{className:"text-2xl font-bold text-gray-900",children:"Đăng nhập RetailPoint"}),l.jsx(ez,{className:"text-gray-600",children:"Nhập thông tin đăng nhập để truy cập hệ thống"})]})]}),l.jsxs(Ve,{className:"space-y-6",children:[o&&l.jsx(uf,{variant:"destructive",children:l.jsx(ff,{children:o})}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Tên đăng nhập"}),l.jsxs("div",{className:"relative",children:[l.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(tt,{id:"username",type:"text",placeholder:"Nhập tên đăng nhập",value:n.username,onChange:m("username"),className:"pl-10 h-11",disabled:f.isPending})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mật khẩu"}),l.jsxs("div",{className:"relative",children:[l.jsx(pie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(tt,{id:"password",type:i?"text":"password",placeholder:"Nhập mật khẩu",value:n.password,onChange:m("password"),className:"pl-10 pr-10 h-11",disabled:f.isPending}),l.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:f.isPending,children:i?l.jsx(cj,{className:"w-4 h-4"}):l.jsx(Hf,{className:"w-4 h-4"})})]})]}),l.jsx(ke,{type:"submit",className:"w-full h-11 bg-indigo-600 hover:bg-indigo-700 text-white font-medium",disabled:f.isPending,children:f.isPending?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang đăng nhập..."]}):l.jsxs(l.Fragment,{children:[l.jsx(K8,{className:"w-4 h-4 mr-2"}),"Đăng nhập"]})})]}),l.jsxs("div",{className:"text-center text-sm text-gray-500",children:[l.jsx("p",{children:"Hệ thống quản lý bán hàng"}),l.jsx("p",{className:"font-medium",children:"RetailPoint POS"}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("p",{className:"text-xs text-gray-400",children:["Vui lòng liên hệ Admin: ",l.jsx("span",{className:"font-medium",children:"Vũ Phong"})]}),l.jsxs("p",{className:"text-xs text-gray-400",children:["ĐT: ",l.jsx("span",{className:"font-medium",children:"0907 999 841"})]}),l.jsxs("p",{className:"text-xs text-gray-400",children:["Email: ",l.jsx("span",{className:"font-medium",children:"vuphongpq@gmail.com"})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Xin cảm ơn"})]})]})]})]})})})}const Voe=[{name:"Bán hàng",href:"/",icon:Lm,permission:"ViewOrders"},{name:"Đơn hàng",href:"/orders",icon:iie,permission:"ViewOrders"},{name:"Sản phẩm",icon:ja,permission:"ViewProducts",submenu:[{name:"Danh sách sản phẩm",href:"/products",icon:ja,permission:"ViewProducts"},{name:"Nhóm sản phẩm",href:"/product-groups",icon:w1,permission:"ViewProducts"}]},{name:"Khách hàng",href:"/customers",icon:qf,permission:"ViewCustomers"},{name:"Kho hàng",href:"/inventory",icon:Sie,permission:"ViewProducts"},{name:"Báo cáo",icon:D1,permission:"ViewReports",submenu:[{name:"Báo cáo tổng hợp",href:"/reports",icon:_s,permission:"ViewReports"},{name:"Báo cáo hủy hàng",href:"/cancelled-orders-report",icon:$T,permission:"ViewReports"}]},{name:"Nhân viên",href:"/staff",icon:dj,permission:"ViewStaff"},{name:"Quản lý cửa hàng",href:"/store-management",icon:Ji,permission:"ViewSettings"},{name:"Cài đặt",href:"/settings",icon:Fm,permission:"ViewSettings"},{name:"Quản lý dữ liệu",href:"/data-management",icon:rm,permission:"ViewDataManagement"}];function Hoe(){const[t]=Fi(),{hasPermission:e}=oo(),[r,n]=T.useState(["Sản phẩm"]),[a,i]=T.useState(!1),s=Voe.filter(c=>!c.permission||e(c.permission)),o=c=>{n(u=>u.includes(c)?u.filter(f=>f!==c):[...u,c])};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:dt("fixed left-0 top-0 h-full w-4 z-40 transition-opacity duration-200",a?"opacity-0":"opacity-100"),onMouseEnter:()=>i(!0)}),l.jsxs("aside",{className:dt("bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ease-in-out fixed left-0 top-0 h-full z-50",a?"w-64 translate-x-0":"w-16 -translate-x-48"),"data-testid":"sidebar",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[l.jsx("div",{className:dt("p-6 border-b border-gray-200",!a&&"px-3"),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(yie,{className:"text-white text-lg"})}),a&&l.jsxs("div",{className:"transition-opacity duration-200",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"PinkWish Shop"}),l.jsx("p",{className:"text-sm text-gray-500"})]})]})}),l.jsx("nav",{className:dt("p-4 space-y-2",!a&&"px-2"),children:l.jsx("div",{className:"space-y-1",children:s.map(c=>{const u=c.icon;if(c.submenu){const h=r.includes(c.name),m=c.submenu.filter(x=>!x.permission||e(x.permission));if(m.length===0)return null;const g=m.some(x=>t===x.href);return l.jsxs("div",{children:[l.jsxs("div",{onClick:()=>a&&o(c.name),className:dt("flex items-center justify-between rounded-lg font-medium transition-colors cursor-pointer",a?"px-4 py-3":"px-2 py-3 justify-center",g?"text-primary bg-blue-50":"text-gray-600 hover:bg-gray-50"),"data-testid":`nav-${c.name.toLowerCase()}`,title:a?void 0:c.name,children:[l.jsxs("div",{className:dt("flex items-center",a?"space-x-3":"justify-center"),children:[l.jsx(u,{className:"w-5 h-5 flex-shrink-0"}),a&&l.jsx("span",{children:c.name})]}),a&&(h?l.jsx(Uf,{className:"w-4 h-4"}):l.jsx(Rm,{className:"w-4 h-4"}))]}),a&&h&&l.jsx("div",{className:"ml-6 mt-1 space-y-1",children:m.map(x=>{const v=t===x.href,w=x.icon;return l.jsx(C8,{href:x.href,children:l.jsxs("div",{className:dt("flex items-center space-x-3 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer",v?"text-primary bg-blue-50":"text-gray-600 hover:bg-gray-50"),"data-testid":`nav-${x.href.slice(1)}`,children:[l.jsx(w,{className:"w-4 h-4"}),l.jsx("span",{children:x.name})]})},x.name)})})]},c.name)}const f=t===c.href;return l.jsx(C8,{href:c.href,children:l.jsxs("div",{className:dt("flex items-center rounded-lg font-medium transition-colors cursor-pointer",a?"space-x-3 px-4 py-3":"px-2 py-3 justify-center",f?"text-primary bg-blue-50":"text-gray-600 hover:bg-gray-50"),"data-testid":`nav-${c.href.slice(1)||"dashboard"}`,title:a?void 0:c.name,children:[l.jsx(u,{className:"w-5 h-5 flex-shrink-0"}),a&&l.jsx("span",{children:c.name})]})},c.name)})})})]})]})}var zoe=T.createContext(void 0);function $2(t){const e=T.useContext(zoe);return t||e||"ltr"}var V_=0;function Cj(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sk()),document.body.insertAdjacentElement("beforeend",t[1]??sk()),V_++,()=>{V_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),V_--}},[])}function sk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var H_="focusScope.autoFocusOnMount",z_="focusScope.autoFocusOnUnmount",ok={bubbles:!1,cancelable:!0},qoe="FocusScope",U2=T.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[o,c]=T.useState(null),u=Ja(a),f=Ja(i),h=T.useRef(null),m=_r(e,v=>c(v)),g=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let v=function(_){if(g.paused||!o)return;const E=_.target;o.contains(E)?h.current=E:Jc(h.current,{select:!0})},w=function(_){if(g.paused||!o)return;const E=_.relatedTarget;E!==null&&(o.contains(E)||Jc(h.current,{select:!0}))},S=function(_){if(document.activeElement===document.body)for(const A of _)A.removedNodes.length>0&&Jc(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const b=new MutationObserver(S);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),b.disconnect()}}},[n,o,g.paused]),T.useEffect(()=>{if(o){ck.add(g);const v=document.activeElement;if(!o.contains(v)){const S=new CustomEvent(H_,ok);o.addEventListener(H_,u),o.dispatchEvent(S),S.defaultPrevented||(Woe(Yoe(nz(o)),{select:!0}),document.activeElement===v&&Jc(o))}return()=>{o.removeEventListener(H_,u),setTimeout(()=>{const S=new CustomEvent(z_,ok);o.addEventListener(z_,f),o.dispatchEvent(S),S.defaultPrevented||Jc(v??document.body,{select:!0}),o.removeEventListener(z_,f),ck.remove(g)},0)}}},[o,u,f,g]);const x=T.useCallback(v=>{if(!r&&!n||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,S=document.activeElement;if(w&&S){const b=v.currentTarget,[_,E]=Goe(b);_&&E?!v.shiftKey&&S===E?(v.preventDefault(),r&&Jc(_,{select:!0})):v.shiftKey&&S===_&&(v.preventDefault(),r&&Jc(E,{select:!0})):S===b&&v.preventDefault()}},[r,n,g.paused]);return l.jsx(Lt.div,{tabIndex:-1,...s,ref:m,onKeyDown:x})});U2.displayName=qoe;function Woe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Jc(n,{select:e}),document.activeElement!==r)return}function Goe(t){const e=nz(t),r=lk(e,t),n=lk(e.reverse(),t);return[r,n]}function nz(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function lk(t,e){for(const r of t)if(!Koe(r,{upTo:e}))return r}function Koe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xoe(t){return t instanceof HTMLInputElement&&"select"in t}function Jc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Xoe(t)&&e&&t.select()}}var ck=Qoe();function Qoe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=uk(t,e),t.unshift(e)},remove(e){var r;t=uk(t,e),(r=t[0])==null||r.resume()}}}function uk(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Yoe(t){return t.filter(e=>e.tagName!=="A")}var q_="rovingFocusGroup.onEntryFocus",Zoe={bubbles:!1,cancelable:!0},V2="RovingFocusGroup",[GT,az,Joe]=O2(V2),[ele,H2]=Li(V2,[Joe]),[tle,rle]=ele(V2),iz=T.forwardRef((t,e)=>l.jsx(GT.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(GT.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(nle,{...t,ref:e})})}));iz.displayName=V2;var nle=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,m=T.useRef(null),g=_r(e,m),x=$2(i),[v=null,w]=oc({prop:s,defaultProp:o,onChange:c}),[S,b]=T.useState(!1),_=Ja(u),E=az(r),A=T.useRef(!1),[j,O]=T.useState(0);return T.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(q_,_),()=>D.removeEventListener(q_,_)},[_]),l.jsx(tle,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:v,onItemFocus:T.useCallback(D=>w(D),[w]),onItemShiftTab:T.useCallback(()=>b(!0),[]),onFocusableItemAdd:T.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:T.useCallback(()=>O(D=>D-1),[]),children:l.jsx(Lt.div,{tabIndex:S||j===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:mt(t.onMouseDown,()=>{A.current=!0}),onFocus:mt(t.onFocus,D=>{const M=!A.current;if(D.target===D.currentTarget&&M&&!S){const k=new CustomEvent(q_,Zoe);if(D.currentTarget.dispatchEvent(k),!k.defaultPrevented){const I=E().filter(ue=>ue.focusable),R=I.find(ue=>ue.active),L=I.find(ue=>ue.id===v),X=[R,L,...I].filter(Boolean).map(ue=>ue.ref.current);lz(X,f)}}A.current=!1}),onBlur:mt(t.onBlur,()=>b(!1))})})}),sz="RovingFocusGroupItem",oz=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...s}=t,o=fl(),c=i||o,u=rle(sz,r),f=u.currentTabStopId===c,h=az(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return T.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),l.jsx(GT.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:l.jsx(Lt.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:mt(t.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:mt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:mt(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=sle(x,u.orientation,u.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=h().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const b=S.indexOf(x.currentTarget);S=u.loop?ole(S,b+1):S.slice(b+1)}setTimeout(()=>lz(S))}})})})});oz.displayName=sz;var ale={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ile(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function sle(t,e,r){const n=ile(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ale[n]}function lz(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function ole(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var cz=iz,uz=oz,lle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wd=new WeakMap,$x=new WeakMap,Ux={},W_=0,fz=function(t){return t&&(t.host||fz(t.parentNode))},cle=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=fz(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},ule=function(t,e,r,n){var a=cle(e,Array.isArray(t)?t:[t]);Ux[r]||(Ux[r]=new WeakMap);var i=Ux[r],s=[],o=new Set,c=new Set(a),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};a.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(o.has(m))f(m);else try{var g=m.getAttribute(n),x=g!==null&&g!=="false",v=(Wd.get(m)||0)+1,w=(i.get(m)||0)+1;Wd.set(m,v),i.set(m,w),s.push(m),v===1&&x&&$x.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return f(e),o.clear(),W_++,function(){s.forEach(function(h){var m=Wd.get(h)-1,g=i.get(h)-1;Wd.set(h,m),i.set(h,g),m||($x.has(h)||h.removeAttribute(n),$x.delete(h)),g||h.removeAttribute(r)}),W_--,W_||(Wd=new WeakMap,Wd=new WeakMap,$x=new WeakMap,Ux={})}},jj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=lle(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),ule(n,a,r,"aria-hidden")):function(){return null}},sl=function(){return sl=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},sl.apply(this,arguments)};function dz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function fle(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var S1="right-scroll-bar-position",N1="width-before-scroll-bar",dle="with-scroll-bars-hidden",hle="--removed-body-scroll-bar-size";function G_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ple(t,e){var r=T.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var mle=typeof window<"u"?T.useLayoutEffect:T.useEffect,fk=new WeakMap;function gle(t,e){var r=ple(null,function(n){return t.forEach(function(a){return G_(a,n)})});return mle(function(){var n=fk.get(r);if(n){var a=new Set(n),i=new Set(t),s=r.current;a.forEach(function(o){i.has(o)||G_(o,null)}),i.forEach(function(o){a.has(o)||G_(o,s)})}fk.set(r,t)},[t]),r}function vle(t){return t}function xle(t,e){e===void 0&&(e=vle);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var s=e(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var c=function(){var f=s;s=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),r}}}};return a}function yle(t){t===void 0&&(t={});var e=xle(null);return e.options=sl({async:!0,ssr:!1},t),e}var hz=function(t){var e=t.sideCar,r=dz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,sl({},r))};hz.isSideCarExport=!0;function wle(t,e){return t.useMedium(e),hz}var pz=yle(),K_=function(){},z2=T.forwardRef(function(t,e){var r=T.useRef(null),n=T.useState({onScrollCapture:K_,onWheelCapture:K_,onTouchMoveCapture:K_}),a=n[0],i=n[1],s=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noIsolation,x=t.inert,v=t.allowPinchZoom,w=t.as,S=w===void 0?"div":w,b=t.gapMode,_=dz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,A=gle([r,e]),j=sl(sl({},_),a);return T.createElement(T.Fragment,null,f&&T.createElement(E,{sideCar:pz,removeScrollBar:u,shards:h,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),s?T.cloneElement(T.Children.only(o),sl(sl({},j),{ref:A})):T.createElement(S,sl({},j,{className:c,ref:A}),o))});z2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z2.classNames={fullWidth:N1,zeroRight:S1};var ble=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _le(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ble();return e&&t.setAttribute("nonce",e),t}function Sle(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Nle(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ele=function(){var t=0,e=null;return{add:function(r){t==0&&(e=_le())&&(Sle(e,r),Nle(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ale=function(){var t=Ele();return function(e,r){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},mz=function(){var t=Ale(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},Tle={left:0,top:0,right:0,gap:0},X_=function(t){return parseInt(t||"",10)||0},Cle=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[X_(r),X_(n),X_(a)]},jle=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Tle;var e=Cle(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Ole=mz(),wh="data-scroll-locked",Ile=function(t,e,r,n){var a=t.left,i=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(dle,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(wh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(S1,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(N1,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(S1," .").concat(S1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(N1," .").concat(N1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wh,`] {
    `).concat(hle,": ").concat(o,`px;
  }
`)},dk=function(){var t=parseInt(document.body.getAttribute(wh)||"0",10);return isFinite(t)?t:0},Ple=function(){T.useEffect(function(){return document.body.setAttribute(wh,(dk()+1).toString()),function(){var t=dk()-1;t<=0?document.body.removeAttribute(wh):document.body.setAttribute(wh,t.toString())}},[])},kle=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;Ple();var i=T.useMemo(function(){return jle(a)},[a]);return T.createElement(Ole,{styles:Ile(i,!e,a,r?"":"!important")})},KT=!1;if(typeof window<"u")try{var Vx=Object.defineProperty({},"passive",{get:function(){return KT=!0,!0}});window.addEventListener("test",Vx,Vx),window.removeEventListener("test",Vx,Vx)}catch{KT=!1}var Gd=KT?{passive:!1}:!1,Dle=function(t){return t.tagName==="TEXTAREA"},gz=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Dle(t)&&r[e]==="visible")},Rle=function(t){return gz(t,"overflowY")},Mle=function(t){return gz(t,"overflowX")},hk=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=vz(t,n);if(a){var i=xz(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Fle=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Lle=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},vz=function(t,e){return t==="v"?Rle(e):Mle(e)},xz=function(t,e){return t==="v"?Fle(e):Lle(e)},Ble=function(t,e){return t==="h"&&e==="rtl"?-1:1},$le=function(t,e,r,n,a){var i=Ble(t,window.getComputedStyle(e).direction),s=i*n,o=r.target,c=e.contains(o),u=!1,f=s>0,h=0,m=0;do{var g=xz(t,o),x=g[0],v=g[1],w=g[2],S=v-w-i*x;(x||S)&&vz(t,o)&&(h+=S,m+=x),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Hx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pk=function(t){return[t.deltaX,t.deltaY]},mk=function(t){return t&&"current"in t?t.current:t},Ule=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hle=0,Kd=[];function zle(t){var e=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),a=T.useState(Hle++)[0],i=T.useState(mz)[0],s=T.useRef(t);T.useEffect(function(){s.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var v=fle([t.lockRef.current],(t.shards||[]).map(mk),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var S=Hx(v),b=r.current,_="deltaX"in v?v.deltaX:b[0]-S[0],E="deltaY"in v?v.deltaY:b[1]-S[1],A,j=v.target,O=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in v&&O==="h"&&j.type==="range")return!1;var D=hk(O,j);if(!D)return!0;if(D?A=O:(A=O==="v"?"h":"v",D=hk(O,j)),!D)return!1;if(!n.current&&"changedTouches"in v&&(_||E)&&(n.current=A),!A)return!0;var M=n.current||A;return $le(M,w,v,M==="h"?_:E)},[]),c=T.useCallback(function(v){var w=v;if(!(!Kd.length||Kd[Kd.length-1]!==i)){var S="deltaY"in w?pk(w):Hx(w),b=e.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&Ule(A.delta,S)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var _=(s.current.shards||[]).map(mk).filter(Boolean).filter(function(A){return A.contains(w.target)}),E=_.length>0?o(w,_[0]):!s.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),u=T.useCallback(function(v,w,S,b){var _={name:v,delta:w,target:S,should:b,shadowParent:qle(S)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),f=T.useCallback(function(v){r.current=Hx(v),n.current=void 0},[]),h=T.useCallback(function(v){u(v.type,pk(v),v.target,o(v,t.lockRef.current))},[]),m=T.useCallback(function(v){u(v.type,Hx(v),v.target,o(v,t.lockRef.current))},[]);T.useEffect(function(){return Kd.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Gd),document.addEventListener("touchmove",c,Gd),document.addEventListener("touchstart",f,Gd),function(){Kd=Kd.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Gd),document.removeEventListener("touchmove",c,Gd),document.removeEventListener("touchstart",f,Gd)}},[]);var g=t.removeScrollBar,x=t.inert;return T.createElement(T.Fragment,null,x?T.createElement(i,{styles:Vle(a)}):null,g?T.createElement(kle,{gapMode:t.gapMode}):null)}function qle(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Wle=wle(pz,zle);var q2=T.forwardRef(function(t,e){return T.createElement(z2,sl({},t,{ref:e,sideCar:Wle}))});q2.classNames=z2.classNames;var XT=["Enter"," "],Gle=["ArrowDown","PageUp","Home"],yz=["ArrowUp","PageDown","End"],Kle=[...Gle,...yz],Xle={ltr:[...XT,"ArrowRight"],rtl:[...XT,"ArrowLeft"]},Qle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lv="Menu",[Um,Yle,Zle]=O2(lv),[sd,wz]=Li(lv,[Zle,B0,H2]),W2=B0(),bz=H2(),[Jle,od]=sd(lv),[ece,cv]=sd(lv),_z=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=t,o=W2(e),[c,u]=T.useState(null),f=T.useRef(!1),h=Ja(i),m=$2(a);return T.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(zH,{...o,children:l.jsx(Jle,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(ece,{scope:e,onClose:T.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:s,children:n})})})};_z.displayName=lv;var tce="MenuAnchor",Oj=T.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=W2(r);return l.jsx(Nj,{...a,...n,ref:e})});Oj.displayName=tce;var Ij="MenuPortal",[rce,Sz]=sd(Ij,{forceMount:void 0}),Nz=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=od(Ij,e);return l.jsx(rce,{scope:e,forceMount:r,children:l.jsx(so,{present:r||i.open,children:l.jsx(av,{asChild:!0,container:a,children:n})})})};Nz.displayName=Ij;var no="MenuContent",[nce,Pj]=sd(no),Ez=T.forwardRef((t,e)=>{const r=Sz(no,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=od(no,t.__scopeMenu),s=cv(no,t.__scopeMenu);return l.jsx(Um.Provider,{scope:t.__scopeMenu,children:l.jsx(so,{present:n||i.open,children:l.jsx(Um.Slot,{scope:t.__scopeMenu,children:s.modal?l.jsx(ace,{...a,ref:e}):l.jsx(ice,{...a,ref:e})})})})}),ace=T.forwardRef((t,e)=>{const r=od(no,t.__scopeMenu),n=T.useRef(null),a=_r(e,n);return T.useEffect(()=>{const i=n.current;if(i)return jj(i)},[]),l.jsx(kj,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:mt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ice=T.forwardRef((t,e)=>{const r=od(no,t.__scopeMenu);return l.jsx(kj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),sce=$f("MenuContent.ScrollLock"),kj=T.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=t,w=od(no,r),S=cv(no,r),b=W2(r),_=bz(r),E=Yle(r),[A,j]=T.useState(null),O=T.useRef(null),D=_r(e,O,w.onContentChange),M=T.useRef(0),k=T.useRef(""),I=T.useRef(0),R=T.useRef(null),L=T.useRef("right"),U=T.useRef(0),X=x?q2:T.Fragment,ue=x?{as:sce,allowPinchZoom:!0}:void 0,he=ne=>{var pe,W;const G=k.current+ne,z=E().filter(V=>!V.disabled),F=document.activeElement,ee=(pe=z.find(V=>V.ref.current===F))==null?void 0:pe.textValue,K=z.map(V=>V.textValue),ae=xce(K,G,ee),q=(W=z.find(V=>V.textValue===ae))==null?void 0:W.ref.current;(function V(fe){k.current=fe,window.clearTimeout(M.current),fe!==""&&(M.current=window.setTimeout(()=>V(""),1e3))})(G),q&&setTimeout(()=>q.focus())};T.useEffect(()=>()=>window.clearTimeout(M.current),[]),Cj();const J=T.useCallback(ne=>{var z,F;return L.current===((z=R.current)==null?void 0:z.side)&&wce(ne,(F=R.current)==null?void 0:F.area)},[]);return l.jsx(nce,{scope:r,searchRef:k,onItemEnter:T.useCallback(ne=>{J(ne)&&ne.preventDefault()},[J]),onItemLeave:T.useCallback(ne=>{var G;J(ne)||((G=O.current)==null||G.focus(),j(null))},[J]),onTriggerLeave:T.useCallback(ne=>{J(ne)&&ne.preventDefault()},[J]),pointerGraceTimerRef:I,onPointerGraceIntentChange:T.useCallback(ne=>{R.current=ne},[]),children:l.jsx(X,{...ue,children:l.jsx(U2,{asChild:!0,trapped:a,onMountAutoFocus:mt(i,ne=>{var G;ne.preventDefault(),(G=O.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(k0,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:l.jsx(cz,{asChild:!0,..._,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:j,onEntryFocus:mt(c,ne=>{S.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Ej,{role:"menu","aria-orientation":"vertical","data-state":Uz(w.open),"data-radix-menu-content":"",dir:S.dir,...b,...v,ref:D,style:{outline:"none",...v.style},onKeyDown:mt(v.onKeyDown,ne=>{const z=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,F=ne.ctrlKey||ne.altKey||ne.metaKey,ee=ne.key.length===1;z&&(ne.key==="Tab"&&ne.preventDefault(),!F&&ee&&he(ne.key));const K=O.current;if(ne.target!==K||!Kle.includes(ne.key))return;ne.preventDefault();const q=E().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);yz.includes(ne.key)&&q.reverse(),gce(q)}),onBlur:mt(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(M.current),k.current="")}),onPointerMove:mt(t.onPointerMove,Vm(ne=>{const G=ne.target,z=U.current!==ne.clientX;if(ne.currentTarget.contains(G)&&z){const F=ne.clientX>U.current?"right":"left";L.current=F,U.current=ne.clientX}}))})})})})})})});Ez.displayName=no;var oce="MenuGroup",Dj=T.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Lt.div,{role:"group",...n,ref:e})});Dj.displayName=oce;var lce="MenuLabel",Az=T.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Lt.div,{...n,ref:e})});Az.displayName=lce;var U1="MenuItem",gk="menu.itemSelect",G2=T.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=T.useRef(null),s=cv(U1,t.__scopeMenu),o=Pj(U1,t.__scopeMenu),c=_r(e,i),u=T.useRef(!1),f=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(gk,{bubbles:!0,cancelable:!0});h.addEventListener(gk,g=>n==null?void 0:n(g),{once:!0}),aj(h,m),m.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(Tz,{...a,ref:c,disabled:r,onClick:mt(t.onClick,f),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:mt(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:mt(t.onKeyDown,h=>{const m=o.searchRef.current!=="";r||m&&h.key===" "||XT.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});G2.displayName=U1;var Tz=T.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,s=Pj(U1,r),o=bz(r),c=T.useRef(null),u=_r(e,c),[f,h]=T.useState(!1),[m,g]=T.useState("");return T.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[i.children]),l.jsx(Um.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:l.jsx(uz,{asChild:!0,...o,focusable:!n,children:l.jsx(Lt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:mt(t.onPointerMove,Vm(x=>{n?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:mt(t.onPointerLeave,Vm(x=>s.onItemLeave(x))),onFocus:mt(t.onFocus,()=>h(!0)),onBlur:mt(t.onBlur,()=>h(!1))})})})}),cce="MenuCheckboxItem",Cz=T.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return l.jsx(kz,{scope:t.__scopeMenu,checked:r,children:l.jsx(G2,{role:"menuitemcheckbox","aria-checked":V1(r)?"mixed":r,...a,ref:e,"data-state":Mj(r),onSelect:mt(a.onSelect,()=>n==null?void 0:n(V1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Cz.displayName=cce;var jz="MenuRadioGroup",[uce,fce]=sd(jz,{value:void 0,onValueChange:()=>{}}),Oz=T.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=Ja(n);return l.jsx(uce,{scope:t.__scopeMenu,value:r,onValueChange:i,children:l.jsx(Dj,{...a,ref:e})})});Oz.displayName=jz;var Iz="MenuRadioItem",Pz=T.forwardRef((t,e)=>{const{value:r,...n}=t,a=fce(Iz,t.__scopeMenu),i=r===a.value;return l.jsx(kz,{scope:t.__scopeMenu,checked:i,children:l.jsx(G2,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":Mj(i),onSelect:mt(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});Pz.displayName=Iz;var Rj="MenuItemIndicator",[kz,dce]=sd(Rj,{checked:!1}),Dz=T.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=dce(Rj,r);return l.jsx(so,{present:n||V1(i.checked)||i.checked===!0,children:l.jsx(Lt.span,{...a,ref:e,"data-state":Mj(i.checked)})})});Dz.displayName=Rj;var hce="MenuSeparator",Rz=T.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Lt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Rz.displayName=hce;var pce="MenuArrow",Mz=T.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=W2(r);return l.jsx(Aj,{...a,...n,ref:e})});Mz.displayName=pce;var mce="MenuSub",[AMe,Fz]=sd(mce),nm="MenuSubTrigger",Lz=T.forwardRef((t,e)=>{const r=od(nm,t.__scopeMenu),n=cv(nm,t.__scopeMenu),a=Fz(nm,t.__scopeMenu),i=Pj(nm,t.__scopeMenu),s=T.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},f=T.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return T.useEffect(()=>f,[f]),T.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),l.jsx(Oj,{asChild:!0,...u,children:l.jsx(Tz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Uz(r.open),...t,ref:j2(e,a.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:mt(t.onPointerMove,Vm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:mt(t.onPointerLeave,Vm(h=>{var g,x;f();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=r.content)==null?void 0:x.dataset.side,w=v==="right",S=w?-5:5,b=m[w?"left":"right"],_=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+S,y:h.clientY},{x:b,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:b,y:m.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:mt(t.onKeyDown,h=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&h.key===" "||Xle[n.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});Lz.displayName=nm;var Bz="MenuSubContent",$z=T.forwardRef((t,e)=>{const r=Sz(no,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=od(no,t.__scopeMenu),s=cv(no,t.__scopeMenu),o=Fz(Bz,t.__scopeMenu),c=T.useRef(null),u=_r(e,c);return l.jsx(Um.Provider,{scope:t.__scopeMenu,children:l.jsx(so,{present:n||i.open,children:l.jsx(Um.Slot,{scope:t.__scopeMenu,children:l.jsx(kj,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;s.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:mt(t.onFocusOutside,f=>{f.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:mt(t.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:mt(t.onKeyDown,f=>{var g;const h=f.currentTarget.contains(f.target),m=Qle[s.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(g=o.trigger)==null||g.focus(),f.preventDefault())})})})})})});$z.displayName=Bz;function Uz(t){return t?"open":"closed"}function V1(t){return t==="indeterminate"}function Mj(t){return V1(t)?"indeterminate":t?"checked":"unchecked"}function gce(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function vce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function xce(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=vce(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function yce(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const o=e[i].x,c=e[i].y,u=e[s].x,f=e[s].y;c>n!=f>n&&r<(u-o)*(n-c)/(f-c)+o&&(a=!a)}return a}function wce(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return yce(r,e)}function Vm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bce=_z,_ce=Oj,Sce=Nz,Nce=Ez,Ece=Dj,Ace=Az,Tce=G2,Cce=Cz,jce=Oz,Oce=Pz,Ice=Dz,Pce=Rz,kce=Mz,Dce=Lz,Rce=$z,Fj="DropdownMenu",[Mce,TMe]=Li(Fj,[wz]),Bi=wz(),[Fce,Vz]=Mce(Fj),Hz=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,c=Bi(e),u=T.useRef(null),[f=!1,h]=oc({prop:a,defaultProp:i,onChange:s});return l.jsx(Fce,{scope:e,triggerId:fl(),triggerRef:u,contentId:fl(),open:f,onOpenChange:h,onOpenToggle:T.useCallback(()=>h(m=>!m),[h]),modal:o,children:l.jsx(bce,{...c,open:f,onOpenChange:h,dir:n,modal:o,children:r})})};Hz.displayName=Fj;var zz="DropdownMenuTrigger",qz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=Vz(zz,r),s=Bi(r);return l.jsx(_ce,{asChild:!0,...s,children:l.jsx(Lt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:j2(e,i.triggerRef),onPointerDown:mt(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:mt(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});qz.displayName=zz;var Lce="DropdownMenuPortal",Wz=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Bi(e);return l.jsx(Sce,{...n,...r})};Wz.displayName=Lce;var Gz="DropdownMenuContent",Kz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Vz(Gz,r),i=Bi(r),s=T.useRef(!1);return l.jsx(Nce,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:mt(t.onCloseAutoFocus,o=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:mt(t.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Kz.displayName=Gz;var Bce="DropdownMenuGroup",$ce=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Ece,{...a,...n,ref:e})});$ce.displayName=Bce;var Uce="DropdownMenuLabel",Xz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Ace,{...a,...n,ref:e})});Xz.displayName=Uce;var Vce="DropdownMenuItem",Qz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Tce,{...a,...n,ref:e})});Qz.displayName=Vce;var Hce="DropdownMenuCheckboxItem",Yz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Cce,{...a,...n,ref:e})});Yz.displayName=Hce;var zce="DropdownMenuRadioGroup",qce=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(jce,{...a,...n,ref:e})});qce.displayName=zce;var Wce="DropdownMenuRadioItem",Zz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Oce,{...a,...n,ref:e})});Zz.displayName=Wce;var Gce="DropdownMenuItemIndicator",Jz=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Ice,{...a,...n,ref:e})});Jz.displayName=Gce;var Kce="DropdownMenuSeparator",eq=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Pce,{...a,...n,ref:e})});eq.displayName=Kce;var Xce="DropdownMenuArrow",Qce=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(kce,{...a,...n,ref:e})});Qce.displayName=Xce;var Yce="DropdownMenuSubTrigger",tq=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Dce,{...a,...n,ref:e})});tq.displayName=Yce;var Zce="DropdownMenuSubContent",rq=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Bi(r);return l.jsx(Rce,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rq.displayName=Zce;var Jce=Hz,eue=qz,tue=Wz,nq=Kz,aq=Xz,iq=Qz,sq=Yz,oq=Zz,lq=Jz,cq=eq,uq=tq,fq=rq;const H1=Jce,z1=eue,rue=T.forwardRef(({className:t,inset:e,children:r,...n},a)=>l.jsxs(uq,{ref:a,className:dt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,l.jsx(Rm,{className:"ml-auto"})]}));rue.displayName=uq.displayName;const nue=T.forwardRef(({className:t,...e},r)=>l.jsx(fq,{ref:r,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));nue.displayName=fq.displayName;const Hm=T.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(tue,{children:l.jsx(nq,{ref:n,sideOffset:e,className:dt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Hm.displayName=nq.displayName;const Xl=T.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(iq,{ref:n,className:dt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));Xl.displayName=iq.displayName;const aue=T.forwardRef(({className:t,children:e,checked:r,...n},a)=>l.jsxs(sq,{ref:a,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lq,{children:l.jsx(k2,{className:"h-4 w-4"})})}),e]}));aue.displayName=sq.displayName;const iue=T.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(oq,{ref:n,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lq,{children:l.jsx(aie,{className:"h-2 w-2 fill-current"})})}),e]}));iue.displayName=oq.displayName;const QT=T.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(aq,{ref:n,className:dt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));QT.displayName=aq.displayName;const sf=T.forwardRef(({className:t,...e},r)=>l.jsx(cq,{ref:r,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));sf.displayName=cq.displayName;const sue=t=>{switch(t){case 1:return"info";case 2:return"warning";case 3:return"success";case 4:return"warning";case 5:return"error";default:return"info"}},oue=t=>{const e=new Date,r=new Date(t),n=e.getTime()-r.getTime(),a=Math.floor(n/(1e3*60)),i=Math.floor(n/(1e3*60*60)),s=Math.floor(n/(1e3*60*60*24));return a<1?"Vừa xong":a<60?`${a} phút trước`:i<24?`${i} giờ trước`:`${s} ngày trước`},lue=t=>({id:t.notificationId.toString(),type:sue(t.type),title:t.title,message:t.message||"",time:oue(t.createdAt),read:t.status===1}),dq=()=>{const t=El(),{data:e=[],refetch:r}=Ft({queryKey:["/api/notifications"],queryFn:()=>At("/api/notifications?pageSize=50",{method:"GET"}),refetchInterval:3e4}),{data:n}=Ft({queryKey:["/api/notifications/count"],queryFn:()=>At("/api/notifications/count",{method:"GET"}),refetchInterval:1e4}),a=Vt({mutationFn:h=>At(`/api/notifications/${h}/mark-read`,{method:"POST"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/count"]})}}),i=Vt({mutationFn:()=>At("/api/notifications/mark-all-read",{method:"POST"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/count"]})}}),s=Vt({mutationFn:h=>At(`/api/notifications/${h}`,{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/count"]})}}),o=Vt({mutationFn:h=>At(`/api/notifications/${h}/navigate`,{method:"GET"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/count"]})}}),c=e.map(lue),u=(n==null?void 0:n.unreadCount)||0,f=h=>{const m=e.find(g=>g.notificationId.toString()===h.id);return m?(h.read||a.mutate(m.notificationId),{type:m.type,orderId:m.orderId,productId:m.productId,customerId:m.customerId,metadata:m.metadata}):null};return{notifications:c,unreadCount:u,totalCount:(n==null?void 0:n.totalCount)||0,markAsRead:a.mutate,markAllAsRead:i.mutate,deleteNotification:s.mutate,getNavigationInfo:o.mutateAsync,handleNotificationClick:f,refetch:r,isLoading:a.isPending||i.isPending||s.isPending}};function Q_(){const{refreshPermissions:t}=oo(),e=async()=>{await t(),window.location.reload()};return l.jsxs(ke,{onClick:e,variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(uj,{className:"h-4 w-4"}),"Refresh Permissions"]})}function vk({onStoreChange:t}){const{availableStores:e,currentStore:r,switchStore:n}=oo(),[a,i]=T.useState(null),[s,o]=T.useState(!1),[c,u]=T.useState(!1),f=e||[];T.useEffect(()=>{r&&i(r)},[r]);const h=async m=>{u(!0);try{await n(m.storeId),i(m),o(!1),t==null||t(m),window.dispatchEvent(new CustomEvent("storeChanged",{detail:m}))}catch(g){console.error("Error switching store:",g),alert("Có lỗi xảy ra khi chuyển cửa hàng")}finally{u(!1)}};return f.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Không có quyền truy cập cửa hàng nào"}):f.length===1?l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx(Ji,{className:"w-4 h-4 text-blue-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:f[0].name}),l.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[l.jsx(Of,{className:"w-3 h-3 mr-1"}),f[0].address]})]})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>o(!s),disabled:c,className:"w-full flex items-center justify-between space-x-2 p-3 bg-gray-50 hover:bg-gray-100 rounded-lg border transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ji,{className:`w-4 h-4 ${a?"text-blue-600":"text-gray-400"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`font-medium text-sm ${a?"text-gray-900":"text-gray-500"}`,children:(a==null?void 0:a.name)||(f.length===0?"Chưa có cửa hàng":"Chọn cửa hàng")}),a&&l.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[l.jsx(Of,{className:"w-3 h-3 mr-1"}),a.address]}),!a&&f.length===0&&l.jsx("div",{className:"text-gray-400 text-xs",children:"Chưa được phân quyền"})]})]}),l.jsx(Uf,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto min-w-[400px] max-w-[500px]",children:f.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"text-gray-400 mb-3",children:l.jsx(Ji,{className:"w-12 h-12 mx-auto"})}),l.jsx("div",{className:"text-gray-700 font-medium mb-2",children:"Chưa có cửa hàng nào"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Bạn chưa được phân quyền vào cửa hàng nào. Vui lòng liên hệ với quản trị viên để được cấp quyền truy cập."})]}):f.map(m=>l.jsx("button",{onClick:()=>h(m),disabled:c,className:`w-full text-left p-4 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 last:border-b-0 ${(a==null?void 0:a.storeId)===m.storeId?"bg-blue-50 border-l-4 border-blue-500":""}`,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Ji,{className:`w-5 h-5 mt-0.5 ${(a==null?void 0:a.storeId)===m.storeId?"text-blue-600":"text-gray-400"}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:m.name}),l.jsxs("div",{className:"text-gray-500 text-xs flex items-center mt-2",children:[l.jsx(Of,{className:"w-3 h-3 mr-1 text-red-400"}),l.jsx("span",{className:"truncate",children:m.address})]}),m.manager&&l.jsxs("div",{className:"text-blue-600 text-xs mt-1 flex items-center",children:[l.jsx("span",{className:"mr-1",children:"👤"}),"Quản lý: ",m.manager]}),m.phone&&l.jsxs("div",{className:"text-green-600 text-xs mt-1 flex items-center",children:[l.jsx("span",{className:"mr-1",children:"📞"}),m.phone]})]}),(a==null?void 0:a.storeId)===m.storeId&&l.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"✓"})]})},m.storeId))}),c&&l.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]})}const xk=()=>{const[t,e]=T.useState(null),[r,n]=T.useState(!0);T.useEffect(()=>{a();const i=()=>{a()};return window.addEventListener("storeChanged",i),()=>{window.removeEventListener("storeChanged",i)}},[]);const a=async()=>{try{const i=await fetch("http://101.53.9.76:5273/api/storeswitch/current-info",{method:"GET",headers:{"Content-Type":"application/json",Username:"admin"},credentials:"include"});if(i.ok){const s=await i.json();s.storeId?e(s):e(null)}}catch(i){console.error("Error fetching store info:",i),e(null)}finally{n(!1)}};return r?l.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 lg:px-4 py-1 sm:py-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:l.jsxs("div",{className:"animate-pulse flex items-center space-x-1 sm:space-x-2",children:[l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-blue-300 rounded"}),l.jsx("div",{className:"w-16 sm:w-24 lg:w-32 h-3 sm:h-4 bg-blue-300 rounded"})]})}):t?l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 lg:px-4 py-1 sm:py-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 shadow-sm max-w-32 sm:max-w-40 lg:max-w-none",children:[l.jsx(Ji,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 flex-shrink-0"}),l.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[l.jsx("span",{className:"text-xs sm:text-sm font-semibold text-blue-900 truncate",title:t.storeName,children:t.shortName}),l.jsx("span",{className:"text-xs text-blue-600 hidden lg:block",children:"Cửa hàng hiện tại"})]})]}):l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 lg:px-4 py-1 sm:py-2 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[l.jsx(Ji,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),l.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 font-medium truncate",children:[l.jsx("span",{className:"hidden sm:inline",children:"Chưa chọn cửa hàng"}),l.jsx("span",{className:"sm:hidden",children:"Chưa chọn"})]})]})};function cue({title:t,onToggleNotifications:e,isWebSocketConnected:r}){const[n,a]=T.useState(new Date),[,i]=Fi(),{unreadCount:s}=dq(),{user:o,logout:c}=oo();T.useEffect(()=>{const f=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(f)},[]);const u=()=>{c(),i("/login")};return l.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200","data-testid":"header",children:[l.jsxs("div",{className:"sm:hidden p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-900 truncate flex-1 mr-2","data-testid":"page-title",children:t}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsxs("button",{className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg",onClick:e,"data-testid":"button-notifications",children:[l.jsx(q8,{className:"h-4 w-4"}),s>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-error text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:s>9?"9+":s})]}),o&&l.jsxs(H1,{children:[l.jsx(z1,{asChild:!0,children:l.jsx(ke,{variant:"outline",size:"sm",className:"px-2",children:l.jsx(mie,{className:"h-4 w-4"})})}),l.jsxs(Hm,{align:"end",className:"w-80",children:[l.jsx(QT,{children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:o.fullName}),l.jsx("p",{className:"text-xs text-gray-500",children:o.email||o.username}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Vai trò: ",o.roleName]})]})}),l.jsx(sf,{}),l.jsxs("div",{className:"p-2",children:[l.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Cửa hàng hiện tại:"}),l.jsx(vk,{onStoreChange:f=>{console.log("Store changed to:",f)}})]}),l.jsx(sf,{}),l.jsxs(Xl,{onClick:()=>i("/sales"),children:[l.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Bán hàng nhanh"]}),l.jsx(Xl,{asChild:!0,children:l.jsx("div",{className:"p-0",children:l.jsx(Q_,{})})}),l.jsx(sf,{}),l.jsxs(Xl,{onClick:u,className:"text-red-600",children:[l.jsx(UT,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[l.jsx("span",{"data-testid":"current-date",children:n.toLocaleDateString("vi-VN")}),l.jsx("span",{children:"•"}),l.jsx("span",{"data-testid":"current-time",children:n.toLocaleTimeString("vi-VN")}),r&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx("span",{className:"text-green-600","data-testid":"ws-status",children:"● Live"})]})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(xk,{})})]})]}),l.jsx("div",{className:"hidden sm:block p-4 lg:p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1 mr-4",children:[l.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 truncate","data-testid":"page-title",children:t}),l.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[l.jsx("span",{"data-testid":"current-date",children:n.toLocaleDateString("vi-VN")}),l.jsx("span",{className:"hidden md:inline",children:"•"}),l.jsx("span",{"data-testid":"current-time",className:"hidden md:inline",children:n.toLocaleTimeString("vi-VN")}),r&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"hidden lg:inline",children:"•"}),l.jsx("span",{className:"text-green-600 hidden lg:inline","data-testid":"ws-status",children:"● Live"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 flex-shrink-0",children:[l.jsx(xk,{}),l.jsx("div",{className:"hidden lg:block",children:l.jsx(Q_,{})}),l.jsxs("button",{className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg flex-shrink-0",onClick:e,"data-testid":"button-notifications",children:[l.jsx(q8,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-error text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:s>99?"99+":s})]}),l.jsxs(ke,{className:"bg-primary hover:bg-blue-700 text-sm px-2 sm:px-4 py-1 sm:py-2","data-testid":"button-quick-sale",onClick:()=>i("/sales"),children:[l.jsx(Jl,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Bán hàng nhanh"})]}),o&&l.jsxs(H1,{children:[l.jsx(z1,{asChild:!0,children:l.jsxs(ke,{variant:"outline",className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1 sm:py-2 flex-shrink-0",children:[l.jsx(xc,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden lg:inline text-sm truncate max-w-20 xl:max-w-none",children:o.fullName}),l.jsx(Uf,{className:"h-4 w-4"})]})}),l.jsxs(Hm,{align:"end",className:"w-64 sm:w-72",children:[l.jsx(QT,{children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:o.fullName}),l.jsx("p",{className:"text-xs text-gray-500",children:o.email||o.username}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Vai trò: ",o.roleName]})]})}),l.jsx(sf,{}),l.jsxs("div",{className:"p-2",children:[l.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Cửa hàng hiện tại:"}),l.jsx(vk,{onStoreChange:f=>{console.log("Store changed to:",f)}})]}),l.jsx(sf,{}),l.jsx("div",{className:"block lg:hidden p-2",children:l.jsx(Q_,{})}),l.jsx(sf,{className:"block lg:hidden"}),l.jsxs(Xl,{onClick:u,className:"text-red-600",children:[l.jsx(UT,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})]})]})]})]})})]})}const Lj=()=>{const t=T.useRef(null),e=T.useCallback(()=>{const n=new(window.AudioContext||window.webkitAudioContext),a=n.createOscillator(),i=n.createOscillator(),s=n.createGain();return a.connect(s),i.connect(s),s.connect(n.destination),a.frequency.setValueAtTime(800,n.currentTime),i.frequency.setValueAtTime(600,n.currentTime),a.type="sine",i.type="sine",s.gain.setValueAtTime(0,n.currentTime),s.gain.linearRampToValueAtTime(.3,n.currentTime+.1),s.gain.exponentialRampToValueAtTime(.01,n.currentTime+.8),a.start(n.currentTime),i.start(n.currentTime),a.stop(n.currentTime+.8),i.stop(n.currentTime+.8),n},[]);return{playNotificationSound:T.useCallback(()=>{try{e()}catch(n){console.log("Không thể phát âm thanh:",n);try{if(!t.current){const a=new Audio;a.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiMzvHLfiMHImfA7dWPOAgSU6Xf7bhgGQQ5jdT1zm4jBiVuv+zZjDoKF2q+6d2OOQgUUqnh5rZgGQU+ksz1zG4jBiFov+vYjTkIElOp5Oy1YRoFPJLM9Mxv",t.current=a}t.current.volume=.3,t.current.play().catch(()=>{})}catch(a){console.log("Fallback audio cũng thất bại:",a)}}},[e])}},uue=sv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:t,variant:e,...r}){return l.jsx("div",{className:dt(uue({variant:e}),t),...r})}function fue({orderId:t,show:e,onClose:r,onReopenOrder:n}){var w,S,b,_;const[a,i]=T.useState(!1),[,s]=Fi(),{toast:o}=mi(),{playNotificationSound:c}=Lj(),{data:u,isLoading:f}=Ft({queryKey:["/api/orders",t],queryFn:()=>At(`/api/orders/${t}`,{method:"GET"}),enabled:!!t&&e}),h=E=>{switch(E){case"cash":return"Tiền mặt";case"card":return"Thẻ ngân hàng";case"qr":return"QR Code";case"ewallet":return"Ví điện tử";default:return"Tiền mặt"}},m=E=>{switch(E){case"paid":return"Đã thanh toán";case"pending":return"Chờ thanh toán";case"failed":return"Thanh toán thất bại";default:return"Đã thanh toán"}},g=E=>{switch(E){case"completed":return"Hoàn thành";case"pending":return"Đang xử lý";case"cancelled":return"Đã hủy";default:return"Hoàn thành"}},x=()=>{var E;u&&n&&(o({title:"Đang mở lại đơn hàng! 🔄",description:`Đơn hàng #${u.orderId} của ${u.customerName||((E=u.customer)==null?void 0:E.hoTen)||"khách vãng lai"} đã được tải vào giỏ hàng`}),c(),localStorage.setItem("reopenOrder",JSON.stringify(u)),window.dispatchEvent(new CustomEvent("reopenOrderSet")),s("/sales"),r())},v=()=>{u&&s(`/print-order/${u.orderId}`)};return!e||!t?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs(Ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[l.jsxs(Mt,{className:"text-xl font-bold",children:["Chi tiết đơn hàng #",t]}),l.jsx(ke,{variant:"ghost",size:"icon",onClick:r,className:"h-6 w-6",children:l.jsx(R0,{className:"h-4 w-4"})})]}),l.jsx(Ve,{children:f?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"Đang tải..."})]}):u?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold mb-3",children:[l.jsx(xc,{className:"h-5 w-5"}),"Thông tin khách hàng"]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Tên:"})," ",u.customerName||((w=u.customer)==null?void 0:w.hoTen)||"Khách vãng lai"]}),((S=u.customer)==null?void 0:S.soDienThoai)&&l.jsxs("p",{children:[l.jsx("strong",{children:"Số điện thoại:"})," ",u.customer.soDienThoai]}),((b=u.customer)==null?void 0:b.email)&&l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",u.customer.email]}),((_=u.customer)==null?void 0:_.diaChi)&&l.jsxs("p",{children:[l.jsx("strong",{children:"Địa chỉ:"})," ",u.customer.diaChi]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold mb-3",children:[l.jsx(vh,{className:"h-5 w-5"}),"Thông tin đơn hàng"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Mã đơn:"})," #",u.orderId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Số đơn hàng:"})," ",u.orderNumber||"PENDING"+Date.now()]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Ngày tạo:"})," ",new Date(u.createdAt).toLocaleString("vi-VN")]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Trạng thái:"}),l.jsx(Ct,{variant:u.status==="completed"?"default":u.status==="pending"?"secondary":"destructive",className:"ml-2",children:g(u.status)})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phương thức thanh toán:"})," ",h(u.paymentMethod)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Trạng thái thanh toán:"}),l.jsx(Ct,{variant:u.paymentStatus==="paid"?"default":"secondary",className:"ml-2",children:m(u.paymentStatus)})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Thu ngân:"})," ",u.cashierId||"550e8400-e29b-41d4-a716-446655440001"]})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold mb-3",children:[l.jsx(vh,{className:"h-5 w-5"}),"Chi tiết sản phẩm"]}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left",children:"Sản phẩm"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"SL"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Đơn giá"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Thành tiền"})]})}),l.jsx("tbody",{children:u.items.map((E,A)=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-4 py-2",children:E.productName}),l.jsx("td",{className:"px-4 py-2 text-center",children:E.quantity}),l.jsxs("td",{className:"px-4 py-2 text-right",children:[E.price.toLocaleString("vi-VN"),"đ"]}),l.jsxs("td",{className:"px-4 py-2 text-right font-medium",children:[E.totalPrice.toLocaleString("vi-VN"),"đ"]})]},A))}),l.jsxs("tfoot",{className:"bg-gray-50",children:[(u.subTotal>0||u.discountAmount>0||u.taxAmount>0)&&l.jsxs(l.Fragment,{children:[u.subTotal>0&&l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Tạm tính:"}),l.jsxs("td",{className:"px-4 py-2 text-right",children:[u.subTotal.toLocaleString("vi-VN"),"đ"]})]}),u.discountAmount>0&&l.jsxs("tr",{children:[l.jsx("td",{colSpan:3,className:"px-4 py-2 text-right text-red-600",children:"Giảm giá:"}),l.jsxs("td",{className:"px-4 py-2 text-right text-red-600",children:["-",u.discountAmount.toLocaleString("vi-VN"),"đ"]})]}),u.taxAmount>0&&l.jsxs("tr",{children:[l.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Thuế VAT:"}),l.jsxs("td",{className:"px-4 py-2 text-right",children:[u.taxAmount.toLocaleString("vi-VN"),"đ"]})]})]}),l.jsxs("tr",{className:"border-t-2",children:[l.jsx("td",{colSpan:3,className:"px-4 py-3 text-right font-bold",children:"Tổng cộng:"}),l.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-blue-600",children:[u.totalAmount.toLocaleString("vi-VN"),"đ"]})]})]})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4 border-t",children:[l.jsx(ke,{variant:"outline",onClick:r,children:"Đóng"}),u.paymentStatus==="pending"&&n&&l.jsxs(ke,{onClick:x,className:"flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600",children:[l.jsx(vh,{className:"h-4 w-4"}),"Mở lại đơn hàng"]}),l.jsxs(ke,{onClick:v,disabled:a,className:"flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[l.jsx(zf,{className:"h-4 w-4"}),a?"Đang in...":"In đơn hàng"]})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"Không tìm thấy đơn hàng"})})})]})})}function due({show:t,onClose:e}){const{notifications:r,markAllAsRead:n,getNavigationInfo:a,isLoading:i}=dq(),{playNotificationSound:s}=Lj(),{toast:o}=mi(),[c,u]=T.useState(null),[f,h]=T.useState(!1),[,m]=Fi();if(!t)return null;const g=async b=>{try{console.log("Clicking notification:",b);const _=await a(parseInt(b.id));if(console.log("Navigation info received:",_),_.type==="order"&&_.data.orderId)u(_.data.orderId),h(!0);else if(_.type==="product"){const E=new URLSearchParams;_.data.productId&&E.set("productId",_.data.productId.toString()),_.data.searchTerm&&E.set("search",_.data.searchTerm),o({title:"Chuyển đến quản lý kho 📦",description:"Đang mở trang kho hàng để xem chi tiết sản phẩm"}),m(`/inventory?${E.toString()}`),e()}else m(_.path||"/"),e()}catch(_){console.error("Error getting navigation info:",_),o({title:"Lỗi",description:"Không thể mở chi tiết thông báo",variant:"destructive"})}},x=b=>{var _;o({title:"Đang mở lại đơn hàng! 🔄",description:`Đơn hàng #${b.orderId} của ${b.customerName||((_=b.customer)==null?void 0:_.hoTen)||"khách vãng lai"} đã được tải vào giỏ hàng`}),s(),localStorage.setItem("reopenOrder",JSON.stringify(b)),window.dispatchEvent(new CustomEvent("reopenOrderSet")),m("/sales"),e()},v=b=>{switch(b){case"info":return G8;case"warning":return Oi;case"success":return lj;default:return G8}},w=b=>{switch(b){case"info":return"bg-primary text-white";case"warning":return"bg-warning text-white";case"success":return"bg-success text-white";default:return"bg-gray-500 text-white"}},S=b=>{switch(b){case"info":return"bg-blue-50";case"warning":return"bg-orange-50";case"success":return"bg-green-50";default:return"bg-gray-50"}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:e,"data-testid":"notification-overlay"}),l.jsxs("div",{className:"fixed right-4 top-16 w-96 bg-white rounded-lg shadow-xl border border-gray-200 max-h-96 overflow-y-auto z-50",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold text-gray-900","data-testid":"notification-title",children:"Thông báo"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[r.length>0&&l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>n(),disabled:i,className:"text-xs",children:"Đánh dấu tất cả đã đọc"}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-close-notifications",children:l.jsx(R0,{className:"h-4 w-4"})})]})]})}),l.jsxs("div",{className:"p-4 space-y-3",children:[r.map((b,_)=>{const E=v(b.type),A=b.type==="info"&&b.title==="Đơn hàng mới"||b.type==="warning"&&(b.title==="Cảnh báo tồn kho thấp"||b.title==="Hết hàng");return l.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg ${S(b.type)} ${A?"cursor-pointer hover:bg-opacity-80 transition-colors":""}`,"data-testid":`notification-${_}`,onClick:A?()=>g(b):void 0,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w(b.type)}`,children:l.jsx(E,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-medium text-gray-900","data-testid":`notification-title-${_}`,children:[b.title,A&&l.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Click để xem chi tiết)"})]}),l.jsx("p",{className:"text-sm text-gray-600","data-testid":`notification-message-${_}`,children:b.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1","data-testid":`notification-time-${_}`,children:b.time})]}),!b.read&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]},b.id)}),r.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không có thông báo nào"})]}),l.jsx(fue,{orderId:c,show:f,onClose:()=>{h(!1),u(null)},onReopenOrder:x})]})]})}function hue(){const t=T.useRef(null),[e,r]=T.useState(!1),[n,a]=T.useState(null);return T.useEffect(()=>{const o=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;return t.current=new WebSocket(o),t.current.onopen=()=>{r(!0),console.log("WebSocket connected")},t.current.onmessage=c=>{try{const u=JSON.parse(c.data);a(u)}catch(u){console.error("Failed to parse WebSocket message:",u)}},t.current.onclose=()=>{r(!1),console.log("WebSocket disconnected")},t.current.onerror=c=>{console.error("WebSocket error:",c)},()=>{t.current&&t.current.close()}},[]),{isConnected:e,lastMessage:n,sendMessage:s=>{t.current&&t.current.readyState===WebSocket.OPEN&&t.current.send(JSON.stringify(s))}}}function Ri({children:t,title:e}){const[r,n]=T.useState(!1),{isConnected:a}=hue();return l.jsxs("div",{className:"flex h-screen bg-gray-50 relative",children:[l.jsx(Hoe,{}),l.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out",children:[l.jsx(cue,{title:e,onToggleNotifications:()=>n(!r),isWebSocketConnected:a}),l.jsx("div",{className:"flex-1 overflow-auto p-6",children:t})]}),l.jsx(due,{show:r,onClose:()=>n(!1)})]})}var pue="Separator",yk="horizontal",mue=["horizontal","vertical"],hq=T.forwardRef((t,e)=>{const{decorative:r,orientation:n=yk,...a}=t,i=gue(n)?n:yk,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(Lt.div,{"data-orientation":i,...o,...a,ref:e})});hq.displayName=pue;function gue(t){return mue.includes(t)}var pq=hq;const gf=T.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>l.jsx(pq,{ref:a,decorative:r,orientation:e,className:dt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));gf.displayName=pq.displayName;function wk(t,[e,r]){return Math.min(r,Math.max(e,t))}function Bj(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vue=[" ","Enter","ArrowUp","ArrowDown"],xue=[" ","Enter"],uv="Select",[K2,X2,yue]=O2(uv),[$0,CMe]=Li(uv,[yue,B0]),Q2=B0(),[wue,Du]=$0(uv),[bue,_ue]=$0(uv),mq=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:g,form:x}=t,v=Q2(e),[w,S]=T.useState(null),[b,_]=T.useState(null),[E,A]=T.useState(!1),j=$2(u),[O=!1,D]=oc({prop:n,defaultProp:a,onChange:i}),[M,k]=oc({prop:s,defaultProp:o,onChange:c}),I=T.useRef(null),R=w?x||!!w.closest("form"):!0,[L,U]=T.useState(new Set),X=Array.from(L).map(ue=>ue.props.value).join(";");return l.jsx(zH,{...v,children:l.jsxs(wue,{required:g,scope:e,trigger:w,onTriggerChange:S,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:fl(),value:M,onValueChange:k,open:O,onOpenChange:D,dir:j,triggerPointerDownPosRef:I,disabled:m,children:[l.jsx(K2.Provider,{scope:e,children:l.jsx(bue,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(ue=>{U(he=>new Set(he).add(ue))},[]),onNativeOptionRemove:T.useCallback(ue=>{U(he=>{const J=new Set(he);return J.delete(ue),J})},[]),children:r})}),R?l.jsxs($q,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:M,onChange:ue=>k(ue.target.value),disabled:m,form:x,children:[M===void 0?l.jsx("option",{value:""}):null,Array.from(L)]},X):null]})})};mq.displayName=uv;var gq="SelectTrigger",vq=T.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=Q2(r),s=Du(gq,r),o=s.disabled||n,c=_r(e,s.onTriggerChange),u=X2(r),f=T.useRef("touch"),[h,m,g]=Uq(v=>{const w=u().filter(_=>!_.disabled),S=w.find(_=>_.value===s.value),b=Vq(w,v,S);b!==void 0&&s.onValueChange(b.value)}),x=v=>{o||(s.onOpenChange(!0),g()),v&&(s.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Nj,{asChild:!0,...i,children:l.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Bq(s.value)?"":void 0,...a,ref:c,onClick:mt(a.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:mt(a.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:mt(a.onKeyDown,v=>{const w=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&vue.includes(v.key)&&(x(),v.preventDefault())})})})});vq.displayName=gq;var xq="SelectValue",yq=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=t,c=Du(xq,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,h=_r(e,c.onValueNodeChange);return ga(()=>{u(f)},[u,f]),l.jsx(Lt.span,{...o,ref:h,style:{pointerEvents:"none"},children:Bq(c.value)?l.jsx(l.Fragment,{children:s}):i})});yq.displayName=xq;var Sue="SelectIcon",wq=T.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return l.jsx(Lt.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});wq.displayName=Sue;var Nue="SelectPortal",bq=t=>l.jsx(av,{asChild:!0,...t});bq.displayName=Nue;var Gf="SelectContent",_q=T.forwardRef((t,e)=>{const r=Du(Gf,t.__scopeSelect),[n,a]=T.useState();if(ga(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?P0.createPortal(l.jsx(Sq,{scope:t.__scopeSelect,children:l.jsx(K2.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(Nq,{...t,ref:e})});_q.displayName=Gf;var Eo=10,[Sq,Ru]=$0(Gf),Eue="SelectContentImpl",Aue=$f("SelectContent.RemoveScroll"),Nq=T.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:w,...S}=t,b=Du(Gf,r),[_,E]=T.useState(null),[A,j]=T.useState(null),O=_r(e,pe=>E(pe)),[D,M]=T.useState(null),[k,I]=T.useState(null),R=X2(r),[L,U]=T.useState(!1),X=T.useRef(!1);T.useEffect(()=>{if(_)return jj(_)},[_]),Cj();const ue=T.useCallback(pe=>{const[W,...V]=R().map(ve=>ve.ref.current),[fe]=V.slice(-1),Se=document.activeElement;for(const ve of pe)if(ve===Se||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===W&&A&&(A.scrollTop=0),ve===fe&&A&&(A.scrollTop=A.scrollHeight),ve==null||ve.focus(),document.activeElement!==Se))return},[R,A]),he=T.useCallback(()=>ue([D,_]),[ue,D,_]);T.useEffect(()=>{L&&he()},[L,he]);const{onOpenChange:J,triggerPointerDownPosRef:ne}=b;T.useEffect(()=>{if(_){let pe={x:0,y:0};const W=fe=>{var Se,ve;pe={x:Math.abs(Math.round(fe.pageX)-(((Se=ne.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ve=ne.current)==null?void 0:ve.y)??0))}},V=fe=>{pe.x<=10&&pe.y<=10?fe.preventDefault():_.contains(fe.target)||J(!1),document.removeEventListener("pointermove",W),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",V,{capture:!0})}}},[_,J,ne]),T.useEffect(()=>{const pe=()=>J(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[J]);const[G,z]=Uq(pe=>{const W=R().filter(Se=>!Se.disabled),V=W.find(Se=>Se.ref.current===document.activeElement),fe=Vq(W,pe,V);fe&&setTimeout(()=>fe.ref.current.focus())}),F=T.useCallback((pe,W,V)=>{const fe=!X.current&&!V;(b.value!==void 0&&b.value===W||fe)&&(M(pe),fe&&(X.current=!0))},[b.value]),ee=T.useCallback(()=>_==null?void 0:_.focus(),[_]),K=T.useCallback((pe,W,V)=>{const fe=!X.current&&!V;(b.value!==void 0&&b.value===W||fe)&&I(pe)},[b.value]),ae=n==="popper"?YT:Eq,q=ae===YT?{side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return l.jsx(Sq,{scope:r,content:_,viewport:A,onViewportChange:j,itemRefCallback:F,selectedItem:D,onItemLeave:ee,itemTextRefCallback:K,focusSelectedItem:he,selectedItemText:k,position:n,isPositioned:L,searchRef:G,children:l.jsx(q2,{as:Aue,allowPinchZoom:!0,children:l.jsx(U2,{asChild:!0,trapped:b.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:mt(a,pe=>{var W;(W=b.trigger)==null||W.focus({preventScroll:!0}),pe.preventDefault()}),children:l.jsx(k0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(ae,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:pe=>pe.preventDefault(),...S,...q,onPlaced:()=>U(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:mt(S.onKeyDown,pe=>{const W=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!W&&pe.key.length===1&&z(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let fe=R().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Se=pe.target,ve=fe.indexOf(Se);fe=fe.slice(ve+1)}setTimeout(()=>ue(fe)),pe.preventDefault()}})})})})})})});Nq.displayName=Eue;var Tue="SelectItemAlignedPosition",Eq=T.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=Du(Gf,r),s=Ru(Gf,r),[o,c]=T.useState(null),[u,f]=T.useState(null),h=_r(e,O=>f(O)),m=X2(r),g=T.useRef(!1),x=T.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:S,focusSelectedItem:b}=s,_=T.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&v&&w&&S){const O=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),k=S.getBoundingClientRect();if(i.dir!=="rtl"){const Se=k.left-D.left,ve=M.left-Se,gt=O.left-ve,Y=O.width+gt,Oe=Math.max(Y,D.width),Re=window.innerWidth-Eo,Me=wk(ve,[Eo,Math.max(Eo,Re-Oe)]);o.style.minWidth=Y+"px",o.style.left=Me+"px"}else{const Se=D.right-k.right,ve=window.innerWidth-M.right-Se,gt=window.innerWidth-O.right-ve,Y=O.width+gt,Oe=Math.max(Y,D.width),Re=window.innerWidth-Eo,Me=wk(ve,[Eo,Math.max(Eo,Re-Oe)]);o.style.minWidth=Y+"px",o.style.right=Me+"px"}const I=m(),R=window.innerHeight-Eo*2,L=v.scrollHeight,U=window.getComputedStyle(u),X=parseInt(U.borderTopWidth,10),ue=parseInt(U.paddingTop,10),he=parseInt(U.borderBottomWidth,10),J=parseInt(U.paddingBottom,10),ne=X+ue+L+J+he,G=Math.min(w.offsetHeight*5,ne),z=window.getComputedStyle(v),F=parseInt(z.paddingTop,10),ee=parseInt(z.paddingBottom,10),K=O.top+O.height/2-Eo,ae=R-K,q=w.offsetHeight/2,pe=w.offsetTop+q,W=X+ue+pe,V=ne-W;if(W<=K){const Se=I.length>0&&w===I[I.length-1].ref.current;o.style.bottom="0px";const ve=u.clientHeight-v.offsetTop-v.offsetHeight,gt=Math.max(ae,q+(Se?ee:0)+ve+he),Y=W+gt;o.style.height=Y+"px"}else{const Se=I.length>0&&w===I[0].ref.current;o.style.top="0px";const gt=Math.max(K,X+v.offsetTop+(Se?F:0)+q)+V;o.style.height=gt+"px",v.scrollTop=W-K+v.offsetTop}o.style.margin=`${Eo}px 0`,o.style.minHeight=G+"px",o.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,o,u,v,w,S,i.dir,n]);ga(()=>_(),[_]);const[E,A]=T.useState();ga(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const j=T.useCallback(O=>{O&&x.current===!0&&(_(),b==null||b(),x.current=!1)},[_,b]);return l.jsx(jue,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:l.jsx(Lt.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Eq.displayName=Tue;var Cue="SelectPopperPosition",YT=T.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Eo,...i}=t,s=Q2(r);return l.jsx(Ej,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});YT.displayName=Cue;var[jue,$j]=$0(Gf,{}),ZT="SelectViewport",Aq=T.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=Ru(ZT,r),s=$j(ZT,r),o=_r(e,i.onViewportChange),c=T.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(K2.Slot,{scope:r,children:l.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:mt(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&h){const g=Math.abs(c.current-f.scrollTop);if(g>0){const x=window.innerHeight-Eo*2,v=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),S=Math.max(v,w);if(S<x){const b=S+g,_=Math.min(x,b),E=b-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Aq.displayName=ZT;var Tq="SelectGroup",[Oue,Iue]=$0(Tq),Pue=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=fl();return l.jsx(Oue,{scope:r,id:a,children:l.jsx(Lt.div,{role:"group","aria-labelledby":a,...n,ref:e})})});Pue.displayName=Tq;var Cq="SelectLabel",jq=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Iue(Cq,r);return l.jsx(Lt.div,{id:a.id,...n,ref:e})});jq.displayName=Cq;var q1="SelectItem",[kue,Oq]=$0(q1),Iq=T.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,o=Du(q1,r),c=Ru(q1,r),u=o.value===n,[f,h]=T.useState(i??""),[m,g]=T.useState(!1),x=_r(e,b=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,b,n,a)}),v=fl(),w=T.useRef("touch"),S=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(kue,{scope:r,value:n,disabled:a,textId:v,isSelected:u,onItemTextChange:T.useCallback(b=>{h(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(K2.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:l.jsx(Lt.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:x,onFocus:mt(s.onFocus,()=>g(!0)),onBlur:mt(s.onBlur,()=>g(!1)),onClick:mt(s.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:mt(s.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:mt(s.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:mt(s.onPointerMove,b=>{var _;w.current=b.pointerType,a?(_=c.onItemLeave)==null||_.call(c):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(s.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:mt(s.onKeyDown,b=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&b.key===" "||(xue.includes(b.key)&&S(),b.key===" "&&b.preventDefault())})})})})});Iq.displayName=q1;var am="SelectItemText",Pq=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=Du(am,r),o=Ru(am,r),c=Oq(am,r),u=_ue(am,r),[f,h]=T.useState(null),m=_r(e,S=>h(S),c.onItemTextChange,S=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,S,c.value,c.disabled)}),g=f==null?void 0:f.textContent,x=T.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return ga(()=>(v(x),()=>w(x)),[v,w,x]),l.jsxs(l.Fragment,{children:[l.jsx(Lt.span,{id:c.textId,...i,ref:m}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?P0.createPortal(i.children,s.valueNode):null]})});Pq.displayName=am;var kq="SelectItemIndicator",Dq=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Oq(kq,r).isSelected?l.jsx(Lt.span,{"aria-hidden":!0,...n,ref:e}):null});Dq.displayName=kq;var JT="SelectScrollUpButton",Rq=T.forwardRef((t,e)=>{const r=Ru(JT,t.__scopeSelect),n=$j(JT,t.__scopeSelect),[a,i]=T.useState(!1),s=_r(e,n.onScrollButtonChange);return ga(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l.jsx(Fq,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Rq.displayName=JT;var eC="SelectScrollDownButton",Mq=T.forwardRef((t,e)=>{const r=Ru(eC,t.__scopeSelect),n=$j(eC,t.__scopeSelect),[a,i]=T.useState(!1),s=_r(e,n.onScrollButtonChange);return ga(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l.jsx(Fq,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Mq.displayName=eC;var Fq=T.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=Ru("SelectScrollButton",r),s=T.useRef(null),o=X2(r),c=T.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return T.useEffect(()=>()=>c(),[c]),ga(()=>{var f;const u=o().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),l.jsx(Lt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:mt(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:mt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:mt(a.onPointerLeave,()=>{c()})})}),Due="SelectSeparator",Lq=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Lt.div,{"aria-hidden":!0,...n,ref:e})});Lq.displayName=Due;var tC="SelectArrow",Rue=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Q2(r),i=Du(tC,r),s=Ru(tC,r);return i.open&&s.position==="popper"?l.jsx(Aj,{...a,...n,ref:e}):null});Rue.displayName=tC;function Bq(t){return t===""||t===void 0}var $q=T.forwardRef((t,e)=>{const{value:r,...n}=t,a=T.useRef(null),i=_r(e,a),s=Bj(r);return T.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==r&&f){const h=new Event("change",{bubbles:!0});f.call(o,r),o.dispatchEvent(h)}},[s,r]),l.jsx(iv,{asChild:!0,children:l.jsx("select",{...n,ref:i,defaultValue:r})})});$q.displayName="BubbleSelect";function Uq(t){const e=Ja(t),r=T.useRef(""),n=T.useRef(0),a=T.useCallback(s=>{const o=r.current+s;e(o),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(o)},[e]),i=T.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Vq(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=Mue(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Mue(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Fue=mq,Hq=vq,Lue=yq,Bue=wq,$ue=bq,zq=_q,Uue=Aq,qq=jq,Wq=Iq,Vue=Pq,Hue=Dq,Gq=Rq,Kq=Mq,Xq=Lq;const fa=Fue,da=Lue,Kn=T.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Hq,{ref:n,className:dt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(Bue,{asChild:!0,children:l.jsx(Uf,{className:"h-4 w-4 opacity-50"})})]}));Kn.displayName=Hq.displayName;const Qq=T.forwardRef(({className:t,...e},r)=>l.jsx(Gq,{ref:r,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(nie,{className:"h-4 w-4"})}));Qq.displayName=Gq.displayName;const Yq=T.forwardRef(({className:t,...e},r)=>l.jsx(Kq,{ref:r,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Uf,{className:"h-4 w-4"})}));Yq.displayName=Kq.displayName;const Xn=T.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>l.jsx($ue,{children:l.jsxs(zq,{ref:a,className:dt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(Qq,{}),l.jsx(Uue,{className:dt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Yq,{})]})}));Xn.displayName=zq.displayName;const zue=T.forwardRef(({className:t,...e},r)=>l.jsx(qq,{ref:r,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));zue.displayName=qq.displayName;const er=T.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Wq,{ref:n,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Hue,{children:l.jsx(k2,{className:"h-4 w-4"})})}),l.jsx(Vue,{children:e})]}));er.displayName=Wq.displayName;const que=T.forwardRef(({className:t,...e},r)=>l.jsx(Xq,{ref:r,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));que.displayName=Xq.displayName;var Uj="Tabs",[Wue,jMe]=Li(Uj,[H2]),Zq=H2(),[Gue,Vj]=Wue(Uj),Jq=T.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=t,f=$2(o),[h,m]=oc({prop:n,onChange:a,defaultProp:i});return l.jsx(Gue,{scope:r,baseId:fl(),value:h,onValueChange:m,orientation:s,dir:f,activationMode:c,children:l.jsx(Lt.div,{dir:f,"data-orientation":s,...u,ref:e})})});Jq.displayName=Uj;var eW="TabsList",tW=T.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=Vj(eW,r),s=Zq(r);return l.jsx(cz,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(Lt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});tW.displayName=eW;var rW="TabsTrigger",nW=T.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=Vj(rW,r),o=Zq(r),c=sW(s.baseId,n),u=oW(s.baseId,n),f=n===s.value;return l.jsx(uz,{asChild:!0,...o,focusable:!a,active:f,children:l.jsx(Lt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:mt(t.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?s.onValueChange(n):h.preventDefault()}),onKeyDown:mt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(n)}),onFocus:mt(t.onFocus,()=>{const h=s.activationMode!=="manual";!f&&!a&&h&&s.onValueChange(n)})})})});nW.displayName=rW;var aW="TabsContent",iW=T.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,o=Vj(aW,r),c=sW(o.baseId,n),u=oW(o.baseId,n),f=n===o.value,h=T.useRef(f);return T.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(so,{present:a||f,children:({present:m})=>l.jsx(Lt.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});iW.displayName=aW;function sW(t,e){return`${t}-trigger-${e}`}function oW(t,e){return`${t}-content-${e}`}var Kue=Jq,lW=tW,cW=nW,uW=iW;const U0=Kue,ld=T.forwardRef(({className:t,...e},r)=>l.jsx(lW,{ref:r,className:dt("inline-flex h-9 sm:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ld.displayName=lW.displayName;const Wn=T.forwardRef(({className:t,...e},r)=>l.jsx(cW,{ref:r,className:dt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Wn.displayName=cW.displayName;const Gn=T.forwardRef(({className:t,...e},r)=>l.jsx(uW,{ref:r,className:dt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Gn.displayName=uW.displayName;const Xue=()=>Ft({queryKey:["discounts","available"],queryFn:async()=>{const t=await fetch("http://101.53.9.76:5273/api/discounts?status=active");if(!t.ok)throw new Error("Failed to fetch available discounts");return t.json()},staleTime:300*1e3}),Que=()=>({calculateDiscount:async e=>{const r=await fetch("http://101.53.9.76:5273/api/order-discounts/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Failed to calculate discount");return r.json()}}),Yue=()=>({applyDiscount:async(e,r)=>{const n=await fetch(`http://101.53.9.76:5273/api/orders/${e}/discounts/apply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discountId:r})});if(!n.ok){const a=await n.text();throw new Error(a||"Failed to apply discount")}}}),Zue=t=>{const{data:e,isLoading:r}=Xue(),{calculateDiscount:n}=Que(),a=()=>{if(!e)return[];const s=new Date;return e.filter(o=>!(!o.isActive||o.startDate&&new Date(o.startDate)>s||o.endDate&&new Date(o.endDate)<s||o.usageLimit&&o.usageCount>=o.usageLimit))},i=async(s,o)=>{if(t.length===0)return null;const c={discountId:s,orderItems:t.map(u=>({productId:u.productId,quantity:u.quantity,price:u.price,totalPrice:u.totalPrice})),orderTotal:o};try{return await n(c)}catch(u){return console.error("Error calculating discount:",u),null}};return{availableDiscounts:a(),isLoading:r,calculateDiscountForCart:i}};function Jue(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function efe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var tfe=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),rfe=(function(t){tfe(e,t);function e(r,n){var a=this.constructor,i=t.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),Jue(i,a.prototype),efe(i),i}return e})(Error),nfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),as=(function(t){nfe(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(rfe),afe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),No=(function(t){afe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(as),ife=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ht=(function(t){ife(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(as),sfe=(function(){function t(e){if(this.binarizer=e,e===null)throw new Ht("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var i=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),ofe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ta=(function(t){ofe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(as),lfe=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),un=(function(){function t(){}return t.arraycopy=function(e,r,n,a,i){for(;i--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),cfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Hj=(function(t){cfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(as),ufe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bk=(function(t){ufe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e})(Hj),ffe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ca=(function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var i=r;i<n;i++)e[i]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new Ht("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new bk(r);if(n>e)throw new bk(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var i=ffe(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=31*a+o}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,i=new Int32Array(a);return un.arraycopy(e,r,i,0,a),i},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,i=e.length-1;a<=i;){var s=i+a>>1,o=n(r,e[s]);if(o>0)a=s+1;else if(o<0)i=s-1;else return s}return-a-1},t.numberComparator=function(e,r){return e-r},t})(),xr=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Oa=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);un.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=n[a]}var o=a*32+xr.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=~n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=~n[a]}var o=a*32+xr.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Ht;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),i=this.bits,s=n;s<=a;s++){var o=s>n?0:e&31,c=s<a?31:r&31,u=(2<<c)-(1<<o);i[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Ht;if(r===e)return!0;r--;for(var a=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=a;o<=i;o++){var c=o>a?0:e&31,u=o<i?31:r&31,f=(2<<u)-(1<<c)&4294967295;if((s[o]&f)!==(n?f:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Ht("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ht("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var i=0;i<a;i++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+i]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-i]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=e[0]>>>o,i=1;i<n;i++){var u=e[i];c|=u<<32-o,e[i-1]=c,c=u>>>o}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&ca.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+ca.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),rC;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(rC||(rC={}));const bn=rC;var dfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ht=(function(t){dfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(as),hfe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qr;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(qr||(qr={}));var la=(function(){function t(e,r,n){for(var a,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,f=c.length;u!==f;u++){var h=c[u];t.VALUES_TO_ECI.set(h,this)}try{for(var m=hfe(s),g=m.next();!g.done;g=m.next()){var x=g.value;t.NAME_TO_ECI.set(x,this)}}catch(v){a={error:v}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ht("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ht("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ht("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(qr.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(qr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(qr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(qr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(qr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(qr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(qr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(qr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(qr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(qr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(qr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(qr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(qr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(qr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(qr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(qr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(qr.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(qr.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(qr.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(qr.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(qr.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(qr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(qr.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(qr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(qr.Big5,28,"Big5"),t.GB18030=new t(qr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(qr.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),pfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),E1=(function(t){pfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(as),ao=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof la?e:la.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",i=0,s=e.length;i<s;i++){var o=e[i].toString(16);o.length<2&&(o="0"+o),a+="%"+o}return decodeURIComponent(a)}if(n.equals(la.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new E1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(la.UTF8)||e.equals(la.ISO8859_1)||e.equals(la.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},t})(),Nr=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ao.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(bn.CHARACTER_SET)!==void 0)return r.get(bn.CHARACTER_SET).toString();for(var n=e.length,a=!0,i=!0,s=!0,o=0,c=0,u=0,f=0,h=0,m=0,g=0,x=0,v=0,w=0,S=0,b=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,_=0;_<n&&(a||i||s);_++){var E=e[_]&255;s&&(o>0?(E&128)===0?s=!1:o--:(E&128)!==0&&((E&64)===0?s=!1:(o++,(E&32)===0?c++:(o++,(E&16)===0?u++:(o++,(E&8)===0?f++:s=!1))))),a&&(E>127&&E<160?a=!1:E>159&&(E<192||E===215||E===247)&&S++),i&&(h>0?E<64||E===127||E>252?i=!1:h--:E===128||E===160||E>239?i=!1:E>160&&E<224?(m++,x=0,g++,g>v&&(v=g)):E>127?(h++,g=0,x++,x>w&&(w=x)):(g=0,x=0))}return s&&o>0&&(s=!1),i&&h>0&&(i=!1),s&&(b||c+u+f>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||v>=3||w>=3)?t.SHIFT_JIS:a&&i?v===2&&m===2||S*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:i?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(o,c,u,f,h,m){if(o==="%%")return"%";if(r[++a]!==void 0){o=f?parseInt(f.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,x;switch(m){case"s":x=r[a];break;case"c":x=r[a][0];break;case"f":x=parseFloat(r[a]).toFixed(o);break;case"p":x=parseFloat(r[a]).toPrecision(o);break;case"e":x=parseFloat(r[a]).toExponential(o);break;case"x":x=parseInt(r[a]).toString(g||16);break;case"d":x=parseFloat(parseInt(r[a],g||10).toPrecision(o)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(g);for(var v=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";x.length<v;)x=c!==void 0?x+w:w+x;return x}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.getBytes=function(e,r){return ao.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=la.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=la.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=la.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),gr=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Nr.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),xl=(function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Ht("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),i=0;i<r;i++)for(var s=e[i],o=0;o<n;o++)s[o]&&a.set(o,i);return a},t.parseFromString=function(e,r,n){if(e===null)throw new Ht("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,s=0,o=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Ht("row lengths do not match");s=i,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new Ht("illegal character encountered: "+e.substring(u));if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Ht("row lengths do not match");c++}for(var f=new t(o,c),h=0;h<i;h++)a[h]&&f.set(Math.floor(h%o),Math.floor(h/o));return f},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ht("input matrix dimensions do not match");for(var r=new Oa(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var o=i*n,c=e.getRow(i,r).getBitArray(),u=0;u<n;u++)a[o+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new Ht("Left and top must be nonnegative");if(a<1||n<1)throw new Ht("Height and width must be at least 1");var i=e+n,s=r+a;if(s>this.height||i>this.width)throw new Ht("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,u=r;u<s;u++)for(var f=u*o,h=e;h<i;h++)c[f+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Oa(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=e*n,s=0;s<n;s++)r.setBulk(s*32,a[i+s]);return r},t.prototype.setRow=function(e,r){un.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Oa(e),a=new Oa(e),i=0,s=Math.floor((r+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,i=e,s=r,o=-1,c=-1,u=0;u<r;u++)for(var f=0;f<n;f++){var h=a[u*n+f];if(h!==0){if(u<s&&(s=u),u>c&&(c=u),f*32<i){for(var m=0;(h<<31-m&4294967295)===0;)m++;f*32+m<i&&(i=f*32+m)}if(f*32+31>o){for(var m=31;!(h>>>m);)m--;f*32+m>o&&(o=f*32+m)}}}return o<i||c<s?null:Int32Array.from([i,s,o-i+1,c-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,i=n%e*32,s=r[n],o=0;(s<<31-o&4294967295)===0;)o++;return i+=o,Int32Array.from([i,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),i=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return i+=o,Int32Array.from([i,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ca.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ca.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new gr,i=0,s=this.height;i<s;i++){for(var o=0,c=this.width;o<c;o++)a.append(this.get(o,i)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),mfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Le=(function(t){mfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(as),gfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vfe=(function(t){gfe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new Oa(i):n.clear(),this.initArrays(i);for(var s=a.getRow(r,this.luminances),o=this.buckets,c=0;c<i;c++)o[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<u&&n.set(c);else for(var f=s[0]&255,h=s[1]&255,c=1;c<i-1;c++){var m=s[c+1]&255;(h*4-f-m)/2<u&&n.set(c),f=h,h=m}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new xl(n,a);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(a*o/5),u=r.getRow(c,this.luminances),f=Math.floor(n*4/5),h=Math.floor(n/5);h<f;h++){var m=u[h]&255;s[m>>e.LUMINANCE_SHIFT]++}for(var g=e.estimateBlackPoint(s),x=r.getMatrix(),o=0;o<a;o++)for(var v=o*n,h=0;h<n;h++){var m=x[v+h]&255;m<g&&i.set(h,o)}return i},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,s=0,o=0;o<n;o++)r[o]>s&&(i=o,s=r[o]),r[o]>a&&(a=r[o]);for(var c=0,u=0,o=0;o<n;o++){var f=o-i,h=r[o]*f*f;h>u&&(c=o,u=h)}if(i>c){var m=i;i=c,c=m}if(c-i<=n/16)throw new Le;for(var g=c-1,x=-1,o=c-1;o>i;o--){var v=o-i,h=v*v*(c-o)*(a-r[o]);h>x&&(g=o,x=h)}return g<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(lfe),xfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yfe=(function(t){xfe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&s++;var o=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&o++;var c=e.calculateBlackPoints(i,s,o,n,a),u=new xl(n,a);e.calculateThresholdForBlock(i,s,o,n,a,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,i,s,o,c){for(var u=s-e.BLOCK_SIZE,f=i-e.BLOCK_SIZE,h=0;h<a;h++){var m=h<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var g=e.cap(h,2,a-3),x=0;x<n;x++){var v=x<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var w=e.cap(x,2,n-3),S=0,b=-2;b<=2;b++){var _=o[g+b];S+=_[w-2]+_[w-1]+_[w]+_[w+1]+_[w+2]}var E=S/25;e.thresholdBlock(r,v,m,E,i,c)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,i,s,o){for(var c=0,u=a*s+n;c<e.BLOCK_SIZE;c++,u+=s)for(var f=0;f<e.BLOCK_SIZE;f++)(r[u+f]&255)<=i&&o.set(n+f,a+c)},e.calculateBlackPoints=function(r,n,a,i,s){for(var o=s-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,u=new Array(a),f=0;f<a;f++){u[f]=new Int32Array(n);var h=f<<e.BLOCK_SIZE_POWER;h>o&&(h=o);for(var m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var x=0,v=255,w=0,S=0,b=h*i+g;S<e.BLOCK_SIZE;S++,b+=i){for(var _=0;_<e.BLOCK_SIZE;_++){var E=r[b+_]&255;x+=E,E<v&&(v=E),E>w&&(w=E)}if(w-v>e.MIN_DYNAMIC_RANGE)for(S++,b+=i;S<e.BLOCK_SIZE;S++,b+=i)for(var _=0;_<e.BLOCK_SIZE;_++)x+=r[b+_]&255}var A=x>>e.BLOCK_SIZE_POWER*2;if(w-v<=e.MIN_DYNAMIC_RANGE&&(A=v/2,f>0&&m>0)){var j=(u[f-1][m]+2*u[f][m-1]+u[f-1][m-1])/4;v<j&&(A=j)}u[f][m]=A}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(vfe),Y2=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new E1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new E1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new E1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new gr,n=0;n<this.height;n++){for(var a=this.getRow(n,e),i=0;i<this.width;i++){var s=a[i]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t})(),wfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zj=(function(t){wfe(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,i){return new e(this.delegate.crop(r,n,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Y2),bfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_fe=(function(t){bfe(e,t);function e(r,n){n===void 0&&(n=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,n),a}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var s=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var o=0,c=0,u=r.length;o<u;o+=4,c++){var f=void 0,h=r[o+3];if(h===0)f=255;else{var m=r[o],g=r[o+1],x=r[o+2];f=306*m+601*g+117*x+512>>10}s[c]=f}else for(var o=0,c=0,v=r.length;o<v;o+=4,c++){var f=void 0,h=r[o+3];if(h===0)f=255;else{var m=r[o],g=r[o+1],x=r[o+2];f=306*m+601*g+117*x+512>>10}s[c]=255-f}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ht("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return t.prototype.crop.call(this,r,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new zj(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Y2),Sfe=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),yi=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(h){s(h)}}function c(f){try{u(n.throw(f))}catch(h){s(h)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},wi=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Nfe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V0=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return yi(this,void 0,void 0,function(){var e,r,n,a,i,s,o,c,u,f,h,m;return wi(this,function(g){switch(g.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),r=[];try{for(n=Nfe(e),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(o=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,f={deviceId:o,label:c,kind:s,groupId:u},r.push(f))}catch(x){h={error:x}}finally{try{a&&!a.done&&(m=n.return)&&m.call(n)}finally{if(h)throw h.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return yi(this,void 0,void 0,function(){var e;return wi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Sfe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return yi(this,void 0,void 0,function(){var r;return wi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return yi(this,void 0,void 0,function(){return wi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return yi(this,void 0,void 0,function(){var n,a;return wi(this,function(i){switch(i.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return yi(this,void 0,void 0,function(){var n;return wi(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return yi(this,void 0,void 0,function(){var n,a;return wi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return yi(this,void 0,void 0,function(){return wi(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return yi(this,void 0,void 0,function(){var a,i;return wi(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return yi(this,void 0,void 0,function(){var a;return wi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return yi(this,void 0,void 0,function(){var a;return wi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return yi(this,void 0,void 0,function(){var n;return wi(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return yi(this,void 0,void 0,function(){return wi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new No("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new No("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new No("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new No("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new No("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new No("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new No("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new No("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new No("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new No("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return yi(this,void 0,void 0,function(){return wi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return yi(this,void 0,void 0,function(){return wi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,o){if(a._stopAsyncDecode){o(new Le("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(e);s(c)}catch(m){var u=r&&m instanceof Le,f=m instanceof Ta||m instanceof ht,h=f&&n;if(u||h)return setTimeout(i,a._timeBetweenDecodingAttempts,s,o);o(m)}};return new Promise(function(s,o){return i(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(e);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof Ta||c instanceof ht,o=c instanceof Le;(s||o)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new _fe(n,r),i=new yfe(a);return new sfe(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),gi=(function(){function t(e,r,n,a,i,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=un.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=un.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);un.arraycopy(r,0,n,0,r.length),un.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),nC;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(nC||(nC={}));const Bt=nC;var aC;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(aC||(aC={}));const Qa=aC;var Z2=(function(){function t(e,r,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),im=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ht;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),vu=(function(){function t(e,r){if(r.length===0)throw new Ht;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),un.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,i=r.length;a!==i;a++){var s=r[a];n=im.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,c=this.field,a=1;a<o;a++)n=im.addOrSubtract(c.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ht("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;un.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=im.addOrSubtract(r[o-s],n[o]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ht("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=this.field,c=0;c<n;c++)for(var u=r[c],f=0;f<i;f++)s[c+f]=im.addOrSubtract(s[c+f],o.multiply(u,a[f]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,s=0;s<r;s++)a[s]=n.multiply(i[s],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ht;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+e),s=this.field,o=0;o<a;o++)i[o]=s.multiply(n[o],r);return new t(s,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ht("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ht("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=e.getCoefficient(e.getDegree()),s=r.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var o=a.getDegree()-e.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),s),u=e.multiplyByMonomial(o,c),f=r.buildMonomial(o,c);n=n.addOrSubtract(f),a=a.addOrSubtract(u)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),Efe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fW=(function(t){Efe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(as),Afe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Zi=(function(t){Afe(e,t);function e(r,n,a){var i=t.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=r,o&=n-1);i.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return i.logTable=u,i.zero=new vu(i,Int32Array.from([0])),i.one=new vu(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ht;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new vu(this,a)},e.prototype.inverse=function(r){if(r===0)throw new fW;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+xr.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(im),Tfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zx=(function(t){Tfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(as),Cfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fv=(function(t){Cfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(as),J2=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new vu(n,e),i=new Int32Array(r),s=!0,o=0;o<r;o++){var c=a.evaluateAt(n.exp(o+n.getGeneratorBase()));i[i.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var u=new vu(n,i),f=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),h=f[0],m=f[1],g=this.findErrorLocations(h),x=this.findErrorMagnitudes(m,g),o=0;o<g.length;o++){var v=e.length-1-n.log(g[o]);if(v<0)throw new zx("Bad error location");e[v]=Zi.addOrSubtract(e[v],x[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=this.field,s=e,o=r,c=i.getZero(),u=i.getOne();o.getDegree()>=(n/2|0);){var f=s,h=c;if(s=o,c=u,s.isZero())throw new zx("r_{i-1} was zero");o=f;for(var m=i.getZero(),g=s.getCoefficient(s.getDegree()),x=i.inverse(g);o.getDegree()>=s.getDegree()&&!o.isZero();){var v=o.getDegree()-s.getDegree(),w=i.multiply(o.getCoefficient(o.getDegree()),x);m=m.addOrSubtract(i.buildMonomial(v,w)),o=o.addOrSubtract(s.multiplyByMonomial(v,w))}if(u=m.multiply(c).addOrSubtract(h),o.getDegree()>=s.getDegree())throw new fv("Division algorithm failed to reduce polynomial?")}var S=u.getCoefficient(0);if(S===0)throw new zx("sigmaTilde(0) was zero");var b=i.inverse(S),_=u.multiplyScalar(b),E=o.multiplyScalar(b);return[_,E]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,s=1;s<i.getSize()&&a<r;s++)e.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==r)throw new zx("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var o=i.inverse(r[s]),c=1,u=0;u<n;u++)if(s!==u){var f=i.multiply(r[u],o),h=(f&1)===0?f|1:f&-2;c=i.multiply(c,h)}a[s]=i.multiply(e.evaluateAt(o),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],o))}return a},t})(),Ua;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Ua||(Ua={}));var _k=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=t.convertBoolArrayToByteArray(a),s=t.getEncodedData(a),o=new Z2(i,s,null,null);return o.setNumBits(a.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Ua.UPPER,a=Ua.UPPER,i="",s=0;s<r;)if(a===Ua.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var c=0;c<o;c++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);i+=Nr.castAsNonUtf8Char(u),s+=8}a=n}else{var f=a===Ua.DIGIT?4:5;if(r-s<f)break;var u=t.readCode(e,s,f);s+=f;var h=t.getCharacter(a,u);h.startsWith("CTRL_")?(n=a,a=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(n=a)):(i+=h,a=n)}return i},t.getTable=function(e){switch(e){case"L":return Ua.LOWER;case"P":return Ua.PUNCT;case"M":return Ua.MIXED;case"D":return Ua.DIGIT;case"B":return Ua.BINARY;case"U":default:return Ua.UPPER}},t.getCharacter=function(e,r){switch(e){case Ua.UPPER:return t.UPPER_TABLE[r];case Ua.LOWER:return t.LOWER_TABLE[r];case Ua.MIXED:return t.MIXED_TABLE[r];case Ua.PUNCT:return t.PUNCT_TABLE[r];case Ua.DIGIT:return t.DIGIT_TABLE[r];default:throw new fv("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Zi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Zi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Zi.AZTEC_DATA_10):(n=12,r=Zi.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/n;if(i<a)throw new ht;for(var s=e.length%n,o=new Int32Array(i),c=0;c<i;c++,s+=n)o[c]=t.readCode(e,s,n);try{var u=new J2(r);u.decode(o,i-a)}catch(w){throw new ht(w)}for(var f=(1<<n)-1,h=0,c=0;c<a;c++){var m=o[c];if(m===0||m===f)throw new ht;(m===1||m===f-1)&&h++}for(var g=new Array(a*n-h),x=0,c=0;c<a;c++){var m=o[c];if(m===1||m===f-1)g.fill(m>1,x,x+n-1),x+=n-1;else for(var v=n-1;v>=0;--v)g[x++]=(m&1<<v)!==0}return g},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<i.length;o++)i[o]=o;else for(var c=a+1+2*xr.truncDivision(xr.truncDivision(a,2)-1,15),u=a/2,f=xr.truncDivision(c,2),o=0;o<u;o++){var h=o+xr.truncDivision(o,15);i[u-o-1]=f-h-1,i[u+o]=f+h+1}for(var o=0,m=0;o<n;o++){for(var g=(n-o)*4+(r?9:12),x=o*2,v=a-1-x,w=0;w<g;w++)for(var S=w*2,b=0;b<2;b++)s[m+S+b]=e.get(i[x+b],i[x+w]),s[m+2*g+S+b]=e.get(i[x+w],i[v-b]),s[m+4*g+S+b]=e.get(i[v-b],i[v-w]),s[m+6*g+S+b]=e.get(i[v-w],i[x+b]);m+=g*8}return s},t.readCode=function(e,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,e[i]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),Ir=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var i=e-n,s=r-a;return Math.sqrt(i*i+s*s)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var i=e[n];r+=i}return r},t})(),iC=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),jt=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*iC.floatToIntBits(this.x)+iC.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,s,o;if(n>=r&&n>=a?(s=e[0],i=e[1],o=e[2]):a>=n&&a>=r?(s=e[1],i=e[0],o=e[2]):(s=e[2],i=e[0],o=e[1]),this.crossProductZ(i,s,o)<0){var c=i;i=o,o=c}e[0]=i,e[1]=s,e[2]=o},t.distance=function(e,r){return Ir.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,i=r.y;return(n.x-a)*(e.y-i)-(n.y-i)*(e.x-a)},t})(),qj=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),jfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ofe=(function(t){jfe(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n)||this;return o.compact=a,o.nbDatablocks=i,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(qj),sC=(function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Le}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,o=!1,c=!1,u=!1,f=!1,h=!1,m=this.width,g=this.height;s;){s=!1;for(var x=!0;(x||!c)&&r<m;)x=this.containsBlackPoint(n,a,r,!1),x?(r++,s=!0,c=!0):c||r++;if(r>=m){i=!0;break}for(var v=!0;(v||!u)&&a<g;)v=this.containsBlackPoint(e,r,a,!0),v?(a++,s=!0,u=!0):u||a++;if(a>=g){i=!0;break}for(var w=!0;(w||!f)&&e>=0;)w=this.containsBlackPoint(n,a,e,!1),w?(e--,s=!0,f=!0):f||e--;if(e<0){i=!0;break}for(var S=!0;(S||!h)&&n>=0;)S=this.containsBlackPoint(e,r,n,!0),S?(n--,s=!0,h=!0):h||n--;if(n<0){i=!0;break}s&&(o=!0)}if(!i&&o){for(var b=r-e,_=null,E=1;_===null&&E<b;E++)_=this.getBlackPointOnSegment(e,a-E,e+E,a);if(_==null)throw new Le;for(var A=null,E=1;A===null&&E<b;E++)A=this.getBlackPointOnSegment(e,n+E,e+E,n);if(A==null)throw new Le;for(var j=null,E=1;j===null&&E<b;E++)j=this.getBlackPointOnSegment(r,n+E,r-E,n);if(j==null)throw new Le;for(var O=null,E=1;O===null&&E<b;E++)O=this.getBlackPointOnSegment(r,a-E,r-E,a);if(O==null)throw new Le;return this.centerEdges(O,_,j,A)}else throw new Le},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var i=Ir.round(Ir.distance(e,r,n,a)),s=(n-e)/i,o=(a-r)/i,c=this.image,u=0;u<i;u++){var f=Ir.round(e+u*s),h=Ir.round(r+u*o);if(c.get(f,h))return new jt(f,h)}return null},t.prototype.centerEdges=function(e,r,n,a){var i=e.getX(),s=e.getY(),o=r.getX(),c=r.getY(),u=n.getX(),f=n.getY(),h=a.getX(),m=a.getY(),g=t.CORR;return i<this.width/2?[new jt(h-g,m+g),new jt(o+g,c+g),new jt(u-g,f-g),new jt(i+g,s-g)]:[new jt(h+g,m+g),new jt(o+g,c-g),new jt(u-g,f+g),new jt(i-g,s-g)]},t.prototype.containsBlackPoint=function(e,r,n,a){var i=this.image;if(a){for(var s=e;s<=r;s++)if(i.get(s,n))return!0}else for(var o=e;o<=r;o++)if(i.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),Sk=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),i=!0,s=0;s<r.length&&i;s+=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new Le;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}i=!0;for(var s=r.length-2;s>=0&&i;s-=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new Le;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}},t})(),dW=(function(){function t(e,r,n,a,i,s,o,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=o,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,a,i,s,o,c,u,f,h,m,g,x,v,w){var S=t.quadrilateralToSquare(e,r,n,a,i,s,o,c),b=t.squareToQuadrilateral(u,f,h,m,g,x,v,w);return b.times(S)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,f=this.a32,h=this.a33,m=0;m<r;m+=2){var g=e[m],x=e[m+1],v=i*g+c*x+h;e[m]=(n*g+s*x+u)/v,e[m+1]=(a*g+o*x+f)/v}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,f=this.a32,h=this.a33,m=e.length,g=0;g<m;g++){var x=e[g],v=r[g],w=i*x+c*v+h;e[g]=(n*x+s*v+u)/w,r[g]=(a*x+o*v+f)/w}},t.squareToQuadrilateral=function(e,r,n,a,i,s,o,c){var u=e-n+i-o,f=r-a+s-c;if(u===0&&f===0)return new t(n-e,i-n,e,a-r,s-a,r,0,0,1);var h=n-i,m=o-i,g=a-s,x=c-s,v=h*x-m*g,w=(u*x-m*f)/v,S=(h*f-u*g)/v;return new t(n-e+w*n,o-e+S*o,e,a-r+w*a,c-r+S*c,r,w,S,1)},t.quadrilateralToSquare=function(e,r,n,a,i,s,o,c){return t.squareToQuadrilateral(e,r,n,a,i,s,o,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),Ife=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Pfe=(function(t){Ife(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,i,s,o,c,u,f,h,m,g,x,v,w,S,b,_,E){var A=dW.quadrilateralToQuadrilateral(i,s,o,c,u,f,h,m,g,x,v,w,S,b,_,E);return this.sampleGridWithTransform(r,n,a,A)},e.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new Le;for(var s=new xl(n,a),o=new Float32Array(2*n),c=0;c<a;c++){for(var u=o.length,f=c+.5,h=0;h<u;h+=2)o[h]=h/2+.5,o[h+1]=f;i.transformPoints(o),Sk.checkAndNudgePoints(r,o);try{for(var h=0;h<u;h+=2)r.get(Math.floor(o[h]),Math.floor(o[h+1]))&&s.set(h/2,c)}catch{throw new Le}}return s},e})(Sk),Wj=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Pfe,t})(),Ki=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new jt(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),kfe=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new Ofe(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Le;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(i,s,o){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(xr.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Le},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var c=new J2(Zi.AZTEC_PARAM);c.decode(s,i)}catch{throw new Le}for(var u=0,o=0;o<a;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(a,s,-1,1),f=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(f,o)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(o,c,u,f))break}r=o,n=c,a=u,i=f,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Le;this.compact=this.nbCenterLayers===5;var m=new jt(r.getX()+.5,r.getY()-.5),g=new jt(n.getX()+.5,n.getY()+.5),x=new jt(a.getX()-.5,a.getY()+.5),v=new jt(i.getX()-.5,i.getY()-.5);return this.expandSquare([m,g,x,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var i=new sC(this.image).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new Ki(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ki(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ki(s-7,o+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ki(s-7,o-7),!1,-1,-1).toResultPoint()}var c=Ir.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Ir.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new sC(this.image,15,c,u).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{e=this.getFirstDifferent(new Ki(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ki(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ki(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ki(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Ir.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Ir.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new Ki(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,i){var s=Wj.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,i=this.distanceResultPoint(e,r),s=i/n,o=e.getX(),c=e.getY(),u=s*(r.getX()-e.getX())/i,f=s*(r.getY()-e.getY())/i,h=0;h<n;h++)this.image.get(Ir.round(o+h*u),Ir.round(c+h*f))&&(a|=1<<n-h-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var i=3;e=new Ki(e.getX()-i,e.getY()+i),r=new Ki(r.getX()-i,r.getY()-i),n=new Ki(n.getX()+i,n.getY()-i),a=new Ki(a.getX()+i,a.getY()+i);var s=this.getColor(a,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,a),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,i=(r.getY()-e.getY())/n,s=0,o=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),f=Math.ceil(n),h=0;h<f;h++)o+=a,c+=i,this.image.get(Ir.round(o),Ir.round(c))!==u&&s++;var m=s/n;return m>.1&&m<.9?0:m<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var i=e.getX()+n,s=e.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===r;)s+=a;return s-=a,new Ki(i,s)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new jt(o+a*i,c+a*s),f=new jt(o-a*i,c-a*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var h=new jt(o+a*i,c+a*s),m=new jt(o-a*i,c-a*s),g=[u,h,f,m];return g},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Ir.round(e.getX()),n=Ir.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Ir.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Ir.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(xr.truncDivision(this.nbLayers-4,8)+1)+15},t})(),oC=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new kfe(e.getBlackMatrix()),i=null,s=null;try{var o=a.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new _k().decode(o)}catch(h){n=h}if(s==null)try{var o=a.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new _k().decode(o)}catch(h){throw n??h}var c=new gi(s.getText(),s.getRawBytes(),s.getNumBits(),i,Bt.AZTEC,un.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(Qa.BYTE_SEGMENTS,u);var f=s.getECLevel();return f!=null&&c.putMetadata(Qa.ERROR_CORRECTION_LEVEL,f),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(bn.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t})(),Dfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Dfe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new oC,r)||this}return e})(V0);var ha=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(bn.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,r),s=i.getResultMetadata(),o=270;s!==null&&s.get(Qa.ORIENTATION)===!0&&(o=o+s.get(Qa.ORIENTATION)%360),i.putMetadata(Qa.ORIENTATION,o);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),f=0;f<c.length;f++)c[f]=new jt(u-c[f].getY()-1,c[f].getX());return i}else throw new Le}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),i=new Oa(n),s=r&&r.get(bn.TRY_HARDER)===!0,o=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var u=Math.trunc(a/2),f=0;f<c;f++){var h=Math.trunc((f+1)/2),m=(f&1)===0,g=u+o*(m?h:-h);if(g<0||g>=a)break;try{i=e.getBlackRow(g,i)}catch{continue}for(var x=function(b){if(b===1&&(i.reverse(),r&&r.get(bn.NEED_RESULT_POINT_CALLBACK)===!0)){var _=new Map;r.forEach(function(j,O){return _.set(O,j)}),_.delete(bn.NEED_RESULT_POINT_CALLBACK),r=_}try{var E=v.decodeRow(g,i,r);if(b===1){E.putMetadata(Qa.ORIENTATION,180);var A=E.getResultPoints();A!==null&&(A[0]=new jt(n-A[0].getX()-1,A[0].getY()),A[1]=new jt(n-A[1].getX()-1,A[1].getY()))}return{value:E}}catch{}},v=this,w=0;w<2;w++){var S=x(w);if(typeof S=="object")return S.value}}throw new Le},t.recordPattern=function(e,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=e.getSize();if(r>=s)throw new Le;for(var o=!e.get(r),c=0,u=r;u<s;){if(e.get(u)!==o)n[c]++;else{if(++c===a)break;n[c]=1,o=!o}u++}if(!(c===a||c===a-1&&u===s))throw new Le},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,i=e.get(r);r>0&&a>=0;)e.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new Le;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var u=0,f=0;f<a;f++){var h=e[f],m=r[f]*c,g=h>m?h-m:m-h;if(g>n)return Number.POSITIVE_INFINITY;u+=g}return u/i},t})(),Rfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Nk=(function(t){Rfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1,u=6,f=a;f<n;f++)if(r.get(f)!==c)s[i]++;else{if(i===u-1){for(var h=e.MAX_AVG_VARIANCE,m=-1,g=e.CODE_START_A;g<=e.CODE_START_C;g++){var x=ha.patternMatchVariance(s,e.CODE_PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);x<h&&(h=x,m=g)}if(m>=0&&r.isRange(Math.max(0,o-(f-o)/2),o,!1))return Int32Array.from([o,f,m]);o+=s[0]+s[1],s=s.slice(2,s.length),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new Le},e.decodeCode=function(r,n,a){ha.recordPattern(r,a,n);for(var i=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var c=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=o)}if(s>=0)return s;throw new Le},e.prototype.decodeRow=function(r,n,a){var i=a&&a.get(bn.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],c=0,u=new Uint8Array(20);u[c++]=o;var f;switch(o){case e.CODE_START_A:f=e.CODE_CODE_A;break;case e.CODE_START_B:f=e.CODE_CODE_B;break;case e.CODE_START_C:f=e.CODE_CODE_C;break;default:throw new ht}for(var h=!1,m=!1,g="",x=s[0],v=s[1],w=Int32Array.from([0,0,0,0,0,0]),S=0,b=0,_=o,E=0,A=!0,j=!1,O=!1;!h;){var D=m;switch(m=!1,S=b,b=e.decodeCode(n,w,v),u[c++]=b,b!==e.CODE_STOP&&(A=!0),b!==e.CODE_STOP&&(E++,_+=E*b),x=v,v+=w.reduce(function(he,J){return he+J},0),b){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ht}switch(f){case e.CODE_CODE_A:if(b<64)O===j?g+=String.fromCharCode(32+b):g+=String.fromCharCode(32+b+128),O=!1;else if(b<96)O===j?g+=String.fromCharCode(b-64):g+=String.fromCharCode(b+64),O=!1;else switch(b!==e.CODE_STOP&&(A=!1),b){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!j&&O?(j=!0,O=!1):j&&O?(j=!1,O=!1):O=!0;break;case e.CODE_SHIFT:m=!0,f=e.CODE_CODE_B;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(b<96)O===j?g+=String.fromCharCode(32+b):g+=String.fromCharCode(32+b+128),O=!1;else switch(b!==e.CODE_STOP&&(A=!1),b){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!j&&O?(j=!0,O=!1):j&&O?(j=!1,O=!1):O=!0;break;case e.CODE_SHIFT:m=!0,f=e.CODE_CODE_A;break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(b<100)b<10&&(g+="0"),g+=b;else switch(b!==e.CODE_STOP&&(A=!1),b){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}D&&(f=f===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var M=v-x;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-x)/2),!1))throw new Le;if(_-=E*S,_%103!==S)throw new Ta;var k=g.length;if(k===0)throw new Le;k>0&&A&&(f===e.CODE_CODE_C?g=g.substring(0,k-2):g=g.substring(0,k-1));for(var I=(s[1]+s[0])/2,R=x+M/2,L=u.length,U=new Uint8Array(L),X=0;X<L;X++)U[X]=u[X];var ue=[new jt(I,r),new jt(R,r)];return new gi(g,U,0,ue,Bt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(ha),Mfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Y_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ek=(function(t){Mfe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.counters;u.fill(0),this.decodeRowResult="";var f=e.findAsteriskPattern(n,u),h=n.getNextSet(f[1]),m=n.getSize(),g,x;do{e.recordPattern(n,h,u);var v=e.toNarrowWidePattern(u);if(v<0)throw new Le;g=e.patternToChar(v),this.decodeRowResult+=g,x=h;try{for(var w=(i=void 0,Y_(u)),S=w.next();!S.done;S=w.next()){var b=S.value;h+=b}}catch(L){i={error:L}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}h=n.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var E=Y_(u),A=E.next();!A.done;A=E.next()){var b=A.value;_+=b}}catch(L){o={error:L}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(o)throw o.error}}var j=h-x-_;if(h!==m&&j*2<_)throw new Le;if(this.usingCheckDigit){for(var O=this.decodeRowResult.length-1,D=0,M=0;M<O;M++)D+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(M));if(this.decodeRowResult.charAt(O)!==e.ALPHABET_STRING.charAt(D%43))throw new Ta;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new Le;var k;this.extendedMode?k=e.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;var I=(f[1]+f[0])/2,R=x+_/2;return new gi(k,null,0,[new jt(I,r),new jt(R,r)],Bt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),s=0,o=i,c=!1,u=n.length,f=i;f<a;f++)if(r.get(f)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((f-o)/2)),o,!1))return[o,f];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new Le},e.toNarrowWidePattern=function(r){var n,a,i=r.length,s=0,o;do{var c=2147483647;try{for(var u=(n=void 0,Y_(r)),f=u.next();!f.done;f=u.next()){var h=f.value;h<c&&h>s&&(c=h)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s=c,o=0;for(var m=0,g=0,x=0;x<i;x++){var h=r[x];h>s&&(g|=1<<i-1-x,o++,m+=h)}if(o===3){for(var x=0;x<i&&o>0;x++){var h=r[x];if(h>s&&(o--,h*2>=m))return-1}return g}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Le},e.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(i+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new ht;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new ht;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new ht;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new ht;break}a+=c,i++}else a+=s}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(ha),Ffe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Z_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ak=(function(t){Ffe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.findAsteriskPattern(n),f=n.getNextSet(u[1]),h=n.getSize(),m=this.counters;m.fill(0),this.decodeRowResult="";var g,x;do{e.recordPattern(n,f,m);var v=this.toPattern(m);if(v<0)throw new Le;g=this.patternToChar(v),this.decodeRowResult+=g,x=f;try{for(var w=(i=void 0,Z_(m)),S=w.next();!S.done;S=w.next()){var b=S.value;f+=b}}catch(M){i={error:M}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var E=Z_(m),A=E.next();!A.done;A=E.next()){var b=A.value;_+=b}}catch(M){o={error:M}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(o)throw o.error}}if(f===h||!n.get(f))throw new Le;if(this.decodeRowResult.length<2)throw new Le;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var j=this.decodeExtended(this.decodeRowResult),O=(u[1]+u[0])/2,D=x+_/2;return new gi(j,null,0,[new jt(O,r),new jt(D,r)],Bt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,o=!1,c=i.length,u=0,f=a;f<n;f++)if(r.get(f)!==o)i[u]++;else{if(u===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([s,f]);s+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,o=!o}throw new Le},e.prototype.toPattern=function(r){var n,a,i=0;try{for(var s=Z_(r),o=s.next();!o.done;o=s.next()){var c=o.value;i+=c}}catch(x){n={error:x}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var u=0,f=r.length,h=0;h<f;h++){var m=Math.round(r[h]*9/i);if(m<1||m>4)return-1;if((h&1)===0)for(var g=0;g<m;g++)u=u<<1|1;else u<<=m}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new Le},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new ht;var o=r.charAt(i+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new ht;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new ht;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c="";else throw new ht;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new ht;break}a+=c,i++}else a+=s}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var i=1,s=0,o=n-1;o>=0;o--)s+=i*e.ALPHABET_STRING.indexOf(r.charAt(o)),++i>a&&(i=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new Ta},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(ha),Lfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bfe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tk=(function(t){Lfe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var i,s,o=this.decodeStart(n),c=this.decodeEnd(n),u=new gr;e.decodeMiddle(n,o[1],c[0],u);var f=u.toString(),h=null;a!=null&&(h=a.get(bn.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var m=f.length,g=!1,x=0;try{for(var v=Bfe(h),w=v.next();!w.done;w=v.next()){var S=w.value;if(m===S){g=!0;break}S>x&&(x=S)}}catch(E){i={error:E}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}if(!g&&m>x&&(g=!0),!g)throw new ht;var b=[new jt(o[1],r),new jt(c[0],r)],_=new gi(f,null,0,b,Bt.ITF,new Date().getTime());return _},e.decodeMiddle=function(r,n,a,i){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<a;){ha.recordPattern(r,n,s);for(var u=0;u<5;u++){var f=2*u;o[u]=s[f],c[u]=s[f+1]}var h=e.decodeDigit(o);i.append(h.toString()),h=this.decodeDigit(c),i.append(h.toString()),s.forEach(function(m){n+=m})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new Le},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new Le;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof Le&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var i=a.length,s=new Int32Array(i),o=r.getSize(),c=!1,u=0,f=n;s.fill(0);for(var h=n;h<o;h++)if(r.get(h)!==c)s[u]++;else{if(u===i-1){if(ha.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[f,h];f+=s[0]+s[1],un.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new Le},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,s=0;s<i;s++){var o=e.PATTERNS[s],c=ha.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new Le},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(ha),$fe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qh=(function(t){$fe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,i,!1,this.START_END_PATTERN,s);var o=a[0];i=a[1];var c=o-(i-o);c>=0&&(n=r.isRange(c,o,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ht;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ht;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},e.findGuardPattern=function(r,n,a,i,s){var o=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,f=i.length,h=a,m=n;m<o;m++)if(r.get(m)!==h)s[c]++;else{if(c===f-1){if(ha.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,m]);u+=s[0]+s[1];for(var g=s.slice(2,s.length),x=0;x<c-1;x++)s[x]=g[x];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,h=!h}throw new Le},e.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=i.length,u=0;u<c;u++){var f=i[u],h=ha.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,o=u)}if(o>=0)return o;throw new Le},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(ha),Ufe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vfe=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new jt((n[0]+n[1])/2,e),new jt(i,e)],u=new gi(s,null,0,c,Bt.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,f=0;f<5&&c<o;f++){var h=Qh.decodeDigit(e,s,c,Qh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var m=(a=void 0,Ufe(s)),g=m.next();!g.done;g=m.next()){var x=g.value;c+=x}}catch(w){a={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}h>=10&&(u|=1<<4-f),f!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new Le;var v=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==v)throw new Le;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Le},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Qa.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return r+a+"."+s},t})(),Hfe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zfe=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new jt((n[0]+n[1])/2,e),new jt(i,e)],u=new gi(s,null,0,c,Bt.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,f=0;f<2&&c<o;f++){var h=Qh.decodeDigit(e,s,c,Qh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var m=(a=void 0,Hfe(s)),g=m.next();!g.done;g=m.next()){var x=g.value;c+=x}}catch(v){a={error:v}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}h>=10&&(u|=1<<1-f),f!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new Le;if(parseInt(n.toString())%4!==u)throw new Le;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Qa.ISSUE_NUMBER,parseInt(e)]])},t})(),qfe=(function(){function t(){}return t.decodeRow=function(e,r,n){var a=Qh.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new Vfe;return i.decodeRow(e,r,a)}catch{var s=new zfe;return s.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),Wfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),sa=(function(t){Wfe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];e.L_AND_G_PATTERNS[n]=i}return r}return e.prototype.decodeRow=function(r,n,a){var i=e.findStartGuardPattern(n),s=a==null?null:a.get(bn.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new jt((i[0]+i[1])/2,r);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,f=c.resultString;if(s!=null){var h=new jt(u,r);s.foundPossibleResultPoint(h)}var m=e.decodeEnd(n,u);if(s!=null){var g=new jt((m[0]+m[1])/2,r);s.foundPossibleResultPoint(g)}var x=m[1],v=x+(x-m[0]);if(v>=n.getSize()||!n.isRange(x,v,!1))throw new Le;var w=f.toString();if(w.length<8)throw new ht;if(!e.checkChecksum(w))throw new Ta;var S=(i[1]+i[0])/2,b=(m[1]+m[0])/2,_=this.getBarcodeFormat(),E=[new jt(S,r),new jt(b,r)],A=new gi(w,null,0,E,_,new Date().getTime()),j=0;try{var O=qfe.decodeRow(r,n,m[1]);A.putMetadata(Qa.UPC_EAN_EXTENSION,O.getText()),A.putAllMetadata(O.getResultMetadata()),A.addResultPoints(O.getResultPoints()),j=O.getText().length}catch{}var D=a==null?null:a.get(bn.ALLOWED_EAN_EXTENSIONS);if(D!=null){var M=!1;for(var k in D)if(j.toString()===k){M=!0;break}if(!M)throw new Le}return _===Bt.EAN_13||Bt.UPC_A,A},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ht;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ht;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Qh),Gfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ck=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lC=(function(t){Gfe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),h=n[1],m=0,g=0;g<6&&h<f;g++){var x=sa.decodeDigit(r,u,h,sa.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);try{for(var v=(i=void 0,Ck(u)),w=v.next();!w.done;w=v.next()){var S=w.value;h+=S}}catch(A){i={error:A}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}x>=10&&(m|=1<<5-g)}a=e.determineFirstDigit(a,m);var b=sa.findGuardPattern(r,h,!0,sa.MIDDLE_PATTERN,new Int32Array(sa.MIDDLE_PATTERN.length).fill(0));h=b[1];for(var g=0;g<6&&h<f;g++){var x=sa.decodeDigit(r,u,h,sa.L_PATTERNS);a+=String.fromCharCode(48+x);try{for(var _=(o=void 0,Ck(u)),E=_.next();!E.done;E=_.next()){var S=E.value;h+=S}}catch(O){o={error:O}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:a}},e.prototype.getBarcodeFormat=function(){return Bt.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new Le},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(sa),Kfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ok=(function(t){Kfe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),h=n[1],m=0;m<4&&h<f;m++){var g=sa.decodeDigit(r,u,h,sa.L_PATTERNS);a+=String.fromCharCode(48+g);try{for(var x=(i=void 0,jk(u)),v=x.next();!v.done;v=x.next()){var w=v.value;h+=w}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}}var S=sa.findGuardPattern(r,h,!0,sa.MIDDLE_PATTERN,new Int32Array(sa.MIDDLE_PATTERN.length).fill(0));h=S[1];for(var m=0;m<4&&h<f;m++){var g=sa.decodeDigit(r,u,h,sa.L_PATTERNS);a+=String.fromCharCode(48+g);try{for(var b=(o=void 0,jk(u)),_=b.next();!_.done;_=b.next()){var w=_.value;h+=w}}catch(j){o={error:j}}finally{try{_&&!_.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:a}},e.prototype.getBarcodeFormat=function(){return Bt.EAN_8},e})(sa),Xfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ik=(function(t){Xfe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new lC,r}return e.prototype.getBarcodeFormat=function(){return Bt.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new gi(n.substring(1),null,null,r.getResultPoints(),Bt.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new Le},e.prototype.reset=function(){this.ean13Reader.reset()},e})(sa),Qfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yfe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pk=(function(t){Qfe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o=this.decodeMiddleCounters.map(function(w){return w});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=r.getSize(),u=n[1],f=0,h=0;h<6&&u<c;h++){var m=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+m%10);try{for(var g=(i=void 0,Yfe(o)),x=g.next();!x.done;x=g.next()){var v=x.value;u+=v}}catch(w){i={error:w}}finally{try{x&&!x.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}m>=10&&(f|=1<<5-h)}return e.determineNumSysAndCheckDigit(new gr(a),f),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return sa.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw Le.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Bt.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new gr;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(sa),Zfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J_=(function(t){Zfe(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(bn.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Bt.EAN_13)>-1&&i.push(new lC),a.indexOf(Bt.UPC_A)>-1&&i.push(new Ik),a.indexOf(Bt.EAN_8)>-1&&i.push(new Ok),a.indexOf(Bt.UPC_E)>-1&&i.push(new Pk)),i.length===0&&(i.push(new lC),i.push(new Ik),i.push(new Ok),i.push(new Pk)),n.readers=i,n}return e.prototype.decodeRow=function(r,n,a){var i,s;try{for(var o=kk(this.readers),c=o.next();!c.done;c=o.next()){var u=c.value;try{var f=u.decodeRow(r,n,a),h=f.getBarcodeFormat()===Bt.EAN_13&&f.getText().charAt(0)==="0",m=a==null?null:a.get(bn.POSSIBLE_FORMATS),g=m==null||m.includes(Bt.UPC_A);if(h&&g){var x=f.getRawBytes(),v=new gi(f.getText().substring(1),x,x?x.length:null,f.getResultPoints(),Bt.UPC_A);return v.putAllMetadata(f.getResultMetadata()),v}return f}catch{}}}catch(w){i={error:w}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}throw new Le},e.prototype.reset=function(){var r,n;try{for(var a=kk(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e})(ha),Jfe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ede=(function(t){Jfe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new Le;var s=this.codaBarDecodeRow(i.row);if(!s)throw new Le;return new gi(s,null,0,[new jt(i.left,r),new jt(i.right,r)],Bt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],o=n[0],c=1,u=1;u<n.length;u++)n[u]===o?c++:(o=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(ha),tde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),rde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},of=(function(t){tde(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(ha.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new Le},e.count=function(r){return Ir.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]>i&&(i=n[s],a=s);r[a]++},e.decrement=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]<i&&(i=n[s],a=s);r[a]--},e.isFinderPattern=function(r){var n,a,i=r[0]+r[1],s=i+r[2]+r[3],o=i/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var f=rde(r),h=f.next();!h.done;h=f.next()){var m=h.value;m>u&&(u=m),m<c&&(c=m)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(ha),W1=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),hW=(function(){function t(e,r,n,a,i){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new jt(n,i)),this.resultPoints.push(new jt(a,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),nde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oh=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,i,s=0;try{for(var o=nde(e),c=o.next();!c.done;c=o.next()){var u=c.value;s+=u}}catch(b){a={error:b}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}for(var f=0,h=0,m=e.length,g=0;g<m-1;g++){var x=void 0;for(x=1,h|=1<<g;x<e[g];x++,h&=~(1<<g)){var v=t.combins(s-x-1,m-g-2);if(n&&h===0&&s-x-(m-g-1)>=m-g-1&&(v-=t.combins(s-x-(m-g),m-g-2)),m-g-1>1){for(var w=0,S=s-x-(m-g-2);S>r;S--)w+=t.combins(s-x-S-1,m-g-3);v-=w*(m-1-g)}else s-x>r&&v--;f+=v}s-=x}return f},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var i=1,s=1,o=e;o>n;o--)i*=o,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},t})(),ade=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new Oa(n),i=0,s=e[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)(o&1<<c)!==0&&a.set(i),i++;for(var c=1;c<e.length;++c){for(var u=e[c],f=u.getLeftChar().getValue(),h=11;h>=0;--h)(f&1<<h)!==0&&a.set(i),i++;if(u.getRightChar()!==null)for(var m=u.getRightChar().getValue(),h=11;h>=0;--h)(m&1<<h)!==0&&a.set(i),i++}return a},t})(),Ju=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),Gj=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),ide=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wo=(function(t){ide(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Gj),sde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ef=(function(t){sde(e,t);function e(r,n,a){var i=t.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Gj),ode=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xd=(function(t){ode(e,t);function e(r,n,a){var i=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new ht;return i.firstDigit=n,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Gj),qx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lde=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,i,s,o,c,u;if(!e)return null;if(e.length<2)throw new Le;var f=e.substring(0,2);try{for(var h=qx(t.TWO_DIGIT_DATA_LENGTH),m=h.next();!m.done;m=h.next()){var g=m.value;if(g[0]===f)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,g[2],e):t.processFixedAI(2,g[1],e)}}catch(j){r={error:j}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(e.length<3)throw new Le;var x=e.substring(0,3);try{for(var v=qx(t.THREE_DIGIT_DATA_LENGTH),w=v.next();!w.done;w=v.next()){var g=w.value;if(g[0]===x)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,g[2],e):t.processFixedAI(3,g[1],e)}}catch(j){a={error:j}}finally{try{w&&!w.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}try{for(var S=qx(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=S.next();!b.done;b=S.next()){var g=b.value;if(g[0]===x)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(j){s={error:j}}finally{try{b&&!b.done&&(o=S.return)&&o.call(S)}finally{if(s)throw s.error}}if(e.length<4)throw new Le;var _=e.substring(0,4);try{for(var E=qx(t.FOUR_DIGIT_DATA_LENGTH),A=E.next();!A.done;A=E.next()){var g=A.value;if(g[0]===_)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(j){c={error:j}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}throw new Le},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Le;var a=n.substring(0,e);if(n.length<e+r)throw new Le;var i=n.substring(e,e+r),s=n.substring(e+r),o="("+a+")"+i,c=t.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),i;n.length<e+r?i=n.length:i=e+r;var s=n.substring(e,i),o=n.substring(i),c="("+a+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),A1=(function(){function t(e){this.buffer=new gr,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=lde.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Xd(this.information.getSize(),Xd.FNC1,Xd.FNC1):new Xd(this.information.getSize(),r-1,Xd.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,i=(n-8)%11;return new Xd(e+7,a,i)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,i=0;i<n;++i)e.get(r+i)&&(a|=1<<n-i-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ef(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ef(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ef(this.current.getPosition(),this.buffer.toString()):r=new ef(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ju(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ef(this.current.getPosition(),this.buffer.toString());return new Ju(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ju(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ef(this.current.getPosition(),this.buffer.toString());return new Ju(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ju(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ef(this.current.getPosition(),this.buffer.toString());return new Ju(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ju(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wo(e+5,wo.FNC1);if(r>=5&&r<15)return new wo(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new wo(e+7,""+(n+1));if(n>=90&&n<116)return new wo(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new ht}return new wo(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wo(e+5,wo.FNC1);if(r>=5&&r<15)return new wo(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new wo(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new fv("Decoding invalid alphanumeric value: "+n)}return new wo(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),pW=(function(){function t(e){this.information=e,this.generalDecoder=new A1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),cde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Oo=(function(t){cde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var s=r.charAt(i+n).charCodeAt(0)-48;a+=(i&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e})(pW),ude=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fde=(function(t){ude(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new gr;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Oo),dde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hde=(function(t){dde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new gr;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(pW),pde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),T1=(function(t){pde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var s=this.checkWeight(i),o=1e5,c=0;c<5;++c)s/o===0&&r.append("0"),o/=10;r.append(s)},e})(Oo),mde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),mW=(function(t){mde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+T1.GTIN_SIZE+e.WEIGHT_SIZE)throw new Le;var r=new gr;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+T1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(T1),gde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vde=(function(t){gde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(mW),xde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yde=(function(t){xde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(mW),wde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bde=(function(t){wde(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oo.GTIN_SIZE)throw new Le;var r=new gr;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oo.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oo.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Oo),_de=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Sde=(function(t){_de(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oo.GTIN_SIZE)throw new Le;var r=new gr;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oo.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oo.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oo.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Oo),Nde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xc=(function(t){Nde(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Le;var r=new gr;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var o=a;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),i/10===0&&r.append("0"),r.append(i)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(T1);function Ede(t){try{if(t.get(1))return new fde(t);if(!t.get(2))return new hde(t);var e=A1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new vde(t);case 5:return new yde(t)}var r=A1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new bde(t);case 13:return new Sde(t)}var n=A1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Xc(t,"310","11");case 57:return new Xc(t,"320","11");case 58:return new Xc(t,"310","13");case 59:return new Xc(t,"320","13");case 60:return new Xc(t,"310","15");case 61:return new Xc(t,"320","15");case 62:return new Xc(t,"310","17");case 63:return new Xc(t,"320","17")}}catch(a){throw console.log(a),new fv("unknown decoder: "+t)}}var Dk=(function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),Ade=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,i){r.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),Tde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cde=(function(t){Tde(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof Le){if(!this.pairs.length)throw new Le;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Le},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,i,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,Qc(r)),u=c.next();!u.done;u=c.next()){var f=u.value;this.pairs.push(f.getPairs())}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(r);h.push(o);try{return this.checkRows(h,s+1)}catch(m){console.log(m)}}}throw new Le},e.isValidSequence=function(r){var n,a;try{for(var i=Qc(e.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var o=s.value;if(!(r.length>o.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){c=!1;break}if(c)return!0}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var o=this.rows[a];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),a++}s||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Ade(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,i,s,o,c,u;try{for(var f=Qc(n),h=f.next();!h.done;h=f.next()){var m=h.value;if(m.getPairs().length!==r.length){var g=!0;try{for(var x=(s=void 0,Qc(m.getPairs())),v=x.next();!v.done;v=x.next()){var w=v.value,S=!1;try{for(var b=(c=void 0,Qc(r)),_=b.next();!_.done;_=b.next()){var E=_.value;if(Dk.equals(w,E)){S=!0;break}}}catch(A){c={error:A}}finally{try{_&&!_.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}S||(g=!1)}}catch(A){s={error:A}}finally{try{v&&!v.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}}}}catch(A){a={error:A}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,i,s,o,c,u;try{for(var f=Qc(n),h=f.next();!h.done;h=f.next()){var m=h.value,g=!0;try{for(var x=(s=void 0,Qc(r)),v=x.next();!v.done;v=x.next()){var w=v.value,S=!1;try{for(var b=(c=void 0,Qc(m.getPairs())),_=b.next();!_.done;_=b.next()){var E=_.value;if(w.equals(E)){S=!0;break}}}catch(A){c={error:A}}finally{try{_&&!_.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}if(!S){g=!1;break}}}catch(A){s={error:A}}finally{try{v&&!v.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(g)return!0}}catch(A){a={error:A}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=ade.buildBitArray(r),a=Ede(n),i=a.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new gi(i,null,null,c,Bt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);i+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),s++)}i%=211;var f=211*(s-4)+i;return f===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,o=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,a,i),s===null?c=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Le;var f;try{f=this.decodeDataCharacter(r,s,i,!1)}catch(h){f=null,console.log(h)}return new Dk(u,f,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=r.getSize(),o;if(a>=0)o=a;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var f=!1;o<s&&(f=!r.get(o),!!f);)o++;for(var h=0,m=o,g=o;g<s;g++)if(r.get(g)!==f)i[h]++;else{if(h===3){if(u&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=m,this.startEnd[1]=g;return}u&&e.reverseCounters(i),m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,f=!f}throw new Le},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},e.prototype.parseFoundFinderPattern=function(r,n,a){var i,s,o;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var u=this.getDecodeFinderCounters();un.arraycopy(u,0,u,1,u.length-1),u[0]=i;var f;try{f=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new hW(f,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,a,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var f=s[c];s[c]=s[u],s[u]=f}}var h=17,m=Ir.sum(new Int32Array(s))/h,g=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(m-g)/g>.3)throw new Le;for(var x=this.getOddCounts(),v=this.getEvenCounts(),w=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var b=1*s[c]/m,_=b+.5;if(_<1){if(b<.3)throw new Le;_=1}else if(_>8){if(b>8.7)throw new Le;_=8}var E=c/2;(c&1)===0?(x[E]=_,w[E]=b-_):(v[E]=_,S[E]=b-_)}this.adjustOddEvenCounts(h);for(var A=4*n.getValue()+(a?0:2)+(i?0:1)-1,j=0,O=0,c=x.length-1;c>=0;c--){if(e.isNotA1left(n,a,i)){var D=e.WEIGHTS[A][2*c];O+=x[c]*D}j+=x[c]}for(var M=0,c=v.length-1;c>=0;c--)if(e.isNotA1left(n,a,i)){var D=e.WEIGHTS[A][2*c+1];M+=v[c]*D}var k=O+M;if((j&1)!==0||j>13||j<4)throw new Le;var I=(13-j)/2,R=e.SYMBOL_WIDEST[I],L=9-R,U=oh.getRSSvalue(x,R,!0),X=oh.getRSSvalue(v,L,!1),ue=e.EVEN_TOTAL_SUBSET[I],he=e.GSUM[I],J=U*ue+X+he;return new W1(J,k)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=Ir.sum(new Int32Array(this.getOddCounts())),a=Ir.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);var u=n+a-r,f=(n&1)===1,h=(a&1)===0;if(u===1)if(f){if(h)throw new Le;s=!0}else{if(!h)throw new Le;c=!0}else if(u===-1)if(f){if(h)throw new Le;i=!0}else{if(!h)throw new Le;o=!0}else if(u===0){if(f){if(!h)throw new Le;n<a?(i=!0,c=!0):(s=!0,o=!0)}else if(h)throw new Le}else throw new Le;if(i){if(s)throw new Le;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new Le;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(of),jde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ode=(function(t){jde(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(W1),Ide=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),eS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rk=(function(t){Ide(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var f=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,f),n.reverse();try{for(var h=eS(this.possibleLeftPairs),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.getCount()>1)try{for(var x=(o=void 0,eS(this.possibleRightPairs)),v=x.next();!v.done;v=x.next()){var w=v.value;if(w.getCount()>1&&e.checkChecksum(g,w))return e.constructResult(g,w)}}catch(S){o={error:S}}finally{try{v&&!v.done&&(c=x.return)&&c.call(x)}finally{if(o)throw o.error}}}}catch(S){i={error:S}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}throw new Le},e.addOrTally=function(r,n){var a,i;if(n!=null){var s=!1;try{for(var o=eS(r),c=o.next();!c.done;c=o.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(f){a={error:f}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),s=new gr,o=13-i.length;o>0;o--)s.append("0");s.append(i);for(var c=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-48;c+=(o&1)===0?3*u:u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var f=r.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new gi(s.toString(),null,0,[f[0],f[1],h[0],h[1]],Bt.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(r,n,a,i){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,a,n,s),c=i==null?null:i.get(bn.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new jt(u,a))}var f=this.decodeDataCharacter(r,o,!0),h=this.decodeDataCharacter(r,o,!1);return new Ode(1597*f.getValue()+h.getValue(),f.getChecksumPortion()+4*h.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)ha.recordPatternInReverse(r,n.getStartEnd()[0],i);else{ha.recordPattern(r,n.getStartEnd()[1]+1,i);for(var o=0,c=i.length-1;o<c;o++,c--){var u=i[o];i[o]=i[c],i[c]=u}}for(var f=a?16:15,h=Ir.sum(new Int32Array(i))/f,m=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var w=i[o]/h,S=Math.floor(w+.5);S<1?S=1:S>8&&(S=8);var b=Math.floor(o/2);(o&1)===0?(m[b]=S,x[b]=w-S):(g[b]=S,v[b]=w-S)}this.adjustOddEvenCounts(a,f);for(var _=0,E=0,o=m.length-1;o>=0;o--)E*=9,E+=m[o],_+=m[o];for(var A=0,j=0,o=g.length-1;o>=0;o--)A*=9,A+=g[o],j+=g[o];var O=E+3*A;if(a){if((_&1)!==0||_>12||_<4)throw new Le;var D=(12-_)/2,M=e.OUTSIDE_ODD_WIDEST[D],k=9-M,I=oh.getRSSvalue(m,M,!1),R=oh.getRSSvalue(g,k,!0),L=e.OUTSIDE_EVEN_TOTAL_SUBSET[D],U=e.OUTSIDE_GSUM[D];return new W1(I*L+R+U,O)}else{if((j&1)!==0||j>10||j<4)throw new Le;var D=(10-j)/2,M=e.INSIDE_ODD_WIDEST[D],k=9-M,I=oh.getRSSvalue(m,M,!0),R=oh.getRSSvalue(g,k,!1),X=e.INSIDE_ODD_TOTAL_SUBSET[D],U=e.INSIDE_GSUM[D];return new W1(R*X+I+U,O)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),s=!1,o=0;o<i&&(s=!r.get(o),n!==s);)o++;for(var c=0,u=o,f=o;f<i;f++)if(r.get(f)!==s)a[c]++;else{if(c===3){if(of.isFinderPattern(a))return[u,f];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new Le},e.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var s=r.get(i[0]),o=i[0]-1;o>=0&&s!==r.get(o);)o--;o++;var c=i[0]-o,u=this.getDecodeFinderCounters(),f=new Int32Array(u.length);un.arraycopy(u,0,f,1,u.length-1),f[0]=c;var h=this.parseFinderValue(f,e.FINDER_PATTERNS),m=o,g=i[1];return a&&(m=r.getSize()-1-m,g=r.getSize()-1-g),new hW(h,[o,i[1]],m,g,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=Ir.sum(new Int32Array(this.getOddCounts())),i=Ir.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,u=!1;r?(a>12?o=!0:a<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));var f=a+i-n,h=(a&1)===(r?1:0),m=(i&1)===1;if(f===1)if(h){if(m)throw new Le;o=!0}else{if(!m)throw new Le;u=!0}else if(f===-1)if(h){if(m)throw new Le;s=!0}else{if(!m)throw new Le;c=!0}else if(f===0){if(h){if(!m)throw new Le;a<i?(s=!0,u=!0):(o=!0,c=!0)}else if(m)throw new Le}else throw new Le;if(s){if(o)throw new Le;of.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&of.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Le;of.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&of.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(of),Pde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),sm=(function(t){Pde(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(bn.POSSIBLE_FORMATS):null,i=r&&r.get(bn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(bn.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Bt.EAN_13)||a.includes(Bt.UPC_A)||a.includes(Bt.EAN_8)||a.includes(Bt.UPC_E))&&n.readers.push(new J_(r)),a.includes(Bt.CODE_39)&&n.readers.push(new Ek(i,s)),a.includes(Bt.CODE_93)&&n.readers.push(new Ak),a.includes(Bt.CODE_128)&&n.readers.push(new Nk),a.includes(Bt.ITF)&&n.readers.push(new Tk),a.includes(Bt.CODABAR)&&n.readers.push(new ede),a.includes(Bt.RSS_14)&&n.readers.push(new Rk),a.includes(Bt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Cde))),n.readers.length===0&&(n.readers.push(new J_(r)),n.readers.push(new Ek),n.readers.push(new Ak),n.readers.push(new J_(r)),n.readers.push(new Nk),n.readers.push(new Tk),n.readers.push(new Rk)),n}return e.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new Le},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(ha),kde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){kde(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new sm(n),r,n)||this}return e})(V0);var Mk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fr=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Dr=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),Dde=(function(){function t(e,r,n,a,i,s){var o,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var u=0,f=s.getECCodewords(),h=s.getECBlocks();try{for(var m=Mk(h),g=m.next();!g.done;g=m.next()){var x=g.value;u+=x.getCount()*(x.getDataCodewords()+f)}}catch(v){o={error:v}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if((e&1)!==0||(r&1)!==0)throw new ht;try{for(var i=Mk(t.VERSIONS),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new ht},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Fr(5,new Dr(1,3))),new t(2,12,12,10,10,new Fr(7,new Dr(1,5))),new t(3,14,14,12,12,new Fr(10,new Dr(1,8))),new t(4,16,16,14,14,new Fr(12,new Dr(1,12))),new t(5,18,18,16,16,new Fr(14,new Dr(1,18))),new t(6,20,20,18,18,new Fr(18,new Dr(1,22))),new t(7,22,22,20,20,new Fr(20,new Dr(1,30))),new t(8,24,24,22,22,new Fr(24,new Dr(1,36))),new t(9,26,26,24,24,new Fr(28,new Dr(1,44))),new t(10,32,32,14,14,new Fr(36,new Dr(1,62))),new t(11,36,36,16,16,new Fr(42,new Dr(1,86))),new t(12,40,40,18,18,new Fr(48,new Dr(1,114))),new t(13,44,44,20,20,new Fr(56,new Dr(1,144))),new t(14,48,48,22,22,new Fr(68,new Dr(1,174))),new t(15,52,52,24,24,new Fr(42,new Dr(2,102))),new t(16,64,64,14,14,new Fr(56,new Dr(2,140))),new t(17,72,72,16,16,new Fr(36,new Dr(4,92))),new t(18,80,80,18,18,new Fr(48,new Dr(4,114))),new t(19,88,88,20,20,new Fr(56,new Dr(4,144))),new t(20,96,96,22,22,new Fr(68,new Dr(4,174))),new t(21,104,104,24,24,new Fr(56,new Dr(6,136))),new t(22,120,120,18,18,new Fr(68,new Dr(6,175))),new t(23,132,132,20,20,new Fr(62,new Dr(8,163))),new t(24,144,144,22,22,new Fr(62,new Dr(8,156),new Dr(2,155))),new t(25,8,18,6,16,new Fr(7,new Dr(1,5))),new t(26,8,32,6,14,new Fr(11,new Dr(1,10))),new t(27,12,26,10,24,new Fr(14,new Dr(1,16))),new t(28,12,36,10,16,new Fr(18,new Dr(1,22))),new t(29,16,36,14,16,new Fr(24,new Dr(1,32))),new t(30,16,48,14,22,new Fr(28,new Dr(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),Rde=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new ht;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new xl(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Dde.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,u=!1,f=!1;do if(n===i&&a===0&&!o)e[r++]=this.readCorner1(i,s)&255,n-=2,a+=2,o=!0;else if(n===i-2&&a===0&&(s&3)!==0&&!c)e[r++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&(s&7)===0&&!u)e[r++]=this.readCorner3(i,s)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(s&7)===4&&!f)e[r++]=this.readCorner4(i,s)&255,n-=2,a+=2,f=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(r!==this.version.getTotalCodewords())throw new ht;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var i=0;return this.readModule(e-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r,n,a)&&(i|=1),i<<=1,this.readModule(e,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e,r,n,a)&&(i|=1),i},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Ht("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=r/a|0,o=n/i|0,c=s*a,u=o*i,f=new xl(u,c),h=0;h<s;++h)for(var m=h*a,g=0;g<o;++g)for(var x=g*i,v=0;v<a;++v)for(var w=h*(a+2)+1+v,S=m+v,b=0;b<i;++b){var _=g*(i+2)+1+b;if(e.get(_,w)){var E=x+b;f.set(E,S)}}return f},t})(),Fk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mde=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,i,s,o=r.getECBlocks(),c=0,u=o.getECBlocks();try{for(var f=Fk(u),h=f.next();!h.done;h=f.next()){var m=h.value;c+=m.getCount()}}catch(U){n={error:U}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}var g=new Array(c),x=0;try{for(var v=Fk(u),w=v.next();!w.done;w=v.next())for(var m=w.value,S=0;S<m.getCount();S++){var b=m.getDataCodewords(),_=o.getECCodewords()+b;g[x++]=new t(b,new Uint8Array(_))}}catch(U){i={error:U}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}for(var E=g[0].codewords.length,A=E-o.getECCodewords(),j=A-1,O=0,S=0;S<j;S++)for(var D=0;D<x;D++)g[D].codewords[S]=e[O++];for(var M=r.getVersionNumber()===24,k=M?8:x,D=0;D<k;D++)g[D].codewords[A-1]=e[O++];for(var I=g[0].codewords.length,S=A;S<I;S++)for(var D=0;D<x;D++){var R=M?(D+8)%x:D,L=M&&R>7?S-1:S;g[R].codewords[L]=e[O++]}if(O!==e.length)throw new Ht;return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),gW=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ht(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,c=s-o,u=255>>8-o<<c;r=(i[a]&u)>>c,e-=o,n+=o,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|i[a]&255,a++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(i[a]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),ra;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(ra||(ra={}));var Fde=(function(){function t(){}return t.decode=function(e){var r=new gW(e),n=new gr,a=new gr,i=new Array,s=ra.ASCII_ENCODE;do if(s===ra.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,a);else{switch(s){case ra.C40_ENCODE:this.decodeC40Segment(r,n);break;case ra.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case ra.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case ra.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case ra.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new ht}s=ra.ASCII_ENCODE}while(s!==ra.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new Z2(e,n.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var i=e.readBits(8);if(i===0)throw new ht;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),ra.ASCII_ENCODE;if(i===129)return ra.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&r.append("0"),r.append(""+s)}else switch(i){case 230:return ra.C40_ENCODE;case 231:return ra.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return ra.ANSIX12_ENCODE;case 239:return ra.TEXT_ENCODE;case 240:return ra.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new ht;break}}while(e.available()>0);return ra.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ht;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ht}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new ht}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ht;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ht}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new ht;break;default:throw new ht}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new ht;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(a&32)===0&&(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),s<0)throw new ht;for(var o=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new ht;o[c]=this.unrandomize255State(e.readBits(8),a++)}n.push(o);try{r.append(ao.decode(o,Nr.ISO88591))}catch(u){throw new fv("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),Lde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bde=(function(){function t(){this.rsDecoder=new J2(Zi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new Rde(e),i=a.getVersion(),s=a.readCodewords(),o=Mde.getDataBlocks(s,i),c=0;try{for(var u=Lde(o),f=u.next();!f.done;f=u.next()){var h=f.value;c+=h.getNumDataCodewords()}}catch(_){r={error:_}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var m=new Uint8Array(c),g=o.length,x=0;x<g;x++){var v=o[x],w=v.getCodewords(),S=v.getNumDataCodewords();this.correctErrors(w,S);for(var b=0;b<S;b++)m[b*g+x]=w[b]}return Fde.decode(m)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Ta}for(var a=0;a<r;a++)e[a]=n[a]},t})(),$de=(function(){function t(e){this.image=e,this.rectangleDetector=new sC(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Le;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var u=t.sampleGrid(this.image,n,a,i,s,o,c);return new qj(u,[n,a,i,s])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),i=(r.getY()-e.getY())/(n+1);return new jt(e.getX()+a,e.getY()+i)},t.moveAway=function(e,r,n){var a=e.getX(),i=e.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new jt(a,i)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],i=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),f=s,h=[i,r,n,a];return f>o&&(f=o,h[0]=r,h[1]=n,h[2]=a,h[3]=i),f>c&&(f=c,h[0]=n,h[1]=a,h[2]=i,h[3]=r),f>u&&(h[0]=a,h[1]=i,h[2]=r,h[3]=n),h},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=t.shiftPoint(n,a,(s+1)*4),c=t.shiftPoint(a,n,(s+1)*4),u=this.transitionsBetween(o,r),f=this.transitionsBetween(c,i);return u<f?(e[0]=r,e[1]=n,e[2]=a,e[3]=i):(e[0]=n,e[1]=a,e[2]=i,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=this.transitionsBetween(n,i),c=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),o=this.transitionsBetween(u,i);var f=new jt(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),h=new jt(i.getX()+(r.getX()-n.getX())/(o+1),i.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(f))return this.isValid(h)?h:null;if(!this.isValid(h))return f;var m=this.transitionsBetween(c,f)+this.transitionsBetween(u,f),g=this.transitionsBetween(c,h)+this.transitionsBetween(u,h);return m>g?f:h},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i)+1,o=this.transitionsBetween(a,i)+1,c=t.shiftPoint(r,n,o*4),u=t.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,o=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var f=(r.getX()+n.getX()+a.getX()+i.getX())/4,h=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=t.moveAway(r,f,h),n=t.moveAway(n,f,h),a=t.moveAway(a,f,h),i=t.moveAway(i,f,h);var m,g;return c=t.shiftPoint(r,n,o*4),c=t.shiftPoint(c,i,s*4),m=t.shiftPoint(n,r,o*4),m=t.shiftPoint(m,a,s*4),u=t.shiftPoint(a,i,o*4),u=t.shiftPoint(u,n,s*4),g=t.shiftPoint(i,a,o*4),g=t.shiftPoint(g,r,s*4),[c,m,u,g]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,i,s,o){var c=Wj.getInstance();return c.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-a)>Math.abs(i-n);if(o){var c=n;n=a,a=c,c=i,i=s,s=c}for(var u=Math.abs(i-n),f=Math.abs(s-a),h=-u/2,m=a<s?1:-1,g=n<i?1:-1,x=0,v=this.image.get(o?a:n,o?n:a),w=n,S=a;w!==i;w+=g){var b=this.image.get(o?S:w,o?w:S);if(b!==v&&(x++,v=b),h+=f,h>0){if(S===s)break;S+=m,h-=u}}return x},t})(),cC=(function(){function t(){this.decoder=new Bde}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(bn.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),a=t.NO_POINTS}else{var s=new $de(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var o=n.getRawBytes(),c=new gi(n.getText(),o,8*o.length,a,Bt.DATA_MATRIX,un.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Qa.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!=null&&c.putMetadata(Qa.ERROR_CORRECTION_LEVEL,f),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Le;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0],u=(c-o+1)/a,f=(s-i+1)/a;if(u<=0||f<=0)throw new Le;var h=a/2;i+=h,o+=h;for(var m=new xl(u,f),g=0;g<f;g++)for(var x=i+g*a,v=0;v<u;v++)e.get(o+v*a,x)&&m.set(v,g);return m},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],i=e[1];a<n&&r.get(a,i);)a++;if(a===n)throw new Le;var s=a-e[0];if(s===0)throw new Le;return s},t.NO_POINTS=[],t})(),Ude=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Ude(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new cC,r)||this}return e})(V0);var lh;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(lh||(lh={}));var Vde=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new No(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ht;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(lh.L,"L",1),t.M=new t(lh.M,"M",0),t.Q=new t(lh.Q,"Q",3),t.H=new t(lh.H,"H",2),t})(),Hde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vW=(function(){function t(e){this.errorCorrectionLevel=Vde.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return xr.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=Hde(t.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var u=c.value,f=u[0];if(f===e||f===r)return new t(u[1]);var h=t.numBitsDiffering(e,f);h<i&&(s=u[1],i=h),e!==r&&(h=t.numBitsDiffering(r,f),h<i&&(s=u[1],i=h))}}catch(m){n={error:m}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),zde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ee=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var i=zde(a),s=i.next();!s.done;s=i.next()){var o=s.value;n+=o.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),re=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),qde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},If=(function(){function t(e,r){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;var o=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var f=qde(u),h=f.next();!h.done;h=f.next()){var m=h.value;o+=m.getCount()*(m.getDataCodewords()+c)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ht;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ht}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ht;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var i=t.VERSION_DECODE_INFO[a];if(i===e)return t.getVersionForNumber(a+7);var s=vW.numBitsDiffering(e,i);s<r&&(n=a+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new xl(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Ee(7,new re(1,19)),new Ee(10,new re(1,16)),new Ee(13,new re(1,13)),new Ee(17,new re(1,9))),new t(2,Int32Array.from([6,18]),new Ee(10,new re(1,34)),new Ee(16,new re(1,28)),new Ee(22,new re(1,22)),new Ee(28,new re(1,16))),new t(3,Int32Array.from([6,22]),new Ee(15,new re(1,55)),new Ee(26,new re(1,44)),new Ee(18,new re(2,17)),new Ee(22,new re(2,13))),new t(4,Int32Array.from([6,26]),new Ee(20,new re(1,80)),new Ee(18,new re(2,32)),new Ee(26,new re(2,24)),new Ee(16,new re(4,9))),new t(5,Int32Array.from([6,30]),new Ee(26,new re(1,108)),new Ee(24,new re(2,43)),new Ee(18,new re(2,15),new re(2,16)),new Ee(22,new re(2,11),new re(2,12))),new t(6,Int32Array.from([6,34]),new Ee(18,new re(2,68)),new Ee(16,new re(4,27)),new Ee(24,new re(4,19)),new Ee(28,new re(4,15))),new t(7,Int32Array.from([6,22,38]),new Ee(20,new re(2,78)),new Ee(18,new re(4,31)),new Ee(18,new re(2,14),new re(4,15)),new Ee(26,new re(4,13),new re(1,14))),new t(8,Int32Array.from([6,24,42]),new Ee(24,new re(2,97)),new Ee(22,new re(2,38),new re(2,39)),new Ee(22,new re(4,18),new re(2,19)),new Ee(26,new re(4,14),new re(2,15))),new t(9,Int32Array.from([6,26,46]),new Ee(30,new re(2,116)),new Ee(22,new re(3,36),new re(2,37)),new Ee(20,new re(4,16),new re(4,17)),new Ee(24,new re(4,12),new re(4,13))),new t(10,Int32Array.from([6,28,50]),new Ee(18,new re(2,68),new re(2,69)),new Ee(26,new re(4,43),new re(1,44)),new Ee(24,new re(6,19),new re(2,20)),new Ee(28,new re(6,15),new re(2,16))),new t(11,Int32Array.from([6,30,54]),new Ee(20,new re(4,81)),new Ee(30,new re(1,50),new re(4,51)),new Ee(28,new re(4,22),new re(4,23)),new Ee(24,new re(3,12),new re(8,13))),new t(12,Int32Array.from([6,32,58]),new Ee(24,new re(2,92),new re(2,93)),new Ee(22,new re(6,36),new re(2,37)),new Ee(26,new re(4,20),new re(6,21)),new Ee(28,new re(7,14),new re(4,15))),new t(13,Int32Array.from([6,34,62]),new Ee(26,new re(4,107)),new Ee(22,new re(8,37),new re(1,38)),new Ee(24,new re(8,20),new re(4,21)),new Ee(22,new re(12,11),new re(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Ee(30,new re(3,115),new re(1,116)),new Ee(24,new re(4,40),new re(5,41)),new Ee(20,new re(11,16),new re(5,17)),new Ee(24,new re(11,12),new re(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Ee(22,new re(5,87),new re(1,88)),new Ee(24,new re(5,41),new re(5,42)),new Ee(30,new re(5,24),new re(7,25)),new Ee(24,new re(11,12),new re(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Ee(24,new re(5,98),new re(1,99)),new Ee(28,new re(7,45),new re(3,46)),new Ee(24,new re(15,19),new re(2,20)),new Ee(30,new re(3,15),new re(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Ee(28,new re(1,107),new re(5,108)),new Ee(28,new re(10,46),new re(1,47)),new Ee(28,new re(1,22),new re(15,23)),new Ee(28,new re(2,14),new re(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Ee(30,new re(5,120),new re(1,121)),new Ee(26,new re(9,43),new re(4,44)),new Ee(28,new re(17,22),new re(1,23)),new Ee(28,new re(2,14),new re(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Ee(28,new re(3,113),new re(4,114)),new Ee(26,new re(3,44),new re(11,45)),new Ee(26,new re(17,21),new re(4,22)),new Ee(26,new re(9,13),new re(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Ee(28,new re(3,107),new re(5,108)),new Ee(26,new re(3,41),new re(13,42)),new Ee(30,new re(15,24),new re(5,25)),new Ee(28,new re(15,15),new re(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Ee(28,new re(4,116),new re(4,117)),new Ee(26,new re(17,42)),new Ee(28,new re(17,22),new re(6,23)),new Ee(30,new re(19,16),new re(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Ee(28,new re(2,111),new re(7,112)),new Ee(28,new re(17,46)),new Ee(30,new re(7,24),new re(16,25)),new Ee(24,new re(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Ee(30,new re(4,121),new re(5,122)),new Ee(28,new re(4,47),new re(14,48)),new Ee(30,new re(11,24),new re(14,25)),new Ee(30,new re(16,15),new re(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Ee(30,new re(6,117),new re(4,118)),new Ee(28,new re(6,45),new re(14,46)),new Ee(30,new re(11,24),new re(16,25)),new Ee(30,new re(30,16),new re(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Ee(26,new re(8,106),new re(4,107)),new Ee(28,new re(8,47),new re(13,48)),new Ee(30,new re(7,24),new re(22,25)),new Ee(30,new re(22,15),new re(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Ee(28,new re(10,114),new re(2,115)),new Ee(28,new re(19,46),new re(4,47)),new Ee(28,new re(28,22),new re(6,23)),new Ee(30,new re(33,16),new re(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Ee(30,new re(8,122),new re(4,123)),new Ee(28,new re(22,45),new re(3,46)),new Ee(30,new re(8,23),new re(26,24)),new Ee(30,new re(12,15),new re(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Ee(30,new re(3,117),new re(10,118)),new Ee(28,new re(3,45),new re(23,46)),new Ee(30,new re(4,24),new re(31,25)),new Ee(30,new re(11,15),new re(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Ee(30,new re(7,116),new re(7,117)),new Ee(28,new re(21,45),new re(7,46)),new Ee(30,new re(1,23),new re(37,24)),new Ee(30,new re(19,15),new re(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Ee(30,new re(5,115),new re(10,116)),new Ee(28,new re(19,47),new re(10,48)),new Ee(30,new re(15,24),new re(25,25)),new Ee(30,new re(23,15),new re(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Ee(30,new re(13,115),new re(3,116)),new Ee(28,new re(2,46),new re(29,47)),new Ee(30,new re(42,24),new re(1,25)),new Ee(30,new re(23,15),new re(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Ee(30,new re(17,115)),new Ee(28,new re(10,46),new re(23,47)),new Ee(30,new re(10,24),new re(35,25)),new Ee(30,new re(19,15),new re(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Ee(30,new re(17,115),new re(1,116)),new Ee(28,new re(14,46),new re(21,47)),new Ee(30,new re(29,24),new re(19,25)),new Ee(30,new re(11,15),new re(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Ee(30,new re(13,115),new re(6,116)),new Ee(28,new re(14,46),new re(23,47)),new Ee(30,new re(44,24),new re(7,25)),new Ee(30,new re(59,16),new re(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Ee(30,new re(12,121),new re(7,122)),new Ee(28,new re(12,47),new re(26,48)),new Ee(30,new re(39,24),new re(14,25)),new Ee(30,new re(22,15),new re(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Ee(30,new re(6,121),new re(14,122)),new Ee(28,new re(6,47),new re(34,48)),new Ee(30,new re(46,24),new re(10,25)),new Ee(30,new re(2,15),new re(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Ee(30,new re(17,122),new re(4,123)),new Ee(28,new re(29,46),new re(14,47)),new Ee(30,new re(49,24),new re(10,25)),new Ee(30,new re(24,15),new re(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Ee(30,new re(4,122),new re(18,123)),new Ee(28,new re(13,46),new re(32,47)),new Ee(30,new re(48,24),new re(14,25)),new Ee(30,new re(42,15),new re(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Ee(30,new re(20,117),new re(4,118)),new Ee(28,new re(40,47),new re(7,48)),new Ee(30,new re(43,24),new re(22,25)),new Ee(30,new re(10,15),new re(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Ee(30,new re(19,118),new re(6,119)),new Ee(28,new re(18,47),new re(31,48)),new Ee(30,new re(34,24),new re(34,25)),new Ee(30,new re(20,15),new re(61,16)))],t})(),Sa;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Sa||(Sa={}));var Lk=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[Sa.DATA_MASK_000,new t(Sa.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Sa.DATA_MASK_001,new t(Sa.DATA_MASK_001,function(e,r){return(e&1)===0})],[Sa.DATA_MASK_010,new t(Sa.DATA_MASK_010,function(e,r){return r%3===0})],[Sa.DATA_MASK_011,new t(Sa.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Sa.DATA_MASK_100,new t(Sa.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Sa.DATA_MASK_101,new t(Sa.DATA_MASK_101,function(e,r){return e*r%6===0})],[Sa.DATA_MASK_110,new t(Sa.DATA_MASK_110,function(e,r){return e*r%6<3})],[Sa.DATA_MASK_111,new t(Sa.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),Wde=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ht;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=vW.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ht},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return If.getVersionForNumber(r);for(var n=0,a=e-11,i=5;i>=0;i--)for(var s=e-9;s>=a;s--)n=this.copyBit(s,i,n);var o=If.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var i=e-9;i>=a;i--)n=this.copyBit(s,i,n);if(o=If.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new ht},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Lk.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),c=0,u=0,f=0,h=a-1;h>0;h-=2){h===6&&h--;for(var m=0;m<a;m++)for(var g=s?a-1-m:m,x=0;x<2;x++)i.get(h-x,g)||(f++,u<<=1,this.bitMatrix.get(h-x,g)&&(u|=1),f===8&&(o[c++]=u,f=0,u=0));s=!s}if(c!==r.getTotalCodewords())throw new ht;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Lk.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,i=e.getHeight();a<i;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t})(),Bk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gde=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,i,s,o;if(e.length!==r.getTotalCodewords())throw new Ht;var c=r.getECBlocksForLevel(n),u=0,f=c.getECBlocks();try{for(var h=Bk(f),m=h.next();!m.done;m=h.next()){var g=m.value;u+=g.getCount()}}catch(L){a={error:L}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}var x=new Array(u),v=0;try{for(var w=Bk(f),S=w.next();!S.done;S=w.next())for(var g=S.value,b=0;b<g.getCount();b++){var _=g.getDataCodewords(),E=c.getECCodewordsPerBlock()+_;x[v++]=new t(_,new Uint8Array(E))}}catch(L){s={error:L}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}for(var A=x[0].codewords.length,j=x.length-1;j>=0;){var O=x[j].codewords.length;if(O===A)break;j--}j++;for(var D=A-c.getECCodewordsPerBlock(),M=0,b=0;b<D;b++)for(var k=0;k<v;k++)x[k].codewords[b]=e[M++];for(var k=j;k<v;k++)x[k].codewords[D]=e[M++];for(var I=x[0].codewords.length,b=D;b<I;b++)for(var k=0;k<v;k++){var R=k<j?b:b+1;x[k].codewords[R]=e[M++]}return x},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Ks;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Ks||(Ks={}));var gn=(function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Ht;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Ks.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Ks.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Ks.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Ks.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Ks.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Ks.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Ks.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Ks.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Ks.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Ks.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),Kde=(function(){function t(){}return t.decode=function(e,r,n,a){var i=new gW(e),s=new gr,o=new Array,c=-1,u=-1;try{var f=null,h=!1,m=void 0;do{if(i.available()<4)m=gn.TERMINATOR;else{var g=i.readBits(4);m=gn.forBits(g)}switch(m){case gn.TERMINATOR:break;case gn.FNC1_FIRST_POSITION:case gn.FNC1_SECOND_POSITION:h=!0;break;case gn.STRUCTURED_APPEND:if(i.available()<16)throw new ht;c=i.readBits(8),u=i.readBits(8);break;case gn.ECI:var x=t.parseECIValue(i);if(f=la.getCharacterSetECIByValue(x),f===null)throw new ht;break;case gn.HANZI:var v=i.readBits(4),w=i.readBits(m.getCharacterCountBits(r));v===t.GB2312_SUBSET&&t.decodeHanziSegment(i,s,w);break;default:var S=i.readBits(m.getCharacterCountBits(r));switch(m){case gn.NUMERIC:t.decodeNumericSegment(i,s,S);break;case gn.ALPHANUMERIC:t.decodeAlphanumericSegment(i,s,S,h);break;case gn.BYTE:t.decodeByteSegment(i,s,S,f,o,a);break;case gn.KANJI:t.decodeKanjiSegment(i,s,S);break;default:throw new ht}break}}while(m!==gn.TERMINATOR)}catch{throw new ht}return new Z2(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ht;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,a[i]=o>>8&255,a[i+1]=o&255,i+=2,n--}try{r.append(ao.decode(a,Nr.GB2312))}catch(c){throw new ht(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ht;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,a[i]=o>>8,a[i+1]=o,i+=2,n--}try{r.append(ao.decode(a,Nr.SHIFT_JIS))}catch(c){throw new ht(c)}},t.decodeByteSegment=function(e,r,n,a,i,s){if(8*n>e.available())throw new ht;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=e.readBits(8);var u;a===null?u=Nr.guessEncoding(o,s):u=a.getName();try{r.append(ao.decode(o,u))}catch(f){throw new ht(f)}i.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ht;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var i=r.length();n>1;){if(e.available()<11)throw new ht;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new ht;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var o=i;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ht;var a=e.readBits(10);if(a>=1e3)throw new ht;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new ht;var i=e.readBits(7);if(i>=100)throw new ht;r.append(t.toAlphaNumericChar(Math.floor(i/10))),r.append(t.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new ht;var s=e.readBits(4);if(s>=10)throw new ht;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new ht},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),xW=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),$k=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xde=(function(){function t(){this.rsDecoder=new J2(Zi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(xl.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new Wde(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new xW(!0)),i}catch(s){throw a!==null?a:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,i,s,o=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=Gde.getDataBlocks(u,o,c),h=0;try{for(var m=$k(f),g=m.next();!g.done;g=m.next()){var x=g.value;h+=x.getNumDataCodewords()}}catch(j){n={error:j}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}var v=new Uint8Array(h),w=0;try{for(var S=$k(f),b=S.next();!b.done;b=S.next()){var x=b.value,_=x.getCodewords(),E=x.getNumDataCodewords();this.correctErrors(_,E);for(var A=0;A<E;A++)v[w++]=_[A]}}catch(j){i={error:j}}finally{try{b&&!b.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}return Kde.decode(v,o,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Ta}for(var a=0;a<r;a++)e[a]=n[a]},t})(),Qde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yde=(function(t){Qde(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+a)/2;return new e(i,s,o)},e})(jt),Zde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jde=(function(){function t(e,r,n,a,i,s,o){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,i=this.startY+r/2,s=new Int32Array(3),o=this.image,c=0;c<r;c++){var u=i+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var f=e;f<a&&!o.get(f,u);)f++;for(var h=0;f<a;){if(o.get(f,u))if(h===1)s[1]++;else if(h===2){if(this.foundPatternCross(s)){var m=this.handlePossibleCenter(s,u,f);if(m!==null)return m}s[0]=s[2],s[1]=1,s[2]=0,h=1}else s[++h]++;else h===1&&h++,s[h]++;f++}if(this.foundPatternCross(s)){var m=this.handlePossibleCenter(s,u,a);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Le},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var i=this.image,s=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=e;c>=0&&i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!i.get(r,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,i,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var f=Zde(this.possibleCenters),h=f.next();!h.done;h=f.next()){var m=h.value;if(m.aboutEquals(u,c,o))return m.combineEstimate(c,o,u)}}catch(x){a={error:x}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var g=new Yde(o,c,u);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null},t})(),ehe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),the=(function(t){ehe(e,t);function e(r,n,a,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,o=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new e(s,o,c,i)},e})(jt),rhe=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Bp=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nhe=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(bn.TRY_HARDER)!==void 0,n=e!=null&&e.get(bn.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),o=Math.floor(3*i/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),f=o-1;f<i&&!c;f+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var h=0,m=0;m<s;m++)if(a.get(m,f))(h&1)===1&&h++,u[h]++;else if((h&1)===0)if(h===4)if(t.foundPatternCross(u)){var g=this.handlePossibleCenter(u,f,m,n);if(g===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var x=this.findRowSkip();x>u[2]&&(f+=x-u[2]-o,m=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,h=3;continue}h=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,h=3;else u[++h]++;else u[h]++;if(t.foundPatternCross(u)){var g=this.handlePossibleCenter(u,f,s,n);g===!0&&(o=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return jt.orderBestPatterns(v),new rhe(v)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var i=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)i[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&i[1]<=n;)i[1]++,s++;if(e<s||r<s||i[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=o.getHeight(),u=o.getWidth();for(s=1;e+s<c&&r+s<u&&o.get(r+s,e+s);)i[2]++,s++;if(e+s>=c||r+s>=u)return!1;for(;e+s<c&&r+s<u&&!o.get(r+s,e+s)&&i[3]<n;)i[3]++,s++;if(e+s>=c||r+s>=u||i[3]>=n)return!1;for(;e+s<c&&r+s<u&&o.get(r+s,e+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var f=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(f-a)<2*a&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var i=this.image,s=i.getHeight(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(r,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(r,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(r,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=2*a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var i=this.image,s=i.getWidth(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,r);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(c,r);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,r)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(c,r)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],i);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],i)))){for(var c=i/7,u=!1,f=this.possibleCenters,h=0,m=f.length;h<m;h++){var g=f[h];if(g.aboutEquals(c,o,s)){f[h]=g.combineEstimate(o,s,c),u=!0;break}}if(!u){var x=new the(s,o,c);f.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=Bp(this.possibleCenters),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,i=0,s=0,o=this.possibleCenters.length;try{for(var c=Bp(this.possibleCenters),u=c.next();!u.done;u=c.next()){var f=u.value;f.getCount()>=t.CENTER_QUORUM&&(i++,s+=f.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var h=s/o,m=0;try{for(var g=Bp(this.possibleCenters),x=g.next();!x.done;x=g.next()){var f=x.value;m+=Math.abs(f.getEstimatedModuleSize()-h)}}catch(v){n={error:v}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}return m<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,a,i=this.possibleCenters.length;if(i<3)throw new Le;var s=this.possibleCenters,o;if(i>3){var c=0,u=0;try{for(var f=Bp(this.possibleCenters),h=f.next();!h.done;h=f.next()){var m=h.value,g=m.getEstimatedModuleSize();c+=g,u+=g*g}}catch(A){e={error:A}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}o=c/i;var x=Math.sqrt(u/i-o*o);s.sort(function(A,j){var O=Math.abs(j.getEstimatedModuleSize()-o),D=Math.abs(A.getEstimatedModuleSize()-o);return O<D?-1:O>D?1:0});for(var v=Math.max(.2*o,x),w=0;w<s.length&&s.length>3;w++){var S=s[w];Math.abs(S.getEstimatedModuleSize()-o)>v&&(s.splice(w,1),w--)}}if(s.length>3){var c=0;try{for(var b=Bp(s),_=b.next();!_.done;_=b.next()){var E=_.value;c+=E.getEstimatedModuleSize()}}catch(j){n={error:j}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(j,O){if(O.getCount()===j.getCount()){var D=Math.abs(O.getEstimatedModuleSize()-o),M=Math.abs(j.getEstimatedModuleSize()-o);return D<M?1:D>M?-1:0}else return O.getCount()-j.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),ahe=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(bn.NEED_RESULT_POINT_CALLBACK);var r=new nhe(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new Le("No pattern found in proccess finder.");var s=t.computeDimension(r,n,a,i),o=If.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var f=n.getX()-r.getX()+a.getX(),h=n.getY()-r.getY()+a.getY(),m=1-3/c,g=Math.floor(r.getX()+m*(f-r.getX())),x=Math.floor(r.getY()+m*(h-r.getY())),v=4;v<=16;v<<=1)try{u=this.findAlignmentInRegion(i,g,x,v);break}catch(_){if(!(_ instanceof Le))throw _}var w=t.createTransform(r,n,a,u,s),S=t.sampleGrid(this.image,w,s),b;return u===null?b=[a,r,n]:b=[a,r,n,u],new qj(S,b)},t.createTransform=function(e,r,n,a,i){var s=i-3.5,o,c,u,f;return a!==null?(o=a.getX(),c=a.getY(),u=s-3,f=u):(o=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=s,f=s),dW.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,f,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=Wj.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var i=Ir.round(jt.distance(e,r)/a),s=Ir.round(jt.distance(e,n)/a),o=Math.floor((i+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new Le("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(e,r,n,a),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,r,o,c),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var i=Math.abs(a-r)>Math.abs(n-e);if(i){var s=e;e=r,r=s,s=n,n=a,a=s}for(var o=Math.abs(n-e),c=Math.abs(a-r),u=-o/2,f=e<n?1:-1,h=r<a?1:-1,m=0,g=n+f,x=e,v=r;x!==g;x+=f){var w=i?v:x,S=i?x:v;if(m===1===this.image.get(w,S)){if(m===2)return Ir.distance(x,v,e,r);m++}if(u+=c,u>0){if(v===a)break;v+=h,u-=o}}return m===2?Ir.distance(n+f,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var i=Math.floor(a*e),s=Math.max(0,r-i),o=Math.min(this.image.getWidth()-1,r+i);if(o-s<e*3)throw new Le("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<e*3)throw new Le("Alignment bottom exceeds estimated module size.");var f=new Jde(this.image,s,c,o-s,u-c,e,this.resultPointCallback);return f.find()},t})(),uC=(function(){function t(){this.decoder=new Xde}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(bn.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=t.NO_POINTS}else{var s=new ahe(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),a=s.getPoints()}n.getOther()instanceof xW&&n.getOther().applyMirroredCorrection(a);var o=new gi(n.getText(),n.getRawBytes(),void 0,a,Bt.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(Qa.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&o.putMetadata(Qa.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(Qa.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Qa.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Le;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0];if(o>=c||i>=s)throw new Le;if(s-i!==c-o&&(c=o+(s-i),c>=e.getWidth()))throw new Le;var u=Math.round((c-o+1)/a),f=Math.round((s-i+1)/a);if(u<=0||f<=0)throw new Le;if(f!==u)throw new Le;var h=Math.floor(a/2);i+=h,o+=h;var m=o+Math.floor((u-1)*a)-c;if(m>0){if(m>h)throw new Le;o-=m}var g=i+Math.floor((f-1)*a)-s;if(g>0){if(g>h)throw new Le;i-=g}for(var x=new xl(u,f),v=0;v<f;v++)for(var w=i+Math.floor(v*a),S=0;S<u;S++)e.get(o+Math.floor(S*a),w)&&x.set(S,v);return x},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),i=e[0],s=e[1],o=!0,c=0;i<a&&s<n;){if(o!==r.get(i,s)){if(++c===5)break;o=!o}i++,s++}if(i===a||s===n)throw new Le;return(i-e[0])/7},t.NO_POINTS=new Array,t})(),ihe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cr=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Ir.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var s=ihe(e),o=s.next();!o.done;o=s.next()){var c=o.value;a[i++]=c}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=ca.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),she=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),ohe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lhe=(function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),i=t.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=t.detect(n,a)),new she(a,i)},t.detect=function(e,r){for(var n,a,i=new Array,s=0,o=0,c=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,o=0;try{for(var f=(n=void 0,ohe(i)),h=f.next();!h.done;h=f.next()){var m=h.value;m[1]!=null&&(s=Math.trunc(Math.max(s,m[1].getY()))),m[3]!=null&&(s=Math.max(s,Math.trunc(m[3].getY())))}}catch(g){n={error:g}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(c=!0,i.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return i},t.findVertices=function(e,r,n){var a=e.getHeight(),i=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,i,s){for(var o=new Array(4),c=!1,u=new Int32Array(s.length);a<r;a+=t.ROW_STEP){var f=t.findGuardPattern(e,i,a,n,!1,s,u);if(f!=null){for(;a>0;){var h=t.findGuardPattern(e,i,--a,n,!1,s,u);if(h!=null)f=h;else{a++;break}}o[0]=new jt(f[0],a),o[1]=new jt(f[1],a),c=!0;break}}var m=a+1;if(c){for(var g=0,h=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);m<r;m++){var f=t.findGuardPattern(e,h[0],m,n,!1,s,u);if(f!=null&&Math.abs(h[0]-f[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-f[1])<t.MAX_PATTERN_DRIFT)h=f,g=0;else{if(g>t.SKIPPED_ROW_COUNT_MAX)break;g++}}m-=g+1,o[2]=new jt(h[0],m),o[3]=new jt(h[1],m)}return m-a<t.BARCODE_MIN_HEIGHT&&ca.fill(o,null),o},t.findGuardPattern=function(e,r,n,a,i,s,o){ca.fillWithin(o,0,o.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var f=c,h=0,m=s.length,g=i;f<a;f++){var x=e.get(f,n);if(x!==g)o[h]++;else{if(h===m-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,f]);c+=o[0]+o[1],un.arraycopy(o,2,o,0,h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,g=!g}}return h===m-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,f-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return 1/0;var c=i/s;n*=c;for(var u=0,f=0;f<a;f++){var h=e[f],m=r[f]*c,g=h>m?h-m:m-h;if(g>n)return 1/0;u+=g}return u/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),che=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vf=(function(){function t(e,r){if(r.length===0)throw new Ht;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),un.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=che(this.coefficients),s=i.next();!s.done;s=i.next()){var o=s.value;a=this.field.add(a,o)}}catch(h){r={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,f=1;f<u;f++)c=this.field.add(this.field.multiply(e,c),this.coefficients[f]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ht("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;un.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=this.field.add(r[o-s],n[o]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ht("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ht("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=0;o<n;o++)for(var c=r[o],u=0;u<i;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(c,a[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ht;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new gr,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),uhe=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ht;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new fW;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),fhe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),dhe=(function(t){fhe(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,s=0;s<r;s++)a.expTable[s]=i,i=i*n%r;for(var s=0;s<r-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new vf(a,new Int32Array([0])),a.one=new vf(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ht;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new vf(this,a)},e.PDF417_GF=new e(Cr.NUMBER_OF_CODEWORDS,3),e})(uhe),hhe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},phe=(function(){function t(){this.field=dhe.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,i,s=new vf(this.field,e),o=new Int32Array(r),c=!1,u=r;u>0;u--){var f=s.evaluateAt(this.field.exp(u));o[r-u]=f,f!==0&&(c=!0)}if(!c)return 0;var h=this.field.getOne();if(n!=null)try{for(var m=hhe(n),g=m.next();!g.done;g=m.next()){var x=g.value,v=this.field.exp(e.length-1-x),w=new vf(this.field,new Int32Array([this.field.subtract(0,v),1]));h=h.multiply(w)}}catch(D){a={error:D}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}for(var S=new vf(this.field,o),b=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),S,r),_=b[0],E=b[1],A=this.findErrorLocations(_),j=this.findErrorMagnitudes(E,_,A),u=0;u<A.length;u++){var O=e.length-1-this.field.log(A[u]);if(O<0)throw Ta.getChecksumInstance();e[O]=this.field.subtract(e[O],j[u])}return A.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=e,s=r,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=i,f=o;if(i=s,o=c,i.isZero())throw Ta.getChecksumInstance();s=u;for(var h=this.field.getZero(),m=i.getCoefficient(i.getDegree()),g=this.field.inverse(m);s.getDegree()>=i.getDegree()&&!s.isZero();){var x=s.getDegree()-i.getDegree(),v=this.field.multiply(s.getCoefficient(s.getDegree()),g);h=h.add(this.field.buildMonomial(x,v)),s=s.subtract(i.multiplyByMonomial(x,v))}c=h.multiply(o).subtract(f).negative()}var w=c.getCoefficient(0);if(w===0)throw Ta.getChecksumInstance();var S=this.field.inverse(w),b=c.multiply(S),_=s.multiply(S);return[b,_]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)e.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Ta.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new vf(this.field,i),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var f=this.field.inverse(n[s]),h=this.field.subtract(0,e.evaluateAt(f)),m=this.field.inverse(o.evaluateAt(f));u[s]=this.field.multiply(h,m)}return u},t})(),fC=(function(){function t(e,r,n,a,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,i)}return t.prototype.constructor_1=function(e,r,n,a,i){var s=r==null||n==null,o=a==null||i==null;if(s&&o)throw new Le;s?(r=new jt(0,a.getY()),n=new jt(0,i.getY())):o&&(a=new jt(e.getWidth()-1,r.getY()),i=new jt(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var f=new jt(c.getX(),u);n?a=f:s=f}if(r>0){var h=n?this.bottomLeft:this.bottomRight,m=Math.trunc(h.getY()+r);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);var g=new jt(h.getX(),m);n?i=g:o=g}return new t(this.image,a,i,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),mhe=(function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),Kj=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(s,o,c,u,f,h){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var m=f?parseInt(f.substr(1)):void 0,g;switch(h){case"s":g=r[n];break;case"c":g=r[n][0];break;case"f":g=parseFloat(r[n]).toFixed(s);break;case"p":g=parseFloat(r[n]).toPrecision(s);break;case"e":g=parseFloat(r[n]).toExponential(s);break;case"x":g=parseInt(r[n]).toString(m||16);break;case"d":g=parseFloat(parseInt(r[n],m||10).toPrecision(s)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(m);for(var x=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";g.length<x;)g=o!==void 0?g+v:v+g;return g}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),ghe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yW=(function(){function t(e){this.boundingBox=new fC(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Kj,a=0;try{for(var i=ghe(this.codewords),s=i.next();!s.done;s=i.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),vhe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xhe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},om=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,i=function(h,m){var g={getKey:function(){return h},getValue:function(){return m}};g.getValue()>n?(n=g.getValue(),a=[],a.push(g.getKey())):g.getValue()===n&&a.push(g.getKey())};try{for(var s=vhe(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=xhe(o.value,2),u=c[0],f=c[1];i(u,f)}}catch(h){e={error:h}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return Cr.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),yhe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uk=(function(t){yhe(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=tS(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,f=1,h=0,m=o;m<c;m++)if(n[m]!=null){var g=n[m],x=g.getRowNumber()-u;if(x===0)h++;else if(x===1)f=Math.max(f,h),h=1,u=g.getRowNumber();else if(x<0||g.getRowNumber()>=r.getRowCount()||x>m)n[m]=null;else{var v=void 0;f>2?v=(f-2)*x:v=x;for(var w=v>=m,S=1;S<=v&&!w;S++)w=n[m-S]!=null;w?n[m]=null:(u=g.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=tS(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,f=s;f<o;f++)if(c[f]!=null){var h=c[f];h.setRowNumberAsRowIndicatorColumn();var m=h.getRowNumber()-u;m===0||(m===1?u=h.getRowNumber():h.getRowNumber()>=r.getRowCount()?c[f]=null:u=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new om,s=new om,o=new om,c=new om;try{for(var u=tS(a),f=u.next();!f.done;f=u.next()){var h=f.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var m=h.getValue()%30,g=h.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(m*3+1);break;case 1:c.setValue(m/3),o.setValue(m%3);break;case 2:i.setValue(m+1);break}}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<Cr.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>Cr.MAX_ROWS_IN_BARCODE)return null;var x=new mhe(i.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,x),x},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var s=i.getValue()%30,o=i.getRowNumber();if(o>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:s+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(yW),whe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bhe=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Cr.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,i;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),c=o;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=c[r+2]);try{for(var f=whe(u),h=f.next();!h.done;h=f.next()){var m=h.value;if(t.adjustRowNumber(s,m))return}}catch(g){a={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Kj,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},t})(),_he=(function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),She=(function(){function t(){}return t.initialize=function(){for(var e=0;e<Cr.SYMBOL_TABLE.length;e++)for(var r=Cr.SYMBOL_TABLE[e],n=r&1,a=0;a<Cr.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Cr.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Cr.BARS_IN_MODULE-a-1]=Math.fround(i/Cr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Ir.sum(e),n=new Int32Array(Cr.BARS_IN_MODULE),a=0,i=0,s=0;s<Cr.MODULES_IN_CODEWORD;s++){var o=r/(2*Cr.MODULES_IN_CODEWORD)+s*r/Cr.MODULES_IN_CODEWORD;i+e[a]<=o&&(i+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Cr.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Ir.sum(e),n=new Array(Cr.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var i=iC.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var c=0,u=t.RATIOS_TABLE[o],f=0;f<Cr.BARS_IN_MODULE;f++){var h=Math.fround(u[f]-n[f]);if(c+=Math.fround(h*h),c>=i)break}c<i&&(i=c,s=Cr.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Cr.SYMBOL_TABLE.length).map(function(e){return new Array(Cr.BARS_IN_MODULE)}),t})(),Nhe=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),Vk=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),Ehe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ahe=(function(t){Ehe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(as),The=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Ahe;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Hj;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),Che=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jhe=(function(t){Che(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(as),Ohe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ihe=(function(t){Ohe(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Ht("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new jhe;a=xr.MAX_VALUE}this.buf=ca.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new Hj;this.ensureCapacity(this.count+a),un.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ca.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(The),Zr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Zr||(Zr={}));function wW(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Wx;function eu(t){if(typeof Wx>"u"&&(Wx=wW()),Wx===null)throw new Error("BigInt is not supported!");return Wx(t)}function Phe(){var t=[];t[0]=eu(1);var e=eu(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var khe=(function(){function t(){}return t.decode=function(e,r){var n=new gr(""),a=la.ISO8859_1;n.enableDecoding(a);for(var i=1,s=e[i++],o=new Nhe;i<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(s,e,a,i,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,n);break;case t.ECI_CHARSET:la.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ht;default:i--,i=t.textCompaction(e,i,n);break}if(i<e.length)s=e[i++];else throw ht.getFormatInstance()}if(n.length()===0)throw ht.getFormatInstance();var c=new Z2(null,n.toString(),null,r);return c.setOther(o),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ht.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=e[r];n.setSegmentIndex(xr.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new gr;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new gr;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new gr;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var f=new gr;r=t.textCompaction(e,r+1,f),n.setAddressee(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new gr;r=t.numericCompaction(e,r+1,h),n.setSegmentCount(xr.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var m=new gr;r=t.numericCompaction(e,r+1,m),n.setTimestamp(Vk.parseLong(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var g=new gr;r=t.numericCompaction(e,r+1,g),n.setChecksum(xr.parseInt(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var x=new gr;r=t.numericCompaction(e,r+1,x),n.setFileSize(Vk.parseLong(x.toString()));break;default:throw ht.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ht.getFormatInstance()}if(o!==-1){var v=r-o;n.isLastSegment()&&v--,n.setOptionalData(ca.copyOfRange(e,o,o+v))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),i=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:a[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],i[s]=c,s++;break}}return t.decodeTextCompaction(a,i,s,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var i=Zr.ALPHA,s=Zr.ALPHA,o=0;o<n;){var c=e[o],u="";switch(i){case Zr.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:i=Zr.LOWER;break;case t.ML:i=Zr.MIXED;break;case t.PS:s=i,i=Zr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Zr.ALPHA;break}break;case Zr.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:s=i,i=Zr.ALPHA_SHIFT;break;case t.ML:i=Zr.MIXED;break;case t.PS:s=i,i=Zr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Zr.ALPHA;break}break;case Zr.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:i=Zr.PUNCT;break;case 26:u=" ";break;case t.LL:i=Zr.LOWER;break;case t.AL:i=Zr.ALPHA;break;case t.PS:s=i,i=Zr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Zr.ALPHA;break}break;case Zr.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=Zr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Zr.ALPHA;break}break;case Zr.ALPHA_SHIFT:if(i=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=Zr.ALPHA;break}break;case Zr.PUNCT_SHIFT:if(i=s,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=Zr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Zr.ALPHA;break}break}u!==""&&a.append(u),o++}},t.byteCompaction=function(e,r,n,a,i){var s=new Ihe,o=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var f=new Int32Array(6),h=r[a++];a<r[0]&&!u;)switch(f[o++]=h,c=900*c+h,h=r[a++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(o%5===0&&o>0){for(var m=0;m<6;++m)s.write(Number(eu(c)>>eu(8*(5-m))));c=0,o=0}break}a===r[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(f[o++]=h);for(var g=0;g<o;g++)s.write(f[g]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var x=r[a++];if(x<t.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+x;else switch(x){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(o%5===0&&o>0){for(var m=0;m<6;++m)s.write(Number(eu(c)>>eu(8*(5-m))));c=0,o=0}}break}return i.append(ao.decode(s.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,i=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!i;){var o=e[r++];if(r===e[0]&&(i=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[a]=o,a++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(t.decodeBase900toBase10(s,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=eu(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*eu(e[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new ht;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=wW()?Phe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),$p=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dhe=(function(){function t(){}return t.decode=function(e,r,n,a,i,s,o){for(var c=new fC(e,r,n,a,i),u=null,f=null,h,m=!0;;m=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,s,o)),a!=null&&(f=t.getRowIndicatorColumn(e,c,a,!1,s,o)),h=t.merge(u,f),h==null)throw Le.getNotFoundInstance();var g=h.getBoundingBox();if(m&&g!=null&&(g.getMinY()<c.getMinY()||g.getMaxY()>c.getMaxY()))c=g;else break}h.setBoundingBox(c);var x=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,u),h.setDetectionResultColumn(x,f);for(var v=u!=null,w=1;w<=x;w++){var S=v?w:x-w;if(h.getDetectionResultColumn(S)===void 0){var b=void 0;S===0||S===x?b=new Uk(c,S===0):b=new yW(c),h.setDetectionResultColumn(S,b);for(var _=-1,E=_,A=c.getMinY();A<=c.getMaxY();A++){if(_=t.getStartColumn(h,S,A,v),_<0||_>c.getMaxX()){if(E===-1)continue;_=E}var j=t.detectCodeword(e,c.getMinX(),c.getMaxX(),v,_,A,s,o);j!=null&&(b.setCodeword(A,j),E=_,s=Math.min(s,j.getWidth()),o=Math.max(o,j.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=fC.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new bhe(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=t.getMax(a),s=0;try{for(var o=$p(a),c=o.next();!c.done;c=o.next()){var u=c.value;if(s+=i-u,u>0)break}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var f=e.getCodewords(),h=0;s>0&&f[h]==null;h++)s--;for(var m=0,h=a.length-1;h>=0&&(m+=i-a[h],!(a[h]>0));h--);for(var h=f.length-1;m>0&&f[h]==null;h--)m--;return e.getBoundingBox().addMissingRows(s,m,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var i=$p(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=Math.max(a,o)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,i,s){for(var o=new Uk(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,f=Math.trunc(Math.trunc(n.getX())),h=Math.trunc(Math.trunc(n.getY()));h<=r.getMaxY()&&h>=r.getMinY();h+=u){var m=t.detectCodeword(e,0,e.getWidth(),a,f,h,i,s);m!=null&&(o.setCodeword(h,m),a?f=m.getStartX():f=m.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>Cr.MAX_CODEWORDS_IN_BARCODE)throw Le.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[o][c+1].getValue(),f=o*e.getBarcodeColumnCount()+c;u.length===0?n.push(f):u.length===1?a[f]=u[0]:(s.push(f),i.push(u))}for(var h=new Array(i.length),m=0;m<h.length;m++)h[m]=i[m];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Cr.toIntArray(n),Cr.toIntArray(s),h)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,i){for(var s=new Int32Array(a.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)r[a[c]]=i[c][s[c]];try{return t.decodeCodewords(r,e,n)}catch(f){var u=f instanceof Ta;if(!u)throw f}if(s.length===0)throw Ta.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Ta.getChecksumInstance()}throw Ta.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,i,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new om;var u=0;try{for(var f=$p(e.getDetectionResultColumns()),h=f.next();!h.done;h=f.next()){var m=h.value;if(m!=null)try{for(var g=(a=void 0,$p(m.getCodewords())),x=g.next();!x.done;x=g.next()){var v=x.value;if(v!=null){var w=v.getRowNumber();if(w>=0){if(w>=s.length)continue;s[w][u].setValue(v.getValue())}}}}catch(S){a={error:S}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}u++}}catch(S){r={error:S}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var i,s,o=a?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var f=(i=void 0,$p(e.getDetectionResultColumn(r).getCodewords())),h=f.next();!h.done;h=f.next()){var m=h.value;if(m!=null)return(a?m.getEndX():m.getStartX())+o*u*(m.getEndX()-m.getStartX())}}catch(g){i={error:g}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}u++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,i,s,o,c){i=t.adjustCodewordStartColumn(e,r,n,a,i,s);var u=t.getModuleBitCount(e,r,n,a,i,s);if(u==null)return null;var f,h=Ir.sum(u);if(a)f=i+h;else{for(var m=0;m<u.length/2;m++){var g=u[m];u[m]=u[u.length-1-m],u[u.length-1-m]=g}f=i,i=f-h}if(!t.checkCodewordSkew(h,o,c))return null;var x=She.getDecodedValue(u),v=Cr.getCodeword(x);return v===-1?null:new _he(i,f,t.getCodewordBucketNumber(x),v)},t.getModuleBitCount=function(e,r,n,a,i,s){for(var o=i,c=new Int32Array(8),u=0,f=a?1:-1,h=a;(a?o<n:o>=r)&&u<c.length;)e.get(o,s)===h?(c[u]++,o+=f):(u++,h=!h);return u===c.length||o===(a?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,i,s){for(var o=i,c=a?-1:1,u=0;u<2;u++){for(;(a?o>=r:o<n)&&a===e.get(o,s);){if(Math.abs(i-o)>t.CODEWORD_SKEW_SIZE)return i;o+=c}c=-c,a=!a}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ht.getFormatInstance();var a=1<<r+1,i=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var s=khe.decode(e,""+r);return s.setErrorsCorrected(i),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Ta.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ht.getFormatInstance();var n=e[0];if(n>e.length)throw ht.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ht.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Kj,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var i=e[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new phe,t})(),Rhe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dC=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Le.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ht||n instanceof Ta?Le.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,i,s=new Array,o=lhe.detectMultiple(e,r,n);try{for(var c=Rhe(o.getPoints()),u=c.next();!u.done;u=c.next()){var f=u.value,h=Dhe.decode(o.getBits(),f[4],f[5],f[6],f[7],t.getMinCodewordWidth(f),t.getMaxCodewordWidth(f)),m=new gi(h.getText(),h.getRawBytes(),void 0,f,Bt.PDF_417);m.putMetadata(Qa.ERROR_CORRECTION_LEVEL,h.getECLevel());var g=h.getOther();g!=null&&m.putMetadata(Qa.PDF417_EXTRA_METADATA,g),s.push(m)}}catch(x){a={error:x}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(x){return x})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?xr.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Cr.MODULES_IN_CODEWORD/Cr.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Cr.MODULES_IN_CODEWORD/Cr.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Cr.MODULES_IN_CODEWORD/Cr.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Cr.MODULES_IN_CODEWORD/Cr.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),Mhe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Hk=(function(t){Mhe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(as),zk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fhe=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(bn.TRY_HARDER)!==void 0,n=e==null?null:e.get(bn.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===Bt.UPC_A||s===Bt.UPC_E||s===Bt.EAN_13||s===Bt.EAN_8||s===Bt.CODABAR||s===Bt.CODE_39||s===Bt.CODE_93||s===Bt.CODE_128||s===Bt.ITF||s===Bt.RSS_14||s===Bt.RSS_EXPANDED});i&&!r&&a.push(new sm(e)),n.includes(Bt.QR_CODE)&&a.push(new uC),n.includes(Bt.DATA_MATRIX)&&a.push(new cC),n.includes(Bt.AZTEC)&&a.push(new oC),n.includes(Bt.PDF_417)&&a.push(new dC),i&&r&&a.push(new sm(e))}a.length===0&&(r||a.push(new sm(e)),a.push(new uC),a.push(new cC),a.push(new oC),a.push(new dC),r&&a.push(new sm(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=zk(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Hk("No readers where selected, nothing can be read.");try{for(var a=zk(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof Hk)continue}}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new Le("No MultiFormat Readers were able to detect the code.")},t})(),Lhe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bhe=(function(t){Lhe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new Fhe;return i.setHints(r),a=t.call(this,i,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(V0),$he=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){$he(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new dC,r)||this}return e})(V0);var Uhe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Uhe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new uC,r)||this}return e})(V0);var hC;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(hC||(hC={}));const Gx=hC;var bW=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new vu(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=e;i++){var s=n.multiply(new vu(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Ht("No error correction bytes");var n=e.length-r;if(n<=0)throw new Ht("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);un.arraycopy(e,0,i,0,n);var s=new vu(this.field,i);s=s.multiplyByMonomial(r,1);for(var o=s.divide(a)[1],c=o.getCoefficients(),u=r-c.length,f=0;f<u;f++)e[n+f]=0;un.arraycopy(c,0,e,n+u,c.length)},t})(),lm=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i-1;s++)for(var o=n[s],c=0;c<a-1;c++){var u=o[c];u===o[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=0;o<a;o++){var c=n[s];o+6<a&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(t.isWhiteHorizontal(c,o-4,o)||t.isWhiteHorizontal(c,o+7,o+11))&&r++,s+6<i&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=n[s],c=0;c<a;c++)o[c]===1&&r++;var u=e.getHeight()*e.getWidth(),f=Math.floor(Math.abs(r*2-u)*10/u);return f*t.N4},t.getDataMaskBit=function(e,r,n){var a,i;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new Ht("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),i=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<a;o++){for(var c=0,u=-1,f=0;f<i;f++){var h=r?s[o][f]:s[f][o];h===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=h)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),Vhe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hhe=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=Vhe(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;ca.fill(s,e)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=r.bytes[n],o=0,c=this.width;o<c;++o)if(i[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new gr,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),pC=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new gr;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),zhe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),mn=(function(t){zhe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(as),qk=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,i){t.clearMatrix(i),t.embedBasicPatterns(n,i),t.embedTypeInfo(r,a,i),t.maybeEmbedVersionInfo(n,i),t.embedDataBits(e,a,i)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new Oa;t.makeTypeInfoBits(e,r,a);for(var i=0,s=a.getSize();i<s;++i){var o=a.get(a.getSize()-1-i),c=t.TYPE_INFO_COORDINATES[i],u=c[0],f=c[1];if(n.setBoolean(u,f,o),i<8){var h=n.getWidth()-i-1,m=8;n.setBoolean(h,m,o)}else{var h=8,m=n.getHeight()-7+(i-8);n.setBoolean(h,m,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Oa;t.makeVersionInfoBits(e,n);for(var a=17,i=0;i<6;++i)for(var s=0;s<3;++s){var o=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,i,o)}}},t.embedDataBits=function(e,r,n){for(var a=0,i=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(t.isEmpty(n.get(u,o))){var f=void 0;a<e.getSize()?(f=e.get(a),++a):f=!1,r!==255&&lm.getDataMaskBit(r,u,o)&&(f=!f),n.setBoolean(u,o,f)}}o+=i}i=-i,o+=i,s-=2}if(a!==e.getSize())throw new mn("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-xr.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Ht("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!pC.isValidMaskPattern(r))throw new mn("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var i=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(i,10);var s=new Oa;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new mn("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new mn("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new mn;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new mn;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new mn;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var i=t.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var i=t.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var o=a[i];if(o>=0)for(var c=0;c!==s;c++){var u=a[c];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),qhe=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),Wk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return lm.applyMaskPenaltyRule1(e)+lm.applyMaskPenaltyRule2(e)+lm.applyMaskPenaltyRule3(e)+lm.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(Gx.CHARACTER_SET)!==void 0;i&&(a=n.get(Gx.CHARACTER_SET).toString());var s=this.chooseMode(e,a),o=new Oa;if(s===gn.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=la.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var u=new Oa;this.appendBytes(e,s,u,a);var f;if(n!==null&&n.get(Gx.QR_VERSION)!==void 0){var h=Number.parseInt(n.get(Gx.QR_VERSION).toString(),10);f=If.getVersionForNumber(h);var m=this.calculateBitsNeeded(s,o,u,f);if(!this.willFit(m,f,r))throw new mn("Data too big for requested version")}else f=this.recommendVersion(r,s,o,u);var g=new Oa;g.appendBitArray(o);var x=s===gn.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(x,f,s,g),g.appendBitArray(u);var v=f.getECBlocksForLevel(r),w=f.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(w,g);var S=this.interleaveWithECBytes(g,f.getTotalCodewords(),w,v.getNumBlocks()),b=new pC;b.setECLevel(r),b.setMode(s),b.setVersion(f);var _=f.getDimensionForVersion(),E=new Hhe(_,_),A=this.chooseMaskPattern(S,r,f,E);return b.setMaskPattern(A),qk.buildMatrix(S,r,f,A,E),b.setMatrix(E),b},t.recommendVersion=function(e,r,n,a){var i=this.calculateBitsNeeded(r,n,a,If.getVersionForNumber(1)),s=this.chooseVersion(i,e),o=this.calculateBitsNeeded(r,n,a,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),la.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return gn.KANJI;for(var n=!1,a=!1,i=0,s=e.length;i<s;++i){var o=e.charAt(i);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)a=!0;else return gn.BYTE}return a?gn.ALPHANUMERIC:n?gn.NUMERIC:gn.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ao.encode(e,la.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<pC.NUM_MASK_PATTERNS;o++){qk.buildMatrix(e,r,n,o,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=If.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new mn("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),s=i.getTotalECCodewords(),o=a-s,c=(e+7)/8;return o>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new mn("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),a=0;a<s;++a)r.appendBits((a&1)===0?236:17,8);if(r.getSize()!==n)throw new mn("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,i,s){if(a>=n)throw new mn("Block ID too large");var o=e%n,c=n-o,u=Math.floor(e/n),f=u+1,h=Math.floor(r/n),m=h+1,g=u-h,x=f-m;if(g!==x)throw new mn("EC bytes mismatch");if(n!==c+o)throw new mn("RS blocks mismatch");if(e!==(h+g)*c+(m+x)*o)throw new mn("Total bytes mismatch");a<c?(i[0]=h,s[0]=g):(i[0]=m,s[0]=x)},t.interleaveWithECBytes=function(e,r,n,a){var i,s,o,c;if(e.getSizeInBytes()!==n)throw new mn("Number of bits and data bytes does not match");for(var u=0,f=0,h=0,m=new Array,g=0;g<a;++g){var x=new Int32Array(1),v=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,g,x,v);var w=x[0],S=new Uint8Array(w);e.toBytes(8*u,S,0,w);var b=t.generateECBytes(S,v[0]);m.push(new qhe(S,b)),f=Math.max(f,w),h=Math.max(h,b.length),u+=x[0]}if(n!==u)throw new mn("Data bytes does not match offset");for(var _=new Oa,g=0;g<f;++g)try{for(var E=(i=void 0,Wk(m)),A=E.next();!A.done;A=E.next()){var j=A.value,S=j.getDataBytes();g<S.length&&_.appendBits(S[g],8)}}catch(k){i={error:k}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}for(var g=0;g<h;++g)try{for(var O=(o=void 0,Wk(m)),D=O.next();!D.done;D=O.next()){var j=D.value,b=j.getErrorCorrectionBytes();g<b.length&&_.appendBits(b[g],8)}}catch(k){o={error:k}}finally{try{D&&!D.done&&(c=O.return)&&c.call(O)}finally{if(o)throw o.error}}if(r!==_.getSizeInBytes())throw new mn("Interleaving error: "+r+" and "+_.getSizeInBytes()+" differ.");return _},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=e[i]&255;new bW(Zi.QR_CODE_FIELD_256).encode(a,r);for(var s=new Uint8Array(r),i=0;i<r;i++)s[i]=a[n+i];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var i=n.getCharacterCountBits(r);if(e>=1<<i)throw new mn(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},t.appendBytes=function(e,r,n,a){switch(r){case gn.NUMERIC:t.appendNumericBytes(e,n);break;case gn.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case gn.BYTE:t.append8BitBytes(e,n,a);break;case gn.KANJI:t.appendKanjiBytes(e,n);break;default:throw new mn("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getDigit(e.charAt(a));if(a+2<n){var s=t.getDigit(e.charAt(a+1)),o=t.getDigit(e.charAt(a+2));r.appendBits(i*100+s*10+o,10),a+=3}else if(a+1<n){var s=t.getDigit(e.charAt(a+1));r.appendBits(i*10+s,7),a+=2}else r.appendBits(i,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new mn;if(a+1<n){var s=t.getAlphanumericCode(e.charCodeAt(a+1));if(s===-1)throw new mn;r.appendBits(i*45+s,11),a+=2}else r.appendBits(i,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=ao.encode(e,n)}catch(c){throw new mn(c)}for(var i=0,s=a.length;i!==s;i++){var o=a[i];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ao.encode(e,la.SJIS)}catch(h){throw new mn(h)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,o=n[i+1]&255,c=s<<8&4294967295|o,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new mn("Invalid byte sequence");var f=(u>>8)*192+(u&255);r.appendBits(f,13)}},t.appendECI=function(e,r){r.appendBits(gn.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=la.UTF8.getName(),t})();var Whe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Whe(e,t);function e(r,n,a,i,s,o,c,u){var f=t.call(this,o,c)||this;if(f.yuvData=r,f.dataWidth=n,f.dataHeight=a,f.left=i,f.top=s,i+o>n||s+c>a)throw new Ht("Crop rectangle does not fit within image data.");return u&&f.reverseHorizontal(o,c),f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ht("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return un.arraycopy(this.yuvData,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return un.arraycopy(this.yuvData,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;un.arraycopy(this.yuvData,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*r,u=0;u<r;u++){var f=i[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|f*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var o=s+r/2,c=s,u=s+r-1;c<o;c++,u--){var f=a[c];a[c]=a[u],a[u]=f}},e.prototype.invert=function(){return new zj(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Y2);var Ghe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Ghe(e,t);function e(r,n,a,i,s,o,c){var u=t.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=s,u.left=o,u.top=c,r.BYTES_PER_ELEMENT===4){for(var f=n*a,h=new Uint8ClampedArray(f),m=0;m<f;m++){var g=r[m],x=g>>16&255,v=g>>7&510,w=g&255;h[m]=(x+v+w)/4&255}u.luminances=h}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=a),o===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new Ht("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ht("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return un.arraycopy(this.luminances,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return un.arraycopy(this.luminances,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;un.arraycopy(this.luminances,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new zj(this)},e})(Y2);var Khe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xhe=(function(t){Khe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(la),Qhe=(function(){function t(){}return t.ISO_8859_1=la.ISO8859_1,t})(),mC,Yhe=301,Zhe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=Yhe);return{LOG:t,ALOG:e}};mC=Zhe([],[]),mC.LOG;mC.ALOG;var Gk;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Gk||(Gk={}));var Kk=129,_W=230,Jhe=231,e0e=235,t0e=236,r0e=237,n0e=238,a0e=239,i0e=240,rS=254,s0e=254,Xk="[)>05",Qk="[)>06",Yk="",Wr=0,za=1,_i=2,aa=3,Na=4,si=5,o0e=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Wr},t.prototype.encode=function(e){var r=Io.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Io.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case si:e.writeCodeword(Jhe),e.signalEncoderChange(si);return;case za:e.writeCodeword(_W),e.signalEncoderChange(za);return;case aa:e.writeCodeword(n0e),e.signalEncoderChange(aa);break;case _i:e.writeCodeword(a0e),e.signalEncoderChange(_i);break;case Na:e.writeCodeword(i0e),e.signalEncoderChange(Na);break;default:throw new Error("Illegal mode: "+a)}else Io.isExtendedASCII(n)?(e.writeCodeword(e0e),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Io.isDigit(e)&&Io.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),l0e=(function(){function t(){}return t.prototype.getEncodingMode=function(){return si},t.prototype.encode=function(e){var r=new gr;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=Io.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Wr);break}}var i=r.length()-1,s=1,o=e.getCodewordCount()+i+s;e.updateSymbolInfo(o);var c=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,Nr.getCharAt(i));else if(i<=1555)r.setCharAt(0,Nr.getCharAt(Math.floor(i/250)+249)),r.insert(1,Nr.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t})(),Xj=(function(){function t(){}return t.prototype.getEncodingMode=function(){return za},t.prototype.encodeMaximal=function(e){for(var r=new gr,n=0,a=e.pos,i=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(a=e.pos,i=r.length())}if(i!==r.length()){var o=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,f=Math.floor(r.length()%3);(f===2&&u!==2||f===1&&(n>3||u!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(_W),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new gr;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+i;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new gr;for(r.length()%3===2&&o!==2&&(a=this.backtrackOneCharacter(e,r,c,a));r.length()%3===1&&(a>3||o!==1);)a=this.backtrackOneCharacter(e,r,c,a);break}var u=r.length();if(u%3===0){var f=Io.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(f!==this.getEncodingMode()){e.signalEncoderChange(Wr);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var i=r.length(),s=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return a=this.encodeChar(o,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var s=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(rS)}else if(s===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(rS),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(rS)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Wr)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,i=new gr;return i.append(n),i.append(a),i.toString()},t})(),c0e=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Na},t.prototype.encode=function(e){for(var r=new gr;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var s=Io.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Wr);break}}}r.append(Nr.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(Wr)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Nr.getCharAt(e-64)):Io.illegalCharacter(Nr.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,i=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(a<<12)+(i<<6)+s,c=o>>16&255,u=o>>8&255,f=o&255,h=new gr;return h.append(c),r>=2&&h.append(u),r>=3&&h.append(f),h.toString()},t})(),u0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),f0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rr=(function(){function t(e,r,n,a,i,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return t.lookup=function(e,r,n,a,i){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=f0e(h0e),u=c.next();!u.done;u=c.next()){var f=u.value;if(!(r===1&&f.rectangular)&&!(r===2&&!f.rectangular)&&!(n!=null&&(f.getSymbolWidth()<n.getWidth()||f.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(f.getSymbolWidth()>a.getWidth()||f.getSymbolHeight()>a.getHeight()))&&e<=f.dataCapacity)return f}}catch(h){s={error:h}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),d0e=(function(t){u0e(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(Rr),h0e=[new Rr(!1,3,5,8,8,1),new Rr(!1,5,7,10,10,1),new Rr(!0,5,7,16,6,1),new Rr(!1,8,10,12,12,1),new Rr(!0,10,11,14,6,2),new Rr(!1,12,12,14,14,1),new Rr(!0,16,14,24,10,1),new Rr(!1,18,14,16,16,1),new Rr(!1,22,18,18,18,1),new Rr(!0,22,18,16,10,2),new Rr(!1,30,20,20,20,1),new Rr(!0,32,24,16,14,2),new Rr(!1,36,24,22,22,1),new Rr(!1,44,28,24,24,1),new Rr(!0,49,28,22,14,2),new Rr(!1,62,36,14,14,4),new Rr(!1,86,42,16,16,4),new Rr(!1,114,48,18,18,4),new Rr(!1,144,56,20,20,4),new Rr(!1,174,68,22,22,4),new Rr(!1,204,84,24,24,4,102,42),new Rr(!1,280,112,14,14,16,140,56),new Rr(!1,368,144,16,16,16,92,36),new Rr(!1,456,192,18,18,16,114,48),new Rr(!1,576,224,20,20,16,144,56),new Rr(!1,696,272,22,22,16,174,68),new Rr(!1,816,336,24,24,16,136,56),new Rr(!1,1050,408,18,18,36,175,68),new Rr(!1,1304,496,20,20,36,163,62),new d0e],p0e=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new gr,a=0,i=r.length;a<i;a++){var s=String.fromCharCode(r[a]&255);if(s==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new gr,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Rr.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),m0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),g0e=(function(t){m0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return aa},e.prototype.encode=function(r){for(var n=new gr;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var s=Io.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Wr);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Io.illegalCharacter(Nr.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(s0e),r.getNewEncoding()<0&&r.signalEncoderChange(Wr)},e})(Xj),v0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),x0e=(function(t){v0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return _i},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e})(Xj),Io=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Kk+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new Xj,o=[new o0e,s,new x0e,new g0e,new c0e,new l0e],c=new p0e(e);c.setSymbolShape(r),c.setSizeConstraints(n,a),e.startsWith(Xk)&&e.endsWith(Yk)?(c.writeCodeword(t0e),c.setSkipAtEnd(2),c.pos+=Xk.length):e.startsWith(Qk)&&e.endsWith(Yk)&&(c.writeCodeword(r0e),c.setSkipAtEnd(2),c.pos+=Qk.length);var u=Wr;for(i&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var f=c.getCodewordCount();c.updateSymbolInfo();var h=c.getSymbolInfo().getDataCapacity();f<h&&u!==Wr&&u!==si&&u!==Na&&c.writeCodeword("þ");var m=c.getCodewords();for(m.length()<h&&m.append(Kk);m.length()<h;)m.append(this.randomize253State(m.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===aa&&a===aa){for(var i=Math.min(r+3,e.length),s=r;s<i;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Wr}else if(n===Na&&a===Na){for(var i=Math.min(r+4,e.length),s=r;s<i;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Wr}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===Wr?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),o=[];;){if(r+i===e.length){ca.fill(s,0),ca.fill(o,0);var c=this.findMinimums(a,o,xr.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[Wr]===c)return Wr;if(u===1){if(s[si]>0)return si;if(s[Na]>0)return Na;if(s[_i]>0)return _i;if(s[aa]>0)return aa}return za}var f=e.charCodeAt(r+i);if(i++,this.isDigit(f)?a[Wr]+=.5:this.isExtendedASCII(f)?(a[Wr]=Math.ceil(a[Wr]),a[Wr]+=2):(a[Wr]=Math.ceil(a[Wr]),a[Wr]++),this.isNativeC40(f)?a[za]+=2/3:this.isExtendedASCII(f)?a[za]+=8/3:a[za]+=4/3,this.isNativeText(f)?a[_i]+=2/3:this.isExtendedASCII(f)?a[_i]+=8/3:a[_i]+=4/3,this.isNativeX12(f)?a[aa]+=2/3:this.isExtendedASCII(f)?a[aa]+=13/3:a[aa]+=10/3,this.isNativeEDIFACT(f)?a[Na]+=3/4:this.isExtendedASCII(f)?a[Na]+=17/4:a[Na]+=13/4,this.isSpecialB256(f)?a[si]+=4:a[si]++,i>=4){if(ca.fill(s,0),ca.fill(o,0),this.findMinimums(a,o,xr.MAX_VALUE,s),o[Wr]<this.min(o[si],o[za],o[_i],o[aa],o[Na]))return Wr;if(o[si]<o[Wr]||o[si]+1<this.min(o[za],o[_i],o[aa],o[Na]))return si;if(o[Na]+1<this.min(o[si],o[za],o[_i],o[aa],o[Wr]))return Na;if(o[_i]+1<this.min(o[si],o[za],o[Na],o[aa],o[Wr]))return _i;if(o[aa]+1<this.min(o[si],o[za],o[Na],o[_i],o[Wr]))return aa;if(o[za]+1<this.min(o[Wr],o[si],o[Na],o[_i])){if(o[za]<o[aa])return za;if(o[za]===o[aa]){for(var h=r+i+1;h<e.length;){var m=e.charCodeAt(h);if(this.isX12TermSep(m))return aa;if(!this.isNativeX12(m))break;h++}return za}}}}},t.min=function(e,r,n,a,i){var s=Math.min(e,Math.min(r,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},t.findMinimums=function(e,r,n,a){for(var i=0;i<6;i++){var s=r[i]=Math.ceil(e[i]);n>s&&(n=s,ca.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=xr.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),nS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zk=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ao.encode(e,this.charset)!=null}catch{return!1}},t})(),y0e=(function(){function t(e,r,n){var a,i,s,o,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(M){return new Zk(Xhe.forName(M))}),this.encoders=[];var f=[];f.push(new Zk(Qhe.ISO_8859_1));for(var h=r!=null&&r.name.startsWith("UTF"),m=0;m<e.length;m++){var g=!1;try{for(var x=(a=void 0,nS(f)),v=x.next();!v.done;v=x.next()){var w=v.value,S=e.charAt(m),b=S.charCodeAt(0);if(b===n||w.canEncode(S)){g=!0;break}}}catch(M){a={error:M}}finally{try{v&&!v.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}if(!g)try{for(var _=(s=void 0,nS(this.ENCODERS)),E=_.next();!E.done;E=_.next()){var w=E.value;if(w.canEncode(e.charAt(m))){f.push(w),g=!0;break}}}catch(M){s={error:M}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(s)throw s.error}}g||(h=!0)}if(f.length===1&&!h)this.encoders=[f[0]];else{this.encoders=[];var A=0;try{for(var j=nS(f),O=j.next();!O.done;O=j.next()){var w=O.value;this.encoders[A++]=w}}catch(M){c={error:M}}finally{try{O&&!O.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}}var D=-1;if(r!=null){for(var m=0;m<this.encoders.length;m++)if(this.encoders[m]!=null&&r.name===this.encoders[m].name){D=m;break}}this.priorityEncoderIndex=D}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ao.encode(Nr.getCharAt(e),this.encoders[r].name)},t})(),w0e=3,b0e=(function(){function t(e,r,n){this.fnc1=n;var a=new y0e(e,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=e.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new gr,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,i,s){var o=e.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var f=c;f<u;f++)(o===s||r.canEncode(o,f))&&this.addEdge(n,a+1,new Jk(o,r,f,i,s))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,i=new Jk[a+1][r.length()];this.addEdges(e,r,i,0,null,n);for(var s=1;s<=a;s++){for(var o=0;o<r.length();o++)i[s][o]!=null&&s<a&&this.addEdges(e,r,i,s,i[s][o],n);for(var o=0;o<r.length();o++)i[s-1][o]=null}for(var c=-1,u=xr.MAX_VALUE,o=0;o<r.length();o++)if(i[a][o]!=null){var f=i[a][o];f.cachedTotalSize<u&&(u=f.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],m=i[a][c];m!=null;){if(m.isFNC1())h.unshift(1e3);else for(var g=r.encode(m.c,m.encoderIndex),s=g.length-1;s>=0;s--)h.unshift(g[s]&255);var x=m.previous===null?0:m.previous.encoderIndex;x!==m.encoderIndex&&h.unshift(256+r.getECIValue(m.encoderIndex)),m=m.previous}for(var v=[],s=0;s<v.length;s++)v[s]=h[s];return v},t})(),Jk=(function(){function t(e,r,n,a,i){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=a===null?0:a.encoderIndex;o!==n&&(s+=w0e),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),_0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var e6;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(e6||(e6={}));(function(t){_0e(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n,a)||this;return o.shape=i,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(b0e);var S0e=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),t6=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),N0e=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),E0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qj=(function(t){E0e(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.value=n,i.bitCount=a,i}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+xr.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(N0e),A0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),T0e=(function(t){A0e(e,t);function e(r,n,a){var i=t.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(Qj);function C0e(t,e,r){return new T0e(t,e,r)}function Up(t,e,r){return new Qj(t,e,r)}var j0e=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xu=0,G1=1,eo=2,SW=3,ol=4,O0e=new Qj(null,0,0),aS=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],I0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function P0e(t){var e,r;try{for(var n=I0e(t),a=n.next();!a.done;a=n.next()){var i=a.value;ca.fill(i,-1)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[xu][ol]=0,t[G1][ol]=0,t[G1][xu]=28,t[SW][ol]=0,t[eo][ol]=0,t[eo][xu]=15,t}var NW=P0e(ca.createInt32Array(6,6)),k0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D0e=(function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var i=aS[this.mode][e];a=Up(a,i&65535,i>>16),n+=i>>16}var s=e===eo?4:5;return a=Up(a,r,s),new t(a,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===eo?4:5;return n=Up(n,NW[this.mode][e],a),n=Up(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===ol||this.mode===eo){var i=aS[n][xu];r=Up(r,i&65535,i>>16),a+=i>>16,n=xu}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,a+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=C0e(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(aS[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new Oa;try{for(var o=k0e(a),c=o.next();!c.done;c=o.next()){var u=c.value;u.appendTo(s,e)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return Nr.format("%s bits=%d bytes=%d",j0e[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(O0e,xu,0,0),t})();function R0e(t){var e=Nr.getCharCode(" "),r=Nr.getCharCode("."),n=Nr.getCharCode(",");t[xu][e]=1;for(var a=Nr.getCharCode("Z"),i=Nr.getCharCode("A"),s=i;s<=a;s++)t[xu][s]=s-i+2;t[G1][e]=1;for(var o=Nr.getCharCode("z"),c=Nr.getCharCode("a"),s=c;s<=o;s++)t[G1][s]=s-c+2;t[eo][e]=1;for(var u=Nr.getCharCode("9"),f=Nr.getCharCode("0"),s=f;s<=u;s++)t[eo][s]=s-f+2;t[eo][n]=12,t[eo][r]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],m=0;m<h.length;m++)t[SW][Nr.getCharCode(h[m])]=m;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],m=0;m<g.length;m++)Nr.getCharCode(g[m])>0&&(t[ol][Nr.getCharCode(g[m])]=m);return t}var iS=R0e(ca.createInt32Array(5,256)),Kx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M0e=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Nr.getCharCode(" "),r=Nr.getCharCode(`
`),n=t6.singletonList(D0e.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Nr.getCharCode("\r"):i=s===r?2:0;break;case Nr.getCharCode("."):i=s===e?3:0;break;case Nr.getCharCode(","):i=s===e?4:0;break;case Nr.getCharCode(":"):i=s===e?5:0;break;default:i=0}i>0?(n=t.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var o=t6.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,i=[];try{for(var s=Kx(e),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,i=iS[e.getMode()][a]>0,s=null,o=0;o<=ol;o++){var c=iS[o][a];if(c>0){if(s==null&&(s=e.endBinaryShift(r)),!i||o===e.getMode()||o===eo){var u=s.latchAndAppend(o,c);n.push(u)}if(!i&&NW[e.getMode()][o]>=0){var f=s.shiftAndAppend(o,c);n.push(f)}}}if(e.getBinaryShiftByteCount()>0||iS[e.getMode()][a]===0){var h=e.addBinaryShiftChar(r);n.push(h)}},t.updateStateListForPair=function(e,r,n){var a,i,s=[];try{for(var o=Kx(e),c=o.next();!c.done;c=o.next()){var u=c.value;this.updateStateForPair(u,r,n,s)}}catch(f){a={error:f}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,a){var i=e.endBinaryShift(r);if(a.push(i.latchAndAppend(ol,n)),e.getMode()!==ol&&a.push(i.shiftAndAppend(ol,n)),n===3||n===4){var s=i.latchAndAppend(eo,16-n).latchAndAppend(eo,1);a.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(o)}},t.simplifyStates=function(e){var r,n,a,i,s=[];try{for(var o=Kx(e),c=o.next();!c.done;c=o.next()){var u=c.value,f=!0,h=function(w){if(w.isBetterThanOrEqualTo(u))return f=!1,"break";u.isBetterThanOrEqualTo(w)&&(s=s.filter(function(S){return S!==w}))};try{for(var m=(a=void 0,Kx(s)),g=m.next();!g.done;g=m.next()){var x=g.value,v=h(x);if(v==="break")break}}catch(w){a={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}f&&s.push(u)}}catch(w){r={error:w}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t})(),F0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new M0e(e).encode(),i=xr.truncDivision(a.getSize()*r,100)+11,s=a.getSize()+i,o,c,u,f,h;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ht(Nr.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,o),f=t.WORD_SIZE[c];var m=u-u%f;if(h=t.stuffBits(a,f),h.getSize()+i>m)throw new Ht("Data to large for user specified layer");if(o&&h.getSize()>f*64)throw new Ht("Data to large for user specified layer")}else{f=0,h=null;for(var g=0;;g++){if(g>t.MAX_NB_BITS)throw new Ht("Data too large for an Aztec code");if(o=g<=3,c=o?g+1:g,u=t.totalBitsInLayer(c,o),!(s>u)){(h==null||f!==t.WORD_SIZE[c])&&(f=t.WORD_SIZE[c],h=t.stuffBits(a,f));var m=u-u%f;if(!(o&&h.getSize()>f*64)&&h.getSize()+i<=m)break}}}var x=t.generateCheckWords(h,u,f),v=h.getSize()/f,w=t.generateModeMessage(o,c,v),S=(o?11:14)+c*4,b=new Int32Array(S),_;if(o){_=S;for(var g=0;g<b.length;g++)b[g]=g}else{_=S+1+2*xr.truncDivision(xr.truncDivision(S,2)-1,15);for(var E=xr.truncDivision(S,2),A=xr.truncDivision(_,2),g=0;g<E;g++){var j=g+xr.truncDivision(g,15);b[E-g-1]=A-j-1,b[E+g]=A+j+1}}for(var O=new xl(_),g=0,D=0;g<c;g++){for(var M=(c-g)*4+(o?9:12),k=0;k<M;k++)for(var I=k*2,R=0;R<2;R++)x.get(D+I+R)&&O.set(b[g*2+R],b[g*2+k]),x.get(D+M*2+I+R)&&O.set(b[g*2+k],b[S-1-g*2-R]),x.get(D+M*4+I+R)&&O.set(b[S-1-g*2-R],b[S-1-g*2-k]),x.get(D+M*6+I+R)&&O.set(b[S-1-g*2-k],b[g*2+R]);D+=M*8}if(t.drawModeMessage(O,o,_,w),o)t.drawBullsEye(O,xr.truncDivision(_,2),5);else{t.drawBullsEye(O,xr.truncDivision(_,2),7);for(var g=0,k=0;g<xr.truncDivision(S,2)-1;g+=15,k+=16)for(var R=xr.truncDivision(_,2)&1;R<_;R+=2)O.set(xr.truncDivision(_,2)-k,R),O.set(xr.truncDivision(_,2)+k,R),O.set(R,xr.truncDivision(_,2)-k),O.set(R,xr.truncDivision(_,2)+k)}var L=new S0e;return L.setCompact(o),L.setSize(_),L.setLayers(c),L.setCodeWords(v),L.setMatrix(O),L},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)e.set(i,r-a),e.set(i,r+a),e.set(r-a,i),e.set(r+a,i);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new Oa;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var i=xr.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=i-3+s;a.get(s)&&e.set(o,i-5),a.get(s+7)&&e.set(i+5,o),a.get(20-s)&&e.set(o,i+5),a.get(27-s)&&e.set(i-5,o)}else for(var s=0;s<10;s++){var o=i-5+s+xr.truncDivision(s,5);a.get(s)&&e.set(o,i-7),a.get(s+10)&&e.set(i+7,o),a.get(29-s)&&e.set(o,i+7),a.get(39-s)&&e.set(i-7,o)}},t.generateCheckWords=function(e,r,n){var a,i,s=e.getSize()/n,o=new bW(t.getGF(n)),c=xr.truncDivision(r,n),u=t.bitsToWords(e,n,c);o.encode(u,c-s);var f=r%n,h=new Oa;h.appendBits(0,f);try{for(var m=F0e(Array.from(u)),g=m.next();!g.done;g=m.next()){var x=g.value;h.appendBits(x,n)}}catch(v){a={error:v}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}return h},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),i,s;for(i=0,s=e.getSize()/r;i<s;i++){for(var o=0,c=0;c<r;c++)o|=e.get(i*r+c)?1<<r-c-1:0;a[i]=o}return a},t.getGF=function(e){switch(e){case 4:return Zi.AZTEC_PARAM;case 6:return Zi.AZTEC_DATA_6;case 8:return Zi.AZTEC_DATA_8;case 10:return Zi.AZTEC_DATA_10;case 12:return Zi.AZTEC_DATA_12;default:throw new Ht("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Oa,a=e.getSize(),i=(1<<r)-2,s=0;s<a;s+=r){for(var o=0,c=0;c<r;c++)(s+c>=a||e.get(s+c))&&(o|=1<<r-1-c);(o&i)===i?(n.appendBits(o&i,r),s--):(o&i)===0?(n.appendBits(o|1,r),s--):n.appendBits(o,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var Yj="Dialog",[EW,AW]=Li(Yj),[L0e,qo]=EW(Yj),TW=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=t,o=T.useRef(null),c=T.useRef(null),[u=!1,f]=oc({prop:n,defaultProp:a,onChange:i});return l.jsx(L0e,{scope:e,triggerRef:o,contentRef:c,contentId:fl(),titleId:fl(),descriptionId:fl(),open:u,onOpenChange:f,onOpenToggle:T.useCallback(()=>f(h=>!h),[f]),modal:s,children:r})};TW.displayName=Yj;var CW="DialogTrigger",jW=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=qo(CW,r),i=_r(e,a.triggerRef);return l.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":e3(a.open),...n,ref:i,onClick:mt(t.onClick,a.onOpenToggle)})});jW.displayName=CW;var Zj="DialogPortal",[B0e,OW]=EW(Zj,{forceMount:void 0}),IW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=qo(Zj,e);return l.jsx(B0e,{scope:e,forceMount:r,children:T.Children.map(n,s=>l.jsx(so,{present:r||i.open,children:l.jsx(av,{asChild:!0,container:a,children:s})}))})};IW.displayName=Zj;var K1="DialogOverlay",PW=T.forwardRef((t,e)=>{const r=OW(K1,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=qo(K1,t.__scopeDialog);return i.modal?l.jsx(so,{present:n||i.open,children:l.jsx(U0e,{...a,ref:e})}):null});PW.displayName=K1;var $0e=$f("DialogOverlay.RemoveScroll"),U0e=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=qo(K1,r);return l.jsx(q2,{as:$0e,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Lt.div,{"data-state":e3(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Kf="DialogContent",kW=T.forwardRef((t,e)=>{const r=OW(Kf,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=qo(Kf,t.__scopeDialog);return l.jsx(so,{present:n||i.open,children:i.modal?l.jsx(V0e,{...a,ref:e}):l.jsx(H0e,{...a,ref:e})})});kW.displayName=Kf;var V0e=T.forwardRef((t,e)=>{const r=qo(Kf,t.__scopeDialog),n=T.useRef(null),a=_r(e,r.contentRef,n);return T.useEffect(()=>{const i=n.current;if(i)return jj(i)},[]),l.jsx(DW,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:mt(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&i.preventDefault()}),onFocusOutside:mt(t.onFocusOutside,i=>i.preventDefault())})}),H0e=T.forwardRef((t,e)=>{const r=qo(Kf,t.__scopeDialog),n=T.useRef(!1),a=T.useRef(!1);return l.jsx(DW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),DW=T.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=t,o=qo(Kf,r),c=T.useRef(null),u=_r(e,c);return Cj(),l.jsxs(l.Fragment,{children:[l.jsx(U2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(k0,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":e3(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(q0e,{titleId:o.titleId}),l.jsx(G0e,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Jj="DialogTitle",RW=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=qo(Jj,r);return l.jsx(Lt.h2,{id:a.titleId,...n,ref:e})});RW.displayName=Jj;var MW="DialogDescription",FW=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=qo(MW,r);return l.jsx(Lt.p,{id:a.descriptionId,...n,ref:e})});FW.displayName=MW;var LW="DialogClose",BW=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=qo(LW,r);return l.jsx(Lt.button,{type:"button",...n,ref:e,onClick:mt(t.onClick,()=>a.onOpenChange(!1))})});BW.displayName=LW;function e3(t){return t?"open":"closed"}var $W="DialogTitleWarning",[z0e,UW]=iae($W,{contentName:Kf,titleName:Jj,docsSlug:"dialog"}),q0e=({titleId:t})=>{const e=UW($W),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},W0e="DialogDescriptionWarning",G0e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UW(W0e).contentName}}.`;return T.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},VW=TW,HW=jW,zW=IW,t3=PW,r3=kW,n3=RW,a3=FW,i3=BW;const Ya=VW,fc=HW,K0e=zW,qW=T.forwardRef(({className:t,...e},r)=>l.jsx(t3,{ref:r,className:dt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qW.displayName=t3.displayName;const ka=T.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(K0e,{children:[l.jsx(qW,{}),l.jsxs(r3,{ref:n,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,l.jsxs(i3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(R0,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ka.displayName=r3.displayName;const Da=({className:t,...e})=>l.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Da.displayName="DialogHeader";const Ra=T.forwardRef(({className:t,...e},r)=>l.jsx(n3,{ref:r,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));Ra.displayName=n3.displayName;const WW=T.forwardRef(({className:t,...e},r)=>l.jsx(a3,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));WW.displayName=a3.displayName;function X0e({isOpen:t,onClose:e}){const[r,n]=T.useState(""),i=(()=>{const h=navigator.userAgent.toLowerCase();return h.includes("chrome")?{name:"Chrome",icon:"🌐"}:h.includes("firefox")?{name:"Firefox",icon:"🦊"}:h.includes("safari")?{name:"Safari",icon:"🧭"}:h.includes("edge")?{name:"Edge",icon:"🌊"}:{name:"Browser",icon:"🌐"}})(),s=/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent),o=[{icon:"🔒",title:"Nhấn vào biểu tượng khóa",description:"Tìm biểu tượng khóa 🔒 hoặc camera 📷 bên trái thanh địa chỉ"},{icon:"📷",title:"Chọn Camera",description:"Nhấn vào 'Camera' và chọn 'Cho phép' (Allow)"},{icon:"🔄",title:"Làm mới trang",description:"Nhấn F5 hoặc nút refresh để áp dụng thay đổi"}],c=[{icon:"⚙️",title:"Mở Safari Settings",description:"Nhấn Safari > Preferences > Websites > Camera"},{icon:"✅",title:"Cho phép Camera",description:"Tìm website hiện tại và đổi thành 'Allow'"},{icon:"🔄",title:"Reload trang",description:"Quay lại trang và làm mới"}],u=[{icon:"🔒",title:"Nhấn vào Shield icon",description:"Tìm biểu tượng shield bên trái thanh địa chỉ"},{icon:"📷",title:"Camera Permissions",description:"Nhấn vào 'Camera' và chọn 'Allow'"},{icon:"🔄",title:"Refresh page",description:"Làm mới trang để áp dụng"}],f=()=>{switch(i.name){case"Safari":return c;case"Firefox":return u;default:return o}};return l.jsx(Ya,{open:t,onOpenChange:e,children:l.jsxs(ka,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsxs(Ra,{className:"flex items-center gap-2",children:[l.jsx(Dm,{className:"w-5 h-5 text-blue-600"}),"Hướng dẫn cấp quyền Camera"]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[l.jsx("span",{className:"text-2xl",children:i.icon}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:["Trình duyệt hiện tại: ",i.name]}),l.jsx("p",{className:"text-sm text-gray-600",children:s?"📱 Mobile Device":"💻 Desktop Device"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[l.jsx(lj,{className:"w-4 h-4 text-green-600"}),"Kiểm tra nhanh"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ct,{variant:window.location.protocol==="https:"||window.location.hostname==="localhost"?"default":"destructive",className:"text-xs",children:window.location.protocol==="https:"||window.location.hostname==="localhost"?"✅ HTTPS/Localhost":"❌ HTTP"}),l.jsx("span",{className:"text-gray-600",children:"Camera cần HTTPS hoặc localhost"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ct,{variant:navigator.mediaDevices?"default":"destructive",className:"text-xs",children:navigator.mediaDevices?"✅ MediaDevices":"❌ Không hỗ trợ"}),l.jsx("span",{className:"text-gray-600",children:"Trình duyệt hỗ trợ camera API"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[l.jsx(lH,{className:"w-4 h-4 text-blue-600"}),"Hướng dẫn chi tiết cho ",i.name]}),l.jsx("div",{className:"space-y-3",children:f().map((h,m)=>l.jsxs("div",{className:"flex gap-3 p-3 border rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-600",children:m+1})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-lg",children:h.icon}),l.jsx("h4",{className:"font-medium",children:h.title})]}),l.jsx("p",{className:"text-sm text-gray-600",children:h.description})]})]},m))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[l.jsx(Oi,{className:"w-4 h-4 text-orange-600"}),"Vẫn không hoạt động?"]}),l.jsx("div",{className:"space-y-2 text-sm",children:l.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[l.jsx("p",{className:"font-medium mb-2",children:"Thử các cách sau:"}),l.jsxs("ul",{className:"space-y-1 list-disc list-inside text-gray-700",children:[l.jsx("li",{children:"Đóng các ứng dụng camera khác (Zoom, Skype, v.v.)"}),l.jsx("li",{children:"Kiểm tra camera có hoạt động với ứng dụng khác không"}),l.jsx("li",{children:"Thử trình duyệt khác (Chrome, Firefox, Safari)"}),l.jsx("li",{children:"Khởi động lại trình duyệt"}),l.jsx("li",{children:"Kiểm tra antivirus có chặn camera không"})]})]})})]}),l.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"font-medium text-green-800 mb-1",children:"💡 Giải pháp thay thế"}),l.jsx("p",{className:"text-sm text-green-700",children:"Nếu camera không hoạt động, bạn vẫn có thể nhập mã vạch thủ công bằng bàn phím hoặc sử dụng máy quét mã vạch chuyên dụng."})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(ke,{onClick:e,variant:"outline",className:"flex-1",children:"Đã hiểu"}),l.jsx(ke,{onClick:()=>window.location.reload(),className:"flex-1",children:"🔄 Làm mới trang"})]})]})]})})}function Q0e({isOpen:t,onClose:e,onScan:r}){const[n,a]=T.useState(""),[i,s]=T.useState(!1),o=async f=>{if(f.preventDefault(),!!n.trim()){s(!0);try{await r(n.trim()),a(""),e()}catch(h){console.error("Manual barcode input error:",h)}finally{s(!1)}}},c=f=>{f.key==="Enter"&&o(f)},u=[{label:"Coca Cola",code:"8901030805091"},{label:"Pepsi",code:"8901030750045"},{label:"Example 1",code:"1234567890123"},{label:"Example 2",code:"9876543210987"}];return t?l.jsx(Ya,{open:t,onOpenChange:e,children:l.jsxs(ka,{className:"max-w-md",children:[l.jsx(Da,{children:l.jsxs(Ra,{className:"flex items-center gap-2",children:[l.jsx(hie,{className:"w-5 h-5 text-blue-600"}),"Nhập mã vạch thủ công"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mã vạch (EAN, UPC, Code 128, v.v.)"}),l.jsx(tt,{value:n,onChange:f=>a(f.target.value),onKeyDown:c,placeholder:"Nhập hoặc dán mã vạch...",className:"text-center text-lg font-mono tracking-wider",autoFocus:!0,disabled:i}),l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Thông thường có 8-13 chữ số"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:e,className:"flex-1",disabled:i,children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:!n.trim()||i,className:"flex-1",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"}),"Đang xử lý..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wie,{className:"w-4 h-4 mr-2"}),"Quét"]})})]})]})})}),l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Mã vạch mẫu (cho test):"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:u.map((f,h)=>l.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>a(f.code),className:"justify-between text-xs",disabled:i,children:[l.jsx("span",{children:f.label}),l.jsx("span",{className:"font-mono text-gray-500",children:f.code})]},h))})]})}),l.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[l.jsxs("p",{children:["💡 ",l.jsx("strong",{children:"Mẹo:"})," Bạn có thể:"]}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[l.jsx("li",{children:"Sao chép/dán mã vạch từ nguồn khác"}),l.jsx("li",{children:"Gõ trực tiếp bằng bàn phím"}),l.jsx("li",{children:"Sử dụng máy quét mã vạch USB (tự động nhập)"}),l.jsx("li",{children:"Nhấn Enter để quét nhanh"})]})]})]})]})}):null}function GW({onScan:t,onClose:e,isOpen:r}){const[n,a]=T.useState(!1),[i,s]=T.useState(null),[o,c]=T.useState(!1),[u,f]=T.useState(!1),[h,m]=T.useState([]),[g,x]=T.useState(""),[v,w]=T.useState(0),[S,b]=T.useState(!1),[_,E]=T.useState(0),[A,j]=T.useState(!1),[O,D]=T.useState(!1),M=T.useRef(null),k=T.useRef(null),I=T.useRef(null);T.useEffect(()=>(r?L():X(),()=>{X()}),[r]);const R=J=>{const ne=[{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},{facingMode:"environment",width:{ideal:640},height:{ideal:480}},{width:{ideal:640},height:{ideal:480}},{}];return ne[Math.min(J,ne.length-1)]},L=async()=>{if(!A)try{if(j(!0),s(null),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MEDIA_DEVICES_NOT_SUPPORTED");const J=R(_),ne=await navigator.mediaDevices.getUserMedia({video:J}),z=(await navigator.mediaDevices.enumerateDevices()).filter(ae=>ae.kind==="videoinput");m(z);const F=z.find(ae=>ae.label.toLowerCase().includes("back")||ae.label.toLowerCase().includes("rear")||ae.label.toLowerCase().includes("environment"));F?x(F.deviceId):z.length>0&&x(z[0].deviceId);const K=ne.getVideoTracks()[0].getCapabilities();c(!!(K.torch||K.fillLightMode)),ne.getTracks().forEach(ae=>ae.stop()),E(0),U()}catch(J){console.error("Camera initialization error:",J);let ne="Không thể truy cập camera. Vui lòng kiểm tra quyền truy cập camera.";J.name==="NotAllowedError"||J.name==="PermissionDeniedError"?ne=`Quyền truy cập camera bị từ chối. Vui lòng:

1. Nhấn vào biểu tượng khóa 🔒 bên cạnh URL
2. Chọn "Cho phép" cho Camera
3. Làm mới trang và thử lại`:J.name==="NotFoundError"||J.name==="DevicesNotFoundError"?ne=`Không tìm thấy camera trên thiết bị này.
Vui lòng kiểm tra kết nối camera.`:J.name==="NotReadableError"||J.name==="TrackStartError"?ne=`Camera đang được sử dụng bởi ứng dụng khác.
Vui lòng đóng các ứng dụng camera khác và thử lại.`:J.name==="OverConstrainedError"||J.name==="ConstraintNotSatisfiedError"?ne=`Camera không hỗ trợ cấu hình yêu cầu.
Thử chuyển sang camera khác hoặc làm mới trang.`:J.message==="MEDIA_DEVICES_NOT_SUPPORTED"?ne=`Trình duyệt không hỗ trợ camera.
Vui lòng sử dụng Chrome, Firefox hoặc Safari phiên bản mới nhất.`:window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&(ne=`Camera chỉ hoạt động trên HTTPS.
Vui lòng truy cập qua đường dẫn HTTPS.`),s(ne),(J.name==="OverConstrainedError"||J.name==="ConstraintNotSatisfiedError")&&_<3&&setTimeout(()=>{E(G=>G+1),L()},1e3)}finally{j(!1)}},U=async()=>{try{a(!0),s(null),k.current||(k.current=new Bhe);const J=g||null;await k.current.decodeFromVideoDevice(J,M.current,(ne,G)=>{if(ne){const z=Date.now();if(z-v>2e3){w(z);const F=ne.getText();console.log("📷 Camera scanned barcode:",F),t(F),setTimeout(()=>{k.current&&M.current},1e3)}}G&&!(G instanceof Le)&&console.error("Barcode scanning error:",G)})}catch(J){console.error("Scanning error:",J),s("Lỗi khi quét mã vạch. Vui lòng thử lại."),a(!1)}},X=()=>{k.current&&k.current.reset(),I.current&&(I.current.getTracks().forEach(J=>J.stop()),I.current=null),a(!1),f(!1)},ue=async()=>{if(!(!o||!M.current))try{const J=M.current.srcObject;J&&(await J.getVideoTracks()[0].applyConstraints({advanced:[{torch:!u}]}),f(!u))}catch(J){console.error("Flash toggle error:",J);try{const ne=M.current.srcObject;ne&&(await ne.getVideoTracks()[0].applyConstraints({advanced:[{fillLightMode:u?"off":"flash"}]}),f(!u))}catch(ne){console.error("Flash fallback error:",ne)}}},he=async()=>{if(h.length<=1)return;const ne=(h.findIndex(z=>z.deviceId===g)+1)%h.length,G=h[ne];x(G.deviceId),X(),setTimeout(()=>{U()},500)};return r?l.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex items-center justify-center p-2 sm:p-4",children:[l.jsx(Ue,{className:"w-full max-w-md mx-auto bg-white max-h-[95vh] overflow-hidden",children:l.jsxs(Ve,{className:"p-0",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Dm,{className:"w-5 h-5 text-blue-600"}),l.jsx("span",{className:"font-medium text-gray-900",children:"Quét mã vạch"}),A&&l.jsx(Ct,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Đang khởi tạo..."}),n&&!A&&l.jsx(Ct,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Đang quét..."}),_>0&&l.jsxs(Ct,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:["Thử lần ",_+1]})]}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:e,children:l.jsx(R0,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"relative bg-black aspect-square max-h-[60vh] overflow-hidden",children:i?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-center p-4",children:l.jsxs("div",{className:"max-w-sm",children:[l.jsx(Jae,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),l.jsx("pre",{className:"text-sm whitespace-pre-line leading-relaxed",children:i}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx(ke,{variant:"outline",size:"sm",className:"bg-white text-black hover:bg-gray-100",onClick:L,children:"🔄 Thử lại"}),l.jsxs(ke,{variant:"outline",size:"sm",className:"bg-blue-600 text-white hover:bg-blue-700 ml-2",onClick:()=>b(!0),children:[l.jsx(lH,{className:"w-4 h-4 mr-1"}),"Hướng dẫn"]}),l.jsx(ke,{variant:"outline",size:"sm",className:"bg-green-600 text-white hover:bg-green-700 ml-2",onClick:()=>D(!0),children:"⌨️ Nhập thủ công"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsx("video",{ref:M,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"relative w-48 h-32 sm:w-64 sm:h-40 border-2 border-white border-dashed rounded-lg",children:[l.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-blue-400 rounded-tl-lg"}),l.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-blue-400 rounded-tr-lg"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-blue-400 rounded-bl-lg"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-blue-400 rounded-br-lg"}),l.jsx("div",{className:"absolute inset-x-0 top-1/2 h-0.5 bg-blue-400 animate-pulse"})]})}),l.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[o&&l.jsx(ke,{variant:"secondary",size:"sm",onClick:ue,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border-white border-opacity-30",children:u?l.jsx(lie,{className:"w-4 h-4"}):l.jsx(cie,{className:"w-4 h-4"})}),h.length>1&&l.jsx(ke,{variant:"secondary",size:"sm",onClick:he,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border-white border-opacity-30",children:l.jsx(Dm,{className:"w-4 h-4"})})]})]})}),l.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:[l.jsx("p",{children:"Đưa mã vạch vào khung hình để quét tự động"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hỗ trợ: Code 128, EAN, UPC, QR Code và nhiều định dạng khác"}),!1]})]})}),l.jsx(X0e,{isOpen:S,onClose:()=>b(!1)}),l.jsx(Q0e,{isOpen:O,onClose:()=>D(!1),onScan:t})]}):null}const Y0e=t=>{switch(t){case"cash":return lc;case"card":return _u;case"qr":return D0;case"ewallet":return uH;case"banktransfer":return _u;default:return lc}},Z0e=t=>{switch(t){case"cash":return"bg-green-500";case"card":return"bg-blue-500";case"qr":return"bg-purple-500";case"ewallet":return"bg-orange-500";case"banktransfer":return"bg-indigo-500";default:return"bg-gray-500"}};function J0e(){var Xo,ho,us;const{currentStore:t,user:e,switchStore:r,availableStores:n,loadAvailableStores:a}=oo(),{toast:i}=mi(),{playNotificationSound:s}=Lj(),[o,c]=Fi(),[u,f]=T.useState([]),[h,m]=T.useState(""),[g,x]=T.useState(""),[v,w]=T.useState(null),S=T.useRef(null),[b,_]=T.useState(null),[E,A]=T.useState("cash"),[j,O]=T.useState(!1),[D,M]=T.useState(null),[k,I]=T.useState(null),[R,L]=T.useState(0),[U,X]=T.useState(null),[ue,he]=T.useState(!1),[J,ne]=T.useState("all"),[G,z]=T.useState(!1);T.useEffect(()=>{const Z=De=>{const Qe=document.activeElement;!((Qe==null?void 0:Qe.tagName)==="INPUT"||(Qe==null?void 0:Qe.tagName)==="TEXTAREA"||(Qe==null?void 0:Qe.getAttribute("contenteditable"))==="true")&&/^[a-zA-Z0-9]$/.test(De.key)&&v&&(De.preventDefault(),v.focus(),x(De.key))};return document.addEventListener("keypress",Z),()=>{document.removeEventListener("keypress",Z),S.current&&clearTimeout(S.current)}},[v]),T.useEffect(()=>{(!n||n.length===0)&&a()},[n,a]),T.useEffect(()=>{const De=new URLSearchParams(window.location.search).get("storeId");if(console.log("Sales page - URL storeId:",De),console.log("Sales page - Current store:",t),console.log("Sales page - Available stores:",n),De&&parseInt(De)!==(t==null?void 0:t.storeId)){const Qe=n==null?void 0:n.find(nt=>nt.storeId===parseInt(De));if(console.log("Sales page - Target store found:",Qe),Qe){console.log("Sales page - Switching to authorized store:",parseInt(De)),r(parseInt(De));const nt=window.location.pathname;window.history.replaceState({},"",nt)}else{console.warn("Sales page - User không có quyền truy cập store:",De),i({title:"Không có quyền truy cập",description:"Bạn không có quyền truy cập cửa hàng này.",variant:"destructive"});const nt=window.location.pathname;window.history.replaceState({},"",nt)}}},[t==null?void 0:t.storeId,n,r]);const[F,ee]=T.useState(!1),[K,ae]=T.useState(null),[q,pe]=T.useState(!1),[W,V]=T.useState(!1),[fe,Se]=T.useState({buyerTaxCode:"",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",notes:""}),[ve,gt]=T.useState(null),[Y,Oe]=T.useState(null),[Re,Me]=T.useState(!1),[st,qt]=T.useState("none"),[we,qe]=T.useState(""),[se,ye]=T.useState(0),[_e,Ye]=T.useState(!1);Zue(u.map(Z=>({productId:Z.productId,quantity:Z.quantity,price:Z.price,totalPrice:Z.totalPrice})));const{applyDiscount:at}=Yue(),{data:He,refetch:pt}=Ft({queryKey:["/api/PaymentMethodConfig/enabled"],queryFn:async()=>{const Z=await At("/api/PaymentMethodConfig/enabled",{method:"GET"});return console.log("Payment config fetched:",Z),Z},staleTime:0,gcTime:0}),{data:kt}=Ft({queryKey:["/api/QRSettings"],queryFn:async()=>await At("/api/QRSettings",{method:"GET"}),staleTime:300*1e3}),{data:tr}=Ft({queryKey:["/api/PrintConfig"],queryFn:async()=>await At("/api/PrintConfig",{method:"GET"}),staleTime:300*1e3});T.useEffect(()=>{He!=null&&He.defaultMethod&&E==="cash"&&A(He.defaultMethod)},[He]),T.useEffect(()=>{const Z=()=>{console.log("Payment config changed, refetching..."),pt()};return window.addEventListener("paymentConfigChanged",Z),()=>{window.removeEventListener("paymentConfigChanged",Z)}},[pt]);const Sr=((Xo=He==null?void 0:He.paymentMethods)==null?void 0:Xo.map(Z=>({...Z,icon:Y0e(Z.id),color:Z0e(Z.id)})))||[{id:"cash",name:"Tiền mặt",icon:lc,color:"bg-green-500",enabled:!0}];T.useEffect(()=>{console.log("Available payment methods updated:",Sr)},[Sr]);const ks=(Z,De)=>{if(!(kt!=null&&kt.isEnabled)||!(kt!=null&&kt.bankCode)||!(kt!=null&&kt.bankAccountNumber))return null;const Qe=kt.qrTemplate||"compact",nt=encodeURIComponent(kt.bankAccountHolder||"");let cr=`https://api.vietqr.io/image/${kt.bankCode}-${kt.bankAccountNumber}-${Qe}.jpg?accountName=${nt}&amount=${Z}`;if(De){const Dt=encodeURIComponent(`thanh toan don hang theo hoa don ${De}`);cr+=`&addInfo=${Dt}`}else{const Dt=encodeURIComponent(kt.defaultDescription||"Thanh toan hoa don");cr+=`&addInfo=${Dt}`}return cr};T.useEffect(()=>{if(E==="qr"&&u.length>0){const Z=u.reduce((De,Qe)=>De+Qe.totalPrice,0);_d.mutate({amount:Z})}else he(!1),X(null)},[E,u,b]),T.useEffect(()=>{o==="/sales"&&(console.log("Navigated to sales page, checking localStorage..."),L(Z=>Z+1))},[o]),T.useEffect(()=>{console.log("Sales component mounted, checking localStorage immediately..."),L(Z=>Z+1)},[]),T.useEffect(()=>{const Z=localStorage.getItem("reopenOrder");if(console.log("Checking for reopen order data:",Z),Z)try{const De=JSON.parse(Z);console.log("Parsed order detail:",De),$i(De),localStorage.removeItem("reopenOrder")}catch(De){console.error("Error parsing reopen order data:",De),localStorage.removeItem("reopenOrder")}},[R]),T.useEffect(()=>{const Z=()=>{console.log("Window focused, checking localStorage..."),L(nt=>nt+1)},De=()=>{document.hidden||(console.log("Tab became visible, checking localStorage..."),L(nt=>nt+1))},Qe=()=>{console.log("Reopen order event received, checking localStorage..."),L(nt=>nt+1)};return window.addEventListener("focus",Z),document.addEventListener("visibilitychange",De),window.addEventListener("reopenOrderSet",Qe),()=>{window.removeEventListener("focus",Z),document.removeEventListener("visibilitychange",De),window.removeEventListener("reopenOrderSet",Qe)}},[]);const $i=Z=>{console.log("Loading order into cart:",Z),I(Z);const De=Z.items.map((Qe,nt)=>({productId:Qe.productId||0,name:Qe.productName,barcode:null,categoryId:null,productGroupId:null,price:Qe.price,costPrice:null,stockQuantity:100,minStockLevel:0,unit:null,imageUrl:null,description:"",quantity:Qe.quantity,totalPrice:Qe.totalPrice,cartItemId:`cart-${Date.now()}-${nt}`}));console.log("Cart items created:",De),f(De),Z.customer&&_(Z.customer),Z.paymentMethod&&A(Z.paymentMethod)},{data:an=[],isLoading:Go,error:ss}=Ft({queryKey:["products-sales",t==null?void 0:t.storeId],queryFn:async()=>{try{const Z=t!=null&&t.storeId?`?storeId=${t.storeId}`:"";console.log("PRODUCTS QUERY - Starting fetch with param:",Z);const De=await fetch(`http://101.53.9.76:5273/api/products${Z}`);if(!De.ok)throw new Error(`HTTP error! status: ${De.status}`);const Qe=await De.json();return console.log("PRODUCTS QUERY - Success! Got result:",Qe),Qe.products||Qe.Products||[]}catch(Z){throw console.error("PRODUCTS QUERY - Error:",Z),Z}},enabled:!!(t!=null&&t.storeId)});console.log("Sales page - Products data:",an),console.log("Sales page - Products count:",an.length),console.log("Sales page - Products loading:",Go),console.log("Sales page - Products error:",ss),console.log("Sales page - Current store for products:",t),console.log("Sales page - currentStore?.storeId:",t==null?void 0:t.storeId),console.log("Sales page - Query enabled?:",!!(t!=null&&t.storeId));const{data:os=[],isLoading:Ds}=Ft({queryKey:["/api/products/featured",t==null?void 0:t.storeId],enabled:!!(t!=null&&t.storeId),queryFn:async()=>{try{const Z=t!=null&&t.storeId?`?storeId=${t.storeId}`:"";console.log("FEATURED PRODUCTS QUERY - Fetching with param:",Z);const De=await At(`/api/products/featured${Z}`,{method:"GET"});return console.log("FEATURED PRODUCTS QUERY - Success! Got result:",De),De&&Array.isArray(De.products)?De.products:Array.isArray(De)?De:(console.warn("FEATURED PRODUCTS QUERY - Unexpected response format:",De),[])}catch(Z){throw console.error("FEATURED PRODUCTS QUERY - Error:",Z),Z}}}),{data:uo=[]}=Ft({queryKey:["/api/customers",t==null?void 0:t.storeId],queryFn:async()=>{const Z=t!=null&&t.storeId?`?storeId=${t.storeId}`:"";return await At(`/api/customers${Z}`,{method:"GET"})},select:Z=>Z.map(De=>{var Qe;return{customerId:De.customerId,hoTen:De.hoTen||"",soDienThoai:De.soDienThoai||"",email:De.email||"",diaChi:De.diaChi||"",hangKhachHang:De.hangKhachHang||"",id:(Qe=De.customerId)==null?void 0:Qe.toString(),name:De.hoTen||"",phone:De.soDienThoai||"",address:De.diaChi||"",customerType:De.hangKhachHang||""}}),enabled:!!(t!=null&&t.storeId)}),{data:sn}=Ft({queryKey:["/api/StoreInfo"],queryFn:async()=>{const Z=await At("/api/StoreInfo",{method:"GET"});return Z.status===404?null:typeof Z=="string"?JSON.parse(Z):Z}}),{data:Rs}=Ft({queryKey:["/api/EInvoice/config"],queryFn:async()=>await At("/api/EInvoice/config",{method:"GET"})}),ti=Vt({mutationFn:async Z=>await At("/api/EInvoice/create-from-order",{method:"POST",body:JSON.stringify({orderId:Z.orderId,buyerTaxCode:Z.buyerInfo.buyerTaxCode,buyerName:Z.buyerInfo.buyerName,buyerAddress:Z.buyerInfo.buyerAddress,buyerPhone:Z.buyerInfo.buyerPhone,buyerEmail:Z.buyerInfo.buyerEmail,notes:Z.buyerInfo.notes}),headers:{"Content-Type":"application/json"}}),onSuccess:Z=>{i({title:"Thành công",description:"Hóa đơn điện tử đã được tạo thành công"}),pe(!1),Se({buyerTaxCode:"",buyerName:"",buyerAddress:"",buyerPhone:"",buyerEmail:"",notes:""})},onError:Z=>{i({title:"Lỗi",description:Z.message||"Không thể tạo hóa đơn điện tử",variant:"destructive"})}}),Ui=Vt({mutationFn:async Z=>(console.log("Gửi đơn hàng lên backend:",Z),await At("/api/orders",{method:"POST",body:Z})),onSuccess:async Z=>{var Qe;if(ve&&(Z!=null&&Z.orderId))try{await at(Z.orderId,ve.id),console.log("Discount applied successfully to order:",Z.orderId)}catch(nt){console.error("Failed to apply discount:",nt),i({title:"Cảnh báo",description:"Đơn hàng đã tạo thành công nhưng không thể áp dụng giảm giá",variant:"destructive"})}se>0&&(Z!=null&&Z.orderId)&&console.log("Manual discount applied to order:",Z.orderId,se),i({title:"Thành công",description:"Đơn hàng đã được tạo thành công"});const De={orderId:Z==null?void 0:Z.orderId,customerName:(b==null?void 0:b.name)||"Khách lẻ",createdAt:new Date().toISOString(),totalAmount:H,subtotal:ls,discountAmount:cs,discountName:(ve==null?void 0:ve.name)||(se>0?"Giảm giá thủ công":null),manualDiscountAmount:se,discountType:ve?ve.discountType==="PercentageTotal"?`${ve.value}% tổng bill`:ve.discountType==="FixedAmountTotal"?`${ve.value.toLocaleString("vi-VN")}₫ tổng bill`:`${ve.value.toLocaleString("vi-VN")}₫ từng món`:se>0?`${st==="percentage"?we+"%":we+"₫"} tổng bill`:null,items:u.map(nt=>({productName:nt.name,quantity:nt.quantity,price:nt.price,totalPrice:nt.totalPrice})),taxAmount:Ms,paymentMethod:((Qe=Sr.find(nt=>nt.id===E))==null?void 0:Qe.name)||E,paymentStatus:"paid",status:"completed",cashierName:"Admin"};ae(De),ee(!0),(tr!=null&&tr.autoPrintBill||tr!=null&&tr.autoPrintOnOrder)&&(i({title:"In tự động",description:"Đang in đơn hàng...",duration:2e3}),setTimeout(()=>{window.print()},1e3)),f([]),_(null),O(!1),gt(null),Oe(null),Ke(),Jt.invalidateQueries({queryKey:["/api/orders"]}),Jt.invalidateQueries({queryKey:["/api/notifications"]}),Jt.invalidateQueries({queryKey:["/api/notifications/count"]}),window.dispatchEvent(new CustomEvent("newOrderCreated"))},onError:()=>{i({title:"Lỗi",description:"Không thể tạo đơn hàng. Vui lòng thử lại.",variant:"destructive"})}}),Ac=Vt({mutationFn:async Z=>(console.log("Gửi đơn hàng chờ thanh toán lên backend:",Z),await At("/api/orders",{method:"POST",body:Z})),onSuccess:()=>{i({title:"Đã lưu đơn hàng chờ thanh toán! 🔔",description:`Đơn hàng của ${(b==null?void 0:b.name)||"khách vãng lai"} đã được lưu để thanh toán sau`}),s(),f([]),_(null),O(!1),Jt.invalidateQueries({queryKey:["/api/orders"]}),Jt.invalidateQueries({queryKey:["/api/notifications"]}),Jt.invalidateQueries({queryKey:["/api/notifications/count"]}),window.dispatchEvent(new CustomEvent("newOrderCreated")),c("/orders")},onError:()=>{i({title:"Lỗi",description:"Không thể lưu đơn hàng. Vui lòng thử lại.",variant:"destructive"})}}),bd=Vt({mutationFn:async({orderId:Z,formData:De})=>(console.log("Cập nhật đơn hàng:",Z,De),await At(`/api/orders/${Z}/complete`,{method:"PUT",body:De})),onSuccess:()=>{var De;i({title:"Thanh toán thành công! 🎉",description:`Đơn hàng #${k==null?void 0:k.orderId} của ${(b==null?void 0:b.name)||(k==null?void 0:k.customerName)||"khách vãng lai"} đã được thanh toán`}),s();const Z={orderId:k==null?void 0:k.orderId,customerName:(b==null?void 0:b.name)||(k==null?void 0:k.customerName)||"Khách lẻ",createdAt:(k==null?void 0:k.createdAt)||new Date().toISOString(),totalAmount:u.reduce((Qe,nt)=>Qe+nt.totalPrice,0),items:u.map(Qe=>({productName:Qe.name,quantity:Qe.quantity,price:Qe.price,totalPrice:Qe.totalPrice})),taxAmount:Ms,paymentMethod:((De=Sr.find(Qe=>Qe.id===E))==null?void 0:De.name)||E,paymentStatus:"paid",status:"completed",cashierName:"Admin"};ae(Z),ee(!0),f([]),_(null),O(!1),I(null),Jt.invalidateQueries({queryKey:["/api/orders"]}),Jt.invalidateQueries({queryKey:["/api/notifications"]}),Jt.invalidateQueries({queryKey:["/api/notifications/count"]}),window.dispatchEvent(new CustomEvent("newOrderCreated"))},onError:()=>{i({title:"Lỗi",description:"Không thể thanh toán đơn hàng. Vui lòng thử lại.",variant:"destructive"})}}),_d=Vt({mutationFn:async({amount:Z,orderId:De,description:Qe})=>{let nt=`/api/QRSettings/generate-url?amount=${Z}`;return De?nt+=`&orderId=${encodeURIComponent(De)}`:Qe&&(nt+=`&description=${encodeURIComponent(Qe)}`),await At(nt,{method:"GET"})},onSuccess:Z=>{X(Z),he(!0)},onError:Z=>{i({title:"Lỗi tạo QR",description:Z.message||"Không thể tạo mã QR. Vui lòng kiểm tra cấu hình trong Settings > QR Code.",variant:"destructive"})}}),Sd=(an||[]).filter(Z=>{const De=ui(h),Qe=ui(Z.name||""),nt=ui(Z.barcode||"");return Qe.includes(De)||nt.includes(De)}),{data:yn}=Ft({queryKey:["/api/TaxConfig"],queryFn:async()=>{const Z=await At("/api/TaxConfig",{method:"GET"});return typeof Z=="string"?JSON.parse(Z):Z}}),ls=u.reduce((Z,De)=>Z+De.totalPrice,0),Ko=!!(yn!=null&&yn.EnableVAT||yn!=null&&yn.enableVAT),Tc=Number((yn==null?void 0:yn.VATRate)||(yn==null?void 0:yn.vatRate)||10),fo=String((yn==null?void 0:yn.VATLabel)||(yn==null?void 0:yn.vatLabel)||"VAT"),Ms=Ko?ls*(Tc/100):0,jl=Y!=null&&Y.canApply?Y.discountAmount:0,cs=Math.max(jl,se),H=ls+Ms-cs,ie=Z=>{if(console.log("Adding product to cart:",Z),Z.stockQuantity<=0){i({title:"Hết hàng",description:"Vui lòng nhập thêm hàng sau đó quay lại bán",variant:"destructive"});return}k&&I(null);const De={...Z,cartItemId:`${Date.now()}-${Math.random()}`,quantity:1,totalPrice:Number(Z.price)};f([...u,De]),console.log("Cart after adding:",[...u,De])},Q=Z=>{if(console.log("🔍 Scanning barcode:",Z),!Z.trim())return;const De=Z.trim().toLowerCase().replace(/\s+/g,"");console.log("📝 Normalized barcode:",De);const nt=[...an||[],...os||[]].filter((Dt,wr,En)=>wr===En.findIndex(Bn=>Bn.productId===Dt.productId));if(console.log("📦 Total products loaded:",(an||[]).length),console.log("⭐ Total featured products loaded:",(os||[]).length),console.log("🔗 Combined unique products for search:",nt.length),console.log("🏷️ All products with barcodes:",nt.filter(Dt=>Dt.barcode).map(Dt=>{var wr;return{id:Dt.productId,name:Dt.name,barcode:Dt.barcode,normalized:(wr=Dt.barcode)==null?void 0:wr.trim().toLowerCase().replace(/\s+/g,""),source:(an||[]).find(En=>En.productId===Dt.productId)?"products":"featured"}})),De==="sp002322"){console.log("🔍 Special debug for SP002322:");const Dt=nt.filter(En=>En.barcode&&En.barcode.toLowerCase().includes("sp002322"));console.log("Found SP002322 products in combined search:",Dt);const wr=nt.find(En=>En.barcode&&En.barcode.trim().toLowerCase()==="sp002322");console.log("Exact match for SP002322 in combined search:",wr)}const cr=nt.find(Dt=>{if(!Dt.barcode)return!1;const wr=Dt.barcode.trim().toLowerCase().replace(/\s+/g,"");return console.log(`🔄 Comparing: "${De}" vs "${wr}"`),wr===De?(console.log("✅ Exact match found!"),!0):wr.includes(De)||De.includes(wr)?(console.log("🎯 Partial match found!"),!0):!1});console.log("🎁 Found product:",cr),cr?(ie(cr),s(),i({title:"✅ Quét thành công",description:`${cr.name} đã được thêm vào giỏ hàng`,duration:2e3}),x(""),v&&setTimeout(()=>v.focus(),100)):(console.log("❌ No product found for barcode:",Z),console.log("💡 Suggestion: Check if product exists or create new product with this barcode"),console.log("🔄 Refreshing products data to check for recently added products..."),Jt.invalidateQueries({queryKey:["products-sales"]}),Jt.invalidateQueries({queryKey:["/api/products/featured"]}),setTimeout(()=>{const Dt=Jt.getQueryData(["products-sales",t==null?void 0:t.storeId])||[],wr=Jt.getQueryData(["/api/products/featured",t==null?void 0:t.storeId])||[],Bn=[...Dt,...wr].filter((Un,Fs,Iv)=>Fs===Iv.findIndex(rp=>rp.productId===Un.productId));console.log("🔄 After refresh - Total products:",Dt.length),console.log("🔄 After refresh - Featured products:",wr.length),console.log("🔄 After refresh - Combined unique products:",Bn.length),console.log("🔄 After refresh - Products with barcodes:",Bn.filter(Un=>Un.barcode).length);const xa=Bn.find(Un=>{if(!Un.barcode)return!1;const Fs=Un.barcode.trim().toLowerCase().replace(/\s+/g,"");return console.log(`🔄 Re-checking: "${De}" vs "${Fs}"`),Fs===De||Fs.includes(De)||De.includes(Fs)});if(xa){console.log("✅ Found product after refresh!",xa),ie(xa),s(),i({title:"✅ Quét thành công (sau refresh)",description:`${xa.name} đã được thêm vào giỏ hàng`,duration:2e3}),x(""),v&&setTimeout(()=>v.focus(),100);return}console.log("❌ Still not found after refresh. Product might not exist.");const $n=(an||[]).filter(Un=>Un.barcode&&Un.barcode.toLowerCase().includes(De.substring(0,3)));console.log("🔍 Similar products found:",$n),i({title:"❌ Không tìm thấy sản phẩm",description:l.jsxs("div",{children:[l.jsxs("p",{children:["Không có sản phẩm nào có mã vạch: ",Z]}),l.jsx("p",{className:"text-xs mt-1",children:"Kiểm tra console để xem chi tiết hoặc thêm sản phẩm mới."}),$n.length>0&&l.jsxs("p",{className:"text-xs mt-1 text-blue-600",children:["Tìm thấy ",$n.length," sản phẩm tương tự. Kiểm tra console."]})]}),variant:"destructive",duration:1e4,action:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Un=>{Un.preventDefault(),Un.stopPropagation();const Fs=new URLSearchParams({barcode:Z});c(`/products?${Fs.toString()}`)},className:"bg-white text-red-600 px-2 py-1 rounded text-xs hover:bg-gray-100",children:"Thêm sản phẩm"}),$n.length>0&&l.jsx("button",{onClick:Un=>{Un.preventDefault(),Un.stopPropagation(),console.log("🎯 Similar products for",Z,":",$n),$n.length===1&&(console.log("🎯 Auto-adding the only similar product:",$n[0]),ie($n[0]),s(),i({title:"✅ Thêm sản phẩm tương tự",description:`${$n[0].name} đã được thêm vào giỏ hàng`,duration:2e3}),x(""))},className:"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600",children:"Sản phẩm tương tự"})]})}),setTimeout(()=>{x(""),v&&v.focus()},2e3)},1500))},te=Z=>{console.log("📷 Camera scanned:",Z),z(!1),Q(Z)},le=Z=>{const De=Z.target.value;x(De),S.current&&clearTimeout(S.current),De.length>=3&&(S.current=setTimeout(()=>{Q(De)},500))},ce=Z=>{Z.key==="Enter"&&(Z.preventDefault(),S.current&&clearTimeout(S.current),Q(g))},Ae=(Z,De)=>{if(De<=0){Fe(Z);return}const Qe=u.find(nt=>nt.cartItemId===Z);if(Qe&&De>Qe.stockQuantity){i({title:"Không đủ hàng",description:`Chỉ còn ${Qe.stockQuantity} sản phẩm trong kho`,variant:"destructive"});return}f(u.map(nt=>nt.cartItemId===Z?{...nt,quantity:De,totalPrice:Number(nt.price)*De}:nt))},Fe=Z=>{f(u.filter(De=>De.cartItemId!==Z))},Te=()=>{f([]),I(null),gt(null),Oe(null),Ke()},je=()=>{if(st==="none"||!we||Number(we)<=0){ye(0);return}const Z=Number(we);let De=0;const Qe=ls+Ms;if(st==="percentage"){if(Z>100){i({title:"Giá trị không hợp lệ",description:"Phần trăm giảm giá không được vượt quá 100%",variant:"destructive"});return}De=Qe*(Z/100)}else if(st==="fixed"){if(Z>Qe){i({title:"Giá trị không hợp lệ",description:`Số tiền giảm giá không được vượt quá ${Qe.toLocaleString("vi-VN")}₫`,variant:"destructive"});return}De=Z}ye(De)},Ie=Z=>{qe(Z),ye(0)},Ke=()=>{qt("none"),qe(""),ye(0),Ye(!1),gt(null),Oe(null)},ft=()=>{if(u.length===0){i({title:"Giỏ hàng trống",description:"Vui lòng thêm sản phẩm vào giỏ hàng",variant:"destructive"});return}k?yt():rt()},yt=()=>{console.log("Complete reopened order with payment method:",E);const Z=new FormData;Z.append("paymentMethod",E),Z.append("paymentStatus","paid"),Z.append("status","completed"),bd.mutate({orderId:k.orderId,formData:Z})},rt=()=>{var De,Qe,nt;console.log("Creating new order with payment method:",E);const Z=new FormData;Z.append("orderNumber",`ORD${Date.now()}`),Z.append("customerId",(b==null?void 0:b.id)||"0"),Z.append("cashierId",((De=e==null?void 0:e.staffId)==null?void 0:De.toString())||"1"),Z.append("storeId",((Qe=t==null?void 0:t.storeId)==null?void 0:Qe.toString())||""),Z.append("staffId",((nt=e==null?void 0:e.staffId)==null?void 0:nt.toString())||"1"),Z.append("subtotal",ls.toString()),Z.append("taxAmount",Ms.toString()),Z.append("discountAmount",cs.toString()),Z.append("total",H.toString()),Z.append("paymentMethod",E),Z.append("paymentStatus","paid"),Z.append("status","completed"),u.forEach((cr,Dt)=>{var En,Bn,xa,$n;const wr=((En=cr.productId)==null?void 0:En.toString())||"";Z.append(`items[${Dt}].productId`,wr),Z.append(`items[${Dt}].productName`,cr.name||""),Z.append(`items[${Dt}].quantity`,((Bn=cr.quantity)==null?void 0:Bn.toString())||"1"),Z.append(`items[${Dt}].unitPrice`,((xa=cr.price)==null?void 0:xa.toString())||"0"),Z.append(`items[${Dt}].totalPrice`,(($n=cr.totalPrice)==null?void 0:$n.toString())||"0")}),console.log("FormData gửi lên:",Array.from(Z.entries())),Ui.mutate(Z)},Je=()=>{if(!(K!=null&&K.orderId)){i({title:"Lỗi",description:"Không tìm thấy thông tin đơn hàng",variant:"destructive"});return}b&&Se({buyerTaxCode:"",buyerName:b.name||"",buyerAddress:b.address||"",buyerPhone:b.phone||"",buyerEmail:b.email||"",notes:""}),V(!1),pe(!0)},Qt=()=>{if(W)Yr();else{if(!(K!=null&&K.orderId)){i({title:"Lỗi",description:"Không tìm thấy thông tin đơn hàng",variant:"destructive"});return}ti.mutate({orderId:K.orderId,buyerInfo:fe})}},Hr=()=>{if(u.length===0){i({title:"Lỗi",description:"Giỏ hàng trống",variant:"destructive"});return}b&&Se({buyerTaxCode:"",buyerName:b.name||"",buyerAddress:b.address||"",buyerPhone:b.phone||"",buyerEmail:b.email||"",notes:""}),V(!0),pe(!0)},Yr=async()=>{var Z,De,Qe;try{console.log("=== Creating order with e-invoice ==="),console.log("Cart:",u),console.log("Selected customer:",b),console.log("E-invoice data:",fe);const nt=new FormData;nt.append("customerId",(b==null?void 0:b.id)||"0"),nt.append("cashierId",((Z=e==null?void 0:e.staffId)==null?void 0:Z.toString())||"1"),nt.append("storeId",((De=t==null?void 0:t.storeId)==null?void 0:De.toString())||""),nt.append("staffId",((Qe=e==null?void 0:e.staffId)==null?void 0:Qe.toString())||"1"),nt.append("subtotal",ls.toString()),nt.append("taxAmount",Ms.toString()),nt.append("discountAmount",cs.toString()),nt.append("total",H.toString()),nt.append("paymentMethod",E),nt.append("paymentStatus","completed"),nt.append("status","completed"),u.forEach((Dt,wr)=>{var Bn,xa,$n,Un;const En=((Bn=Dt.productId)==null?void 0:Bn.toString())||"";nt.append(`items[${wr}].productId`,En),nt.append(`items[${wr}].productName`,Dt.name||""),nt.append(`items[${wr}].quantity`,((xa=Dt.quantity)==null?void 0:xa.toString())||"1"),nt.append(`items[${wr}].unitPrice`,(($n=Dt.price)==null?void 0:$n.toString())||"0"),nt.append(`items[${wr}].totalPrice`,((Un=Dt.totalPrice)==null?void 0:Un.toString())||"0")}),console.log("Order FormData:",Array.from(nt.entries()));const cr=await At("/api/orders",{method:"POST",body:nt});if(console.log("Order response:",cr),cr&&cr.orderId){console.log("Creating e-invoice for order:",cr.orderId);const Dt={orderId:cr.orderId,buyerInfo:fe};console.log("E-invoice payload:",Dt),await ti.mutateAsync({orderId:cr.orderId,buyerInfo:fe}),f([]),_(null),L(wr=>wr+1),i({title:"Thành công! 🎉",description:"Đơn hàng và hóa đơn điện tử đã được tạo thành công"}),ae(cr),ee(!0),pe(!1)}else throw console.error("Order response invalid:",cr),new Error("Không thể tạo đơn hàng")}catch(nt){console.error("Error in handleEInvoiceSubmit:",nt),i({title:"Lỗi",description:nt.message||"Có lỗi xảy ra khi tạo đơn hàng và hóa đơn",variant:"destructive"})}},Nn=()=>{var De,Qe,nt;if(u.length===0){i({title:"Giỏ hàng trống",description:"Vui lòng thêm sản phẩm vào giỏ hàng",variant:"destructive"});return}const Z=new FormData;Z.append("orderNumber",`PENDING${Date.now()}`),Z.append("customerId",(b==null?void 0:b.id)||"0"),Z.append("cashierId",((De=e==null?void 0:e.staffId)==null?void 0:De.toString())||"1"),Z.append("storeId",((Qe=t==null?void 0:t.storeId)==null?void 0:Qe.toString())||""),Z.append("staffId",((nt=e==null?void 0:e.staffId)==null?void 0:nt.toString())||"1"),Z.append("subtotal",ls.toString()),Z.append("taxAmount",Ms.toString()),Z.append("discountAmount","0"),Z.append("total",H.toString()),Z.append("paymentMethod",E),Z.append("paymentStatus","pending"),Z.append("status","pending"),u.forEach((cr,Dt)=>{var En,Bn,xa,$n;const wr=((En=cr.productId)==null?void 0:En.toString())||"";Z.append(`items[${Dt}].productId`,wr),Z.append(`items[${Dt}].productName`,cr.name||""),Z.append(`items[${Dt}].quantity`,((Bn=cr.quantity)==null?void 0:Bn.toString())||"1"),Z.append(`items[${Dt}].unitPrice`,((xa=cr.price)==null?void 0:xa.toString())||"0"),Z.append(`items[${Dt}].totalPrice`,(($n=cr.totalPrice)==null?void 0:$n.toString())||"0")}),console.log("FormData đơn hàng chờ:",Array.from(Z.entries())),Ac.mutate(Z)};return l.jsxs(Ri,{title:"Bán hàng",children:[l.jsxs("div",{className:"lg:grid lg:grid-cols-[1fr_384px] lg:gap-2 flex flex-col gap-4 h-screen","data-testid":"sales-page",children:[l.jsx("div",{className:"order-1 lg:order-1 h-full",children:l.jsx(Ue,{className:"h-full lg:sticky lg:top-0 lg:max-h-screen",children:l.jsxs(Ve,{className:"p-6 flex flex-col h-full overflow-hidden",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Sản phẩm"}),l.jsx(ke,{variant:"outline",onClick:()=>c("/orders"),className:"text-sm",children:"Xem lịch sử hóa đơn"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[l.jsxs("div",{className:"relative w-full sm:w-80",children:[l.jsx(tt,{placeholder:"Tìm kiếm sản phẩm (có thể gõ không dấu)...",value:h,onChange:Z=>m(Z.target.value),className:"pl-10","data-testid":"input-product-search"}),l.jsx(gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]}),l.jsxs("div",{className:"relative w-full sm:w-80",children:[l.jsx(tt,{ref:w,placeholder:"Quét mã vạch hoặc nhập mã vạch...",value:g,onChange:le,onKeyDown:ce,className:"pl-10 pr-24 bg-yellow-50 border-yellow-200 focus:border-yellow-400","data-testid":"input-barcode-scanner",autoComplete:"off",title:"Quét mã vạch để tự động thêm sản phẩm vào giỏ hàng"}),l.jsx(dH,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-600"}),l.jsx(ke,{size:"sm",variant:"ghost",className:"absolute right-16 top-1 h-8 p-1 text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100",onClick:()=>z(!0),title:"Mở camera để quét mã vạch",children:l.jsx(Dm,{className:"w-4 h-4"})}),g&&l.jsx(ke,{size:"sm",className:"absolute right-1 top-1 h-8",onClick:()=>Q(g),children:"Quét"}),l.jsx("div",{className:"text-xs text-yellow-600 mt-1 text-center",children:"📱 Quét mã vạch tự động thêm vào giỏ hàng"})]}),l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>{console.log("🔄 Manual refresh products..."),Jt.invalidateQueries({queryKey:["products-sales"]}),i({title:"🔄 Đang cập nhật",description:"Đang tải lại danh sách sản phẩm...",duration:2e3})},className:"self-start mt-0 h-10",title:"Tải lại danh sách sản phẩm nếu vừa thêm sản phẩm mới",children:"🔄 Refresh"})]})]}),l.jsxs(U0,{value:J,onValueChange:ne,className:"w-full flex flex-col flex-1 min-h-0",children:[l.jsxs(ld,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[l.jsx(Wn,{value:"all",children:"Tất cả sản phẩm"}),l.jsx(Wn,{value:"featured",children:"Sản phẩm hay bán"})]}),l.jsx(Gn,{value:"all",className:"mt-4 flex-1 min-h-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-3 xl:grid-cols-4 gap-4 h-full overflow-y-auto",children:Sd.map(Z=>{const De=Z.stockQuantity||0,Qe=Z.minStockLevel||0;let nt={label:"",color:""};De===0?nt={label:"Hết hàng",color:"bg-red-500"}:De<=Qe?nt={label:"Sắp hết",color:"bg-orange-500"}:nt={label:"Còn hàng",color:"bg-green-500"};const cr=Z.productId,Dt=De<=0;return l.jsx("div",{className:dt("cursor-pointer hover:shadow-md transition-shadow",Dt&&"opacity-60 cursor-not-allowed"),onClick:()=>{Dt||ie(Z)},"data-testid":`product-card-${cr}`,children:l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-4",children:[l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"w-full h-32 bg-gray-100 flex items-center justify-center overflow-hidden rounded-lg mb-3",children:[l.jsx("img",{src:Z.imageUrl&&Z.imageUrl!==""?Z.imageUrl.startsWith("http")?Z.imageUrl:`http://101.53.9.76:5273${Z.imageUrl}`:"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=200&h=150&fit=crop",alt:Z.name||"Sản phẩm",className:"max-w-full max-h-full object-contain",style:{width:"100%",height:"100%"}}),l.jsx(Ct,{className:`absolute top-2 right-2 text-white ${nt.color}`,"data-testid":`stock-status-${cr}`,children:nt.label}),De<=Qe&&l.jsx(Oi,{className:"absolute top-2 left-2 w-5 h-5 text-orange-500"})]})}),l.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:Z.name||"Tên sản phẩm"}),l.jsxs("p",{className:"text-lg font-bold text-primary",children:[Number(Z.price||0).toLocaleString("vi-VN"),"₫"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Tồn: ",Z.stockQuantity||0," ",Z.unit||""]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Tối thiểu: ",Z.minStockLevel||0]}),l.jsxs(ke,{className:"w-full mt-2",size:"sm",disabled:Dt,onClick:wr=>{wr.stopPropagation(),Dt||ie(Z)},children:[l.jsx(Jl,{className:"w-4 h-4 mr-1"}),Dt?"Hết hàng":"Thêm vào hóa đơn"]})]})})},cr)})})}),l.jsxs(Gn,{value:"featured",className:"mt-4 flex-1 min-h-0",children:[Ds&&l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-3 xl:grid-cols-4 gap-4 h-full overflow-y-auto",children:Array.isArray(os)&&os.map(Z=>{const De=Z.stockQuantity||0,Qe=Z.minStockLevel||0;let nt={label:"",color:""};De===0?nt={label:"Hết hàng",color:"bg-red-500"}:De<=Qe?nt={label:"Sắp hết",color:"bg-orange-500"}:nt={label:"Còn hàng",color:"bg-green-500"};const cr=Z.productId,Dt=De<=0;return l.jsx("div",{className:dt("cursor-pointer hover:shadow-md transition-shadow",Dt&&"opacity-60 cursor-not-allowed"),onClick:()=>{Dt||ie(Z)},"data-testid":`featured-product-card-${cr}`,children:l.jsx(Ue,{className:"border-yellow-200 bg-yellow-50",children:l.jsxs(Ve,{className:"p-4",children:[l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"w-full h-32 bg-gray-100 flex items-center justify-center overflow-hidden rounded-lg mb-3",children:[l.jsx("img",{src:Z.imageUrl&&Z.imageUrl!==""?Z.imageUrl.startsWith("http")?Z.imageUrl:`http://101.53.9.76:5273${Z.imageUrl}`:"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=200&h=150&fit=crop",alt:Z.name||"Sản phẩm",className:"max-w-full max-h-full object-contain",style:{width:"100%",height:"100%"}}),l.jsx(Ct,{className:"absolute top-2 left-2 bg-yellow-500 text-yellow-900",children:"⭐ Hay bán"}),l.jsx(Ct,{className:`absolute top-2 right-2 text-white ${nt.color}`,"data-testid":`stock-status-${cr}`,children:nt.label}),De<=Qe&&l.jsx(Oi,{className:"absolute top-12 left-2 w-5 h-5 text-orange-500"})]})}),l.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:Z.name||"Tên sản phẩm"}),l.jsxs("p",{className:"text-lg font-bold text-primary",children:[Number(Z.price||0).toLocaleString("vi-VN"),"₫"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Tồn: ",Z.stockQuantity||0," ",Z.unit||""]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Tối thiểu: ",Z.minStockLevel||0]}),l.jsxs(ke,{className:"w-full mt-2",size:"sm",disabled:Dt,onClick:wr=>{wr.stopPropagation(),Dt||ie(Z)},children:[l.jsx(Jl,{className:"w-4 h-4 mr-1"}),Dt?"Hết hàng":"Thêm vào hóa đơn"]})]})})},cr)})}),(os||[]).length===0&&!Ds&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("div",{className:"text-lg mb-2",children:"📦"}),l.jsx("div",{className:"text-sm",children:"Chưa có sản phẩm hay bán nào được chọn."}),l.jsx("div",{className:"text-xs mt-1",children:"Hãy vào trang Sản phẩm để đánh dấu các sản phẩm hay bán."})]})]})]})]})})}),l.jsx("div",{className:"order-2 lg:order-2 h-full",children:l.jsx(Ue,{className:"h-full lg:sticky lg:top-0 lg:max-h-screen",children:l.jsxs(Ve,{className:"p-6 flex flex-col h-full overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[l.jsx(Lm,{className:"w-5 h-5 mr-2"}),"Giỏ hàng (",u.length,")"]}),u.length>0&&l.jsx(ke,{variant:"ghost",size:"sm",onClick:Te,"data-testid":"button-clear-cart",children:l.jsx(Uo,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden min-h-0 space-y-4",children:[k&&l.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[l.jsx(Oi,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:["Đang thanh toán đơn hàng #",k.orderId]})]}),l.jsx("p",{className:"text-xs text-orange-600 mt-1",children:'Bấm "Thanh toán" để hoàn tất đơn hàng này'})]}),k&&l.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[l.jsx(Oi,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm font-medium",children:["Đang thanh toán đơn hàng #",k.orderId]})]}),l.jsx("p",{className:"text-xs text-orange-600 mt-1",children:'Bấm "Thanh toán" để hoàn thành đơn hàng này'})]}),l.jsx("div",{className:"mb-4",children:l.jsxs(fa,{value:(b==null?void 0:b.id)||"",onValueChange:Z=>{const De=Array.isArray(uo)?uo.find(Qe=>Qe.id===Z):null;_(De||null)},children:[l.jsx(Kn,{"data-testid":"select-customer",children:l.jsx(da,{placeholder:"Chọn khách hàng (tùy chọn)"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"walk-in",children:"Khách vãng lai"}),Array.isArray(uo)&&uo.map(Z=>l.jsxs(er,{value:Z.id,children:[Z.name," - ",Z.phone]},Z.id))]})]})}),l.jsx("div",{className:"space-y-3",style:{visibility:"visible",display:"block"},children:u.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Lm,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Giỏ hàng trống"})]}):l.jsxs(l.Fragment,{children:[console.log("Rendering cart items:",u),u.map(Z=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border-2 border-blue-200 mb-2","data-testid":`cart-item-${Z.productId}`,style:{visibility:"visible",display:"flex",minHeight:"60px",opacity:"1"},children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:Z.name||"Tên sản phẩm không xác định"}),l.jsxs("p",{className:"text-primary font-semibold text-sm lg:text-base",children:[Number(Z.price||0).toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2 ml-2",children:[l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>Ae(Z.cartItemId,Z.quantity-1),"data-testid":`button-decrease-${Z.productId}`,className:"h-8 w-8 p-0",children:l.jsx(gie,{className:"w-3 h-3"})}),l.jsx("span",{className:"w-6 lg:w-8 text-center text-sm font-medium","data-testid":`quantity-${Z.productId}`,children:Z.quantity}),l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>Ae(Z.cartItemId,Z.quantity+1),"data-testid":`button-increase-${Z.productId}`,className:"h-8 w-8 p-0",children:l.jsx(Jl,{className:"w-3 h-3"})}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>Fe(Z.cartItemId),"data-testid":`button-remove-${Z.productId}`,className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:l.jsx(Uo,{className:"w-3 h-3"})})]})]},Z.cartItemId))]})}),u.length>0&&l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsx(gf,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tạm tính:"}),l.jsxs("span",{"data-testid":"subtotal",children:[ls.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>Ye(!_e),className:"text-xs",children:[_e?"Ẩn":"Nhập"," giảm giá"]})}),_e&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx(ke,{variant:st==="percentage"?"default":"outline",size:"sm",onClick:()=>qt("percentage"),className:"text-xs",children:"%"}),l.jsx(ke,{variant:st==="fixed"?"default":"outline",size:"sm",onClick:()=>qt("fixed"),className:"text-xs",children:"Tiền"}),l.jsx(ke,{variant:st==="none"?"default":"outline",size:"sm",onClick:()=>Ke(),className:"text-xs",children:"Không"})]}),st!=="none"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tt,{type:"number",placeholder:st==="percentage"?"Nhập % giảm tổng bill":"Nhập số tiền giảm tổng bill",value:we,onChange:Z=>Ie(Z.target.value),className:"text-sm",min:"0",max:st==="percentage"?"100":void 0}),l.jsx(ke,{size:"sm",onClick:je,disabled:!we||Number(we)<=0,className:"text-xs",children:"Áp dụng"})]}),se>0&&l.jsxs("div",{className:"flex justify-between text-green-600 text-sm print:text-black",children:[l.jsx("span",{children:"Giảm thủ công:"}),l.jsxs("span",{children:["-",se.toLocaleString("vi-VN"),"₫"]})]}),se>0&&l.jsx(ke,{variant:"outline",size:"sm",onClick:Ke,className:"text-xs w-full",children:"Xóa giảm giá thủ công"})]})]})]}),Ko&&l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:[fo," (",Tc,"%):"]}),l.jsxs("span",{"data-testid":"tax",children:[Ms.toLocaleString("vi-VN"),"₫"]})]}),cs>0&&l.jsxs("div",{className:"flex justify-between text-green-600 print:text-black",children:[l.jsx("span",{children:"Tổng giảm giá:"}),l.jsxs("span",{"data-testid":"total-discount",children:["-",cs.toLocaleString("vi-VN"),"₫"]})]}),l.jsx(gf,{}),l.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[l.jsx("span",{children:"Tổng cộng:"}),l.jsxs("span",{"data-testid":"total",children:[H.toLocaleString("vi-VN"),"₫"]})]})]}),u.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"font-medium",children:"Phương thức thanh toán:"}),l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-2 gap-2",children:Sr.map(Z=>{const De=Z.icon;return l.jsxs(ke,{variant:E===Z.id?"default":"outline",size:"sm",onClick:()=>A(Z.id),className:"h-12 text-xs lg:text-sm","data-testid":`payment-${Z.id}`,children:[l.jsx(De,{className:"w-4 h-4 mr-1 lg:mr-2"}),l.jsx("span",{className:"hidden sm:inline lg:inline",children:Z.name}),l.jsx("span",{className:"sm:hidden lg:hidden",children:Z.name.split(" ")[0]})]},Z.id)})})]}),E==="qr"&&ue&&U&&l.jsx("div",{className:"space-y-3 border rounded-lg p-4 bg-purple-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Quét mã QR để thanh toán"}),l.jsxs("p",{className:"text-sm text-purple-600 mb-3",children:["Số tiền: ",l.jsxs("span",{className:"font-bold",children:[H.toLocaleString("vi-VN"),"₫"]})]}),U.qrImageUrl&&l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("img",{src:U.qrImageUrl,alt:"QR Code thanh toán",className:"w-72 h-72 border-2 border-purple-300 rounded-lg shadow-lg max-w-full",onError:Z=>{Z.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjg4IiBoZWlnaHQ9IjI4OCIgdmlld0JveD0iMCAwIDI4OCAyODgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODgiIGhlaWdodD0iMjg4IiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjE0NCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM2QjczODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIwLjNlbSI+UVIgTG9hZCBFcnJvcjwvdGV4dD4KPHN2Zz4="}})}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1 print:text-black",children:[U.bankName&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Ngân hàng:"})," ",U.bankName]}),U.accountNumber&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Số TK:"})," ",U.accountNumber]}),U.accountHolder&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Chủ TK:"})," ",U.accountHolder]}),U.description&&l.jsxs("p",{className:"mt-2 p-2 bg-green-100 rounded print:bg-white print:border print:border-black",children:[l.jsx("span",{className:"font-medium text-green-800 print:text-black",children:"Nội dung CK:"}),l.jsxs("span",{className:"text-green-700 print:text-black",children:[" ",U.description]}),U.description.includes("don hang")&&l.jsx("span",{className:"block text-xs text-green-600 mt-1 print:text-black",children:"✓ QR đã cập nhật với mã đơn hàng"})]})]})]})}),E==="qr"&&!(kt!=null&&kt.isEnabled)&&l.jsx("div",{className:"space-y-3 border rounded-lg p-4 bg-orange-50",children:l.jsxs("div",{className:"text-center text-orange-600",children:[l.jsx("p",{className:"text-sm font-medium",children:"QR Code chưa được cấu hình"}),l.jsx("p",{className:"text-xs",children:"Vui lòng vào Settings > QR Code để cấu hình"})]})}),l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx(ke,{className:"w-full h-12 text-lg",onClick:ft,disabled:u.length===0||Ui.isPending,"data-testid":"button-process-payment",children:Ui.isPending?"Đang xử lý...":"Thanh toán"}),l.jsxs(ke,{className:"w-full h-11 text-lg bg-green-600 hover:bg-green-700",onClick:Hr,disabled:u.length===0||Ui.isPending||ti.isPending,"data-testid":"button-payment-with-einvoice",children:[l.jsx(ul,{className:"w-5 h-5 mr-2"}),Ui.isPending||ti.isPending?"Đang xử lý...":"Xuất hóa đơn"]}),l.jsx(ke,{variant:"outline",className:"w-full h-10 text-sm",onClick:Nn,disabled:u.length===0||Ac.isPending||Ui.isPending,"data-testid":"button-save-for-later",children:Ac.isPending?"Đang lưu...":"Thanh toán sau"})]})]})," "]})})})]}),F&&K&&l.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4 print:bg-white print:p-0",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md sm:max-w-lg md:max-w-xl relative max-h-[90vh] overflow-y-auto print:w-[80mm] print:max-w-[80mm] print:min-w-[80mm] print:rounded-none print:shadow-none print:p-2 print:overflow-visible print:max-h-none print:relative print:block print:no-break",style:{width:"min(90vw, 450px)",fontSize:"14px"},children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-black print:hidden",onClick:()=>ee(!1),children:"Đóng"}),l.jsxs("div",{className:"text-center border-b pb-2 mb-2 print:pl-4",children:[l.jsx("div",{className:"font-bold text-lg print:text-sm",children:(sn==null?void 0:sn.name)||"[Tên cửa hàng]"}),(sn==null?void 0:sn.address)&&l.jsxs("div",{className:"text-sm print:text-xs",children:["Đ/c: ",sn.address]}),(sn==null?void 0:sn.taxCode)&&l.jsxs("div",{className:"text-sm print:text-xs",children:["MST: ",sn.taxCode]}),(sn==null?void 0:sn.phone)&&l.jsxs("div",{className:"text-sm print:text-xs",children:["ĐT: ",sn.phone]}),(sn==null?void 0:sn.email)&&l.jsxs("div",{className:"text-sm print:text-xs",children:["Email: ",sn.email]})]}),l.jsxs("h2",{className:"text-xl font-bold mb-2 print:text-sm print:mb-1 print:pl-4",children:["Đơn hàng #",K.orderId]}),l.jsxs("div",{className:"print:text-xs print:pl-4",children:["Khách hàng: ",K.customerName||"Khách lẻ"]}),l.jsxs("div",{className:"print:text-xs print:pl-4",children:["Ngày tạo: ",new Date(K.createdAt).toLocaleDateString("vi-VN")]}),l.jsxs("div",{className:"print:text-xs print:pl-4",children:["Giờ tạo: ",new Date(K.createdAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("div",{className:"flex gap-2 my-2 print:my-1 print:pl-4",children:[l.jsx(Ct,{className:"bg-green-100 text-green-800 border-green-200 print:text-xs print:px-1 print:py-0 print:bg-white print:text-black print:border-black",children:"Đã thanh toán"}),l.jsx(Ct,{className:"bg-blue-100 text-blue-800 border-blue-200 print:text-xs print:px-1 print:py-0 print:bg-white print:text-black print:border-black",children:"Hoàn thành"})]}),l.jsxs("div",{className:"print:text-xs print:pl-4",children:["Hình thức thanh toán: ",l.jsx("b",{children:K.paymentMethod||"Tiền mặt"})]}),l.jsxs("div",{className:"print:text-xs print:pl-4",children:["Thu Ngân: ",l.jsx("b",{children:K.cashierName||"Admin"})]}),l.jsxs("div",{className:"mt-4 print:no-break",children:[l.jsxs("table",{className:"w-full border print:no-break",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"border px-2 py-1",children:"Sản phẩm"}),l.jsx("th",{className:"border px-2 py-1",children:"SL"}),l.jsx("th",{className:"border px-2 py-1",children:"Đơn giá"}),l.jsx("th",{className:"border px-2 py-1",children:"Thành tiền"})]})}),l.jsx("tbody",{children:(ho=K.items)==null?void 0:ho.map((Z,De)=>l.jsxs("tr",{children:[l.jsx("td",{className:"border px-2 py-1",children:Z.productName}),l.jsx("td",{className:"border px-2 py-1 text-center",children:Z.quantity}),l.jsxs("td",{className:"border px-2 py-1 text-right",children:[Number(Z.price).toLocaleString("vi-VN"),"₫"]}),l.jsxs("td",{className:"border px-2 py-1 text-right",children:[Number(Z.totalPrice).toLocaleString("vi-VN"),"₫"]})]},De))})]}),l.jsx("div",{className:"mt-2 text-right",children:(()=>{var nt;const Z=K.subtotal||((nt=K.items)==null?void 0:nt.reduce((cr,Dt)=>cr+(Number(Dt.totalPrice)||0),0))||0,De=Number(K.taxAmount)||0,Qe=Number(K.discountAmount)||0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Tạm tính: ",l.jsxs("b",{children:[Z.toLocaleString("vi-VN"),"₫"]})]}),Qe>0&&l.jsxs("div",{className:"text-green-600 print:text-black",children:["Giảm giá ",K.discountName&&K.discountName!=="Giảm giá thủ công"?`(${K.discountName})`:K.discountType?`(${K.discountType})`:"(Giảm giá thủ công)",":",l.jsxs("b",{children:[" -",Qe.toLocaleString("vi-VN"),"₫"]})]}),De>0&&l.jsxs("div",{children:["VAT 10%: ",l.jsxs("b",{children:[De.toLocaleString("vi-VN"),"₫"]})]})]})})()})]}),l.jsxs("div",{className:"mt-4 text-right font-bold text-lg border-t pt-2 print:no-break",children:["Tổng cộng: ",Number(K.totalAmount).toLocaleString("vi-VN"),"₫"]}),(K.paymentMethod==="qr"||K.paymentMethod==="QR Code"||((us=K.paymentMethod)==null?void 0:us.toLowerCase().includes("qr")))&&l.jsxs("div",{className:"mt-4 text-center print:mt-2 print:border-0 print:p-0 print:bg-white border rounded-lg p-4 bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200 print:no-break",children:[l.jsx("h4",{className:"font-semibold text-purple-800 mb-3 text-base print:text-black print:text-sm print:mb-1 print:font-bold",children:"Mã QR Thanh toán"}),ks(K.totalAmount,K.orderId)?l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex justify-center mb-4 print:mb-1",children:l.jsx("div",{className:"p-2 bg-white rounded-xl shadow-lg border-2 border-purple-200 w-full max-w-full print:p-0 print:shadow-none print:border-0 print:rounded-none print:bg-transparent",children:l.jsx("img",{src:ks(K.totalAmount,K.orderId)||"",alt:"QR Code thanh toán",className:"w-full h-auto object-contain mx-auto print:w-full print:h-auto",style:{width:"100%",height:"auto",minWidth:"200px",minHeight:"200px",maxWidth:"300px",display:"block"},onError:Z=>{Z.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNTAiIGhlaWdodD0iMjUwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjEyNSIgeT0iMTI1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM2QjczODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIwLjNlbSI+UVIgRXJyb3I8L3RleHQ+Cjwvc3ZnPg=="}})})})}):l.jsxs("div",{className:"text-center text-orange-600 py-6",children:[l.jsx("div",{className:"w-full h-48 mx-auto bg-orange-100 rounded-xl flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-orange-500 text-sm font-medium",children:"QR không khả dụng"})}),l.jsx("p",{className:"text-sm font-medium",children:"QR Code chưa được cấu hình"}),l.jsx("p",{className:"text-xs",children:"Vui lòng vào Settings > QR Code để cấu hình"})]})]}),l.jsx("div",{className:"mt-6 text-center font-semibold text-gray-700",children:"Cảm ơn - Hẹn gặp lại"}),((tr==null?void 0:tr.autoPrintBill)||(tr==null?void 0:tr.autoPrintOnOrder))&&l.jsxs("div",{className:"mt-2 text-center text-xs text-green-600 print:hidden",children:[l.jsx(zf,{className:"w-3 h-3 inline mr-1"}),"In tự động đã được kích hoạt"]}),l.jsx("div",{className:"mt-4 print:hidden",children:l.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[l.jsxs("div",{className:"flex gap-3",children:[(Rs==null?void 0:Rs.isEnabled)&&l.jsxs(ke,{onClick:Je,variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50 flex-1",children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Xuất hóa đơn điện tử"]}),l.jsxs(ke,{onClick:()=>window.print(),className:"bg-green-600 hover:bg-green-700 text-white flex-1",children:[l.jsx(zf,{className:"w-4 h-4 mr-2"}),"In đơn hàng"]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(ke,{onClick:()=>ee(!1),variant:"outline",className:"px-8",children:"Đóng"})})]})})]})}),q&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l.jsx(ul,{className:"w-5 h-5 mr-2 text-blue-600"}),W?"Thanh toán & Xuất hóa đơn điện tử":"Tạo hóa đơn điện tử"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã số thuế người mua"}),l.jsx(tt,{value:fe.buyerTaxCode,onChange:Z=>Se(De=>({...De,buyerTaxCode:Z.target.value})),placeholder:"Nhập mã số thuế"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên người mua *"}),l.jsx(tt,{value:fe.buyerName,onChange:Z=>Se(De=>({...De,buyerName:Z.target.value})),placeholder:"Nhập tên người mua",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ người mua"}),l.jsx(tt,{value:fe.buyerAddress,onChange:Z=>Se(De=>({...De,buyerAddress:Z.target.value})),placeholder:"Nhập địa chỉ"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),l.jsx(tt,{value:fe.buyerPhone,onChange:Z=>Se(De=>({...De,buyerPhone:Z.target.value})),placeholder:"Nhập số điện thoại"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx(tt,{type:"email",value:fe.buyerEmail,onChange:Z=>Se(De=>({...De,buyerEmail:Z.target.value})),placeholder:"Nhập email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi chú"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:fe.notes,onChange:Z=>Se(De=>({...De,notes:Z.target.value})),placeholder:"Nhập ghi chú (tùy chọn)"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx(ke,{onClick:()=>{pe(!1),V(!1)},variant:"outline",disabled:ti.isPending,children:"Hủy"}),l.jsxs(ke,{onClick:Qt,disabled:ti.isPending||!fe.buyerName,className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(b1,{className:"w-4 h-4 mr-2"}),ti.isPending?"Đang xử lý...":W?"Thanh toán & Xuất hóa đơn":"Tạo hóa đơn"]})]})]})})}),l.jsx(GW,{isOpen:G,onScan:te,onClose:()=>z(!1)})]})}const Au=T.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Au.displayName="Textarea";var dv=t=>t.type==="checkbox",xf=t=>t instanceof Date,Ai=t=>t==null;const KW=t=>typeof t=="object";var Ln=t=>!Ai(t)&&!Array.isArray(t)&&KW(t)&&!xf(t),XW=t=>Ln(t)&&t.target?dv(t.target)?t.target.checked:t.target.value:t,epe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,QW=(t,e)=>t.has(epe(e)),tpe=t=>{const e=t.constructor&&t.constructor.prototype;return Ln(e)&&e.hasOwnProperty("isPrototypeOf")},s3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Va(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(s3&&(t instanceof Blob||n))&&(r||Ln(t)))if(e=r?[]:{},!r&&!tpe(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Va(t[a]));else return t;return e}var ew=t=>Array.isArray(t)?t.filter(Boolean):[],Fn=t=>t===void 0,vt=(t,e,r)=>{if(!e||!Ln(t))return r;const n=ew(e.split(/[,[\].]+?/)).reduce((a,i)=>Ai(a)?a:a[i],t);return Fn(n)||n===t?Fn(t[e])?r:t[e]:n},ws=t=>typeof t=="boolean",o3=t=>/^\w*$/.test(t),YW=t=>ew(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$r=(t,e,r)=>{let n=-1;const a=o3(e)?[e]:YW(e),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==s){const u=t[o];c=Ln(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const X1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Po={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZW=oe.createContext(null),tw=()=>oe.useContext(ZW),rpe=t=>{const{children:e,...r}=t;return oe.createElement(ZW.Provider,{value:r},e)};var JW=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const s=i;return e._proxyFormState[s]!==Po.all&&(e._proxyFormState[s]=!n||Po.all),r&&(r[s]=!0),t[s]}});return a};function npe(t){const e=tw(),{control:r=e.control,disabled:n,name:a,exact:i}=t||{},[s,o]=oe.useState(r._formState),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=oe.useRef(a);return u.current=a,oe.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:f=>{!n&&o({...r._formState,...f})}}),[r,n,i]),oe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>JW(s,r,c.current,!1),[s,r])}var ll=t=>typeof t=="string",eG=(t,e,r,n,a)=>ll(t)?(n&&e.watch.add(t),vt(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),vt(r,i))):(n&&(e.watchAll=!0),r);function ape(t){const e=tw(),{control:r=e.control,name:n,defaultValue:a,disabled:i,exact:s}=t||{},o=oe.useRef(n),c=oe.useRef(a);o.current=n,oe.useEffect(()=>r._subscribe({name:o.current,formState:{values:!0},exact:s,callback:h=>!i&&f(eG(o.current,r._names,h.values||r._formValues,!1,c.current))}),[r,i,s]);const[u,f]=oe.useState(r._getWatch(n,a));return oe.useEffect(()=>r._removeUnmounted()),u}function ipe(t){const e=tw(),{name:r,disabled:n,control:a=e.control,shouldUnregister:i}=t,s=QW(a._names.array,r),o=ape({control:a,name:r,defaultValue:vt(a._formValues,r,vt(a._defaultValues,r,t.defaultValue)),exact:!0}),c=npe({control:a,name:r,exact:!0}),u=oe.useRef(t),f=oe.useRef(a.register(r,{...t.rules,value:o,...ws(t.disabled)?{disabled:t.disabled}:{}})),h=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!vt(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!vt(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!vt(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!vt(c.validatingFields,r)},error:{enumerable:!0,get:()=>vt(c.errors,r)}}),[c,r]),m=oe.useCallback(w=>f.current.onChange({target:{value:XW(w),name:r},type:X1.CHANGE}),[r]),g=oe.useCallback(()=>f.current.onBlur({target:{value:vt(a._formValues,r),name:r},type:X1.BLUR}),[r,a._formValues]),x=oe.useCallback(w=>{const S=vt(a._fields,r);S&&w&&(S._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:b=>w.setCustomValidity(b),reportValidity:()=>w.reportValidity()})},[a._fields,r]),v=oe.useMemo(()=>({name:r,value:o,...ws(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:m,onBlur:g,ref:x}),[r,n,c.disabled,m,g,x,o]);return oe.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...ws(u.current.disabled)?{disabled:u.current.disabled}:{}});const S=(b,_)=>{const E=vt(a._fields,b);E&&E._f&&(E._f.mount=_)};if(S(r,!0),w){const b=Va(vt(a._options.defaultValues,r));$r(a._defaultValues,r,b),Fn(vt(a._formValues,r))&&$r(a._formValues,r,b)}return!s&&a.register(r),()=>{(s?w&&!a._state.action:w)?a.unregister(r):S(r,!1)}},[r,a,s,i]),oe.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),oe.useMemo(()=>({field:v,formState:c,fieldState:h}),[v,c,h])}const spe=t=>t.render(ipe(t));var tG=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},xm=t=>Array.isArray(t)?t:[t],r6=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},gC=t=>Ai(t)||!KW(t);function ru(t,e){if(gC(t)||gC(e))return t===e;if(xf(t)&&xf(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const s=e[a];if(xf(i)&&xf(s)||Ln(i)&&Ln(s)||Array.isArray(i)&&Array.isArray(s)?!ru(i,s):i!==s)return!1}}return!0}var Ei=t=>Ln(t)&&!Object.keys(t).length,l3=t=>t.type==="file",ko=t=>typeof t=="function",Q1=t=>{if(!s3)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rG=t=>t.type==="select-multiple",c3=t=>t.type==="radio",ope=t=>c3(t)||dv(t),sS=t=>Q1(t)&&t.isConnected;function lpe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Fn(t)?n++:t[e[n++]];return t}function cpe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Fn(t[e]))return!1;return!0}function na(t,e){const r=Array.isArray(e)?e:o3(e)?[e]:YW(e),n=r.length===1?t:lpe(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ln(n)&&Ei(n)||Array.isArray(n)&&cpe(n))&&na(t,r.slice(0,-1)),t}var nG=t=>{for(const e in t)if(ko(t[e]))return!0;return!1};function Y1(t,e={}){const r=Array.isArray(t);if(Ln(t)||r)for(const n in t)Array.isArray(t[n])||Ln(t[n])&&!nG(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Y1(t[n],e[n])):Ai(t[n])||(e[n]=!0);return e}function aG(t,e,r){const n=Array.isArray(t);if(Ln(t)||n)for(const a in t)Array.isArray(t[a])||Ln(t[a])&&!nG(t[a])?Fn(e)||gC(r[a])?r[a]=Array.isArray(t[a])?Y1(t[a],[]):{...Y1(t[a])}:aG(t[a],Ai(e)?{}:e[a],r[a]):r[a]=!ru(t[a],e[a]);return r}var Vp=(t,e)=>aG(t,e,Y1(e));const n6={value:!1,isValid:!1},a6={value:!0,isValid:!0};var iG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Fn(t[0].attributes.value)?Fn(t[0].value)||t[0].value===""?a6:{value:t[0].value,isValid:!0}:a6:n6}return n6},sG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Fn(t)?t:e?t===""?NaN:t&&+t:r&&ll(t)?new Date(t):n?n(t):t;const i6={isValid:!1,value:null};var oG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,i6):i6;function s6(t){const e=t.ref;return l3(e)?e.files:c3(e)?oG(t.refs).value:rG(e)?[...e.selectedOptions].map(({value:r})=>r):dv(e)?iG(t.refs).value:sG(Fn(e.value)?t.ref.value:e.value,t)}var upe=(t,e,r,n)=>{const a={};for(const i of t){const s=vt(e,i);s&&$r(a,i,s._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Z1=t=>t instanceof RegExp,Hp=t=>Fn(t)?t:Z1(t)?t.source:Ln(t)?Z1(t.value)?t.value.source:t.value:t,o6=t=>({isOnSubmit:!t||t===Po.onSubmit,isOnBlur:t===Po.onBlur,isOnChange:t===Po.onChange,isOnAll:t===Po.all,isOnTouch:t===Po.onTouched});const l6="AsyncFunction";var fpe=t=>!!t&&!!t.validate&&!!(ko(t.validate)&&t.validate.constructor.name===l6||Ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===l6)),dpe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),c6=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ym=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=vt(t,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],a)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(ym(o,e))break}else if(Ln(o)&&ym(o,e))break}}};function u6(t,e,r){const n=vt(t,r);if(n||o3(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=vt(e,i),o=vt(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var hpe=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return Ei(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||Po.all))},ppe=(t,e,r)=>!t||!e||t===e||xm(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),mpe=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,gpe=(t,e)=>!ew(vt(t,e)).length&&na(t,e),vpe=(t,e,r)=>{const n=xm(vt(t,r));return $r(n,"root",e[r]),$r(t,r,n),t},C1=t=>ll(t);function f6(t,e,r="validate"){if(C1(t)||Array.isArray(t)&&t.every(C1)||ws(t)&&!t)return{type:r,message:C1(t)?t:"",ref:e}}var Qd=t=>Ln(t)&&!Z1(t)?t:{value:t,message:""},d6=async(t,e,r,n,a,i)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:f,min:h,max:m,pattern:g,validate:x,name:v,valueAsNumber:w,mount:S}=t._f,b=vt(r,v);if(!S||e.has(v))return{};const _=o?o[0]:s,E=R=>{a&&_.reportValidity&&(_.setCustomValidity(ws(R)?"":R||""),_.reportValidity())},A={},j=c3(s),O=dv(s),D=j||O,M=(w||l3(s))&&Fn(s.value)&&Fn(b)||Q1(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,k=tG.bind(null,v,n,A),I=(R,L,U,X=Bl.maxLength,ue=Bl.minLength)=>{const he=R?L:U;A[v]={type:R?X:ue,message:he,ref:s,...k(R?X:ue,he)}};if(i?!Array.isArray(b)||!b.length:c&&(!D&&(M||Ai(b))||ws(b)&&!b||O&&!iG(o).isValid||j&&!oG(o).isValid)){const{value:R,message:L}=C1(c)?{value:!!c,message:c}:Qd(c);if(R&&(A[v]={type:Bl.required,message:L,ref:_,...k(Bl.required,L)},!n))return E(L),A}if(!M&&(!Ai(h)||!Ai(m))){let R,L;const U=Qd(m),X=Qd(h);if(!Ai(b)&&!isNaN(b)){const ue=s.valueAsNumber||b&&+b;Ai(U.value)||(R=ue>U.value),Ai(X.value)||(L=ue<X.value)}else{const ue=s.valueAsDate||new Date(b),he=G=>new Date(new Date().toDateString()+" "+G),J=s.type=="time",ne=s.type=="week";ll(U.value)&&b&&(R=J?he(b)>he(U.value):ne?b>U.value:ue>new Date(U.value)),ll(X.value)&&b&&(L=J?he(b)<he(X.value):ne?b<X.value:ue<new Date(X.value))}if((R||L)&&(I(!!R,U.message,X.message,Bl.max,Bl.min),!n))return E(A[v].message),A}if((u||f)&&!M&&(ll(b)||i&&Array.isArray(b))){const R=Qd(u),L=Qd(f),U=!Ai(R.value)&&b.length>+R.value,X=!Ai(L.value)&&b.length<+L.value;if((U||X)&&(I(U,R.message,L.message),!n))return E(A[v].message),A}if(g&&!M&&ll(b)){const{value:R,message:L}=Qd(g);if(Z1(R)&&!b.match(R)&&(A[v]={type:Bl.pattern,message:L,ref:s,...k(Bl.pattern,L)},!n))return E(L),A}if(x){if(ko(x)){const R=await x(b,r),L=f6(R,_);if(L&&(A[v]={...L,...k(Bl.validate,L.message)},!n))return E(L.message),A}else if(Ln(x)){let R={};for(const L in x){if(!Ei(R)&&!n)break;const U=f6(await x[L](b,r),_,L);U&&(R={...U,...k(L,U.message)},E(U.message),n&&(A[v]=R))}if(!Ei(R)&&(A[v]={ref:_,...R},!n))return A}}return E(!0),A};const xpe={mode:Po.onSubmit,reValidateMode:Po.onChange,shouldFocusError:!0};function ype(t={}){let e={...xpe,...t},r={submitCount:0,isDirty:!1,isLoading:ko(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let a=Ln(e.defaultValues)||Ln(e.values)?Va(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Va(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:r6(),state:r6()},g=o6(e.mode),x=o6(e.reValidateMode),v=e.criteriaMode===Po.all,w=se=>ye=>{clearTimeout(u),u=setTimeout(se,ye)},S=async se=>{if(!e.disabled&&(f.isValid||h.isValid||se)){const ye=e.resolver?Ei((await M()).errors):await I(n,!0);ye!==r.isValid&&m.state.next({isValid:ye})}},b=(se,ye)=>{!e.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((se||Array.from(o.mount)).forEach(_e=>{_e&&(ye?$r(r.validatingFields,_e,ye):na(r.validatingFields,_e))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ei(r.validatingFields)}))},_=(se,ye=[],_e,Ye,at=!0,He=!0)=>{if(Ye&&_e&&!e.disabled){if(s.action=!0,He&&Array.isArray(vt(n,se))){const pt=_e(vt(n,se),Ye.argA,Ye.argB);at&&$r(n,se,pt)}if(He&&Array.isArray(vt(r.errors,se))){const pt=_e(vt(r.errors,se),Ye.argA,Ye.argB);at&&$r(r.errors,se,pt),gpe(r.errors,se)}if((f.touchedFields||h.touchedFields)&&He&&Array.isArray(vt(r.touchedFields,se))){const pt=_e(vt(r.touchedFields,se),Ye.argA,Ye.argB);at&&$r(r.touchedFields,se,pt)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Vp(a,i)),m.state.next({name:se,isDirty:L(se,ye),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $r(i,se,ye)},E=(se,ye)=>{$r(r.errors,se,ye),m.state.next({errors:r.errors})},A=se=>{r.errors=se,m.state.next({errors:r.errors,isValid:!1})},j=(se,ye,_e,Ye)=>{const at=vt(n,se);if(at){const He=vt(i,se,Fn(_e)?vt(a,se):_e);Fn(He)||Ye&&Ye.defaultChecked||ye?$r(i,se,ye?He:s6(at._f)):ue(se,He),s.mount&&S()}},O=(se,ye,_e,Ye,at)=>{let He=!1,pt=!1;const kt={name:se};if(!e.disabled){if(!_e||Ye){(f.isDirty||h.isDirty)&&(pt=r.isDirty,r.isDirty=kt.isDirty=L(),He=pt!==kt.isDirty);const tr=ru(vt(a,se),ye);pt=!!vt(r.dirtyFields,se),tr?na(r.dirtyFields,se):$r(r.dirtyFields,se,!0),kt.dirtyFields=r.dirtyFields,He=He||(f.dirtyFields||h.dirtyFields)&&pt!==!tr}if(_e){const tr=vt(r.touchedFields,se);tr||($r(r.touchedFields,se,_e),kt.touchedFields=r.touchedFields,He=He||(f.touchedFields||h.touchedFields)&&tr!==_e)}He&&at&&m.state.next(kt)}return He?kt:{}},D=(se,ye,_e,Ye)=>{const at=vt(r.errors,se),He=(f.isValid||h.isValid)&&ws(ye)&&r.isValid!==ye;if(e.delayError&&_e?(c=w(()=>E(se,_e)),c(e.delayError)):(clearTimeout(u),c=null,_e?$r(r.errors,se,_e):na(r.errors,se)),(_e?!ru(at,_e):at)||!Ei(Ye)||He){const pt={...Ye,...He&&ws(ye)?{isValid:ye}:{},errors:r.errors,name:se};r={...r,...pt},m.state.next(pt)}},M=async se=>{b(se,!0);const ye=await e.resolver(i,e.context,upe(se||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(se),ye},k=async se=>{const{errors:ye}=await M(se);if(se)for(const _e of se){const Ye=vt(ye,_e);Ye?$r(r.errors,_e,Ye):na(r.errors,_e)}else r.errors=ye;return ye},I=async(se,ye,_e={valid:!0})=>{for(const Ye in se){const at=se[Ye];if(at){const{_f:He,...pt}=at;if(He){const kt=o.array.has(He.name),tr=at._f&&fpe(at._f);tr&&f.validatingFields&&b([Ye],!0);const Sr=await d6(at,o.disabled,i,v,e.shouldUseNativeValidation&&!ye,kt);if(tr&&f.validatingFields&&b([Ye]),Sr[He.name]&&(_e.valid=!1,ye))break;!ye&&(vt(Sr,He.name)?kt?vpe(r.errors,Sr,He.name):$r(r.errors,He.name,Sr[He.name]):na(r.errors,He.name))}!Ei(pt)&&await I(pt,ye,_e)}}return _e.valid},R=()=>{for(const se of o.unMount){const ye=vt(n,se);ye&&(ye._f.refs?ye._f.refs.every(_e=>!sS(_e)):!sS(ye._f.ref))&&V(se)}o.unMount=new Set},L=(se,ye)=>!e.disabled&&(se&&ye&&$r(i,se,ye),!ru(F(),a)),U=(se,ye,_e)=>eG(se,o,{...s.mount?i:Fn(ye)?a:ll(se)?{[se]:ye}:ye},_e,ye),X=se=>ew(vt(s.mount?i:a,se,e.shouldUnregister?vt(a,se,[]):[])),ue=(se,ye,_e={})=>{const Ye=vt(n,se);let at=ye;if(Ye){const He=Ye._f;He&&(!He.disabled&&$r(i,se,sG(ye,He)),at=Q1(He.ref)&&Ai(ye)?"":ye,rG(He.ref)?[...He.ref.options].forEach(pt=>pt.selected=at.includes(pt.value)):He.refs?dv(He.ref)?He.refs.length>1?He.refs.forEach(pt=>(!pt.defaultChecked||!pt.disabled)&&(pt.checked=Array.isArray(at)?!!at.find(kt=>kt===pt.value):at===pt.value)):He.refs[0]&&(He.refs[0].checked=!!at):He.refs.forEach(pt=>pt.checked=pt.value===at):l3(He.ref)?He.ref.value="":(He.ref.value=at,He.ref.type||m.state.next({name:se,values:Va(i)})))}(_e.shouldDirty||_e.shouldTouch)&&O(se,at,_e.shouldTouch,_e.shouldDirty,!0),_e.shouldValidate&&z(se)},he=(se,ye,_e)=>{for(const Ye in ye){const at=ye[Ye],He=`${se}.${Ye}`,pt=vt(n,He);(o.array.has(se)||Ln(at)||pt&&!pt._f)&&!xf(at)?he(He,at,_e):ue(He,at,_e)}},J=(se,ye,_e={})=>{const Ye=vt(n,se),at=o.array.has(se),He=Va(ye);$r(i,se,He),at?(m.array.next({name:se,values:Va(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&_e.shouldDirty&&m.state.next({name:se,dirtyFields:Vp(a,i),isDirty:L(se,He)})):Ye&&!Ye._f&&!Ai(He)?he(se,He,_e):ue(se,He,_e),c6(se,o)&&m.state.next({...r}),m.state.next({name:s.mount?se:void 0,values:Va(i)})},ne=async se=>{s.mount=!0;const ye=se.target;let _e=ye.name,Ye=!0;const at=vt(n,_e),He=pt=>{Ye=Number.isNaN(pt)||xf(pt)&&isNaN(pt.getTime())||ru(pt,vt(i,_e,pt))};if(at){let pt,kt;const tr=ye.type?s6(at._f):XW(se),Sr=se.type===X1.BLUR||se.type===X1.FOCUS_OUT,ks=!dpe(at._f)&&!e.resolver&&!vt(r.errors,_e)&&!at._f.deps||mpe(Sr,vt(r.touchedFields,_e),r.isSubmitted,x,g),$i=c6(_e,o,Sr);$r(i,_e,tr),Sr?(at._f.onBlur&&at._f.onBlur(se),c&&c(0)):at._f.onChange&&at._f.onChange(se);const an=O(_e,tr,Sr),Go=!Ei(an)||$i;if(!Sr&&m.state.next({name:_e,type:se.type,values:Va(i)}),ks)return(f.isValid||h.isValid)&&(e.mode==="onBlur"?Sr&&S():Sr||S()),Go&&m.state.next({name:_e,...$i?{}:an});if(!Sr&&$i&&m.state.next({...r}),e.resolver){const{errors:ss}=await M([_e]);if(He(tr),Ye){const os=u6(r.errors,n,_e),Ds=u6(ss,n,os.name||_e);pt=Ds.error,_e=Ds.name,kt=Ei(ss)}}else b([_e],!0),pt=(await d6(at,o.disabled,i,v,e.shouldUseNativeValidation))[_e],b([_e]),He(tr),Ye&&(pt?kt=!1:(f.isValid||h.isValid)&&(kt=await I(n,!0)));Ye&&(at._f.deps&&z(at._f.deps),D(_e,kt,pt,an))}},G=(se,ye)=>{if(vt(r.errors,ye)&&se.focus)return se.focus(),1},z=async(se,ye={})=>{let _e,Ye;const at=xm(se);if(e.resolver){const He=await k(Fn(se)?se:at);_e=Ei(He),Ye=se?!at.some(pt=>vt(He,pt)):_e}else se?(Ye=(await Promise.all(at.map(async He=>{const pt=vt(n,He);return await I(pt&&pt._f?{[He]:pt}:pt)}))).every(Boolean),!(!Ye&&!r.isValid)&&S()):Ye=_e=await I(n);return m.state.next({...!ll(se)||(f.isValid||h.isValid)&&_e!==r.isValid?{}:{name:se},...e.resolver||!se?{isValid:_e}:{},errors:r.errors}),ye.shouldFocus&&!Ye&&ym(n,G,se?at:o.mount),Ye},F=se=>{const ye={...s.mount?i:a};return Fn(se)?ye:ll(se)?vt(ye,se):se.map(_e=>vt(ye,_e))},ee=(se,ye)=>({invalid:!!vt((ye||r).errors,se),isDirty:!!vt((ye||r).dirtyFields,se),error:vt((ye||r).errors,se),isValidating:!!vt(r.validatingFields,se),isTouched:!!vt((ye||r).touchedFields,se)}),K=se=>{se&&xm(se).forEach(ye=>na(r.errors,ye)),m.state.next({errors:se?r.errors:{}})},ae=(se,ye,_e)=>{const Ye=(vt(n,se,{_f:{}})._f||{}).ref,at=vt(r.errors,se)||{},{ref:He,message:pt,type:kt,...tr}=at;$r(r.errors,se,{...tr,...ye,ref:Ye}),m.state.next({name:se,errors:r.errors,isValid:!1}),_e&&_e.shouldFocus&&Ye&&Ye.focus&&Ye.focus()},q=(se,ye)=>ko(se)?m.state.subscribe({next:_e=>se(U(void 0,ye),_e)}):U(se,ye,!0),pe=se=>m.state.subscribe({next:ye=>{ppe(se.name,ye.name,se.exact)&&hpe(ye,se.formState||f,qt,se.reRenderRoot)&&se.callback({values:{...i},...r,...ye})}}).unsubscribe,W=se=>(s.mount=!0,h={...h,...se.formState},pe({...se,formState:h})),V=(se,ye={})=>{for(const _e of se?xm(se):o.mount)o.mount.delete(_e),o.array.delete(_e),ye.keepValue||(na(n,_e),na(i,_e)),!ye.keepError&&na(r.errors,_e),!ye.keepDirty&&na(r.dirtyFields,_e),!ye.keepTouched&&na(r.touchedFields,_e),!ye.keepIsValidating&&na(r.validatingFields,_e),!e.shouldUnregister&&!ye.keepDefaultValue&&na(a,_e);m.state.next({values:Va(i)}),m.state.next({...r,...ye.keepDirty?{isDirty:L()}:{}}),!ye.keepIsValid&&S()},fe=({disabled:se,name:ye})=>{(ws(se)&&s.mount||se||o.disabled.has(ye))&&(se?o.disabled.add(ye):o.disabled.delete(ye))},Se=(se,ye={})=>{let _e=vt(n,se);const Ye=ws(ye.disabled)||ws(e.disabled);return $r(n,se,{..._e||{},_f:{..._e&&_e._f?_e._f:{ref:{name:se}},name:se,mount:!0,...ye}}),o.mount.add(se),_e?fe({disabled:ws(ye.disabled)?ye.disabled:e.disabled,name:se}):j(se,!0,ye.value),{...Ye?{disabled:ye.disabled||e.disabled}:{},...e.progressive?{required:!!ye.required,min:Hp(ye.min),max:Hp(ye.max),minLength:Hp(ye.minLength),maxLength:Hp(ye.maxLength),pattern:Hp(ye.pattern)}:{},name:se,onChange:ne,onBlur:ne,ref:at=>{if(at){Se(se,ye),_e=vt(n,se);const He=Fn(at.value)&&at.querySelectorAll&&at.querySelectorAll("input,select,textarea")[0]||at,pt=ope(He),kt=_e._f.refs||[];if(pt?kt.find(tr=>tr===He):He===_e._f.ref)return;$r(n,se,{_f:{..._e._f,...pt?{refs:[...kt.filter(sS),He,...Array.isArray(vt(a,se))?[{}]:[]],ref:{type:He.type,name:se}}:{ref:He}}}),j(se,!1,void 0,He)}else _e=vt(n,se,{}),_e._f&&(_e._f.mount=!1),(e.shouldUnregister||ye.shouldUnregister)&&!(QW(o.array,se)&&s.action)&&o.unMount.add(se)}}},ve=()=>e.shouldFocusError&&ym(n,G,o.mount),gt=se=>{ws(se)&&(m.state.next({disabled:se}),ym(n,(ye,_e)=>{const Ye=vt(n,_e);Ye&&(ye.disabled=Ye._f.disabled||se,Array.isArray(Ye._f.refs)&&Ye._f.refs.forEach(at=>{at.disabled=Ye._f.disabled||se}))},0,!1))},Y=(se,ye)=>async _e=>{let Ye;_e&&(_e.preventDefault&&_e.preventDefault(),_e.persist&&_e.persist());let at=Va(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:He,values:pt}=await M();r.errors=He,at=pt}else await I(n);if(o.disabled.size)for(const He of o.disabled)$r(at,He,void 0);if(na(r.errors,"root"),Ei(r.errors)){m.state.next({errors:{}});try{await se(at,_e)}catch(He){Ye=He}}else ye&&await ye({...r.errors},_e),ve(),setTimeout(ve);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ei(r.errors)&&!Ye,submitCount:r.submitCount+1,errors:r.errors}),Ye)throw Ye},Oe=(se,ye={})=>{vt(n,se)&&(Fn(ye.defaultValue)?J(se,Va(vt(a,se))):(J(se,ye.defaultValue),$r(a,se,Va(ye.defaultValue))),ye.keepTouched||na(r.touchedFields,se),ye.keepDirty||(na(r.dirtyFields,se),r.isDirty=ye.defaultValue?L(se,Va(vt(a,se))):L()),ye.keepError||(na(r.errors,se),f.isValid&&S()),m.state.next({...r}))},Re=(se,ye={})=>{const _e=se?Va(se):a,Ye=Va(_e),at=Ei(se),He=at?a:Ye;if(ye.keepDefaultValues||(a=_e),!ye.keepValues){if(ye.keepDirtyValues){const pt=new Set([...o.mount,...Object.keys(Vp(a,i))]);for(const kt of Array.from(pt))vt(r.dirtyFields,kt)?$r(He,kt,vt(i,kt)):J(kt,vt(He,kt))}else{if(s3&&Fn(se))for(const pt of o.mount){const kt=vt(n,pt);if(kt&&kt._f){const tr=Array.isArray(kt._f.refs)?kt._f.refs[0]:kt._f.ref;if(Q1(tr)){const Sr=tr.closest("form");if(Sr){Sr.reset();break}}}}for(const pt of o.mount)J(pt,vt(He,pt))}i=Va(He),m.array.next({values:{...He}}),m.state.next({values:{...He}})}o={mount:ye.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!ye.keepIsValid||!!ye.keepDirtyValues,s.watch=!!e.shouldUnregister,m.state.next({submitCount:ye.keepSubmitCount?r.submitCount:0,isDirty:at?!1:ye.keepDirty?r.isDirty:!!(ye.keepDefaultValues&&!ru(se,a)),isSubmitted:ye.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:at?{}:ye.keepDirtyValues?ye.keepDefaultValues&&i?Vp(a,i):r.dirtyFields:ye.keepDefaultValues&&se?Vp(a,se):ye.keepDirty?r.dirtyFields:{},touchedFields:ye.keepTouched?r.touchedFields:{},errors:ye.keepErrors?r.errors:{},isSubmitSuccessful:ye.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(se,ye)=>Re(ko(se)?se(i):se,ye),st=(se,ye={})=>{const _e=vt(n,se),Ye=_e&&_e._f;if(Ye){const at=Ye.refs?Ye.refs[0]:Ye.ref;at.focus&&(at.focus(),ye.shouldSelect&&ko(at.select)&&at.select())}},qt=se=>{r={...r,...se}},qe={control:{register:Se,unregister:V,getFieldState:ee,handleSubmit:Y,setError:ae,_subscribe:pe,_runSchema:M,_getWatch:U,_getDirty:L,_setValid:S,_setFieldArray:_,_setDisabledField:fe,_setErrors:A,_getFieldArray:X,_reset:Re,_resetDefaultValues:()=>ko(e.defaultValues)&&e.defaultValues().then(se=>{Me(se,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:gt,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(se){s=se},get _defaultValues(){return a},get _names(){return o},set _names(se){o=se},get _formState(){return r},get _options(){return e},set _options(se){e={...e,...se}}},subscribe:W,trigger:z,register:Se,handleSubmit:Y,watch:q,setValue:J,getValues:F,reset:Me,resetField:Oe,clearErrors:K,unregister:V,setError:ae,setFocus:st,getFieldState:ee};return{...qe,formControl:qe}}function Yh(t={}){const e=oe.useRef(void 0),r=oe.useRef(void 0),[n,a]=oe.useState({isDirty:!1,isValidating:!1,isLoading:ko(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ko(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:ype(t),formState:n},t.formControl&&t.defaultValues&&!ko(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,oe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),oe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),oe.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),oe.useEffect(()=>{t.values&&!ru(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(s=>({...s}))):i._resetDefaultValues()},[t.values,i]),oe.useEffect(()=>{t.errors&&!Ei(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),oe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),oe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=JW(n,i),e.current}const h6=(t,e,r)=>{if(t&&"reportValidity"in t){const n=vt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},lG=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?h6(n.ref,r,t):n.refs&&n.refs.forEach(a=>h6(a,r,t))}},wpe=(t,e)=>{e.shouldUseNativeValidation&&lG(t,e);const r={};for(const n in t){const a=vt(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(bpe(e.names||Object.keys(t),n)){const s=Object.assign({},vt(r,n));$r(s,"root",i),$r(r,n,s)}else $r(r,n,i)}return r},bpe=(t,e)=>t.some(r=>r.startsWith(e+"."));var _pe=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=tG(s,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},zm=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(s,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&lG({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c})(0,function(s){if((function(o){return Array.isArray(o==null?void 0:o.errors)})(s))return{values:{},errors:wpe(_pe(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}};const Zh=rpe,cG=T.createContext({}),fr=({...t})=>l.jsx(cG.Provider,{value:{name:t.name},children:l.jsx(spe,{...t})}),rw=()=>{const t=T.useContext(cG),e=T.useContext(uG),{getFieldState:r,formState:n}=tw(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},uG=T.createContext({}),nr=T.forwardRef(({className:t,...e},r)=>{const n=T.useId();return l.jsx(uG.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:dt("space-y-2",t),...e})})});nr.displayName="FormItem";const ar=T.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=rw();return l.jsx(Jr,{ref:r,className:dt(n&&"text-destructive",t),htmlFor:a,...e})});ar.displayName="FormLabel";const ir=T.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=rw();return l.jsx(PV,{ref:e,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});ir.displayName="FormControl";const Spe=T.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=rw();return l.jsx("p",{ref:r,id:n,className:dt("text-sm text-muted-foreground",t),...e})});Spe.displayName="FormDescription";const mr=T.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:i}=rw(),s=a?String((a==null?void 0:a.message)??""):e;return s?l.jsx("p",{ref:n,id:i,className:dt("text-sm font-medium text-destructive",t),...r,children:s}):null});mr.displayName="FormMessage";var u3="Switch",[Npe,OMe]=Li(u3),[Epe,Ape]=Npe(u3),fG=T.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:c="on",onCheckedChange:u,form:f,...h}=t,[m,g]=T.useState(null),x=_r(e,_=>g(_)),v=T.useRef(!1),w=m?f||!!m.closest("form"):!0,[S=!1,b]=oc({prop:a,defaultProp:i,onChange:u});return l.jsxs(Epe,{scope:r,checked:S,disabled:o,children:[l.jsx(Lt.button,{type:"button",role:"switch","aria-checked":S,"aria-required":s,"data-state":pG(S),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:x,onClick:mt(t.onClick,_=>{b(E=>!E),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&l.jsx(Tpe,{control:m,bubbles:!v.current,name:n,value:c,checked:S,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});fG.displayName=u3;var dG="SwitchThumb",hG=T.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Ape(dG,r);return l.jsx(Lt.span,{"data-state":pG(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});hG.displayName=dG;var Tpe=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,i=T.useRef(null),s=Bj(r),o=bj(e);return T.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&h){const m=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(m)}},[s,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pG(t){return t?"checked":"unchecked"}var mG=fG,Cpe=hG;const hu=T.forwardRef(({className:t,...e},r)=>l.jsx(mG,{className:dt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:l.jsx(Cpe,{className:dt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hu.displayName=mG.displayName;const gG=({className:t,...e})=>l.jsx("nav",{role:"navigation","aria-label":"pagination",className:dt("mx-auto flex w-full justify-center",t),...e});gG.displayName="Pagination";const vG=T.forwardRef(({className:t,...e},r)=>l.jsx("ul",{ref:r,className:dt("flex flex-row items-center gap-1",t),...e}));vG.displayName="PaginationContent";const cm=T.forwardRef(({className:t,...e},r)=>l.jsx("li",{ref:r,className:dt("",t),...e}));cm.displayName="PaginationItem";const nw=({className:t,isActive:e,size:r="icon",...n})=>l.jsx("a",{"aria-current":e?"page":void 0,className:dt(B2({variant:e?"outline":"ghost",size:r}),t),...n});nw.displayName="PaginationLink";const xG=({className:t,...e})=>l.jsxs(nw,{"aria-label":"Go to previous page",size:"default",className:dt("gap-1 pl-2.5",t),...e,children:[l.jsx(rie,{className:"h-4 w-4"}),l.jsx("span",{children:"Previous"})]});xG.displayName="PaginationPrevious";const yG=({className:t,...e})=>l.jsxs(nw,{"aria-label":"Go to next page",size:"default",className:dt("gap-1 pr-2.5",t),...e,children:[l.jsx("span",{children:"Next"}),l.jsx(Rm,{className:"h-4 w-4"})]});yG.displayName="PaginationNext";const wG=({className:t,...e})=>l.jsxs("span",{"aria-hidden":!0,className:dt("flex h-9 w-9 items-center justify-center",t),...e,children:[l.jsx(sie,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"More pages"})]});wG.displayName="PaginationEllipsis";var Er;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Er||(Er={}));var vC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(vC||(vC={}));const _t=Er.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gl=t=>{switch(typeof t){case"undefined":return _t.undefined;case"string":return _t.string;case"number":return isNaN(t)?_t.nan:_t.number;case"boolean":return _t.boolean;case"function":return _t.function;case"bigint":return _t.bigint;case"symbol":return _t.symbol;case"object":return Array.isArray(t)?_t.array:t===null?_t.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_t.promise:typeof Map<"u"&&t instanceof Map?_t.map:typeof Set<"u"&&t instanceof Set?_t.set:typeof Date<"u"&&t instanceof Date?_t.date:_t.object;default:return _t.unknown}},et=Er.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jpe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class js extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof js))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Er.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}js.create=t=>new js(t);const Jh=(t,e)=>{let r;switch(t.code){case et.invalid_type:t.received===_t.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case et.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Er.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:r=`Unrecognized key(s) in object: ${Er.joinValues(t.keys,", ")}`;break;case et.invalid_union:r="Invalid input";break;case et.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Er.joinValues(t.options)}`;break;case et.invalid_enum_value:r=`Invalid enum value. Expected ${Er.joinValues(t.options)}, received '${t.received}'`;break;case et.invalid_arguments:r="Invalid function arguments";break;case et.invalid_return_type:r="Invalid function return type";break;case et.invalid_date:r="Invalid date";break;case et.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Er.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case et.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case et.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case et.custom:r="Invalid input";break;case et.invalid_intersection_types:r="Intersection results could not be merged";break;case et.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case et.not_finite:r="Number must be finite";break;default:r=e.defaultError,Er.assertNever(t)}return{message:r}};let bG=Jh;function Ope(t){bG=t}function J1(){return bG}const ey=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:e,defaultError:o}).message;return{...a,path:i,message:o}},Ipe=[];function xt(t,e){const r=J1(),n=ey({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Jh?void 0:Jh].filter(a=>!!a)});t.common.issues.push(n)}class pi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return Xt;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return pi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Xt;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:e.value,value:n}}}const Xt=Object.freeze({status:"aborted"}),ch=t=>({status:"dirty",value:t}),Mi=t=>({status:"valid",value:t}),xC=t=>t.status==="aborted",yC=t=>t.status==="dirty",Xf=t=>t.status==="valid",qm=t=>typeof Promise<"u"&&t instanceof Promise;function ty(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _G(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var It;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(It||(It={}));var um,fm;class yl{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p6=(t,e)=>{if(Xf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new js(t.common.issues);return this._error=r,this._error}}};function sr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,o)=>{var c,u;const{message:f}=t;return s.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:o.defaultError}},description:a}}class pr{get description(){return this._def.description}_getType(e){return Gl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Gl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pi,ctx:{common:e.parent.common,data:e.data,parsedType:Gl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(qm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gl(e)},i=this._parseSync({data:e,path:a.path,parent:a});return p6(a,i)}"~validate"(e){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gl(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:a});return Xf(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(i=>Xf(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gl(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(qm(a)?a:Promise.resolve(a));return p6(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=e(a),o=()=>i.addIssue({code:et.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new zo({schema:this,typeName:Kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return hl.create(this,this._def)}nullable(){return Ou.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lo.create(this)}promise(){return t0.create(this,this._def)}or(e){return Xm.create([this,e],this._def)}and(e){return Qm.create(this,e,this._def)}transform(e){return new zo({...sr(this._def),schema:this,typeName:Kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new tg({...sr(this._def),innerType:this,defaultValue:r,typeName:Kt.ZodDefault})}brand(){return new f3({typeName:Kt.ZodBranded,type:this,...sr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new rg({...sr(this._def),innerType:this,catchValue:r,typeName:Kt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return hv.create(this,e)}readonly(){return ng.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ppe=/^c[^\s-]{8,}$/i,kpe=/^[0-9a-z]+$/,Dpe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Rpe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mpe=/^[a-z0-9_-]{21}$/i,Fpe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lpe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bpe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$pe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let oS;const Upe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Vpe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hpe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zpe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qpe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Wpe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,SG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gpe=new RegExp(`^${SG}$`);function NG(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Kpe(t){return new RegExp(`^${NG(t)}$`)}function EG(t){let e=`${SG}T${NG(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Xpe(t,e){return!!((e==="v4"||!e)&&Upe.test(t)||(e==="v6"||!e)&&Hpe.test(t))}function Qpe(t,e){if(!Fpe.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function Ype(t,e){return!!((e==="v4"||!e)&&Vpe.test(t)||(e==="v6"||!e)&&zpe.test(t))}class Mo extends pr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_t.string){const i=this._getOrReturnCtx(e);return xt(i,{code:et.invalid_type,expected:_t.string,received:i.parsedType}),Xt}const n=new pi;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),xt(a,{code:et.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),xt(a,{code:et.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(e,a),s?xt(a,{code:et.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&xt(a,{code:et.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Bpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"email",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")oS||(oS=new RegExp($pe,"u")),oS.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"emoji",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Rpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"uuid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Mpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"nanoid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ppe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"cuid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")kpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"cuid2",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Dpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"ulid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),xt(a,{validation:"url",code:et.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"regex",code:et.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),xt(a,{code:et.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),xt(a,{code:et.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),xt(a,{code:et.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?EG(i).test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{code:et.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Gpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{code:et.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Kpe(i).test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{code:et.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Lpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"duration",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Xpe(e.data,i.version)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"ip",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Qpe(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"jwt",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Ype(e.data,i.version)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"cidr",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?qpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"base64",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Wpe.test(e.data)||(a=this._getOrReturnCtx(e,a),xt(a,{validation:"base64url",code:et.invalid_string,message:i.message}),n.dirty()):Er.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:et.invalid_string,...It.errToObj(n)})}_addCheck(e){return new Mo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...It.errToObj(e)})}url(e){return this._addCheck({kind:"url",...It.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...It.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...It.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...It.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...It.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...It.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...It.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...It.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...It.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...It.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...It.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...It.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...It.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...It.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...It.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...It.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...It.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...It.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...It.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...It.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...It.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...It.errToObj(r)})}nonempty(e){return this.min(1,It.errToObj(e))}trim(){return new Mo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Mo.create=t=>{var e;return new Mo({checks:[],typeName:Kt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...sr(t)})};function Zpe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(t.toFixed(a).replace(".","")),s=parseInt(e.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class Tu extends pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_t.number){const i=this._getOrReturnCtx(e);return xt(i,{code:et.invalid_type,expected:_t.number,received:i.parsedType}),Xt}let n;const a=new pi;for(const i of this._def.checks)i.kind==="int"?Er.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:et.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:et.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:et.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Zpe(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:et.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:et.not_finite,message:i.message}),a.dirty()):Er.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,It.toString(r))}gt(e,r){return this.setLimit("min",e,!1,It.toString(r))}lte(e,r){return this.setLimit("max",e,!0,It.toString(r))}lt(e,r){return this.setLimit("max",e,!1,It.toString(r))}setLimit(e,r,n,a){return new Tu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:It.toString(a)}]})}_addCheck(e){return new Tu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:It.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:It.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Er.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Tu.create=t=>new Tu({checks:[],typeName:Kt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...sr(t)});class Cu extends pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_t.bigint)return this._getInvalidInput(e);let n;const a=new pi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:et.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:et.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:et.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Er.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:et.invalid_type,expected:_t.bigint,received:r.parsedType}),Xt}gte(e,r){return this.setLimit("min",e,!0,It.toString(r))}gt(e,r){return this.setLimit("min",e,!1,It.toString(r))}lte(e,r){return this.setLimit("max",e,!0,It.toString(r))}lt(e,r){return this.setLimit("max",e,!1,It.toString(r))}setLimit(e,r,n,a){return new Cu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:It.toString(a)}]})}_addCheck(e){return new Cu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Cu.create=t=>{var e;return new Cu({checks:[],typeName:Kt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...sr(t)})};class Wm extends pr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_t.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:et.invalid_type,expected:_t.boolean,received:n.parsedType}),Xt}return Mi(e.data)}}Wm.create=t=>new Wm({typeName:Kt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...sr(t)});class Qf extends pr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_t.date){const i=this._getOrReturnCtx(e);return xt(i,{code:et.invalid_type,expected:_t.date,received:i.parsedType}),Xt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return xt(i,{code:et.invalid_date}),Xt}const n=new pi;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),xt(a,{code:et.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),xt(a,{code:et.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Er.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Qf({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:It.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:It.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Qf.create=t=>new Qf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Kt.ZodDate,...sr(t)});class ry extends pr{_parse(e){if(this._getType(e)!==_t.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:et.invalid_type,expected:_t.symbol,received:n.parsedType}),Xt}return Mi(e.data)}}ry.create=t=>new ry({typeName:Kt.ZodSymbol,...sr(t)});class Gm extends pr{_parse(e){if(this._getType(e)!==_t.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:et.invalid_type,expected:_t.undefined,received:n.parsedType}),Xt}return Mi(e.data)}}Gm.create=t=>new Gm({typeName:Kt.ZodUndefined,...sr(t)});class Km extends pr{_parse(e){if(this._getType(e)!==_t.null){const n=this._getOrReturnCtx(e);return xt(n,{code:et.invalid_type,expected:_t.null,received:n.parsedType}),Xt}return Mi(e.data)}}Km.create=t=>new Km({typeName:Kt.ZodNull,...sr(t)});class e0 extends pr{constructor(){super(...arguments),this._any=!0}_parse(e){return Mi(e.data)}}e0.create=t=>new e0({typeName:Kt.ZodAny,...sr(t)});class Pf extends pr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mi(e.data)}}Pf.create=t=>new Pf({typeName:Kt.ZodUnknown,...sr(t)});class dc extends pr{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:et.invalid_type,expected:_t.never,received:r.parsedType}),Xt}}dc.create=t=>new dc({typeName:Kt.ZodNever,...sr(t)});class ny extends pr{_parse(e){if(this._getType(e)!==_t.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:et.invalid_type,expected:_t.void,received:n.parsedType}),Xt}return Mi(e.data)}}ny.create=t=>new ny({typeName:Kt.ZodVoid,...sr(t)});class Lo extends pr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==_t.array)return xt(r,{code:et.invalid_type,expected:_t.array,received:r.parsedType}),Xt;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(xt(r,{code:s?et.too_big:et.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(xt(r,{code:et.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(xt(r,{code:et.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new yl(r,s,r.path,o)))).then(s=>pi.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new yl(r,s,r.path,o)));return pi.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Lo({...this._def,minLength:{value:e,message:It.toString(r)}})}max(e,r){return new Lo({...this._def,maxLength:{value:e,message:It.toString(r)}})}length(e,r){return new Lo({...this._def,exactLength:{value:e,message:It.toString(r)}})}nonempty(e){return this.min(1,e)}}Lo.create=(t,e)=>new Lo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Kt.ZodArray,...sr(e)});function ah(t){if(t instanceof jn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=hl.create(ah(n))}return new jn({...t._def,shape:()=>e})}else return t instanceof Lo?new Lo({...t._def,type:ah(t.element)}):t instanceof hl?hl.create(ah(t.unwrap())):t instanceof Ou?Ou.create(ah(t.unwrap())):t instanceof wl?wl.create(t.items.map(e=>ah(e))):t}class jn extends pr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Er.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==_t.object){const u=this._getOrReturnCtx(e);return xt(u,{code:et.invalid_type,expected:_t.object,received:u.parsedType}),Xt}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof dc&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const f=i[u],h=a.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new yl(a,h,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof dc){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of o)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(u==="strict")o.length>0&&(xt(a,{code:et.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of o){const h=a.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new yl(a,h,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const h=await f.key,m=await f.value;u.push({key:h,value:m,alwaysSet:f.alwaysSet})}return u}).then(u=>pi.mergeObjectSync(n,u)):pi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return It.errToObj,new jn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,i,s,o;const c=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=It.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(e){return new jn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Kt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new jn({...this._def,catchall:e})}pick(e){const r={};return Er.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new jn({...this._def,shape:()=>r})}omit(e){const r={};return Er.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new jn({...this._def,shape:()=>r})}deepPartial(){return ah(this)}partial(e){const r={};return Er.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new jn({...this._def,shape:()=>r})}required(e){const r={};return Er.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof hl;)i=i._def.innerType;r[n]=i}}),new jn({...this._def,shape:()=>r})}keyof(){return AG(Er.objectKeys(this.shape))}}jn.create=(t,e)=>new jn({shape:()=>t,unknownKeys:"strip",catchall:dc.create(),typeName:Kt.ZodObject,...sr(e)});jn.strictCreate=(t,e)=>new jn({shape:()=>t,unknownKeys:"strict",catchall:dc.create(),typeName:Kt.ZodObject,...sr(e)});jn.lazycreate=(t,e)=>new jn({shape:t,unknownKeys:"strip",catchall:dc.create(),typeName:Kt.ZodObject,...sr(e)});class Xm extends pr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new js(o.ctx.common.issues));return xt(r,{code:et.invalid_union,unionErrors:s}),Xt}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(c=>new js(c));return xt(r,{code:et.invalid_union,unionErrors:o}),Xt}}get options(){return this._def.options}}Xm.create=(t,e)=>new Xm({options:t,typeName:Kt.ZodUnion,...sr(e)});const ql=t=>t instanceof Zm?ql(t.schema):t instanceof zo?ql(t.innerType()):t instanceof Jm?[t.value]:t instanceof ju?t.options:t instanceof eg?Er.objectValues(t.enum):t instanceof tg?ql(t._def.innerType):t instanceof Gm?[void 0]:t instanceof Km?[null]:t instanceof hl?[void 0,...ql(t.unwrap())]:t instanceof Ou?[null,...ql(t.unwrap())]:t instanceof f3||t instanceof ng?ql(t.unwrap()):t instanceof rg?ql(t._def.innerType):[];class aw extends pr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_t.object)return xt(r,{code:et.invalid_type,expected:_t.object,received:r.parsedType}),Xt;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:et.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Xt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const i of r){const s=ql(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new aw({typeName:Kt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...sr(n)})}}function wC(t,e){const r=Gl(t),n=Gl(e);if(t===e)return{valid:!0,data:t};if(r===_t.object&&n===_t.object){const a=Er.objectKeys(e),i=Er.objectKeys(t).filter(o=>a.indexOf(o)!==-1),s={...t,...e};for(const o of i){const c=wC(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===_t.array&&n===_t.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],o=e[i],c=wC(s,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===_t.date&&n===_t.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qm extends pr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,s)=>{if(xC(i)||xC(s))return Xt;const o=wC(i.value,s.value);return o.valid?((yC(i)||yC(s))&&r.dirty(),{status:r.value,value:o.data}):(xt(n,{code:et.invalid_intersection_types}),Xt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Qm.create=(t,e,r)=>new Qm({left:t,right:e,typeName:Kt.ZodIntersection,...sr(r)});class wl extends pr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.array)return xt(n,{code:et.invalid_type,expected:_t.array,received:n.parsedType}),Xt;if(n.data.length<this._def.items.length)return xt(n,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new yl(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>pi.mergeArray(r,s)):pi.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new wl({...this._def,rest:e})}}wl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wl({items:t,typeName:Kt.ZodTuple,rest:null,...sr(e)})};class Ym extends pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.object)return xt(n,{code:et.invalid_type,expected:_t.object,received:n.parsedType}),Xt;const a=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new yl(n,o,n.path,o)),value:s._parse(new yl(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?pi.mergeObjectAsync(r,a):pi.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof pr?new Ym({keyType:e,valueType:r,typeName:Kt.ZodRecord,...sr(n)}):new Ym({keyType:Mo.create(),valueType:e,typeName:Kt.ZodRecord,...sr(r)})}}class ay extends pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.map)return xt(n,{code:et.invalid_type,expected:_t.map,received:n.parsedType}),Xt;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:a._parse(new yl(n,o,n.path,[u,"key"])),value:i._parse(new yl(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Xt;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(u.value,f.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Xt;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(u.value,f.value)}return{status:r.value,value:o}}}}ay.create=(t,e,r)=>new ay({valueType:e,keyType:t,typeName:Kt.ZodMap,...sr(r)});class Yf extends pr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.set)return xt(n,{code:et.invalid_type,expected:_t.set,received:n.parsedType}),Xt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(xt(n,{code:et.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(xt(n,{code:et.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const f of c){if(f.status==="aborted")return Xt;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new yl(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new Yf({...this._def,minSize:{value:e,message:It.toString(r)}})}max(e,r){return new Yf({...this._def,maxSize:{value:e,message:It.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Yf.create=(t,e)=>new Yf({valueType:t,minSize:null,maxSize:null,typeName:Kt.ZodSet,...sr(e)});class bh extends pr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_t.function)return xt(r,{code:et.invalid_type,expected:_t.function,received:r.parsedType}),Xt;function n(o,c){return ey({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,J1(),Jh].filter(u=>!!u),issueData:{code:et.invalid_arguments,argumentsError:c}})}function a(o,c){return ey({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,J1(),Jh].filter(u=>!!u),issueData:{code:et.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof t0){const o=this;return Mi(async function(...c){const u=new js([]),f=await o._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(n(c,g)),u}),h=await Reflect.apply(s,this,f);return await o._def.returns._def.type.parseAsync(h,i).catch(g=>{throw u.addIssue(a(h,g)),u})})}else{const o=this;return Mi(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new js([n(c,u.error)]);const f=Reflect.apply(s,this,u.data),h=o._def.returns.safeParse(f,i);if(!h.success)throw new js([a(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bh({...this._def,args:wl.create(e).rest(Pf.create())})}returns(e){return new bh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new bh({args:e||wl.create([]).rest(Pf.create()),returns:r||Pf.create(),typeName:Kt.ZodFunction,...sr(n)})}}class Zm extends pr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Zm.create=(t,e)=>new Zm({getter:t,typeName:Kt.ZodLazy,...sr(e)});class Jm extends pr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:et.invalid_literal,expected:this._def.value}),Xt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Jm.create=(t,e)=>new Jm({value:t,typeName:Kt.ZodLiteral,...sr(e)});function AG(t,e){return new ju({values:t,typeName:Kt.ZodEnum,...sr(e)})}class ju extends pr{constructor(){super(...arguments),um.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:Er.joinValues(n),received:r.parsedType,code:et.invalid_type}),Xt}if(ty(this,um)||_G(this,um,new Set(this._def.values)),!ty(this,um).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:et.invalid_enum_value,options:n}),Xt}return Mi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ju.create(e,{...this._def,...r})}exclude(e,r=this._def){return ju.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}um=new WeakMap;ju.create=AG;class eg extends pr{constructor(){super(...arguments),fm.set(this,void 0)}_parse(e){const r=Er.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==_t.string&&n.parsedType!==_t.number){const a=Er.objectValues(r);return xt(n,{expected:Er.joinValues(a),received:n.parsedType,code:et.invalid_type}),Xt}if(ty(this,fm)||_G(this,fm,new Set(Er.getValidEnumValues(this._def.values))),!ty(this,fm).has(e.data)){const a=Er.objectValues(r);return xt(n,{received:n.data,code:et.invalid_enum_value,options:a}),Xt}return Mi(e.data)}get enum(){return this._def.values}}fm=new WeakMap;eg.create=(t,e)=>new eg({values:t,typeName:Kt.ZodNativeEnum,...sr(e)});class t0 extends pr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_t.promise&&r.common.async===!1)return xt(r,{code:et.invalid_type,expected:_t.promise,received:r.parsedType}),Xt;const n=r.parsedType===_t.promise?r.data:Promise.resolve(r.data);return Mi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}t0.create=(t,e)=>new t0({type:t,typeName:Kt.ZodPromise,...sr(e)});class zo extends pr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{xt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Xt;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Xt:c.status==="dirty"||r.value==="dirty"?ch(c.value):c});{if(r.value==="aborted")return Xt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Xt:o.status==="dirty"||r.value==="dirty"?ch(o.value):o}}if(a.type==="refinement"){const s=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Xt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Xt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xf(s))return s;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Xf(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):s);Er.assertNever(a)}}zo.create=(t,e,r)=>new zo({schema:t,typeName:Kt.ZodEffects,effect:e,...sr(r)});zo.createWithPreprocess=(t,e,r)=>new zo({schema:e,effect:{type:"preprocess",transform:t},typeName:Kt.ZodEffects,...sr(r)});class hl extends pr{_parse(e){return this._getType(e)===_t.undefined?Mi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hl.create=(t,e)=>new hl({innerType:t,typeName:Kt.ZodOptional,...sr(e)});class Ou extends pr{_parse(e){return this._getType(e)===_t.null?Mi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ou.create=(t,e)=>new Ou({innerType:t,typeName:Kt.ZodNullable,...sr(e)});class tg extends pr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===_t.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}tg.create=(t,e)=>new tg({innerType:t,typeName:Kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...sr(e)});class rg extends pr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return qm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new js(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new js(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}rg.create=(t,e)=>new rg({innerType:t,typeName:Kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...sr(e)});class iy extends pr{_parse(e){if(this._getType(e)!==_t.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:et.invalid_type,expected:_t.nan,received:n.parsedType}),Xt}return{status:"valid",value:e.data}}}iy.create=t=>new iy({typeName:Kt.ZodNaN,...sr(t)});const Jpe=Symbol("zod_brand");class f3 extends pr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class hv extends pr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Xt:i.status==="dirty"?(r.dirty(),ch(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Xt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new hv({in:e,out:r,typeName:Kt.ZodPipeline})}}class ng extends pr{_parse(e){const r=this._def.innerType._parse(e),n=a=>(Xf(a)&&(a.value=Object.freeze(a.value)),a);return qm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}ng.create=(t,e)=>new ng({innerType:t,typeName:Kt.ZodReadonly,...sr(e)});function m6(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function TG(t,e={},r){return t?e0.create().superRefine((n,a)=>{var i,s;const o=t(n);if(o instanceof Promise)return o.then(c=>{var u,f;if(!c){const h=m6(e,n),m=(f=(u=h.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;a.addIssue({code:"custom",...h,fatal:m})}});if(!o){const c=m6(e,n),u=(s=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:!0;a.addIssue({code:"custom",...c,fatal:u})}}):e0.create()}const eme={object:jn.lazycreate};var Kt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Kt||(Kt={}));const tme=(t,e={message:`Input not instance of ${t.name}`})=>TG(r=>r instanceof t,e),CG=Mo.create,jG=Tu.create,rme=iy.create,nme=Cu.create,OG=Wm.create,ame=Qf.create,ime=ry.create,sme=Gm.create,ome=Km.create,lme=e0.create,cme=Pf.create,ume=dc.create,fme=ny.create,dme=Lo.create,hme=jn.create,pme=jn.strictCreate,mme=Xm.create,gme=aw.create,vme=Qm.create,xme=wl.create,yme=Ym.create,wme=ay.create,bme=Yf.create,_me=bh.create,Sme=Zm.create,Nme=Jm.create,Eme=ju.create,Ame=eg.create,Tme=t0.create,g6=zo.create,Cme=hl.create,jme=Ou.create,Ome=zo.createWithPreprocess,Ime=hv.create,Pme=()=>CG().optional(),kme=()=>jG().optional(),Dme=()=>OG().optional(),Rme={string:(t=>Mo.create({...t,coerce:!0})),number:(t=>Tu.create({...t,coerce:!0})),boolean:(t=>Wm.create({...t,coerce:!0})),bigint:(t=>Cu.create({...t,coerce:!0})),date:(t=>Qf.create({...t,coerce:!0}))},Mme=Xt;var Pt=Object.freeze({__proto__:null,defaultErrorMap:Jh,setErrorMap:Ope,getErrorMap:J1,makeIssue:ey,EMPTY_PATH:Ipe,addIssueToContext:xt,ParseStatus:pi,INVALID:Xt,DIRTY:ch,OK:Mi,isAborted:xC,isDirty:yC,isValid:Xf,isAsync:qm,get util(){return Er},get objectUtil(){return vC},ZodParsedType:_t,getParsedType:Gl,ZodType:pr,datetimeRegex:EG,ZodString:Mo,ZodNumber:Tu,ZodBigInt:Cu,ZodBoolean:Wm,ZodDate:Qf,ZodSymbol:ry,ZodUndefined:Gm,ZodNull:Km,ZodAny:e0,ZodUnknown:Pf,ZodNever:dc,ZodVoid:ny,ZodArray:Lo,ZodObject:jn,ZodUnion:Xm,ZodDiscriminatedUnion:aw,ZodIntersection:Qm,ZodTuple:wl,ZodRecord:Ym,ZodMap:ay,ZodSet:Yf,ZodFunction:bh,ZodLazy:Zm,ZodLiteral:Jm,ZodEnum:ju,ZodNativeEnum:eg,ZodPromise:t0,ZodEffects:zo,ZodTransformer:zo,ZodOptional:hl,ZodNullable:Ou,ZodDefault:tg,ZodCatch:rg,ZodNaN:iy,BRAND:Jpe,ZodBranded:f3,ZodPipeline:hv,ZodReadonly:ng,custom:TG,Schema:pr,ZodSchema:pr,late:eme,get ZodFirstPartyTypeKind(){return Kt},coerce:Rme,any:lme,array:dme,bigint:nme,boolean:OG,date:ame,discriminatedUnion:gme,effect:g6,enum:Eme,function:_me,instanceof:tme,intersection:vme,lazy:Sme,literal:Nme,map:wme,nan:rme,nativeEnum:Ame,never:ume,null:ome,nullable:jme,number:jG,object:hme,oboolean:Dme,onumber:kme,optional:Cme,ostring:Pme,pipeline:Ime,preprocess:Ome,promise:Tme,record:yme,set:bme,strictObject:pme,string:CG,symbol:ime,transformer:g6,tuple:xme,undefined:sme,union:mme,unknown:cme,void:fme,NEVER:Mme,ZodIssueCode:et,quotelessJson:jpe,ZodError:js});async function Fme(t){const e=new FormData;e.append("file",t);const r=await fetch("http://101.53.9.76:5273/api/upload/image",{method:"POST",body:e});if(!r.ok)throw new Error("Upload ảnh thất bại");const n=await r.json();return n.url.startsWith("/")?`http://101.53.9.76:5273${n.url}`:n.url}const Lme=Pt.object({name:Pt.string().min(1,"Tên sản phẩm là bắt buộc"),description:Pt.string().optional().default(""),barcode:Pt.string().optional().default(""),price:Pt.number().min(0,"Giá bán là bắt buộc"),costPrice:Pt.number().min(0).optional().default(0),image:Pt.string().optional(),productGroupId:Pt.string().min(1,"Nhóm sản phẩm là bắt buộc"),storeId:Pt.string().default("550e8400-e29b-41d4-a716-446655440002"),isActive:Pt.boolean().default(!0),isFeatured:Pt.boolean().default(!1),stockQuantity:Pt.number().min(0,"Số lượng tồn kho phải >= 0").default(0),minStockLevel:Pt.number().min(0,"Mức tồn kho tối thiểu phải >= 0").default(5),unit:Pt.string().default("chiếc")});function Bme(){const{toast:t}=mi(),[e,r]=T.useState(""),[n,a]=T.useState("all"),[i,s]=T.useState("all"),[o,c]=T.useState(!1),[u,f]=T.useState(!1),[h,m]=T.useState(null),[g,x]=T.useState(null),[v,w]=T.useState(1),[S]=T.useState(20),[b,_]=T.useState(!1),[E,A]=T.useState([]),[j,O]=T.useState(!1),{data:D,isLoading:M}=Ft({queryKey:["/api/products",v,S,e,i],queryFn:async()=>{const W=new URLSearchParams({page:v.toString(),pageSize:S.toString()}),V=await fetch(`http://101.53.9.76:5273/api/products?${W}`);if(!V.ok)throw new Error("Failed to fetch products");return V.json()}}),k=(D==null?void 0:D.products)||(D==null?void 0:D.Products)||[],I=(D==null?void 0:D.totalCount)||(D==null?void 0:D.TotalCount)||0,R=(D==null?void 0:D.totalPages)||(D==null?void 0:D.TotalPages)||0;console.log("Products data:",k),Array.isArray(k)&&k.length>0&&console.log("Sample product:",k[0]),console.log("Products count:",k.length),console.log("isLoading:",M);const{data:L=[]}=Ft({queryKey:["/api/productgroups"]}),U=L.filter(W=>W.productGroupId||W.ProductGroupId).map(W=>({label:W.name,value:String(W.productGroupId??W.ProductGroupId)}));console.log("productGroups:",L);const X=Yh({resolver:zm(Lme),defaultValues:{name:"",description:"",barcode:"",price:0,costPrice:0,productGroupId:"",storeId:"550e8400-e29b-41d4-a716-446655440002",stockQuantity:0,minStockLevel:5,unit:"chiếc",image:"",isFeatured:!1}}),ue=Vt({mutationFn:async W=>{const V={name:W.name,description:W.description||null,barcode:W.barcode||null,price:Number(W.price),costPrice:W.costPrice!==void 0?Number(W.costPrice):null,productGroupId:W.productGroupId?parseInt(W.productGroupId):null,stockQuantity:Number(W.stockQuantity),minStockLevel:Number(W.minStockLevel),unit:W.unit||"chiếc",imageUrl:W.image||null,isFeatured:!!W.isFeatured};console.log("Sending product data:",V);const fe=await fetch("http://101.53.9.76:5273/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!fe.ok){const Se=await fe.text();throw console.error("API Error Response:",Se),new Error(`HTTP ${fe.status}: ${Se}`)}return fe.status===204?{}:fe.json()},onSuccess:()=>{t({title:"Thành công",description:"Sản phẩm đã được thêm thành công"}),Jt.invalidateQueries({queryKey:["/api/products"]}),Jt.refetchQueries({queryKey:["/api/products"]}),c(!1),X.reset()},onError:W=>{console.error("Add product error:",W),t({title:"Lỗi",description:`Không thể thêm sản phẩm. ${(W==null?void 0:W.message)||""}`,variant:"destructive"})}}),he=Vt({mutationFn:async({id:W,data:V})=>{const fe={productId:parseInt(W),name:V.name,barcode:V.barcode,categoryId:V.categoryId?parseInt(V.categoryId):null,price:V.price!==void 0?Number(V.price):0,costPrice:V.costPrice!==void 0?Number(V.costPrice):0,stockQuantity:V.stockQuantity!==void 0?Number(V.stockQuantity):0,minStockLevel:V.minStockLevel!==void 0?Number(V.minStockLevel):0,unit:V.unit,description:V.description,isFeatured:V.isFeatured!==void 0?!!V.isFeatured:!1};V.image&&V.image.trim()!==""&&(fe.imageUrl=V.image);try{const Se=await fetch(`http://101.53.9.76:5273/api/products/${W}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)});if(!Se.ok){const gt=await Se.text();throw new Error(`HTTP ${Se.status}: ${gt}`)}return Se.status===204?null:await Se.json()}catch(Se){throw console.error("API Request failed:",Se),Se}},onSuccess:()=>{t({title:"Thành công",description:"Sản phẩm đã được cập nhật"}),Jt.invalidateQueries({queryKey:["/api/products"]}),setTimeout(()=>{Jt.refetchQueries({queryKey:["/api/products"]})},300),c(!1),m(null),X.reset()},onError:()=>{t({title:"Lỗi",description:"Không thể cập nhật sản phẩm",variant:"destructive"})}}),J=Vt({mutationFn:async W=>{const V=await fetch(`http://101.53.9.76:5273/api/products/${W}`,{method:"DELETE"});if(!V.ok)throw new Error("Failed to delete product");return V.status===204?{}:V.json()},onSuccess:()=>{t({title:"Thành công",description:"Sản phẩm đã được xóa"}),Jt.invalidateQueries({queryKey:["/api/products"]})},onError:()=>{t({title:"Lỗi",description:"Không thể xóa sản phẩm",variant:"destructive"})}}),ne=Vt({mutationFn:async()=>{const W=await fetch("http://101.53.9.76:5273/api/products/export");if(!W.ok)throw new Error("Failed to export products");return W.blob()},onSuccess:W=>{const V=window.URL.createObjectURL(W),fe=document.createElement("a");fe.href=V,fe.download=`Products_Export_${new Date().toISOString().slice(0,10)}.xlsx`,document.body.appendChild(fe),fe.click(),window.URL.revokeObjectURL(V),document.body.removeChild(fe),t({title:"Thành công",description:"Dữ liệu sản phẩm đã được xuất thành công"})},onError:()=>{t({title:"Lỗi",description:"Không thể xuất dữ liệu sản phẩm",variant:"destructive"})}}),G=Vt({mutationFn:async()=>{const W=await fetch("http://101.53.9.76:5273/api/products/export-template");if(!W.ok)throw new Error("Failed to export template");return W.blob()},onSuccess:W=>{const V=window.URL.createObjectURL(W),fe=document.createElement("a");fe.href=V,fe.download=`Products_Template_${new Date().toISOString().slice(0,10)}.xlsx`,document.body.appendChild(fe),fe.click(),window.URL.revokeObjectURL(V),document.body.removeChild(fe),t({title:"Thành công",description:"Template Excel đã được tải xuống"})},onError:()=>{t({title:"Lỗi",description:"Không thể tải xuống template Excel",variant:"destructive"})}}),z=Vt({mutationFn:async W=>{const V=new FormData;V.append("file",W);const fe=await fetch("http://101.53.9.76:5273/api/products/import-excel",{method:"POST",body:V});if(!fe.ok){const Se=await fe.json();throw new Error(Se.message||"Failed to import Excel file")}return fe.json()},onSuccess:W=>{const V=W.SkippedCount>0?`Import hoàn tất! Thêm mới: ${W.SuccessCount}, Bỏ qua (trùng lặp): ${W.SkippedCount}, Lỗi: ${W.ErrorCount}`:`Import thành công ${W.SuccessCount} sản phẩm!`;t({title:"Import hoàn tất",description:V,variant:W.ErrorCount>0?"destructive":"default"}),W.Errors&&W.Errors.length>0&&console.error("Import errors:",W.Errors),Jt.invalidateQueries({queryKey:["/api/products"]}),f(!1),x(null)},onError:W=>{t({title:"Lỗi import",description:W.message||"Không thể import file Excel",variant:"destructive"})}});oe.useEffect(()=>{w(1)},[e,i]),console.log("Products data:",k),console.log("Products count:",k.length),console.log("Current page:",v),console.log("Total pages:",R);const F=async()=>{const W=X.getValues("name");if(!(W!=null&&W.trim())){t({title:"Lỗi",description:"Vui lòng nhập tên sản phẩm trước khi tìm kiếm hình ảnh",variant:"destructive"});return}_(!0);try{const V=X.getValues("productGroupId"),fe=X.getValues("description"),Se=X.getValues("unit"),ve=L.find(Re=>String(Re.productGroupId??Re.ProductGroupId)===V),gt=await fetch("http://101.53.9.76:5273/api/products/search-images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productName:W,productGroupName:(ve==null?void 0:ve.name)||null,description:fe||null,unit:Se||null,limit:6})});if(!gt.ok)throw new Error("Tìm kiếm thất bại");const Oe=(await gt.json()).images||[];if(Oe.length===0)throw new Error("Không tìm thấy hình ảnh phù hợp");Oe.length===1?(X.setValue("image",Oe[0]),t({title:"Thành công",description:"Đã tìm và chọn hình ảnh tự động cho sản phẩm"})):(A(Oe),O(!0))}catch(V){t({title:"Lỗi",description:V.message||"Không thể tìm kiếm hình ảnh phù hợp. Vui lòng thử lại sau.",variant:"destructive"})}finally{_(!1)}},ee=W=>{X.setValue("image",W),O(!1),A([]),t({title:"Thành công",description:"Đã chọn hình ảnh cho sản phẩm"})},K=W=>{if(h){const V=h.id||h.productId||h._id;if(!V){t({title:"Lỗi",description:"Không xác định được ID sản phẩm để cập nhật",variant:"destructive"});return}he.mutate({id:String(V),data:W})}else{const{categoryId:V,...fe}=W,Se={...fe,productGroupId:Number(W.productGroupId)};ue.mutate(Se)}},ae=W=>{m(W),X.reset({name:W.name,description:W.description||"",barcode:W.barcode||"",price:Number(W.price),costPrice:W.costPrice?Number(W.costPrice):0,categoryId:W.categoryId?String(W.categoryId):"",storeId:W.storeId,stockQuantity:Number(W.stockQuantity),minStockLevel:Number(W.minStockLevel),unit:W.unit,image:W.image||"",isFeatured:!!W.isFeatured}),c(!0)},q=W=>{confirm("Bạn có chắc chắn muốn xóa sản phẩm này?")&&J.mutate(W)},pe=W=>W.stockQuantity===0?{label:"Hết hàng",color:"bg-red-500"}:W.stockQuantity<=W.minStockLevel?{label:"Sắp hết",color:"bg-orange-500"}:{label:"Còn hàng",color:"bg-green-500"};return l.jsx(Ri,{title:"Sản phẩm",children:l.jsxs("div",{"data-testid":"products-page",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative w-80",children:[l.jsx(tt,{placeholder:"Tìm kiếm sản phẩm (có thể gõ không dấu)...",value:e,onChange:W=>r(W.target.value),className:"pl-10","data-testid":"input-product-search"}),l.jsx(gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]}),l.jsxs(fa,{value:n,onValueChange:a,children:[l.jsx(Kn,{className:"w-48","data-testid":"select-category-filter",children:l.jsx(da,{placeholder:"Tất cả danh mục"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả danh mục"}),U.map(W=>l.jsx(er,{value:W.value,children:W.label},W.value))]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(ke,{variant:"outline",onClick:()=>ne.mutate(),disabled:ne.isPending,"data-testid":"button-export-all-products",children:[l.jsx(Vf,{className:"w-4 h-4 mr-2"}),ne.isPending?"Đang xuất...":"Xuất dữ liệu"]}),l.jsxs(ke,{variant:"outline",onClick:()=>G.mutate(),disabled:G.isPending,"data-testid":"button-export-template",children:[l.jsx(Vf,{className:"w-4 h-4 mr-2"}),G.isPending?"Đang xuất...":"Xuất Template"]}),l.jsxs(Ya,{open:u,onOpenChange:f,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{variant:"outline","data-testid":"button-import-excel",children:[l.jsx(sh,{className:"w-4 h-4 mr-2"}),"Nhập từ Excel"]})}),l.jsxs(ka,{className:"max-w-md",children:[l.jsx(Da,{children:l.jsx(Ra,{children:"Nhập sản phẩm từ Excel"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Chọn file Excel"}),l.jsx(tt,{type:"file",accept:".xlsx,.xls",onChange:W=>{var V;return x(((V=W.target.files)==null?void 0:V[0])||null)},"data-testid":"input-excel-file"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("p",{children:"Lưu ý:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Chỉ hỗ trợ file .xlsx và .xls"}),l.jsx("li",{children:"Tải template mẫu để biết định dạng chính xác"}),l.jsx("li",{children:"Các trường có dấu (*) là bắt buộc"}),l.jsx("li",{children:l.jsx("strong",{children:"Sản phẩm trùng tên hoặc mã vạch sẽ bị bỏ qua"})}),l.jsx("li",{children:"Chỉ thêm mới sản phẩm chưa tồn tại"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{variant:"outline",onClick:()=>f(!1),children:"Hủy"}),l.jsx(ke,{onClick:()=>{g&&z.mutate(g)},disabled:!g||z.isPending,"data-testid":"button-confirm-import",children:z.isPending?"Đang nhập...":"Nhập dữ liệu"})]})]})]})]}),l.jsxs(Ya,{open:o,onOpenChange:c,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{onClick:()=>{m(null),X.reset()},"data-testid":"button-add-product",children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Thêm sản phẩm"]})}),l.jsxs(ka,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsx(Ra,{children:h?"Chỉnh sửa sản phẩm":"Thêm sản phẩm mới"})}),l.jsx(Zh,{...X,children:l.jsxs("form",{onSubmit:X.handleSubmit(K),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(fr,{control:X.control,name:"name",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Tên sản phẩm *"}),l.jsx(ir,{children:l.jsx(tt,{...W,placeholder:"Tên sản phẩm","data-testid":"input-product-name"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"barcode",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Mã vạch"}),l.jsx(ir,{children:l.jsx(tt,{...W,placeholder:"Mã vạch","data-testid":"input-product-barcode"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"productGroupId",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Nhóm sản phẩm"}),l.jsxs(fa,{onValueChange:V=>W.onChange(String(V)),value:W.value?String(W.value):"",children:[l.jsx(ir,{children:l.jsx(Kn,{"data-testid":"select-product-group",children:l.jsx(da,{placeholder:"Chọn nhóm sản phẩm"})})}),l.jsx(Xn,{children:U.length===0?l.jsx("div",{className:"px-4 py-2 text-gray-500",children:"Không có nhóm sản phẩm nào"}):U.map(V=>l.jsx(er,{value:V.value,children:V.label},V.value))})]}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"price",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Giá bán *"}),l.jsx(ir,{children:l.jsx(tt,{...W,type:"number",placeholder:"0","data-testid":"input-product-price",onChange:V=>W.onChange(V.target.value===""?"":Number(V.target.value))})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"costPrice",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Giá vốn"}),l.jsx(ir,{children:l.jsx(tt,{...W,type:"number",placeholder:"0","data-testid":"input-product-costPrice",onChange:V=>W.onChange(V.target.value===""?"":Number(V.target.value))})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"stockQuantity",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Số lượng tồn kho"}),l.jsx(ir,{children:l.jsx(tt,{...W,type:"number",placeholder:"0","data-testid":"input-product-stockQuantity",onChange:V=>W.onChange(V.target.value===""?"":Number(V.target.value))})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"minStockLevel",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Mức tồn kho tối thiểu"}),l.jsx(ir,{children:l.jsx(tt,{...W,type:"number",placeholder:"0","data-testid":"input-product-minStockLevel",onChange:V=>W.onChange(V.target.value===""?"":Number(V.target.value))})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"unit",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Đơn vị"}),l.jsx(ir,{children:l.jsx(tt,{...W,placeholder:"Đơn vị","data-testid":"input-product-unit"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"image",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Hình ảnh"}),l.jsx(ir,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tt,{type:"file",accept:"image/*",onChange:async V=>{var Se;const fe=(Se=V.target.files)==null?void 0:Se[0];if(fe)try{const ve=await Fme(fe);W.onChange(ve),t({title:"Tải ảnh thành công",description:"Ảnh đã được upload."})}catch{t({title:"Lỗi",description:"Tải ảnh thất bại",variant:"destructive"})}},className:"flex-1"}),l.jsx(ke,{type:"button",variant:"outline",onClick:F,disabled:b,className:"whitespace-nowrap",children:b?"Đang tìm...":"🤖 AI Tìm ảnh"})]}),typeof W.value=="string"&&W.value&&l.jsx("img",{src:W.value,alt:"preview",style:{maxWidth:120,marginTop:8}})]})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"description",render:({field:W})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Mô tả"}),l.jsx(ir,{children:l.jsx(Au,{...W,placeholder:"Mô tả sản phẩm","data-testid":"input-product-description"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:X.control,name:"isFeatured",render:({field:W})=>l.jsxs(nr,{className:"flex items-center justify-between rounded-lg border p-3 shadow-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(ar,{className:"text-base",children:"Sản phẩm hay bán"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:'Hiển thị sản phẩm này trong tab "Sản phẩm hay bán" tại trang bán hàng'})]}),l.jsx(ir,{children:l.jsx(hu,{checked:W.value,onCheckedChange:W.onChange,"data-testid":"switch-product-featured"})})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Hủy"}),l.jsx(ke,{type:"button",disabled:ue.isPending||he.isPending,"data-testid":"button-save-product",onClick:()=>{const W=X.getValues();X.trigger().then(V=>{V&&K(W)})},children:ue.isPending||he.isPending?"Đang lưu...":h?"Cập nhật":"Thêm"})]})]})})]})]}),l.jsx(Ya,{open:j,onOpenChange:O,children:l.jsxs(ka,{className:"max-w-4xl",children:[l.jsx(Da,{children:l.jsx(Ra,{children:"Chọn hình ảnh cho sản phẩm"})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:E.map((W,V)=>l.jsxs("div",{className:"relative cursor-pointer rounded-lg overflow-hidden hover:ring-2 hover:ring-blue-500 transition-all",onClick:()=>ee(W),children:[l.jsx("img",{src:W,alt:`Option ${V+1}`,className:"w-full h-32 object-cover",onError:fe=>{fe.target.style.display="none"}}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center",children:l.jsx("div",{className:"hidden hover:block bg-white text-black px-2 py-1 rounded text-sm",children:"Chọn ảnh này"})})]},V))}),l.jsx("div",{className:"flex justify-end space-x-2",children:l.jsx(ke,{variant:"outline",onClick:()=>{O(!1),A([])},children:"Hủy"})})]})})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:M?[...Array(8)].map((W,V)=>l.jsx(Ue,{className:"animate-pulse",children:l.jsxs(Ve,{className:"p-4",children:[l.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})},V)):k.length===0?l.jsx(Ue,{className:"col-span-full",children:l.jsxs(Ve,{className:"p-12 text-center",children:[l.jsx(ja,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy sản phẩm"}),l.jsx("p",{className:"text-gray-500",children:e||n!=="all"?"Thử thay đổi bộ lọc tìm kiếm":"Bắt đầu bằng cách thêm sản phẩm đầu tiên"})]})}):k.map(W=>{const V=pe(W);let fe=W.imageUrl||W.image||"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=300&h=200&fit=crop";fe&&typeof fe=="string"&&!fe.startsWith("http")&&(fe=`http://101.53.9.76:5273${fe}`);const Se=W.productId||W.id;return l.jsx(Ue,{className:"overflow-hidden","data-testid":`product-card-${Se}`,children:l.jsxs(Ve,{className:"p-0",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:fe,alt:W.name,className:"max-w-full max-h-full object-contain",style:{width:"100%",height:"100%"}})}),l.jsx(Ct,{className:`absolute top-2 right-2 text-white ${V.color}`,"data-testid":`stock-status-${Se}`,children:V.label}),W.stockQuantity<=W.minStockLevel&&l.jsx(Oi,{className:"absolute top-2 left-2 w-5 h-5 text-orange-500"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2","data-testid":`product-name-${Se}`,children:W.name}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-2xl font-bold text-primary","data-testid":`product-price-${Se}`,children:[parseInt(W.price).toLocaleString("vi-VN"),"₫"]}),W.costPrice&&l.jsxs("p",{className:"text-sm text-gray-500",children:["Vốn: ",parseInt(W.costPrice).toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium","data-testid":`product-stock-${Se}`,children:["Tồn: ",W.stockQuantity," ",W.unit]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Tối thiểu: ",W.minStockLevel]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ae(W),"data-testid":`button-edit-${Se}`,children:[l.jsx(Gh,{className:"w-4 h-4 mr-2"}),"Sửa"]}),l.jsx(ke,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>q(Se),"data-testid":`button-delete-${Se}`,children:l.jsx(Uo,{className:"w-4 h-4"})})]})]})]})},Se)})}),R>1&&l.jsxs("div",{className:"mt-8 flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Hiển thị trang ",v," / ",R," (",I," sản phẩm)"]}),l.jsx(gG,{children:l.jsxs(vG,{children:[l.jsx(cm,{children:l.jsx(xG,{onClick:()=>w(Math.max(1,v-1)),className:v===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,R)},(W,V)=>{const fe=Math.max(1,Math.min(R,v-2+V));return l.jsx(cm,{children:l.jsx(nw,{onClick:()=>w(fe),isActive:v===fe,className:"cursor-pointer",children:fe})},fe)}),R>5&&v<R-2&&l.jsx(cm,{children:l.jsx(wG,{})}),l.jsx(cm,{children:l.jsx(yG,{onClick:()=>w(Math.min(R,v+1)),className:v===R?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})})}const $me=Pt.object({name:Pt.string().min(1,"Tên nhóm là bắt buộc"),description:Pt.string().optional(),isActive:Pt.boolean().default(!0),sortOrder:Pt.number().default(0),color:Pt.string().optional()}),Ume=t=>{const e={blue:"bg-blue-100 text-blue-800 border-blue-200",green:"bg-green-100 text-green-800 border-green-200",purple:"bg-purple-100 text-purple-800 border-purple-200",red:"bg-red-100 text-red-800 border-red-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return e[t||"gray"]||e.gray};function Vme(){var M,k;const{toast:t}=mi(),[e,r]=T.useState(""),[n,a]=T.useState(!1),[i,s]=T.useState(!1),[o,c]=T.useState(null),[u,f]=T.useState(null),{data:h=[],isLoading:m}=Ft({queryKey:["/api/productgroups"]}),{data:g=[]}=Ft({queryKey:["/api/products"]}),x=Yh({resolver:zm($me),defaultValues:{name:"",description:"",isActive:!0,sortOrder:0,color:"blue"}}),v=Vt({mutationFn:async I=>{const R=await At("/api/productgroups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:I.name,description:I.description,color:I.color,order:I.sortOrder,isVisible:I.isActive})});return typeof R=="string"?JSON.parse(R):R},onSuccess:()=>{t({title:"Thành công",description:"Nhóm sản phẩm đã được thêm thành công"}),Jt.invalidateQueries({queryKey:["/api/productgroups"]}),a(!1),x.reset()},onError:()=>{t({title:"Lỗi",description:"Không thể thêm nhóm sản phẩm",variant:"destructive"})}}),w=Vt({mutationFn:async({id:I,data:R})=>(await fetch(`/api/productgroups/${I}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:R.name,description:R.description,color:R.color,order:R.sortOrder,isVisible:R.isActive})})).ok,onSuccess:()=>{t({title:"Thành công",description:"Nhóm sản phẩm đã được cập nhật"}),Jt.invalidateQueries({queryKey:["/api/productgroups"]}),c(null),a(!1),x.reset()},onError:()=>{t({title:"Lỗi",description:"Không thể cập nhật nhóm sản phẩm",variant:"destructive"})}}),S=Vt({mutationFn:async I=>(await fetch(`/api/productgroups/${I}`,{method:"DELETE"})).ok,onSuccess:()=>{t({title:"Thành công",description:"Nhóm sản phẩm đã được xóa"}),Jt.invalidateQueries({queryKey:["/api/productgroups"]})},onError:()=>{t({title:"Lỗi",description:"Không thể xóa nhóm sản phẩm",variant:"destructive"})}}),b=Vt({mutationFn:async()=>{const I=await fetch("http://101.53.9.76:5273/api/productgroups/export-template");if(!I.ok)throw new Error("Failed to export template");return I.blob()},onSuccess:I=>{const R=window.URL.createObjectURL(I),L=document.createElement("a");L.href=R,L.download=`ProductGroups_Template_${new Date().toISOString().slice(0,10)}.xlsx`,document.body.appendChild(L),L.click(),window.URL.revokeObjectURL(R),document.body.removeChild(L),t({title:"Thành công",description:"Template Excel đã được tải xuống"})},onError:()=>{t({title:"Lỗi",description:"Không thể tải xuống template Excel",variant:"destructive"})}}),_=Vt({mutationFn:async I=>{const R=new FormData;R.append("file",I);const L=await fetch("http://101.53.9.76:5273/api/productgroups/import-excel",{method:"POST",body:R});if(!L.ok){const U=await L.json();throw new Error(U.message||"Failed to import Excel file")}return L.json()},onSuccess:I=>{const R=I.SkippedCount>0?`Import hoàn tất! Thêm mới: ${I.SuccessCount}, Bỏ qua (trùng lặp): ${I.SkippedCount}, Lỗi: ${I.ErrorCount}`:`Import thành công ${I.SuccessCount} nhóm sản phẩm!`;t({title:"Import hoàn tất",description:R,variant:I.ErrorCount>0?"destructive":"default"}),I.Errors&&I.Errors.length>0&&console.error("Import errors:",I.Errors),Jt.invalidateQueries({queryKey:["/api/productgroups"]}),s(!1),f(null)},onError:I=>{t({title:"Lỗi import",description:I.message||"Không thể import file Excel",variant:"destructive"})}}),E=h.filter(I=>{const R=ui(e),L=ui(I.name||""),U=ui(I.description||"");return L.includes(R)||U.includes(R)}),A=I=>{if(o){const R=(o.productGroupId??o.ProductGroupId??o.id??"").toString();if(!R||R==="undefined"||R==="null"){t({title:"Lỗi",description:"Không xác định được ID nhóm sản phẩm!",variant:"destructive"});return}w.mutate({id:Number(R),data:I})}else v.mutate(I)},j=I=>{c(I),x.reset({name:I.name||"",description:I.description||"",isActive:I.isVisible??!0,sortOrder:I.order||0,color:I.color||"blue"}),a(!0)},O=I=>{let R=I;typeof I=="object"&&I!==null&&(R=I.productGroupId??I.ProductGroupId??I.id);const L=Array.isArray(g)?g.filter(U=>U.productGroupId===R||U.productGroupId===Number(R)).length:0;if(L>0){t({title:"Không thể xóa",description:`Nhóm này còn ${L} sản phẩm. Hãy di chuyển sản phẩm trước khi xóa.`,variant:"destructive"});return}confirm("Bạn có chắc muốn xóa nhóm sản phẩm này?")&&S.mutate(Number(R))},D=I=>Array.isArray(g)?g.filter(R=>R.productGroupId===I||R.productGroupId===Number(I)).length:0;return l.jsx(Ri,{title:"Nhóm sản phẩm",children:l.jsxs("div",{className:"space-y-6","data-testid":"product-groups-page",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nhóm sản phẩm"}),l.jsx("p",{className:"text-gray-600",children:"Quản lý danh mục và phân loại sản phẩm"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(ke,{variant:"outline",onClick:()=>b.mutate(),disabled:b.isPending,"data-testid":"button-export-template",children:[l.jsx(Vf,{className:"w-4 h-4 mr-2"}),b.isPending?"Đang xuất...":"Xuất Template"]}),l.jsxs(Ya,{open:i,onOpenChange:s,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{variant:"outline","data-testid":"button-import-excel",children:[l.jsx(sh,{className:"w-4 h-4 mr-2"}),"Nhập từ Excel"]})}),l.jsxs(ka,{className:"max-w-md",children:[l.jsx(Da,{children:l.jsx(Ra,{children:"Nhập nhóm sản phẩm từ Excel"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Chọn file Excel"}),l.jsx(tt,{type:"file",accept:".xlsx,.xls",onChange:I=>{var R;return f(((R=I.target.files)==null?void 0:R[0])||null)},"data-testid":"input-excel-file"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("p",{children:"Lưu ý:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Chỉ hỗ trợ file .xlsx và .xls"}),l.jsx("li",{children:"Tải template mẫu để biết định dạng chính xác"}),l.jsx("li",{children:l.jsx("strong",{children:"Nhóm trùng tên sẽ bị bỏ qua"})}),l.jsx("li",{children:"Chỉ thêm mới nhóm chưa tồn tại"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{variant:"outline",onClick:()=>s(!1),children:"Hủy"}),l.jsx(ke,{onClick:()=>{u&&_.mutate(u)},disabled:!u||_.isPending,"data-testid":"button-confirm-import",children:_.isPending?"Đang nhập...":"Nhập dữ liệu"})]})]})]})]}),l.jsxs(Ya,{open:n,onOpenChange:a,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{onClick:()=>{c(null),x.reset()},"data-testid":"button-add-group",children:[l.jsx(W8,{className:"w-4 h-4 mr-2"}),"Thêm nhóm mới"]})}),l.jsxs(ka,{className:"max-w-md",children:[l.jsx(Da,{children:l.jsx(Ra,{children:o?"Chỉnh sửa nhóm sản phẩm":"Thêm nhóm sản phẩm mới"})}),l.jsx(Zh,{...x,children:l.jsxs("form",{onSubmit:x.handleSubmit(A),className:"space-y-4",children:[l.jsx(fr,{control:x.control,name:"name",render:({field:I})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Tên nhóm *"}),l.jsx(ir,{children:l.jsx(tt,{...I,placeholder:"Ví dụ: Điện thoại","data-testid":"input-category-name"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:x.control,name:"description",render:({field:I})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Mô tả"}),l.jsx(ir,{children:l.jsx(Au,{...I,rows:3,placeholder:"Mô tả về nhóm sản phẩm","data-testid":"textarea-category-description"})}),l.jsx(mr,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(fr,{control:x.control,name:"color",render:({field:I})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Màu sắc"}),l.jsx(ir,{children:l.jsxs("select",{...I,className:"w-full px-3 py-2 border border-gray-300 rounded-md","data-testid":"select-category-color",children:[l.jsx("option",{value:"blue",children:"Xanh dương"}),l.jsx("option",{value:"green",children:"Xanh lá"}),l.jsx("option",{value:"purple",children:"Tím"}),l.jsx("option",{value:"red",children:"Đỏ"}),l.jsx("option",{value:"yellow",children:"Vàng"}),l.jsx("option",{value:"gray",children:"Xám"})]})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:x.control,name:"sortOrder",render:({field:I})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Thứ tự"}),l.jsx(ir,{children:l.jsx(tt,{...I,type:"number",onChange:R=>I.onChange(Number(R.target.value)),"data-testid":"input-category-order"})}),l.jsx(mr,{})]})})]}),l.jsx(fr,{control:x.control,name:"isActive",render:({field:I})=>l.jsxs(nr,{className:"flex items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(ar,{className:"text-base",children:"Hiển thị"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cho phép hiển thị nhóm này"})]}),l.jsx(ir,{children:l.jsx(hu,{checked:I.value,onCheckedChange:I.onChange,"data-testid":"switch-category-active"})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:v.isPending||w.isPending,"data-testid":"button-save-group",children:v.isPending||w.isPending?"Đang lưu...":o?"Cập nhật":"Thêm nhóm"})]})]})})]})]})]})]}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(gl,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(tt,{placeholder:"Tìm nhóm sản phẩm (có thể gõ không dấu)...",value:e,onChange:I=>r(I.target.value),className:"pl-9","data-testid":"input-search-categories"})]})})}),m?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((I,R)=>l.jsx(Ue,{className:"animate-pulse",children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})},R))}):E.length===0?l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-12 text-center",children:[l.jsx(w1,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e?"Không tìm thấy nhóm sản phẩm":"Chưa có nhóm sản phẩm"}),l.jsx("p",{className:"text-gray-500 mb-4",children:e?"Thử thay đổi từ khóa tìm kiếm":"Bắt đầu bằng cách tạo nhóm sản phẩm đầu tiên"}),l.jsxs(ke,{onClick:()=>a(!0),children:[l.jsx(W8,{className:"w-4 h-4 mr-2"}),"Thêm nhóm mới"]})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(I=>{const R=I.ProductGroupId??I.productGroupId??I.id,L=D(R);return l.jsx(Ue,{className:"hover:shadow-md transition-shadow","data-testid":`group-card-${R}`,children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Ume(I.color)}`,children:l.jsx(w1,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:I.name}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsxs(Ct,{variant:"outline",className:"text-xs",children:[l.jsx(ja,{className:"w-3 h-3 mr-1"}),L," sản phẩm"]}),I.isVisible?l.jsxs(Ct,{variant:"outline",className:"text-xs text-green-600",children:[l.jsx(Hf,{className:"w-3 h-3 mr-1"}),"Hiển thị"]}):l.jsxs(Ct,{variant:"secondary",className:"text-xs",children:[l.jsx(cj,{className:"w-3 h-3 mr-1"}),"Ẩn"]})]})]})]}),l.jsxs(H1,{children:[l.jsx(z1,{asChild:!0,children:l.jsx(ke,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(cH,{className:"h-4 w-4"})})}),l.jsxs(Hm,{children:[l.jsxs(Xl,{onClick:()=>j(I),children:[l.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Chỉnh sửa"]}),l.jsxs(Xl,{onClick:()=>O(I),className:"text-red-600",disabled:L>0,children:[l.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]})]}),I.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:I.description}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsxs("span",{children:["Thứ tự: ",I.order||0]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(uie,{className:"w-3 h-3"}),l.jsxs("span",{children:["#",typeof R=="string"?R.slice(-4):String(R??"").slice(-4)]})]})]})]})},R)})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(w1,{className:"w-5 h-5 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Tổng nhóm"}),l.jsx("p",{className:"text-2xl font-bold",children:h.length})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hf,{className:"w-5 h-5 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Đang hiển thị"}),l.jsx("p",{className:"text-2xl font-bold",children:h.filter(I=>I.isVisible).length})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ja,{className:"w-5 h-5 text-purple-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Tổng sản phẩm"}),l.jsx("p",{className:"text-2xl font-bold",children:Array.isArray(g)?g.length:0})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(dH,{className:"w-5 h-5 text-orange-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Nhóm phổ biến"}),l.jsx("p",{className:"text-lg font-bold",children:h.length>0?((k=(M=h.reduce((I,R)=>D(R.ProductGroupId??R.productGroupId??R.id)>D(I.ProductGroupId??I.productGroupId??I.id)?R:I,h[0]))==null?void 0:M.name)==null?void 0:k.slice(0,10))+"...":"N/A"})]})]})})})]})]})})}const Ge=Symbol.for("drizzle:entityKind");function Wa(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Ge))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(Ge in r&&r[Ge]===e[Ge])return!0;r=Object.getPrototypeOf(r)}return!1}var E9;E9=Ge;class r0{constructor(e,r){be(this,"name");be(this,"keyAsName");be(this,"primary");be(this,"notNull");be(this,"default");be(this,"defaultFn");be(this,"onUpdateFn");be(this,"hasDefault");be(this,"isUnique");be(this,"uniqueName");be(this,"uniqueType");be(this,"dataType");be(this,"columnType");be(this,"enumValues");be(this,"generated");be(this,"generatedIdentity");be(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}be(r0,E9,"Column");var A9;A9=Ge;class IG{constructor(e,r,n){be(this,"config");be(this,"$default",this.$defaultFn);be(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}be(IG,A9,"ColumnBuilder");const _h=Symbol.for("drizzle:Name");var T9;T9=Ge;class PG{constructor(e,r){be(this,"reference");be(this,"_onUpdate","no action");be(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:i}=e();return{name:n,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new kG(e,this)}}be(PG,T9,"PgForeignKeyBuilder");var C9;C9=Ge;class kG{constructor(e,r){be(this,"reference");be(this,"onUpdate");be(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),a=r.map(o=>o.name),i=n.map(o=>o.name),s=[this.table[_h],...a,n[0].table[_h],...i];return e??`${s.join("_")}_fk`}}be(kG,C9,"PgForeignKey");function Hme(t,...e){return t(...e)}function zme(t,e){return`${t[_h]}_${e.join("_")}_unique`}function v6(t,e,r){for(let n=e;n<t.length;n++){const a=t[n];if(a==="\\"){n++;continue}if(a==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function DG(t,e=0){const r=[];let n=e,a=!1;for(;n<t.length;){const i=t[n];if(i===","){(a||n===e)&&r.push(""),a=!0,n++;continue}if(a=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,u]=v6(t,n+1,!0);r.push(c),n=u;continue}if(i==="}")return[r,n+1];if(i==="{"){const[c,u]=DG(t,n+1);r.push(c),n=u;continue}const[s,o]=v6(t,n,!1);r.push(s),n=o}return[r,n]}function qme(t){const[e]=DG(t,1);return e}function RG(t){return`{${t.map(e=>Array.isArray(e)?RG(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var j9,O9;class Ar extends(O9=IG,j9=Ge,O9){constructor(){super(...arguments);be(this,"foreignKeyConfigs",[])}array(r){return new FG(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>Hme((s,o)=>{const c=new PG(()=>{const u=s();return{columns:[r],foreignColumns:[u]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(n)},a,i))}buildExtraConfigColumn(r){return new MG(r,this.config)}}be(Ar,j9,"PgColumnBuilder");var I9,P9;class lr extends(P9=r0,I9=Ge,P9){constructor(e,r){r.uniqueName||(r.uniqueName=zme(e,[r.name])),super(e,r),this.table=e}}be(lr,I9,"PgColumn");var k9,D9;class MG extends(D9=lr,k9=Ge,D9){constructor(){super(...arguments);be(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});be(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}be(MG,k9,"ExtraConfigColumn");var R9,M9;class FG extends(M9=Ar,R9=Ge,M9){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new bC(e,this.config,r)}}be(FG,R9,"PgArrayBuilder");var F9,L9;const A2=class A2 extends(L9=lr,F9=Ge,L9){constructor(r,n,a,i){super(r,n);be(this,"size");this.baseColumn=a,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=qme(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(i=>i===null?null:Wa(this.baseColumn,A2)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?a:RG(a)}};be(A2,F9,"PgArray");let bC=A2;const x6=Symbol.for("drizzle:isPgEnum");function Wme(t){return!!t&&typeof t=="function"&&x6 in t&&t[x6]===!0}var B9;B9=Ge;class d3{constructor(e,r,n,a=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:a}}}be(d3,B9,"Subquery");const Gme={startActiveSpan(t,e){return e()}},Sh=Symbol.for("drizzle:ViewBaseConfig"),lS=Symbol.for("drizzle:Schema"),y6=Symbol.for("drizzle:Columns"),w6=Symbol.for("drizzle:ExtraConfigColumns"),cS=Symbol.for("drizzle:OriginalName"),uS=Symbol.for("drizzle:BaseName"),sy=Symbol.for("drizzle:IsAlias"),b6=Symbol.for("drizzle:ExtraConfigBuilder"),LG=Symbol.for("drizzle:IsDrizzleTable");var $9,U9,V9,H9,z9,q9,W9,G9,K9,X9;X9=Ge,K9=_h,G9=cS,W9=lS,q9=y6,z9=w6,H9=uS,V9=sy,U9=LG,$9=b6;class ji{constructor(e,r,n){be(this,K9);be(this,G9);be(this,W9);be(this,q9);be(this,z9);be(this,H9);be(this,V9,!1);be(this,U9,!0);be(this,$9);this[_h]=this[cS]=e,this[lS]=r,this[uS]=n}}be(ji,X9,"Table"),be(ji,"Symbol",{Name:_h,Schema:lS,OriginalName:cS,Columns:y6,ExtraConfigColumns:w6,BaseName:uS,IsAlias:sy,ExtraConfigBuilder:b6});function BG(t){return typeof t=="object"&&t!==null&&LG in t}function Kme(t){return t!=null&&typeof t.getSQL=="function"}function Xme(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var Q9;Q9=Ge;class Ys{constructor(e){be(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new pa([this])}}be(Ys,Q9,"StringChunk");var Y9;Y9=Ge;const pf=class pf{constructor(e){be(this,"decoder",$G);be(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Gme.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:s,prepareTyping:o,inlineParams:c,paramStartIndex:u}=n;return Xme(e.map(f=>{var h;if(Wa(f,Ys))return{sql:f.value.join(""),params:[]};if(Wa(f,oy))return{sql:i(f.value),params:[]};if(f===void 0)return{sql:"",params:[]};if(Array.isArray(f)){const m=[new Ys("(")];for(const[g,x]of f.entries())m.push(x),g<f.length-1&&m.push(new Ys(", "));return m.push(new Ys(")")),this.buildQueryFromSourceParams(m,n)}if(Wa(f,pf))return this.buildQueryFromSourceParams(f.queryChunks,{...n,inlineParams:c||f.shouldInlineParams});if(Wa(f,ji)){const m=f[ji.Symbol.Schema],g=f[ji.Symbol.Name];return{sql:m===void 0||f[sy]?i(g):i(m)+"."+i(g),params:[]}}if(Wa(f,r0)){const m=a.getColumnCasing(f);if(r.invokeSource==="indexes")return{sql:i(m),params:[]};const g=f.table[ji.Symbol.Schema];return{sql:f.table[sy]||g===void 0?i(f.table[ji.Symbol.Name])+"."+i(m):i(g)+"."+i(f.table[ji.Symbol.Name])+"."+i(m),params:[]}}if(Wa(f,HG)){const m=f[Sh].schema,g=f[Sh].name;return{sql:m===void 0||f[Sh].isAlias?i(g):i(m)+"."+i(g),params:[]}}if(Wa(f,h3)){if(Wa(f.value,ly))return{sql:s(u.value++,f),params:[f],typings:["none"]};const m=f.value===null?null:f.encoder.mapToDriverValue(f.value);if(Wa(m,pf))return this.buildQueryFromSourceParams([m],n);if(c)return{sql:this.mapInlineParam(m,n),params:[]};let g=["none"];return o&&(g=[o(f.encoder)]),{sql:s(u.value++,m),params:[m],typings:g}}return Wa(f,ly)?{sql:s(u.value++,f),params:[f],typings:["none"]}:Wa(f,pf.Aliased)&&f.fieldAlias!==void 0?{sql:i(f.fieldAlias),params:[]}:Wa(f,d3)?f._.isWith?{sql:i(f._.alias),params:[]}:this.buildQueryFromSourceParams([new Ys("("),f._.sql,new Ys(") "),new oy(f._.alias)],n):Wme(f)?f.schema?{sql:i(f.schema)+"."+i(f.enumName),params:[]}:{sql:i(f.enumName),params:[]}:Kme(f)?(h=f.shouldOmitSQLParens)!=null&&h.call(f)?this.buildQueryFromSourceParams([f.getSQL()],n):this.buildQueryFromSourceParams([new Ys("("),f.getSQL(),new Ys(")")],n):c?{sql:this.mapInlineParam(f,n),params:[]}:{sql:s(u.value++,f),params:[f],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new pf.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};be(pf,Y9,"SQL");let pa=pf;var Z9;Z9=Ge;class oy{constructor(e){be(this,"brand");this.value=e}getSQL(){return new pa([this])}}be(oy,Z9,"Name");const $G={mapFromDriverValue:t=>t},UG={mapToDriverValue:t=>t};({...$G,...UG});var J9;J9=Ge;class h3{constructor(e,r=UG){be(this,"brand");this.value=e,this.encoder=r}getSQL(){return new pa([this])}}be(h3,J9,"Param");function nn(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Ys(t[0]));for(const[n,a]of e.entries())r.push(a,new Ys(t[n+1]));return new pa(r)}(t=>{function e(){return new pa([])}t.empty=e;function r(c){return new pa(c)}t.fromList=r;function n(c){return new pa([new Ys(c)])}t.raw=n;function a(c,u){const f=[];for(const[h,m]of c.entries())h>0&&u!==void 0&&f.push(u),f.push(m);return new pa(f)}t.join=a;function i(c){return new oy(c)}t.identifier=i;function s(c){return new ly(c)}t.placeholder=s;function o(c,u){return new h3(c,u)}t.param=o})(nn||(nn={}));(t=>{var r;r=Ge;const n=class n{constructor(i,s){be(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=s}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};be(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(pa||(pa={}));var eB;eB=Ge;class ly{constructor(e){this.name=e}getSQL(){return new pa([this])}}be(ly,eB,"Placeholder");const VG=Symbol.for("drizzle:IsDrizzleView");var tB,rB,nB;nB=Ge,rB=Sh,tB=VG;class HG{constructor({name:e,schema:r,selectedFields:n,query:a}){be(this,rB);be(this,tB,!0);this[Sh]={name:e,originalName:e,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new pa([this])}}be(HG,nB,"View");function Qme(t){return typeof t=="object"&&t!==null&&VG in t}r0.prototype.getSQL=function(){return new pa([this])};ji.prototype.getSQL=function(){return new pa([this])};d3.prototype.getSQL=function(){return new pa([this])};function Yme(t){return t[ji.Symbol.Columns]}function Zme(t){return t[Sh].selectedFields}function Fa(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var aB,iB;class pv extends(iB=Ar,aB=Ge,iB){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}be(pv,aB,"PgIntColumnBaseBuilder");var sB,oB;class zG extends(oB=pv,sB=Ge,oB){constructor(e){super(e,"number","PgBigInt53")}build(e){return new qG(e,this.config)}}be(zG,sB,"PgBigInt53Builder");var lB,cB;class qG extends(cB=lr,lB=Ge,cB){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}be(qG,lB,"PgBigInt53");var uB,fB;class WG extends(fB=pv,uB=Ge,fB){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new GG(e,this.config)}}be(WG,uB,"PgBigInt64Builder");var dB,hB;class GG extends(hB=lr,dB=Ge,hB){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}be(GG,dB,"PgBigInt64");function Jme(t,e){const{name:r,config:n}=Fa(t,e);return n.mode==="number"?new zG(r):new WG(r)}var pB,mB;class KG extends(mB=Ar,pB=Ge,mB){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new XG(e,this.config)}}be(KG,pB,"PgBigSerial53Builder");var gB,vB;class XG extends(vB=lr,gB=Ge,vB){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}be(XG,gB,"PgBigSerial53");var xB,yB;class QG extends(yB=Ar,xB=Ge,yB){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new YG(e,this.config)}}be(QG,xB,"PgBigSerial64Builder");var wB,bB;class YG extends(bB=lr,wB=Ge,bB){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}be(YG,wB,"PgBigSerial64");function ege(t,e){const{name:r,config:n}=Fa(t,e);return n.mode==="number"?new KG(r):new QG(r)}var _B,SB;class ZG extends(SB=Ar,_B=Ge,SB){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new JG(e,this.config)}}be(ZG,_B,"PgBooleanBuilder");var NB,EB;class JG extends(EB=lr,NB=Ge,EB){getSQLType(){return"boolean"}}be(JG,NB,"PgBoolean");function cd(t){return new ZG(t??"")}var AB,TB;class eK extends(TB=Ar,AB=Ge,TB){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new tK(e,this.config)}}be(eK,AB,"PgCharBuilder");var CB,jB;class tK extends(jB=lr,CB=Ge,jB){constructor(){super(...arguments);be(this,"length",this.config.length);be(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}be(tK,CB,"PgChar");function tge(t,e={}){const{name:r,config:n}=Fa(t,e);return new eK(r,n)}var OB,IB;class rK extends(IB=Ar,OB=Ge,IB){constructor(e){super(e,"string","PgCidr")}build(e){return new nK(e,this.config)}}be(rK,OB,"PgCidrBuilder");var PB,kB;class nK extends(kB=lr,PB=Ge,kB){getSQLType(){return"cidr"}}be(nK,PB,"PgCidr");function rge(t){return new rK(t??"")}var DB,RB;class aK extends(RB=Ar,DB=Ge,RB){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new iK(e,this.config)}}be(aK,DB,"PgCustomColumnBuilder");var MB,FB;class iK extends(FB=lr,MB=Ge,FB){constructor(r,n){super(r,n);be(this,"sqlName");be(this,"mapTo");be(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}be(iK,MB,"PgCustomColumn");function nge(t){return(e,r)=>{const{name:n,config:a}=Fa(e,r);return new aK(n,a,t)}}var LB,BB;class H0 extends(BB=Ar,LB=Ge,BB){defaultNow(){return this.default(nn`now()`)}}be(H0,LB,"PgDateColumnBaseBuilder");var $B,UB;class sK extends(UB=H0,$B=Ge,UB){constructor(e){super(e,"date","PgDate")}build(e){return new oK(e,this.config)}}be(sK,$B,"PgDateBuilder");var VB,HB;class oK extends(HB=lr,VB=Ge,HB){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}be(oK,VB,"PgDate");var zB,qB;class lK extends(qB=H0,zB=Ge,qB){constructor(e){super(e,"string","PgDateString")}build(e){return new cK(e,this.config)}}be(lK,zB,"PgDateStringBuilder");var WB,GB;class cK extends(GB=lr,WB=Ge,GB){getSQLType(){return"date"}}be(cK,WB,"PgDateString");function age(t,e){const{name:r,config:n}=Fa(t,e);return(n==null?void 0:n.mode)==="date"?new sK(r):new lK(r)}var KB,XB;class uK extends(XB=Ar,KB=Ge,XB){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new fK(e,this.config)}}be(uK,KB,"PgDoublePrecisionBuilder");var QB,YB;class fK extends(YB=lr,QB=Ge,YB){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}be(fK,QB,"PgDoublePrecision");function ige(t){return new uK(t??"")}var ZB,JB;class dK extends(JB=Ar,ZB=Ge,JB){constructor(e){super(e,"string","PgInet")}build(e){return new hK(e,this.config)}}be(dK,ZB,"PgInetBuilder");var e$,t$;class hK extends(t$=lr,e$=Ge,t$){getSQLType(){return"inet"}}be(hK,e$,"PgInet");function sge(t){return new dK(t??"")}var r$,n$;class pK extends(n$=pv,r$=Ge,n$){constructor(e){super(e,"number","PgInteger")}build(e){return new mK(e,this.config)}}be(pK,r$,"PgIntegerBuilder");var a$,i$;class mK extends(i$=lr,a$=Ge,i$){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}be(mK,a$,"PgInteger");function yu(t){return new pK(t??"")}var s$,o$;class gK extends(o$=Ar,s$=Ge,o$){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new vK(e,this.config)}}be(gK,s$,"PgIntervalBuilder");var l$,c$;class vK extends(c$=lr,l$=Ge,c$){constructor(){super(...arguments);be(this,"fields",this.config.intervalConfig.fields);be(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}be(vK,l$,"PgInterval");function oge(t,e={}){const{name:r,config:n}=Fa(t,e);return new gK(r,n)}var u$,f$;class xK extends(f$=Ar,u$=Ge,f$){constructor(e){super(e,"json","PgJson")}build(e){return new yK(e,this.config)}}be(xK,u$,"PgJsonBuilder");var d$,h$;class yK extends(h$=lr,d$=Ge,h$){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}be(yK,d$,"PgJson");function lge(t){return new xK(t??"")}var p$,m$;class wK extends(m$=Ar,p$=Ge,m$){constructor(e){super(e,"json","PgJsonb")}build(e){return new bK(e,this.config)}}be(wK,p$,"PgJsonbBuilder");var g$,v$;class bK extends(v$=lr,g$=Ge,v$){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}be(bK,g$,"PgJsonb");function _K(t){return new wK(t??"")}var x$,y$;class SK extends(y$=Ar,x$=Ge,y$){constructor(e){super(e,"array","PgLine")}build(e){return new NK(e,this.config)}}be(SK,x$,"PgLineBuilder");var w$,b$;class NK extends(b$=lr,w$=Ge,b$){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,a]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}be(NK,w$,"PgLine");var _$,S$;class EK extends(S$=Ar,_$=Ge,S$){constructor(e){super(e,"json","PgLineABC")}build(e){return new AK(e,this.config)}}be(EK,_$,"PgLineABCBuilder");var N$,E$;class AK extends(E$=lr,N$=Ge,E$){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,a]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}be(AK,N$,"PgLineABC");function cge(t,e){const{name:r,config:n}=Fa(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new SK(r):new EK(r)}var A$,T$;class TK extends(T$=Ar,A$=Ge,T$){constructor(e){super(e,"string","PgMacaddr")}build(e){return new CK(e,this.config)}}be(TK,A$,"PgMacaddrBuilder");var C$,j$;class CK extends(j$=lr,C$=Ge,j$){getSQLType(){return"macaddr"}}be(CK,C$,"PgMacaddr");function uge(t){return new TK(t??"")}var O$,I$;class jK extends(I$=Ar,O$=Ge,I$){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new OK(e,this.config)}}be(jK,O$,"PgMacaddr8Builder");var P$,k$;class OK extends(k$=lr,P$=Ge,k$){getSQLType(){return"macaddr8"}}be(OK,P$,"PgMacaddr8");function fge(t){return new jK(t??"")}var D$,R$;class IK extends(R$=Ar,D$=Ge,R$){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new PK(e,this.config)}}be(IK,D$,"PgNumericBuilder");var M$,F$;class PK extends(F$=lr,M$=Ge,F$){constructor(r,n){super(r,n);be(this,"precision");be(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}be(PK,M$,"PgNumeric");function kK(t,e){const{name:r,config:n}=Fa(t,e);return new IK(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const to=kK;var L$,B$;class DK extends(B$=Ar,L$=Ge,B$){constructor(e){super(e,"array","PgPointTuple")}build(e){return new RK(e,this.config)}}be(DK,L$,"PgPointTupleBuilder");var $$,U$;class RK extends(U$=lr,$$=Ge,U$){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}be(RK,$$,"PgPointTuple");var V$,H$;class MK extends(H$=Ar,V$=Ge,H$){constructor(e){super(e,"json","PgPointObject")}build(e){return new FK(e,this.config)}}be(MK,V$,"PgPointObjectBuilder");var z$,q$;class FK extends(q$=lr,z$=Ge,q$){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}be(FK,z$,"PgPointObject");function dge(t,e){const{name:r,config:n}=Fa(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new DK(r):new MK(r)}function hge(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function _6(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,t[e+a]);return n.getFloat64(0,!0)}function LK(t){const e=hge(t);let r=0;const n=e[r];r+=1;const a=new DataView(e.buffer),i=a.getUint32(r,n===1);if(r+=4,i&536870912&&(a.getUint32(r,n===1),r+=4),(i&65535)===1){const s=_6(e,r);r+=8;const o=_6(e,r);return r+=8,[s,o]}throw new Error("Unsupported geometry type")}var W$,G$;class BK extends(G$=Ar,W$=Ge,G$){constructor(e){super(e,"array","PgGeometry")}build(e){return new $K(e,this.config)}}be(BK,W$,"PgGeometryBuilder");var K$,X$;class $K extends(X$=lr,K$=Ge,X$){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return LK(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}be($K,K$,"PgGeometry");var Q$,Y$;class UK extends(Y$=Ar,Q$=Ge,Y$){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new VK(e,this.config)}}be(UK,Q$,"PgGeometryObjectBuilder");var Z$,J$;class VK extends(J$=lr,Z$=Ge,J$){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=LK(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}be(VK,Z$,"PgGeometryObject");function pge(t,e){const{name:r,config:n}=Fa(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new BK(r):new UK(r)}var eU,tU;class HK extends(tU=Ar,eU=Ge,tU){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new zK(e,this.config)}}be(HK,eU,"PgRealBuilder");var rU,nU;class zK extends(nU=lr,rU=Ge,nU){constructor(r,n){super(r,n);be(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}be(zK,rU,"PgReal");function mge(t){return new HK(t??"")}var aU,iU;class qK extends(iU=Ar,aU=Ge,iU){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new WK(e,this.config)}}be(qK,aU,"PgSerialBuilder");var sU,oU;class WK extends(oU=lr,sU=Ge,oU){getSQLType(){return"serial"}}be(WK,sU,"PgSerial");function gge(t){return new qK(t??"")}var lU,cU;class GK extends(cU=pv,lU=Ge,cU){constructor(e){super(e,"number","PgSmallInt")}build(e){return new KK(e,this.config)}}be(GK,lU,"PgSmallIntBuilder");var uU,fU;class KK extends(fU=lr,uU=Ge,fU){constructor(){super(...arguments);be(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}be(KK,uU,"PgSmallInt");function vge(t){return new GK(t??"")}var dU,hU;class XK extends(hU=Ar,dU=Ge,hU){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new QK(e,this.config)}}be(XK,dU,"PgSmallSerialBuilder");var pU,mU;class QK extends(mU=lr,pU=Ge,mU){getSQLType(){return"smallserial"}}be(QK,pU,"PgSmallSerial");function xge(t){return new XK(t??"")}var gU,vU;class YK extends(vU=Ar,gU=Ge,vU){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new ZK(e,this.config)}}be(YK,gU,"PgTextBuilder");var xU,yU;class ZK extends(yU=lr,xU=Ge,yU){constructor(){super(...arguments);be(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}be(ZK,xU,"PgText");function yr(t,e={}){const{name:r,config:n}=Fa(t,e);return new YK(r,n)}var wU,bU;class JK extends(bU=H0,wU=Ge,bU){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new eX(e,this.config)}}be(JK,wU,"PgTimeBuilder");var _U,SU;class eX extends(SU=lr,_U=Ge,SU){constructor(r,n){super(r,n);be(this,"withTimezone");be(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}be(eX,_U,"PgTime");function yge(t,e={}){const{name:r,config:n}=Fa(t,e);return new JK(r,n.withTimezone??!1,n.precision)}var NU,EU;class tX extends(EU=H0,NU=Ge,EU){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new rX(e,this.config)}}be(tX,NU,"PgTimestampBuilder");var AU,TU;class rX extends(TU=lr,AU=Ge,TU){constructor(r,n){super(r,n);be(this,"withTimezone");be(this,"precision");be(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));be(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}be(rX,AU,"PgTimestamp");var CU,jU;class nX extends(jU=H0,CU=Ge,jU){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new aX(e,this.config)}}be(nX,CU,"PgTimestampStringBuilder");var OU,IU;class aX extends(IU=lr,OU=Ge,IU){constructor(r,n){super(r,n);be(this,"withTimezone");be(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}be(aX,OU,"PgTimestampString");function Ma(t,e={}){const{name:r,config:n}=Fa(t,e);return(n==null?void 0:n.mode)==="string"?new nX(r,n.withTimezone??!1,n.precision):new tX(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var PU,kU;class iX extends(kU=Ar,PU=Ge,kU){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(nn`gen_random_uuid()`)}build(e){return new sX(e,this.config)}}be(iX,PU,"PgUUIDBuilder");var DU,RU;class sX extends(RU=lr,DU=Ge,RU){getSQLType(){return"uuid"}}be(sX,DU,"PgUUID");function _n(t){return new iX(t??"")}var MU,FU;class oX extends(FU=Ar,MU=Ge,FU){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new lX(e,this.config)}}be(oX,MU,"PgVarcharBuilder");var LU,BU;class lX extends(BU=lr,LU=Ge,BU){constructor(){super(...arguments);be(this,"length",this.config.length);be(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}be(lX,LU,"PgVarchar");function wge(t,e={}){const{name:r,config:n}=Fa(t,e);return new oX(r,n)}var $U,UU;class cX extends(UU=Ar,$U=Ge,UU){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new uX(e,this.config)}}be(cX,$U,"PgBinaryVectorBuilder");var VU,HU;class uX extends(HU=lr,VU=Ge,HU){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}be(uX,VU,"PgBinaryVector");function bge(t,e){const{name:r,config:n}=Fa(t,e);return new cX(r,n)}var zU,qU;class fX extends(qU=Ar,zU=Ge,qU){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new dX(e,this.config)}}be(fX,zU,"PgHalfVectorBuilder");var WU,GU;class dX extends(GU=lr,WU=Ge,GU){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}be(dX,WU,"PgHalfVector");function _ge(t,e){const{name:r,config:n}=Fa(t,e);return new fX(r,n)}var KU,XU;class hX extends(XU=Ar,KU=Ge,XU){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new pX(e,this.config)}}be(hX,KU,"PgSparseVectorBuilder");var QU,YU;class pX extends(YU=lr,QU=Ge,YU){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}be(pX,QU,"PgSparseVector");function Sge(t,e){const{name:r,config:n}=Fa(t,e);return new hX(r,n)}var ZU,JU;class mX extends(JU=Ar,ZU=Ge,JU){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new gX(e,this.config)}}be(mX,ZU,"PgVectorBuilder");var eV,tV;class gX extends(tV=lr,eV=Ge,tV){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}be(gX,eV,"PgVector");function Nge(t,e){const{name:r,config:n}=Fa(t,e);return new mX(r,n)}function Ege(){return{bigint:Jme,bigserial:ege,boolean:cd,char:tge,cidr:rge,customType:nge,date:age,doublePrecision:ige,inet:sge,integer:yu,interval:oge,json:lge,jsonb:_K,line:cge,macaddr:uge,macaddr8:fge,numeric:kK,point:dge,geometry:pge,real:mge,serial:gge,smallint:vge,smallserial:xge,text:yr,time:yge,timestamp:Ma,uuid:_n,varchar:wge,bit:bge,halfvec:_ge,sparsevec:Sge,vector:Nge}}const _C=Symbol.for("drizzle:PgInlineForeignKeys"),S6=Symbol.for("drizzle:EnableRLS");var rV,nV,aV,iV,sV;class cy extends(sV=ji,iV=Ge,aV=_C,nV=S6,rV=ji.Symbol.ExtraConfigBuilder,sV){constructor(){super(...arguments);be(this,aV,[]);be(this,nV,!1);be(this,rV)}}be(cy,iV,"PgTable"),be(cy,"Symbol",Object.assign({},ji.Symbol,{InlineForeignKeys:_C,EnableRLS:S6}));function Age(t,e,r,n,a=t){const i=new cy(t,n,a),s=typeof e=="function"?e(Ege()):e,o=Object.fromEntries(Object.entries(s).map(([f,h])=>{const m=h;m.setName(f);const g=m.build(i);return i[_C].push(...m.buildForeignKeys(g,i)),[f,g]})),c=Object.fromEntries(Object.entries(s).map(([f,h])=>{const m=h;m.setName(f);const g=m.buildExtraConfigColumn(i);return[f,g]})),u=Object.assign(i,o);return u[ji.Symbol.Columns]=o,u[ji.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[cy.Symbol.EnableRLS]=!0,u)})}const yc=(t,e,r)=>Age(t,e,r,void 0),Cn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Mn(t,e){return e.includes(t.columnType)}function Tge(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Cge=Pt.union([Pt.string(),Pt.number(),Pt.boolean(),Pt.null()]),jge=Pt.union([Cge,Pt.record(Pt.any()),Pt.array(Pt.any())]),Oge=Pt.custom(t=>t instanceof Buffer);function vX(t,e){const r=(e==null?void 0:e.zodInstance)??Pt,n=(e==null?void 0:e.coerce)??{};let a;return Tge(t)&&(a=t.enumValues.length?r.enum(t.enumValues):r.string()),a||(Mn(t,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Mn(t,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Mn(t,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=t.dimensions?a.length(t.dimensions):a):Mn(t,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Mn(t,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Mn(t,["PgArray"])?(a=r.array(vX(t.baseColumn,r)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=r.array(r.any()):t.dataType==="number"?a=Ige(t,r,n):t.dataType==="bigint"?a=Pge(t,r,n):t.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?a=kge(t,r,n):t.dataType==="json"?a=jge:t.dataType==="custom"?a=r.any():t.dataType==="buffer"&&(a=Oge)),a||(a=r.any()),a}function Ige(t,e,r){let n=t.getSQLType().includes("unsigned"),a,i,s=!1;Mn(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:Cn.INT8_MIN,i=n?Cn.INT8_UNSIGNED_MAX:Cn.INT8_MAX,s=!0):Mn(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:Cn.INT16_MIN,i=n?Cn.INT16_UNSIGNED_MAX:Cn.INT16_MAX,s=!0):Mn(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:Cn.INT24_MIN,i=n?Cn.INT24_UNSIGNED_MAX:Cn.INT24_MAX,s=Mn(t,["MySqlMediumInt","SingleStoreMediumInt"])):Mn(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:Cn.INT32_MIN,i=n?Cn.INT32_UNSIGNED_MAX:Cn.INT32_MAX,s=!0):Mn(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:Cn.INT48_MIN,i=n?Cn.INT48_UNSIGNED_MAX:Cn.INT48_MAX):Mn(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Mn(t,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,s=!0):Mn(t,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,s=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=r===!0||r!=null&&r.number?e.coerce.number():e.number();return o=o.min(a).max(i),s?o.int():o}function Pge(t,e,r){const n=t.getSQLType().includes("unsigned"),a=n?0n:Cn.INT64_MIN,i=n?Cn.INT64_UNSIGNED_MAX:Cn.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(a).max(i)}function kge(t,e,r){if(Mn(t,["PgUUID"]))return e.string().uuid();let n,a,i=!1;Mn(t,["PgVarchar","SQLiteText"])?n=t.length:Mn(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??Cn.INT16_UNSIGNED_MAX:Mn(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=Cn.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=Cn.INT24_UNSIGNED_MAX:t.textType==="text"?n=Cn.INT16_UNSIGNED_MAX:n=Cn.INT8_UNSIGNED_MAX),Mn(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),Mn(t,["PgBinaryVector"])&&(a=/^[01]+$/,n=t.dimensions);let s=r===!0||r!=null&&r.string?e.coerce.string():e.string();return s=a?s.regex(a):s,n&&i?s.length(n):n?s.max(n):s}function xX(t){return BG(t)?Yme(t):Zme(t)}function yX(t,e,r,n){const a={};for(const[i,s]of Object.entries(t)){if(!Wa(s,r0)&&!Wa(s,pa)&&!Wa(s,pa.Aliased)&&typeof s=="object"){const h=BG(s)||Qme(s)?xX(s):s;a[i]=yX(h,e[i]??{},r,n);continue}const o=e[i];if(o!==void 0&&typeof o!="function"){a[i]=o;continue}const c=Wa(s,r0)?s:void 0,u=c?vX(c,n):Pt.any(),f=typeof o=="function"?o(u):u;r.never(c)||(a[i]=f,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return Pt.object(a)}const Dge={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},wc=(t,e)=>{const r=xX(t);return yX(r,{},Dge)},Rge=yc("users",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),username:yr("username").notNull().unique(),password:yr("password").notNull(),fullName:yr("full_name").notNull(),email:yr("email"),role:yr("role").notNull().default("cashier"),avatar:yr("avatar"),isActive:cd("is_active").notNull().default(!0),storeId:_n("store_id"),createdAt:Ma("created_at").notNull().default(nn`now()`),updatedAt:Ma("updated_at").notNull().default(nn`now()`)}),Mge=yc("stores",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),name:yr("name").notNull(),address:yr("address").notNull(),phone:yr("phone"),email:yr("email"),taxCode:yr("tax_code"),isActive:cd("is_active").notNull().default(!0),createdAt:Ma("created_at").notNull().default(nn`now()`),updatedAt:Ma("updated_at").notNull().default(nn`now()`)}),Fge=yc("categories",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),name:yr("name").notNull(),description:yr("description"),image:yr("image"),isActive:cd("is_active").notNull().default(!0),storeId:_n("store_id").notNull(),createdAt:Ma("created_at").notNull().default(nn`now()`)}),Lge=yc("products",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),name:yr("name").notNull(),description:yr("description"),sku:yr("sku").notNull(),barcode:yr("barcode"),price:to("price",{precision:12,scale:2}).notNull(),costPrice:to("cost_price",{precision:12,scale:2}),image:yr("image"),categoryId:_n("category_id"),storeId:_n("store_id").notNull(),isActive:cd("is_active").notNull().default(!0),stockQuantity:yu("stock_quantity").notNull().default(0),minStockLevel:yu("min_stock_level").notNull().default(5),unit:yr("unit").notNull().default("pcs"),createdAt:Ma("created_at").notNull().default(nn`now()`),updatedAt:Ma("updated_at").notNull().default(nn`now()`)}),Bge=yc("customers",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),name:yr("name").notNull(),email:yr("email"),phone:yr("phone"),address:yr("address"),dateOfBirth:Ma("date_of_birth"),customerType:yr("customer_type",{enum:["regular","premium","vip"]}).notNull().default("regular"),loyaltyPoints:yu("loyalty_points").notNull().default(0),totalSpent:to("total_spent",{precision:12,scale:2}).notNull().default("0"),storeId:_n("store_id").notNull(),isActive:cd("is_active").notNull().default(!0),createdAt:Ma("created_at").notNull().default(nn`now()`),updatedAt:Ma("updated_at").notNull().default(nn`now()`)}),$ge=yc("orders",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),orderNumber:yr("order_number").notNull().unique(),customerId:_n("customer_id"),cashierId:_n("cashier_id").notNull(),storeId:_n("store_id").notNull(),subtotal:to("subtotal",{precision:12,scale:2}).notNull(),taxAmount:to("tax_amount",{precision:12,scale:2}).notNull().default("0"),discountAmount:to("discount_amount",{precision:12,scale:2}).notNull().default("0"),total:to("total",{precision:12,scale:2}).notNull(),paymentMethod:yr("payment_method").notNull(),paymentStatus:yr("payment_status").notNull().default("completed"),status:yr("status").notNull().default("completed"),notes:yr("notes"),metadata:_K("metadata"),createdAt:Ma("created_at").notNull().default(nn`now()`),updatedAt:Ma("updated_at").notNull().default(nn`now()`)}),Uge=yc("order_items",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),orderId:_n("order_id").notNull(),productId:_n("product_id").notNull(),quantity:yu("quantity").notNull(),unitPrice:to("unit_price",{precision:12,scale:2}).notNull(),totalPrice:to("total_price",{precision:12,scale:2}).notNull(),createdAt:Ma("created_at").notNull().default(nn`now()`)}),Vge=yc("promotions",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),name:yr("name").notNull(),description:yr("description"),type:yr("type").notNull(),value:to("value",{precision:12,scale:2}).notNull(),minOrderAmount:to("min_order_amount",{precision:12,scale:2}),maxDiscountAmount:to("max_discount_amount",{precision:12,scale:2}),startDate:Ma("start_date").notNull(),endDate:Ma("end_date").notNull(),isActive:cd("is_active").notNull().default(!0),storeId:_n("store_id").notNull(),createdAt:Ma("created_at").notNull().default(nn`now()`)}),Hge=yc("inventory_movements",{id:_n("id").primaryKey().default(nn`gen_random_uuid()`),productId:_n("product_id").notNull(),type:yr("type").notNull(),quantity:yu("quantity").notNull(),previousStock:yu("previous_stock").notNull(),newStock:yu("new_stock").notNull(),reason:yr("reason"),userId:_n("user_id").notNull(),storeId:_n("store_id").notNull(),createdAt:Ma("created_at").notNull().default(nn`now()`)});wc(Rge).omit({id:!0,createdAt:!0,updatedAt:!0});wc(Mge).omit({id:!0,createdAt:!0,updatedAt:!0});wc(Fge).omit({id:!0,createdAt:!0});wc(Lge).omit({id:!0,createdAt:!0,updatedAt:!0});const zge=wc(Bge).omit({id:!0,createdAt:!0,updatedAt:!0});wc($ge).omit({id:!0,createdAt:!0,updatedAt:!0});wc(Uge).omit({id:!0,createdAt:!0});wc(Vge).omit({id:!0,createdAt:!0});wc(Hge).omit({id:!0,createdAt:!0});zge.extend({phone:Pt.string().min(1,"Số điện thoại là bắt buộc")});function qge(){const t=Vt({mutationFn:async k=>{const I=new URLSearchParams;return I.append("hoTen",k.name),I.append("soDienThoai",k.phone),I.append("email",k.email||""),I.append("diaChi",k.address||""),I.append("hangKhachHang",k.hangKhachHang||"Thuong"),I.append("storeId",k.storeId||"store-1"),I.append("customerType",k.customerType||"regular"),At("/api/customers",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:I.toString()})},onSuccess:()=>{e({title:"Thành công",description:"Khách hàng đã được thêm thành công"}),Jt.invalidateQueries({queryKey:["/api/customers"]}),c(!1),S.reset()},onError:()=>{e({title:"Lỗi",description:"Không thể thêm khách hàng. Vui lòng thử lại.",variant:"destructive"})}}),{toast:e}=mi(),[r,n]=T.useState(""),[a,i]=T.useState("all"),s=()=>{n(""),i("all")},[o,c]=T.useState(!1),[u,f]=T.useState(null),[h,m]=T.useState(null),{data:g=[],isLoading:x}=Ft({queryKey:["/api/customers"]});console.log("rawCustomers:",g),g.forEach((k,I)=>{console.log(`Customer[${I}] hangKhachHang:`,k.hangKhachHang)});const v=g.map(k=>{var I;return{id:(I=k.customerId)==null?void 0:I.toString(),name:k.hoTen||"",phone:k.soDienThoai||"",email:k.email||"",address:k.diaChi||"",customerType:k.hangKhachHang===3?"vip":k.hangKhachHang===2?"premium":k.hangKhachHang===1?"regular":typeof k.hangKhachHang=="string"?k.hangKhachHang.toLowerCase()==="vip"?"vip":k.hangKhachHang.toLowerCase()==="premium"?"premium":"regular":"regular",loyaltyPoints:k.loyaltyPoints||0,totalSpent:k.totalSpent||"0",storeId:k.storeId||"store-1",hangKhachHang:k.hangKhachHang||"Thuong",dateOfBirth:k.dateOfBirth??null,isActive:k.isActive??!0,createdAt:k.createdAt?new Date(k.createdAt):new Date,updatedAt:k.updatedAt?new Date(k.updatedAt):new Date}});console.log("Customers:",v);const{data:w=[]}=Ft({queryKey:["/api/orders"]}),S=Yh({defaultValues:{name:"",email:"",phone:"",address:"",storeId:"store-1",customerType:"regular",loyaltyPoints:0,totalSpent:"0",hangKhachHang:"Thuong"}}),b=Vt({mutationFn:async({id:k,data:I})=>{const R=new URLSearchParams;R.append("hoTen",I.name||""),R.append("soDienThoai",I.phone||""),R.append("email",I.email||""),R.append("diaChi",I.address||"");let L=1;return I.customerType==="vip"?L=3:I.customerType==="premium"&&(L=2),R.append("hangKhachHang",L.toString()),R.append("customerType",I.customerType||"regular"),At(`/api/customers/${k}`,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:R.toString()})},onSuccess:()=>{e({title:"Thành công",description:"Thông tin khách hàng đã được cập nhật"}),Jt.invalidateQueries({queryKey:["/api/customers"]}),f(null),S.reset()},onError:()=>{e({title:"Lỗi",description:"Không thể cập nhật thông tin khách hàng",variant:"destructive"})}}),_=Vt({mutationFn:async k=>At(`/api/customers/${k}`,{method:"DELETE"}),onSuccess:()=>{e({title:"Thành công",description:"Khách hàng đã được xóa"}),Jt.invalidateQueries({queryKey:["/api/customers"]})},onError:()=>{e({title:"Lỗi",description:"Không thể xóa khách hàng",variant:"destructive"})}}),E=v.filter(k=>{if(!k||!k.name||!k.phone)return!1;const I=ui(r),R=ui(k.name||""),L=ui(k.phone||""),U=ui(k.email||""),X=R.includes(I)||L.includes(I)||U.includes(I),ue=a==="all"||!k.customerType||k.customerType===a;return X&&ue}),A=k=>w.filter(I=>I.customerId===k),j=k=>{switch(k){case"vip":return{label:"VIP",color:"bg-purple-500"};case"premium":return{label:"Premium",color:"bg-yellow-400 text-black"};case"regular":return{label:"Thường",color:"bg-gray-500"};default:return{label:"Thường",color:"bg-gray-500"}}},O=k=>{console.log("Submit customer data:",k),u?b.mutate({id:u.id,data:k}):t.mutate(k)},D=k=>{f(k),S.reset({name:k.name,email:k.email||"",phone:k.phone,address:k.address||"",storeId:k.storeId,customerType:k.customerType,loyaltyPoints:k.loyaltyPoints,totalSpent:k.totalSpent}),c(!0)},M=k=>{confirm("Bạn có chắc chắn muốn xóa khách hàng này?")&&_.mutate(k)};return l.jsx(Ri,{title:"Khách hàng",children:l.jsxs("div",{"data-testid":"customers-page",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative w-80",children:[l.jsx(tt,{placeholder:"Tìm kiếm khách hàng (có thể gõ không dấu)...",value:r,onChange:k=>n(k.target.value),className:"pl-10","data-testid":"input-customer-search"}),l.jsx(gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]}),l.jsxs(fa,{value:a,onValueChange:i,children:[l.jsx(Kn,{className:"w-48","data-testid":"select-tier-filter",children:l.jsx(da,{placeholder:"Tất cả hạng"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả hạng"}),l.jsx(er,{value:"regular",children:"Thường"}),l.jsx(er,{value:"premium",children:"Premium"}),l.jsx(er,{value:"vip",children:"VIP"})]})]}),l.jsx(ke,{variant:"outline",onClick:s,"data-testid":"button-reset-filters",children:"Xóa bộ lọc"})]}),l.jsxs(Ya,{open:o,onOpenChange:c,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{onClick:()=>{f(null),S.reset()},"data-testid":"button-add-customer",children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Thêm khách hàng"]})}),l.jsxs(ka,{className:"max-w-lg",children:[l.jsx(Da,{children:l.jsx(Ra,{children:u?"Chỉnh sửa khách hàng":"Thêm khách hàng mới"})}),l.jsxs(Zh,{...S,children:[console.log("Form rendered"),l.jsxs("form",{onSubmit:S.handleSubmit(O),className:"space-y-4",children:[l.jsx(fr,{control:S.control,name:"name",render:({field:k})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Họ tên *"}),l.jsx(ir,{children:l.jsx(tt,{...k,"data-testid":"input-customer-name"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:S.control,name:"phone",render:({field:k})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Số điện thoại *"}),l.jsx(ir,{children:l.jsx(tt,{...k,"data-testid":"input-customer-phone"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:S.control,name:"email",render:({field:k})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Email"}),l.jsx(ir,{children:l.jsx(tt,{...k,type:"email","data-testid":"input-customer-email"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:S.control,name:"address",render:({field:k})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Địa chỉ"}),l.jsx(ir,{children:l.jsx(tt,{...k,"data-testid":"input-customer-address"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:S.control,name:"customerType",render:({field:k})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Hạng khách hàng"}),l.jsxs(fa,{onValueChange:k.onChange,value:k.value,children:[l.jsx(ir,{children:l.jsx(Kn,{"data-testid":"select-customer-type",children:l.jsx(da,{})})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"regular",children:"Thường"}),l.jsx(er,{value:"premium",children:"Premium"}),l.jsx(er,{value:"vip",children:"VIP"})]})]}),l.jsx(mr,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:t.isPending||b.isPending,"data-testid":"button-save-customer",children:t.isPending||b.isPending?"Đang lưu...":u?"Cập nhật":"Thêm"})]})]})]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:x?[...Array(6)].map((k,I)=>l.jsx(Ue,{className:"animate-pulse",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})},I)):E.length===0?l.jsx(Ue,{className:"col-span-full",children:l.jsxs(Ve,{className:"p-12 text-center",children:[l.jsx(qf,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy khách hàng"}),l.jsx("p",{className:"text-gray-500",children:r||a!=="all"?"Thử thay đổi bộ lọc tìm kiếm":"Bắt đầu bằng cách thêm khách hàng đầu tiên"})]})}):E.map(k=>{const I=j(k.customerType),R=A(k.id),L=R.length>0?new Date(R[0].createdAt).toLocaleDateString("vi-VN"):"Chưa có đơn hàng";return l.jsx(Ue,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>m(k),"data-testid":`customer-card-${k.id}`,children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-1","data-testid":`customer-name-${k.id}`,children:k.name}),l.jsx(Ct,{className:`text-white ${I.color}`,children:I.label})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(ke,{variant:"ghost",size:"sm",onClick:U=>{U.stopPropagation(),D(k)},"data-testid":`button-edit-${k.id}`,children:l.jsx(Gh,{className:"w-4 h-4"})}),l.jsx(ke,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:U=>{U.stopPropagation(),M(k.id)},"data-testid":`button-delete-${k.id}`,children:l.jsx(Uo,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mm,{className:"w-4 h-4 mr-2"}),l.jsx("span",{"data-testid":`customer-phone-${k.id}`,children:k.phone})]}),k.email&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(R1,{className:"w-4 h-4 mr-2"}),l.jsx("span",{"data-testid":`customer-email-${k.id}`,children:k.email})]}),k.address&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Of,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"line-clamp-1","data-testid":`customer-address-${k.id}`,children:k.address})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Điểm tích lũy"}),l.jsx("p",{className:"font-semibold text-primary","data-testid":`customer-points-${k.id}`,children:k.loyaltyPoints})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Tổng chi tiêu"}),l.jsxs("p",{className:"font-semibold text-green-600","data-testid":`customer-spent-${k.id}`,children:[parseInt(k.totalSpent).toLocaleString("vi-VN"),"₫"]})]})]}),l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Đơn gần nhất: ",L]})})]})]})},k.id)})}),h&&l.jsx(Ya,{open:!!h,onOpenChange:()=>m(null),children:l.jsxs(ka,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsx(Ra,{children:"Chi tiết khách hàng"})}),l.jsxs(U0,{defaultValue:"info",className:"space-y-4",children:[l.jsxs(ld,{className:"grid w-full grid-cols-3",children:[l.jsx(Wn,{value:"info","data-testid":"tab-customer-info",children:"Thông tin"}),l.jsx(Wn,{value:"orders","data-testid":"tab-customer-orders",children:"Đơn hàng"}),l.jsx(Wn,{value:"loyalty","data-testid":"tab-customer-loyalty",children:"Điểm thưởng"})]}),l.jsx(Gn,{value:"info",className:"space-y-4",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center justify-between",children:[l.jsx("span",{children:h.name}),l.jsx(Ct,{className:`text-white ${j(h.customerType).color}`,children:j(h.customerType).label})]})}),l.jsxs(Ve,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mm,{className:"w-4 h-4 mr-2 text-gray-500"}),l.jsx("span",{children:h.phone})]}),h.email&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(R1,{className:"w-4 h-4 mr-2 text-gray-500"}),l.jsx("span",{children:h.email})]}),h.address&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Of,{className:"w-4 h-4 mr-2 text-gray-500"}),l.jsx("span",{children:h.address})]})]})]})}),l.jsx(Gn,{value:"orders",className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[A(h.id).map((k,I)=>l.jsx(Ue,{"data-testid":`order-${I}`,children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:["Đơn hàng #",k.orderNumber]}),l.jsx("p",{className:"text-sm text-gray-500",children:new Date(k.createdAt).toLocaleString("vi-VN")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-primary",children:[parseInt(k.total).toLocaleString("vi-VN"),"₫"]}),l.jsx(Ct,{variant:k.status==="completed"?"default":"secondary",children:k.status==="completed"?"Hoàn thành":"Đang xử lý"})]})]})})},k.id)),A(h.id).length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(bie,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Khách hàng chưa có đơn hàng nào"})]})]})}),l.jsx(Gn,{value:"loyalty",className:"space-y-4",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center",children:[l.jsx(_ie,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Chương trình điểm thưởng"]})}),l.jsxs(Ve,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:h.loyaltyPoints}),l.jsx("p",{className:"text-sm text-gray-500",children:"Điểm hiện tại"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseInt(h.totalSpent).toLocaleString("vi-VN"),"₫"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Tổng chi tiêu"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Quyền lợi hạng ",j(h.customerType).label,":"]}),l.jsxs("ul",{className:"text-sm space-y-1",children:[h.customerType==="vip"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{children:"• Giảm giá 15% cho tất cả sản phẩm"}),l.jsx("li",{children:"• Tích điểm x3"}),l.jsx("li",{children:"• Ưu tiên hỗ trợ khách hàng"})]}),h.customerType==="premium"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{children:"• Giảm giá 10% cho tất cả sản phẩm"}),l.jsx("li",{children:"• Tích điểm x2"}),l.jsx("li",{children:"• Miễn phí giao hàng"})]}),h.customerType==="regular"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{children:"• Tích điểm tiêu chuẩn"}),l.jsx("li",{children:"• Ưu đãi đặc biệt theo mùa"})]})]})]})]})]})})]})]})})]})})}function Wge({transaction:t,isOpen:e,onClose:r}){if(!t||t.type!=="OUT")return null;const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),a=i=>new Date(i).toLocaleString("vi-VN");return l.jsx(Ya,{open:e,onOpenChange:r,children:l.jsxs(ka,{className:"max-w-2xl",children:[l.jsx(Da,{children:l.jsxs(Ra,{className:"flex items-center gap-2",children:[l.jsx(M1,{className:"w-5 h-5 text-red-600"}),"Chi tiết xuất kho - Đơn hàng bán ra"]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(die,{className:"w-4 h-4"}),l.jsx("span",{children:"Mã giao dịch:"})]}),l.jsxs("p",{className:"font-semibold",children:["#",t.transactionId]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(vm,{className:"w-4 h-4"}),l.jsx("span",{children:"Thời gian:"})]}),l.jsx("p",{className:"font-semibold",children:a(t.transactionDate)})]})]}),l.jsx(gf,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[l.jsx(ja,{className:"w-5 h-5"}),"Thông tin sản phẩm"]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Tên sản phẩm:"}),l.jsx("p",{className:"font-semibold text-lg",children:t.productName}),t.productCode&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Mã sản phẩm:"}),l.jsx("p",{className:"text-sm font-mono",children:t.productCode})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(Ct,{variant:"destructive",className:"mb-2",children:t.typeName}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Số lượng bán:"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",Math.abs(t.quantity)]})]})]})]})})]}),l.jsx(gf,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[l.jsx(vh,{className:"w-5 h-5"}),"Thông tin bán hàng"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Giá bán / đơn vị"}),l.jsx("p",{className:"font-bold text-lg text-blue-600",children:n(t.unitPrice)})]}),l.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Số lượng"}),l.jsx("p",{className:"font-bold text-lg text-orange-600",children:Math.abs(t.quantity)})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Tổng tiền"}),l.jsx("p",{className:"font-bold text-lg text-green-600",children:n(Math.abs(t.totalValue))})]})]})]}),l.jsx(gf,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Thay đổi tồn kho"}),l.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Trước khi bán"}),l.jsx("p",{className:"font-bold text-lg",children:t.stockBefore})]}),l.jsx("div",{className:"text-2xl text-gray-400",children:"→"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Sau khi bán"}),l.jsx("p",{className:"font-bold text-lg",children:t.stockAfter})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(xc,{className:"w-4 h-4"}),l.jsx("span",{children:"Nhân viên bán:"})]}),l.jsx("p",{className:"font-semibold",children:t.staffName})]}),t.orderId&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(vh,{className:"w-4 h-4"}),l.jsx("span",{children:"Mã đơn hàng:"})]}),l.jsxs("p",{className:"font-semibold",children:["#",t.orderId]})]})]}),(t.reason||t.notes)&&l.jsxs(l.Fragment,{children:[l.jsx(gf,{}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-semibold",children:"Ghi chú"}),t.reason&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Lý do:"})," ",t.reason]}),t.notes&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Chi tiết:"})," ",t.notes]})]})]}),l.jsx("div",{className:"flex justify-end gap-2 pt-4",children:l.jsx(ke,{variant:"outline",onClick:r,children:"Đóng"})})]})]})})}const Gge=Pt.object({productId:Pt.string().min(1,"Vui lòng chọn sản phẩm"),type:Pt.enum(["inbound","outbound"]),quantity:Pt.number().min(1,"Số lượng phải lớn hơn 0"),unitPrice:Pt.number().min(0,"Giá phải lớn hơn hoặc bằng 0").optional(),reason:Pt.string().min(1,"Vui lòng nhập lý do"),notes:Pt.string().optional(),supplierName:Pt.string().optional(),referenceNumber:Pt.string().optional()});function Kge(){const{toast:t}=mi(),[e,r]=T.useState(""),[n,a]=T.useState("all"),[i,s]=T.useState(!1),[o,c]=T.useState(null),[u,f]=T.useState(!1),[h,m]=T.useState(!1);T.useEffect(()=>{const q=new URLSearchParams(window.location.search),pe=q.get("search"),W=q.get("productId");pe&&(r(pe),t({title:"🔍 Tìm kiếm sản phẩm",description:`Đang tìm kiếm: "${pe}"`})),W&&a("all")},[t]);const[g,x]=T.useState(""),[v,w]=T.useState("all"),[S,b]=T.useState(""),[_,E]=T.useState(""),A=q=>{c(q),f(!0)},j=q=>{q&&U.reset(),s(q)},{data:O={},isLoading:D}=Ft({queryKey:["/api/products"]}),M=O.products||[],{data:k,isLoading:I}=Ft({queryKey:["/api/inventory/transactions",S,_],queryFn:()=>{const q=new URLSearchParams;if(S&&q.append("fromDate",S),_){const W=new Date(_);W.setHours(23,59,59,999),q.append("toDate",W.toISOString())}const pe=`/api/inventory/transactions${q.toString()?"?"+q.toString():""}`;return At(pe,{method:"GET"})}}),{data:R=[],isLoading:L}=Ft({queryKey:["/api/inventory/summary"],queryFn:()=>At("/api/inventory/summary",{method:"GET"})}),U=Yh({resolver:zm(Gge),defaultValues:{productId:"",type:"inbound",quantity:1,unitPrice:0,reason:"",notes:"",supplierName:"",referenceNumber:""}}),X=Vt({mutationFn:async q=>{const pe=parseInt(q.productId);if(q.type==="inbound"){const W={productId:pe,quantity:q.quantity,unitPrice:q.unitPrice||0,reason:q.reason,notes:q.notes,supplierName:q.supplierName,referenceNumber:q.referenceNumber};return At("/api/inventory/inbound",{method:"POST",body:JSON.stringify(W),headers:{"Content-Type":"application/json"}})}else{const W={productId:pe,quantity:q.quantity,reason:q.reason,notes:q.notes,referenceNumber:q.referenceNumber};return At("/api/inventory/outbound",{method:"POST",body:JSON.stringify(W),headers:{"Content-Type":"application/json"}})}},onSuccess:()=>{t({title:"Thành công",description:"Đã cập nhật tồn kho"}),Jt.invalidateQueries({queryKey:["/api/products"]}),Jt.invalidateQueries({queryKey:["/api/inventory/transactions"]}),Jt.invalidateQueries({queryKey:["/api/inventory/summary"]}),s(!1),U.reset()},onError:()=>{t({title:"Lỗi",description:"Không thể cập nhật tồn kho",variant:"destructive"})}}),ue=Array.isArray(M)?M.filter(q=>{const pe=ui(e),W=ui(q.name||""),V=ui(q.barcode||""),fe=W.includes(pe)||V.includes(pe);let Se=!0;return n==="low"?Se=q.stockQuantity<=q.minStockLevel:n==="out"?Se=q.stockQuantity===0:n==="normal"&&(Se=q.stockQuantity>q.minStockLevel),fe&&Se}):[],he=((k==null?void 0:k.data)||[]).filter(q=>{const pe=ui(g),W=ui(q.productName||""),V=ui(q.reason||""),fe=g===""||W.includes(pe)||V.includes(pe);let Se=!0;return v!=="all"&&(v==="new-product"?Se=q.type==="IN"&&(q.reason==="Nhập kho ban đầu"||q.reason.includes("ban đầu")):v==="adjustment"?Se=q.type==="IN"&&!(q.reason==="Nhập kho ban đầu"||q.reason.includes("ban đầu")):v==="outbound"&&(Se=q.type==="OUT")),fe&&Se}),J=q=>q.stockQuantity===0?{label:"Hết hàng",color:"bg-red-500",icon:Oi}:q.stockQuantity<=q.minStockLevel?{label:"Sắp hết",color:"bg-orange-500",icon:Oi}:{label:"Bình thường",color:"bg-green-500",icon:ja},ne=q=>q.type==="OUT"?{background:"bg-red-100",text:"text-red-600",icon:M1}:q.type==="IN"?q.reason==="Nhập kho ban đầu"||q.reason.includes("ban đầu")?{background:"bg-yellow-100",text:"text-yellow-600",icon:_s}:{background:"bg-green-100",text:"text-green-600",icon:_s}:{background:"bg-gray-100",text:"text-gray-600",icon:_s},G=Array.isArray(M)?M.length:0,z=Array.isArray(M)?M.filter(q=>q.stockQuantity<=q.minStockLevel).length:0,F=Array.isArray(M)?M.filter(q=>q.stockQuantity===0).length:0,ee=Array.isArray(M)?M.reduce((q,pe)=>q+Number(pe.price)*pe.stockQuantity,0):0,K=q=>{console.log("Form submitted with data:",q),X.mutate(q)},ae=q=>{console.log("📷 Scanned barcode in inventory:",q),r(q),m(!1),t({title:"📷 Quét mã vạch thành công",description:`Tìm kiếm sản phẩm: ${q}`})};return l.jsx(Ri,{title:"Quản lý kho",children:l.jsxs("div",{"data-testid":"inventory-page",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ja,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng sản phẩm"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900","data-testid":"total-products",children:G})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Oi,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp hết hàng"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600","data-testid":"low-stock-products",children:z})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(M1,{className:"h-8 w-8 text-red-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hết hàng"}),l.jsx("p",{className:"text-2xl font-bold text-red-600","data-testid":"out-of-stock-products",children:F})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(D1,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Giá trị tồn kho"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600","data-testid":"inventory-value",children:[ee.toLocaleString("vi-VN"),"₫"]})]})]})})})]}),l.jsxs(U0,{defaultValue:"products",className:"space-y-6",children:[l.jsxs(ld,{children:[l.jsx(Wn,{value:"products","data-testid":"tab-products",children:"Sản phẩm"}),l.jsx(Wn,{value:"movements","data-testid":"tab-movements",children:"Lịch sử xuất nhập"})]}),l.jsxs(Gn,{value:"products",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative flex items-center w-80",children:[l.jsx(tt,{placeholder:"Tìm kiếm sản phẩm (có thể gõ không dấu)...",value:e,onChange:q=>r(q.target.value),className:"pl-10 pr-12","data-testid":"input-product-search"}),l.jsx(gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),l.jsx(ke,{type:"button",size:"sm",variant:"ghost",className:"absolute right-1 top-1 h-8 w-8 p-0 hover:bg-blue-100",onClick:()=>m(!0),title:"Quét mã vạch bằng camera",children:l.jsx(Dm,{className:"h-4 w-4 text-blue-600"})})]}),l.jsxs(fa,{value:n,onValueChange:a,children:[l.jsx(Kn,{className:"w-48","data-testid":"select-stock-filter",children:l.jsx(da,{placeholder:"Tất cả trạng thái"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả trạng thái"}),l.jsx(er,{value:"normal",children:"Bình thường"}),l.jsx(er,{value:"low",children:"Sắp hết hàng"}),l.jsx(er,{value:"out",children:"Hết hàng"})]})]})]}),l.jsxs(Ya,{open:i,onOpenChange:j,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{"data-testid":"button-adjust-stock",onClick:()=>{console.log("Dialog opening, products available:",M.length)},children:[l.jsx(ja,{className:"w-4 h-4 mr-2"}),"Điều chỉnh tồn kho"]})}),l.jsxs(ka,{className:"max-w-md",children:[l.jsx(Da,{children:l.jsx(Ra,{children:"Điều chỉnh tồn kho"})}),l.jsx(Zh,{...U,children:l.jsxs("form",{onSubmit:U.handleSubmit(K),className:"space-y-4",children:[l.jsx(fr,{control:U.control,name:"productId",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Sản phẩm *"}),l.jsxs(fa,{onValueChange:pe=>{console.log("Product selected:",pe),q.onChange(pe)},value:q.value,children:[l.jsx(ir,{children:l.jsx(Kn,{"data-testid":"select-adjustment-product",className:"w-full",children:l.jsx(da,{placeholder:"Chọn sản phẩm"})})}),l.jsx(Xn,{className:"z-50",position:"popper",children:M.length===0?l.jsx(er,{value:"loading",disabled:!0,children:"Đang tải..."}):M.map((pe,W)=>(console.log(`Product ${W}:`,pe.productId,pe.name),l.jsxs(er,{value:String(pe.productId),children:[pe.name," (Hiện tại: ",pe.stockQuantity,")"]},pe.productId)))})]}),l.jsx(mr,{}),q.value&&l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(()=>{const pe=M.find(W=>W.productId.toString()===q.value);return pe?l.jsxs("span",{children:["Tồn kho hiện tại: ",l.jsx("strong",{children:pe.stockQuantity})," ",pe.unit||"sản phẩm"]}):null})()})]})}),l.jsx(fr,{control:U.control,name:"type",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Loại giao dịch *"}),l.jsxs(fa,{onValueChange:pe=>{console.log("Type selected:",pe),q.onChange(pe)},value:q.value,children:[l.jsx(ir,{children:l.jsx(Kn,{"data-testid":"select-adjustment-type",className:"w-full",children:l.jsx(da,{placeholder:"Chọn loại giao dịch"})})}),l.jsxs(Xn,{className:"z-50",position:"popper",children:[l.jsx(er,{value:"inbound",children:"Nhập kho"}),l.jsx(er,{value:"outbound",children:"Xuất kho"})]})]}),l.jsx(mr,{})]})}),l.jsx(fr,{control:U.control,name:"quantity",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Số lượng *"}),l.jsx(ir,{children:l.jsx(tt,{...q,type:"number",onChange:pe=>q.onChange(parseInt(pe.target.value)||0),"data-testid":"input-adjustment-quantity"})}),l.jsx(mr,{})]})}),U.watch("type")==="inbound"&&l.jsx(fr,{control:U.control,name:"unitPrice",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Giá nhập"}),l.jsx(ir,{children:l.jsx(tt,{...q,type:"number",onChange:pe=>q.onChange(parseFloat(pe.target.value)||0),"data-testid":"input-unit-price"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:U.control,name:"reason",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Lý do *"}),l.jsx(ir,{children:l.jsx(tt,{...q,"data-testid":"input-adjustment-reason"})}),l.jsx(mr,{})]})}),U.watch("type")==="inbound"&&l.jsx(fr,{control:U.control,name:"supplierName",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Nhà cung cấp"}),l.jsx(ir,{children:l.jsx(tt,{...q,"data-testid":"input-supplier-name"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:U.control,name:"referenceNumber",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Số chứng từ"}),l.jsx(ir,{children:l.jsx(tt,{...q,"data-testid":"input-reference-number"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:U.control,name:"notes",render:({field:q})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Ghi chú"}),l.jsx(ir,{children:l.jsx(tt,{...q,"data-testid":"input-adjustment-notes"})}),l.jsx(mr,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:X.isPending,"data-testid":"button-save-adjustment",children:X.isPending?"Đang lưu...":"Lưu"})]})]})})]})]})]}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sản phẩm"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tồn kho"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tối thiểu"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá trị"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D?[...Array(5)].map((q,pe)=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})})]},pe)):ue.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[l.jsx(ja,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Không tìm thấy sản phẩm"})]})}):ue.map(q=>{const pe=J(q),W=pe.icon,V=Number(q.price)*q.stockQuantity;return l.jsxs("tr",{"data-testid":`product-row-${q.productId}`,children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:q.imageUrl?q.imageUrl.startsWith("/uploads")?`http://101.53.9.76:5273${q.imageUrl}`:q.imageUrl:"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=40&h=40&fit=crop",alt:q.name||"Product",className:"w-10 h-10 rounded-lg object-cover mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900","data-testid":`product-name-${q.productId}`,children:q.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[Number(q.price).toLocaleString("vi-VN"),"₫"]})]})]})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900","data-testid":`product-sku-${q.productId}`,children:q.barcode||"N/A"}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("span",{className:"text-lg font-semibold","data-testid":`product-stock-${q.productId}`,children:q.stockQuantity}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:q.unit})]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500","data-testid":`product-min-stock-${q.productId}`,children:q.minStockLevel}),l.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900","data-testid":`product-value-${q.productId}`,children:[V.toLocaleString("vi-VN"),"₫"]}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs(Ct,{className:`text-white ${pe.color}`,"data-testid":`product-status-${q.productId}`,children:[l.jsx(W,{className:"w-3 h-3 mr-1"}),pe.label]})})]},q.productId)})})]})})})})]}),l.jsx(Gn,{value:"movements",className:"space-y-6",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center",children:[l.jsx(ul,{className:"w-5 h-5 mr-2"}),"Lịch sử xuất nhập kho"]})}),l.jsxs("div",{className:"px-6 pb-4 border-b",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tìm kiếm sản phẩm"}),l.jsxs("div",{className:"relative",children:[l.jsx(gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(tt,{placeholder:"Tên sản phẩm, lý do...",value:g,onChange:q=>x(q.target.value),className:"pl-10"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại giao dịch"}),l.jsxs(fa,{value:v,onValueChange:w,children:[l.jsx(Kn,{children:l.jsx(da,{placeholder:"Chọn loại"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả"}),l.jsx(er,{value:"new-product",children:"🟡 Nhập kho - Sản phẩm mới"}),l.jsx(er,{value:"adjustment",children:"🟢 Điều chỉnh kho"}),l.jsx(er,{value:"outbound",children:"🔴 Xuất kho - Đã bán"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Từ ngày"}),l.jsx(tt,{type:"date",value:S,onChange:q=>b(q.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Đến ngày"}),l.jsx(tt,{type:"date",value:_,onChange:q=>E(q.target.value)})]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Hiển thị ",he.length," / ",(k==null?void 0:k.totalCount)||0," giao dịch"]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-100 border border-yellow-300"}),l.jsx("span",{className:"text-yellow-600",children:"Sản phẩm mới"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),l.jsx("span",{className:"text-green-600",children:"Điều chỉnh kho"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),l.jsx("span",{className:"text-red-600",children:"Bán hàng"})]})]})]}),l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>{x(""),w("all"),b(""),E("")},children:"Xóa bộ lọc"})]})]}),l.jsx(Ve,{children:I?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{children:"Đang tải dữ liệu..."})}):l.jsxs("div",{className:"space-y-4",children:[he.map(q=>{const pe=ne(q),W=pe.icon;return l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`transaction-${q.transactionId}`,children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsx("div",{className:`p-2 rounded-full ${pe.background} ${pe.text}`,children:l.jsx(W,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:q.productName}),l.jsx("p",{className:"text-sm text-gray-500",children:q.reason}),q.notes&&l.jsx("p",{className:"text-xs text-gray-400",children:q.notes}),q.supplierName&&l.jsxs("p",{className:"text-xs text-blue-600",children:["NCC: ",q.supplierName]}),q.referenceNumber&&l.jsxs("p",{className:"text-xs text-gray-400",children:["Ref: ",q.referenceNumber]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`font-semibold ${q.type==="IN"?"text-green-600":"text-red-600"}`,children:[q.type==="IN"?"+":"",q.quantity]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[q.stockBefore," → ",q.stockAfter]}),l.jsx("p",{className:"text-xs text-gray-400",children:new Date(q.transactionDate).toLocaleDateString("vi-VN")}),l.jsx("p",{className:"text-xs text-green-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Math.abs(q.totalValue))})]}),q.type==="OUT"&&l.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>A(q),className:"flex items-center gap-1",children:[l.jsx(Hf,{className:"w-4 h-4"}),"Chi tiết"]})]})]},q.transactionId)}),he.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(ul,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:g||v!=="all"||S||_?"Không tìm thấy giao dịch nào phù hợp với bộ lọc":"Chưa có hoạt động xuất nhập kho nào"})]})]})})]})})]}),l.jsx(Wge,{transaction:o,isOpen:u,onClose:()=>f(!1)}),l.jsx(GW,{isOpen:h,onClose:()=>m(!1),onScan:ae})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uy={};uy.version="0.18.5";var wX=1252,Xge=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],bX=function(t){Xge.indexOf(t)!=-1&&(wX=t)};function Qge(){bX(1252)}var ag=function(t){bX(t)};function Yge(){ag(1200),Qge()}var Xx=function(e){return String.fromCharCode(e)},N6=function(e){return String.fromCharCode(e)},fy,pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ig(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<t.length;)r=t.charCodeAt(u++),i=r>>2,n=t.charCodeAt(u++),s=(r&3)<<4|n>>4,a=t.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),e+=pu.charAt(i)+pu.charAt(s)+pu.charAt(o)+pu.charAt(c);return e}function hc(t){var e="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=pu.indexOf(t.charAt(u++)),s=pu.indexOf(t.charAt(u++)),r=i<<2|s>>4,e+=String.fromCharCode(r),o=pu.indexOf(t.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),c=pu.indexOf(t.charAt(u++)),a=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var Mr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),bc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Zf(t){return Mr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function E6(t){return Mr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Do=function(e){return Mr?bc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function iw(t){if(typeof ArrayBuffer>"u")return Do(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function mv(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Zge(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ka=Mr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:bc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Jge(t){for(var e=[],r=0,n=t.length+250,a=Zf(t.length+255),i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(e.push(a.slice(0,r)),r=0,a=Zf(65535),n=65530)}return e.push(a.slice(0,r)),Ka(e)}var wm=/\u0000/g,Qx=/[\u0001-\u0006]/g;function Nh(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Fo(t,e){var r=""+t;return r.length>=e?r:Pn("0",e-r.length)+r}function p3(t,e){var r=""+t;return r.length>=e?r:Pn(" ",e-r.length)+r}function dy(t,e){var r=""+t;return r.length>=e?r:r+Pn(" ",e-r.length)}function eve(t,e){var r=""+Math.round(t);return r.length>=e?r:Pn("0",e-r.length)+r}function tve(t,e){var r=""+t;return r.length>=e?r:Pn("0",e-r.length)+r}var A6=Math.pow(2,32);function Yd(t,e){if(t>A6||t<-A6)return eve(t,e);var r=Math.round(t);return tve(r,e)}function hy(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var T6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],fS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rve(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Dn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},C6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function py(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,s=1,o=0,c=1,u=0,f=0,h=Math.floor(a);u<e&&(h=Math.floor(a),o=h*s+i,f=h*u+c,!(a-h<5e-8));)a=1/(a-h),i=s,s=o,c=u,u=f;if(f>e&&(u>e?(f=c,o=i):(f=u,o=s)),!r)return[0,n*o,f];var m=Math.floor(n*o/f);return[m,n*o-m*f,f]}function Yx(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,s=[],o={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=uve(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var _X=new Date(1899,11,31,0,0,0),ave=_X.getTime(),ive=new Date(1900,2,1,0,0,0);function SX(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=ive&&(r+=1440*60*1e3),(r-(ave+(t.getTimezoneOffset()-_X.getTimezoneOffset())*6e4))/(1440*60*1e3)}function m3(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function sve(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ove(t){var e=t<0?12:11,r=m3(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function lve(t){var e=m3(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function cve(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=ove(t):e===10?r=t.toFixed(10).substr(0,12):r=lve(t),m3(sve(r.toUpperCase()))}function SC(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):cve(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Iu(14,SX(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function uve(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function fve(t,e,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,u=e.length;break;case 3:return fS[r.m-1][1];case 5:return fS[r.m-1][0];default:return fS[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,u=e.length;break;case 3:return T6[r.q][0];default:return T6[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Fo(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=Fo(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=o,u=1;break}var f=u>0?Fo(c,u):"";return f}function mu(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var NX=/%/g;function dve(t,e,r){var n=e.replace(NX,""),a=e.length-n.length;return ec(t,n,r*Math.pow(10,2*a))+Pn("%",a)}function hve(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ec(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function EX(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+EX(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var AX=/# (\?+)( ?)\/( ?)(\d+)/;function pve(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Pn(" ",t[1].length+1+t[4].length):p3(s,t[1].length)+t[2]+"/"+t[3]+Fo(o,t[4].length))}function mve(t,e,r){return r+(e===0?"":""+e)+Pn(" ",t[1].length+2+t[4].length)}var TX=/^#*0*\.([0#]+)/,CX=/\).*[0#]/,jX=/\(###\) ###\\?-####/;function Ti(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function j6(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function O6(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gve(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function vve(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Gs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(CX)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gs("n",n,r):"("+Gs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return hve(t,e,r);if(e.indexOf("%")!==-1)return dve(t,e,r);if(e.indexOf("E")!==-1)return EX(e,r);if(e.charCodeAt(0)===36)return"$"+Gs(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Yd(c,e.length);if(e.match(/^[#?]+$/))return a=Yd(r,0),a==="0"&&(a=""),a.length>e.length?a:Ti(e.substr(0,e.length-a.length))+a;if(i=e.match(AX))return pve(i,c,u);if(e.match(/^#+0+$/))return u+Yd(c,e.length-e.indexOf("0"));if(i=e.match(TX))return a=j6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ti(i[1])).replace(/\.$/,"."+Ti(i[1])).replace(/\.(\d*)$/,function(x,v){return"."+v+Pn("0",Ti(i[1]).length-v.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+j6(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+mu(Yd(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gs(t,e,-r):mu(""+(Math.floor(r)+gve(r,i[1].length)))+"."+Fo(O6(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Gs(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nh(Gs(t,e.replace(/[\\-]/g,""),r)),s=0,Nh(Nh(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<a.length?a.charAt(s++):x==="0"?"0":""}));if(e.match(jX))return a=Gs(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=py(c,Math.pow(10,s)-1,!1),a=""+u,f=ec("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=dy(o[2],s),f.length<i[4].length&&(f=Ti(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=py(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p3(o[1],s)+i[2]+"/"+i[3]+dy(o[2],s):Pn(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=Yd(r,0),e.length<=a.length?a:Ti(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=e.indexOf(".")-s,m=e.length-a.length-h;return Ti(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=O6(r,i[1].length),r<0?"-"+Gs(t,e,-r):mu(vve(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Fo(0,3-x.length):"")+x})+"."+Fo(s,i[1].length);switch(e){case"###,##0.00":return Gs(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=mu(Yd(c,0));return g!=="0"?u+g:"";case"###,###.00":return Gs(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Gs(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function xve(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ec(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function yve(t,e,r){var n=e.replace(NX,""),a=e.length-n.length;return ec(t,n,r*Math.pow(10,2*a))+Pn("%",a)}function OX(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+OX(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function el(t,e,r){if(t.charCodeAt(0)===40&&!e.match(CX)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?el("n",n,r):"("+el("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return xve(t,e,r);if(e.indexOf("%")!==-1)return yve(t,e,r);if(e.indexOf("E")!==-1)return OX(e,r);if(e.charCodeAt(0)===36)return"$"+el(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Fo(c,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:Ti(e.substr(0,e.length-a.length))+a;if(i=e.match(AX))return mve(i,c,u);if(e.match(/^#+0+$/))return u+Fo(c,e.length-e.indexOf("0"));if(i=e.match(TX))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ti(i[1])).replace(/\.$/,"."+Ti(i[1])),a=a.replace(/\.(\d*)$/,function(x,v){return"."+v+Pn("0",Ti(i[1]).length-v.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+mu(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+el(t,e,-r):mu(""+r)+"."+Pn("0",i[1].length);if(i=e.match(/^#,#*,#0/))return el(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nh(el(t,e.replace(/[\\-]/g,""),r)),s=0,Nh(Nh(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<a.length?a.charAt(s++):x==="0"?"0":""}));if(e.match(jX))return a=el(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=py(c,Math.pow(10,s)-1,!1),a=""+u,f=ec("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=dy(o[2],s),f.length<i[4].length&&(f=Ti(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=py(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p3(o[1],s)+i[2]+"/"+i[3]+dy(o[2],s):Pn(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:Ti(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=e.indexOf(".")-s,m=e.length-a.length-h;return Ti(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+el(t,e,-r):mu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Fo(0,3-x.length):"")+x})+"."+Fo(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=mu(""+c);return g!=="0"?u+g:"";default:if(e.match(/\.[0#?]*$/))return el(t,e.slice(0,e.lastIndexOf(".")),r)+Ti(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ec(t,e,r){return(r|0)===r?el(t,e,r):Gs(t,e,r)}function wve(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var IX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function PX(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":hy(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(IX))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function bve(t,e,r,n){for(var a=[],i="",s=0,o="",c="t",u,f,h,m="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!hy(t,s))throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(h=t.charCodeAt(++s))!==34&&s<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++s;break;case"\\":var g=t.charAt(++s),x=g==="("||g===")"?g:"t";a[a.length]={t:x,v:g},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=Yx(e,r,t.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:t.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Yx(e,r),u==null))return"";for(i=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"上":var v={t:o,v:o};if(u==null&&(u=Yx(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",m="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",s+=5,m="h"):t.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(v.v=u.H>=12?"下午":"上午"),v.t="T",s+=5,m="h"):(v.t="t",++s),u==null&&v.t==="T")return"";a[a.length]=v,c=o;break;case"[":for(i=o;t.charAt(s++)!=="]"&&s<t.length;)i+=t.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(IX)){if(u==null&&(u=Yx(e,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",PX(t)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<t.length&&(o=t.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)i+=t.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"t",v:o},++s;break}var w=0,S=0,b;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=m,c="h",w<1&&(w=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(S=Math.max(S,b[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[s].v.match(/[Hh]/)&&(w=1),w<2&&a[s].v.match(/[Mm]/)&&(w=2),w<3&&a[s].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",E;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=fve(a[s].t.charCodeAt(0),a[s].v,u,S),a[s].t="t";break;case"n":case"?":for(E=s+1;a[E]!=null&&((o=a[E].t)==="?"||o==="D"||(o===" "||o==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[s].v+=a[E].v,a[E]={v:"",t:";"},++E;_+=a[s].v,s=E-1;break;case"G":a[s].t="t",a[s].v=SC(e,r);break}var A="",j,O;if(_.length>0){_.charCodeAt(0)==40?(j=e<0&&_.charCodeAt(0)===45?-e:e,O=ec("n",_,j)):(j=e<0&&n>1?-e:e,O=ec("n",_,j),j<0&&a[0]&&a[0].t=="t"&&(O=O.substr(1),a[0].v="-"+a[0].v)),E=O.length-1;var D=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){D=s;break}var M=a.length;if(D===a.length&&O.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(E>=a[s].v.length-1?(E-=a[s].v.length,a[s].v=O.substr(E+1,a[s].v.length)):E<0?a[s].v="":(a[s].v=O.substr(0,E+1),E=-1),a[s].t="t",M=s);E>=0&&M<a.length&&(a[M].v=O.substr(0,E+1)+a[M].v)}else if(D!==a.length&&O.indexOf("E")===-1){for(E=O.indexOf(".")-1,s=D;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(f=a[s].v.indexOf(".")>-1&&s===D?a[s].v.indexOf(".")-1:a[s].v.length-1,A=a[s].v.substr(f+1);f>=0;--f)E>=0&&(a[s].v.charAt(f)==="0"||a[s].v.charAt(f)==="#")&&(A=O.charAt(E--)+A);a[s].v=A,a[s].t="t",M=s}for(E>=0&&M<a.length&&(a[M].v=O.substr(0,E+1)+a[M].v),E=O.indexOf(".")+1,s=D;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==D)){for(f=a[s].v.indexOf(".")>-1&&s===D?a[s].v.indexOf(".")+1:0,A=a[s].v.substr(0,f);f<a[s].v.length;++f)E<O.length&&(A+=O.charAt(E++));a[s].v=A,a[s].t="t",M=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=ec(a[s].t,a[s].v,j),a[s].t="t");var k="";for(s=0;s!==a.length;++s)a[s]!=null&&(k+=a[s].v);return k}var I6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function P6(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function _ve(t,e){var r=wve(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(I6),o=r[1].match(I6);return P6(e,s)?[n,r[0]]:P6(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Iu(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Dn)[t],n==null&&(n=r.table&&r.table[C6[t]]||Dn[C6[t]]),n==null&&(n=nve[t]||"General");break}if(hy(n,0))return SC(e,r);e instanceof Date&&(e=SX(e,r.date1904));var a=_ve(n,e);if(hy(a[1]))return SC(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return bve(a[1],e,r,a[0])}function kX(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Dn[r]==null){e<0&&(e=r);continue}if(Dn[r]==t){e=r;break}}e<0&&(e=391)}return Dn[e]=t,e}function sw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&kX(t[e],e)}function ow(){Dn=rve()}var DX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Sve(t){var e=typeof t=="number"?Dn[t]:t;return e=e.replace(DX,"(\\d+)"),new RegExp("^"+e+"$")}function Nve(t,e,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(e.match(DX)||[]).forEach(function(h,m){var g=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=g;break;case"d":i=g;break;case"h":s=g;break;case"s":c=g;break;case"m":s>=0?o=g:a=g;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?f:u+"T"+f}var Eve=(function(){var t={};t.version="1.2.0";function e(){for(var O=0,D=new Array(256),M=0;M!=256;++M)O=M,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,D[M]=O;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(O){var D=0,M=0,k=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)I[k]=O[k];for(k=0;k!=256;++k)for(M=O[k],D=256+k;D<4096;D+=256)M=I[D]=M>>>8^O[M&255];var R=[];for(k=1;k!=16;++k)R[k-1]=typeof Int32Array<"u"?I.subarray(k*256,k*256+256):I.slice(k*256,k*256+256);return R}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],f=a[5],h=a[6],m=a[7],g=a[8],x=a[9],v=a[10],w=a[11],S=a[12],b=a[13],_=a[14];function E(O,D){for(var M=D^-1,k=0,I=O.length;k<I;)M=M>>>8^r[(M^O.charCodeAt(k++))&255];return~M}function A(O,D){for(var M=D^-1,k=O.length-15,I=0;I<k;)M=_[O[I++]^M&255]^b[O[I++]^M>>8&255]^S[O[I++]^M>>16&255]^w[O[I++]^M>>>24]^v[O[I++]]^x[O[I++]]^g[O[I++]]^m[O[I++]]^h[O[I++]]^f[O[I++]]^u[O[I++]]^c[O[I++]]^o[O[I++]]^s[O[I++]]^i[O[I++]]^r[O[I++]];for(k+=15;I<k;)M=M>>>8^r[(M^O[I++])&255];return~M}function j(O,D){for(var M=D^-1,k=0,I=O.length,R=0,L=0;k<I;)R=O.charCodeAt(k++),R<128?M=M>>>8^r[(M^R)&255]:R<2048?(M=M>>>8^r[(M^(192|R>>6&31))&255],M=M>>>8^r[(M^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,L=O.charCodeAt(k++)&1023,M=M>>>8^r[(M^(240|R>>8&7))&255],M=M>>>8^r[(M^(128|R>>2&63))&255],M=M>>>8^r[(M^(128|L>>6&15|(R&3)<<4))&255],M=M>>>8^r[(M^(128|L&63))&255]):(M=M>>>8^r[(M^(224|R>>12&15))&255],M=M>>>8^r[(M^(128|R>>6&63))&255],M=M>>>8^r[(M^(128|R&63))&255]);return~M}return t.table=r,t.bstr=E,t.buf=A,t.str=j,t})(),en=(function(){var e={};e.version="1.2.1";function r(H,ie){for(var Q=H.split("/"),te=ie.split("/"),le=0,ce=0,Ae=Math.min(Q.length,te.length);le<Ae;++le){if(ce=Q[le].length-te[le].length)return ce;if(Q[le]!=te[le])return Q[le]<te[le]?-1:1}return Q.length-te.length}function n(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:n(H.slice(0,-1));var ie=H.lastIndexOf("/");return ie===-1?H:H.slice(0,ie+1)}function a(H){if(H.charAt(H.length-1)=="/")return a(H.slice(0,-1));var ie=H.lastIndexOf("/");return ie===-1?H:H.slice(ie+1)}function i(H,ie){typeof ie=="string"&&(ie=new Date(ie));var Q=ie.getHours();Q=Q<<6|ie.getMinutes(),Q=Q<<5|ie.getSeconds()>>>1,H.write_shift(2,Q);var te=ie.getFullYear()-1980;te=te<<4|ie.getMonth()+1,te=te<<5|ie.getDate(),H.write_shift(2,te)}function s(H){var ie=H.read_shift(2)&65535,Q=H.read_shift(2)&65535,te=new Date,le=Q&31;Q>>>=5;var ce=Q&15;Q>>>=4,te.setMilliseconds(0),te.setFullYear(Q+1980),te.setMonth(ce-1),te.setDate(le);var Ae=ie&31;ie>>>=5;var Fe=ie&63;return ie>>>=6,te.setHours(ie),te.setMinutes(Fe),te.setSeconds(Ae<<1),te}function o(H){bs(H,0);for(var ie={},Q=0;H.l<=H.length-4;){var te=H.read_shift(2),le=H.read_shift(2),ce=H.l+le,Ae={};switch(te){case 21589:Q=H.read_shift(1),Q&1&&(Ae.mtime=H.read_shift(4)),le>5&&(Q&2&&(Ae.atime=H.read_shift(4)),Q&4&&(Ae.ctime=H.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}H.l=ce,ie[te]=Ae}return ie}var c;function u(){return c||(c={})}function f(H,ie){if(H[0]==80&&H[1]==75)return sn(H,ie);if((H[0]|32)==109&&(H[1]|32)==105)return ls(H,ie);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Q=3,te=512,le=0,ce=0,Ae=0,Fe=0,Te=0,je=[],Ie=H.slice(0,512);bs(Ie,0);var Ke=h(Ie);switch(Q=Ke[0],Q){case 3:te=512;break;case 4:te=4096;break;case 0:if(Ke[1]==0)return sn(H,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}te!==512&&(Ie=H.slice(0,te),bs(Ie,28));var ft=H.slice(0,te);m(Ie,Q);var yt=Ie.read_shift(4,"i");if(Q===3&&yt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+yt);Ie.l+=4,Ae=Ie.read_shift(4,"i"),Ie.l+=4,Ie.chk("00100000","Mini Stream Cutoff Size: "),Fe=Ie.read_shift(4,"i"),le=Ie.read_shift(4,"i"),Te=Ie.read_shift(4,"i"),ce=Ie.read_shift(4,"i");for(var rt=-1,Je=0;Je<109&&(rt=Ie.read_shift(4,"i"),!(rt<0));++Je)je[Je]=rt;var Qt=g(H,te);w(Te,ce,Qt,te,je);var Hr=b(Qt,Ae,je,te);Hr[Ae].name="!Directory",le>0&&Fe!==L&&(Hr[Fe].name="!MiniFAT"),Hr[je[0]].name="!FAT",Hr.fat_addrs=je,Hr.ssz=te;var Yr={},Nn=[],Xo=[],ho=[];_(Ae,Hr,Qt,Nn,le,Yr,Xo,Fe),x(Xo,ho,Nn),Nn.shift();var us={FileIndex:Xo,FullPaths:ho};return ie&&ie.raw&&(us.raw={header:ft,sectors:Qt}),us}function h(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(U,"Header Signature: "),H.l+=16;var ie=H.read_shift(2,"u");return[H.read_shift(2,"u"),ie]}function m(H,ie){var Q=9;switch(H.l+=2,Q=H.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function g(H,ie){for(var Q=Math.ceil(H.length/ie)-1,te=[],le=1;le<Q;++le)te[le-1]=H.slice(le*ie,(le+1)*ie);return te[Q-1]=H.slice(Q*ie),te}function x(H,ie,Q){for(var te=0,le=0,ce=0,Ae=0,Fe=0,Te=Q.length,je=[],Ie=[];te<Te;++te)je[te]=Ie[te]=te,ie[te]=Q[te];for(;Fe<Ie.length;++Fe)te=Ie[Fe],le=H[te].L,ce=H[te].R,Ae=H[te].C,je[te]===te&&(le!==-1&&je[le]!==le&&(je[te]=je[le]),ce!==-1&&je[ce]!==ce&&(je[te]=je[ce])),Ae!==-1&&(je[Ae]=te),le!==-1&&te!=je[te]&&(je[le]=je[te],Ie.lastIndexOf(le)<Fe&&Ie.push(le)),ce!==-1&&te!=je[te]&&(je[ce]=je[te],Ie.lastIndexOf(ce)<Fe&&Ie.push(ce));for(te=1;te<Te;++te)je[te]===te&&(ce!==-1&&je[ce]!==ce?je[te]=je[ce]:le!==-1&&je[le]!==le&&(je[te]=je[le]));for(te=1;te<Te;++te)if(H[te].type!==0){if(Fe=te,Fe!=je[Fe])do Fe=je[Fe],ie[te]=ie[Fe]+"/"+ie[te];while(Fe!==0&&je[Fe]!==-1&&Fe!=je[Fe]);je[te]=-1}for(ie[0]+="/",te=1;te<Te;++te)H[te].type!==2&&(ie[te]+="/")}function v(H,ie,Q){for(var te=H.start,le=H.size,ce=[],Ae=te;Q&&le>0&&Ae>=0;)ce.push(ie.slice(Ae*R,Ae*R+R)),le-=R,Ae=df(Q,Ae*4);return ce.length===0?Be(0):Ka(ce).slice(0,H.size)}function w(H,ie,Q,te,le){var ce=L;if(H===L){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Ae=Q[H],Fe=(te>>>2)-1;if(!Ae)return;for(var Te=0;Te<Fe&&(ce=df(Ae,Te*4))!==L;++Te)le.push(ce);w(df(Ae,te-4),ie-1,Q,te,le)}}function S(H,ie,Q,te,le){var ce=[],Ae=[];le||(le=[]);var Fe=te-1,Te=0,je=0;for(Te=ie;Te>=0;){le[Te]=!0,ce[ce.length]=Te,Ae.push(H[Te]);var Ie=Q[Math.floor(Te*4/te)];if(je=Te*4&Fe,te<4+je)throw new Error("FAT boundary crossed: "+Te+" 4 "+te);if(!H[Ie])break;Te=df(H[Ie],je)}return{nodes:ce,data:$6([Ae])}}function b(H,ie,Q,te){var le=H.length,ce=[],Ae=[],Fe=[],Te=[],je=te-1,Ie=0,Ke=0,ft=0,yt=0;for(Ie=0;Ie<le;++Ie)if(Fe=[],ft=Ie+ie,ft>=le&&(ft-=le),!Ae[ft]){Te=[];var rt=[];for(Ke=ft;Ke>=0;){rt[Ke]=!0,Ae[Ke]=!0,Fe[Fe.length]=Ke,Te.push(H[Ke]);var Je=Q[Math.floor(Ke*4/te)];if(yt=Ke*4&je,te<4+yt)throw new Error("FAT boundary crossed: "+Ke+" 4 "+te);if(!H[Je]||(Ke=df(H[Je],yt),rt[Ke]))break}ce[ft]={nodes:Fe,data:$6([Te])}}return ce}function _(H,ie,Q,te,le,ce,Ae,Fe){for(var Te=0,je=te.length?2:0,Ie=ie[H].data,Ke=0,ft=0,yt;Ke<Ie.length;Ke+=128){var rt=Ie.slice(Ke,Ke+128);bs(rt,64),ft=rt.read_shift(2),yt=w3(rt,0,ft-je),te.push(yt);var Je={name:yt,type:rt.read_shift(1),color:rt.read_shift(1),L:rt.read_shift(4,"i"),R:rt.read_shift(4,"i"),C:rt.read_shift(4,"i"),clsid:rt.read_shift(16),state:rt.read_shift(4,"i"),start:0,size:0},Qt=rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2);Qt!==0&&(Je.ct=E(rt,rt.l-8));var Hr=rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2);Hr!==0&&(Je.mt=E(rt,rt.l-8)),Je.start=rt.read_shift(4,"i"),Je.size=rt.read_shift(4,"i"),Je.size<0&&Je.start<0&&(Je.size=Je.type=0,Je.start=L,Je.name=""),Je.type===5?(Te=Je.start,le>0&&Te!==L&&(ie[Te].name="!StreamData")):Je.size>=4096?(Je.storage="fat",ie[Je.start]===void 0&&(ie[Je.start]=S(Q,Je.start,ie.fat_addrs,ie.ssz)),ie[Je.start].name=Je.name,Je.content=ie[Je.start].data.slice(0,Je.size)):(Je.storage="minifat",Je.size<0?Je.size=0:Te!==L&&Je.start!==L&&ie[Te]&&(Je.content=v(Je,ie[Te].data,(ie[Fe]||{}).data))),Je.content&&bs(Je.content,0),ce[yt]=Je,Ae.push(Je)}}function E(H,ie){return new Date((Es(H,ie+4)/1e7*Math.pow(2,32)+Es(H,ie)/1e7-11644473600)*1e3)}function A(H,ie){return u(),f(c.readFileSync(H),ie)}function j(H,ie){var Q=ie&&ie.type;switch(Q||Mr&&Buffer.isBuffer(H)&&(Q="buffer"),Q||"base64"){case"file":return A(H,ie);case"base64":return f(Do(hc(H)),ie);case"binary":return f(Do(H),ie)}return f(H,ie)}function O(H,ie){var Q=ie||{},te=Q.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=te+"/",H.FileIndex[0]={name:te,type:5}),Q.CLSID&&(H.FileIndex[0].clsid=Q.CLSID),D(H)}function D(H){var ie="Sh33tJ5";if(!en.find(H,"/"+ie)){var Q=Be(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,H.FileIndex.push({name:ie,type:2,content:Q,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ie),M(H)}}function M(H,ie){O(H);for(var Q=!1,te=!1,le=H.FullPaths.length-1;le>=0;--le){var ce=H.FileIndex[le];switch(ce.type){case 0:te?Q=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(ce.R*ce.L*ce.C)&&(Q=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ie)){var Ae=new Date(1987,1,19),Fe=0,Te=Object.create?Object.create(null):{},je=[];for(le=0;le<H.FullPaths.length;++le)Te[H.FullPaths[le]]=!0,H.FileIndex[le].type!==0&&je.push([H.FullPaths[le],H.FileIndex[le]]);for(le=0;le<je.length;++le){var Ie=n(je[le][0]);te=Te[Ie],te||(je.push([Ie,{name:a(Ie).replace("/",""),type:1,clsid:ue,ct:Ae,mt:Ae,content:null}]),Te[Ie]=!0)}for(je.sort(function(yt,rt){return r(yt[0],rt[0])}),H.FullPaths=[],H.FileIndex=[],le=0;le<je.length;++le)H.FullPaths[le]=je[le][0],H.FileIndex[le]=je[le][1];for(le=0;le<je.length;++le){var Ke=H.FileIndex[le],ft=H.FullPaths[le];if(Ke.name=a(ft).replace("/",""),Ke.L=Ke.R=Ke.C=-(Ke.color=1),Ke.size=Ke.content?Ke.content.length:0,Ke.start=0,Ke.clsid=Ke.clsid||ue,le===0)Ke.C=je.length>1?1:-1,Ke.size=0,Ke.type=5;else if(ft.slice(-1)=="/"){for(Fe=le+1;Fe<je.length&&n(H.FullPaths[Fe])!=ft;++Fe);for(Ke.C=Fe>=je.length?-1:Fe,Fe=le+1;Fe<je.length&&n(H.FullPaths[Fe])!=n(ft);++Fe);Ke.R=Fe>=je.length?-1:Fe,Ke.type=1}else n(H.FullPaths[le+1]||"")==n(ft)&&(Ke.R=le+1),Ke.type=2}}}function k(H,ie){var Q=ie||{};if(Q.fileType=="mad")return Ko(H,Q);switch(M(H),Q.fileType){case"zip":return ti(H,Q)}var te=(function(yt){for(var rt=0,Je=0,Qt=0;Qt<yt.FileIndex.length;++Qt){var Hr=yt.FileIndex[Qt];if(Hr.content){var Yr=Hr.content.length;Yr>0&&(Yr<4096?rt+=Yr+63>>6:Je+=Yr+511>>9)}}for(var Nn=yt.FullPaths.length+3>>2,Xo=rt+7>>3,ho=rt+127>>7,us=Xo+Je+Nn+ho,Z=us+127>>7,De=Z<=109?0:Math.ceil((Z-109)/127);us+Z+De+127>>7>Z;)De=++Z<=109?0:Math.ceil((Z-109)/127);var Qe=[1,De,Z,ho,Nn,Je,rt,0];return yt.FileIndex[0].size=rt<<6,Qe[7]=(yt.FileIndex[0].start=Qe[0]+Qe[1]+Qe[2]+Qe[3]+Qe[4]+Qe[5])+(Qe[6]+7>>3),Qe})(H),le=Be(te[7]<<9),ce=0,Ae=0;{for(ce=0;ce<8;++ce)le.write_shift(1,X[ce]);for(ce=0;ce<8;++ce)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),ce=0;ce<3;++ce)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,te[2]),le.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:L),le.write_shift(4,te[3]),le.write_shift(-4,te[1]?te[0]-1:L),le.write_shift(4,te[1]),ce=0;ce<109;++ce)le.write_shift(-4,ce<te[2]?te[1]+ce:-1)}if(te[1])for(Ae=0;Ae<te[1];++Ae){for(;ce<236+Ae*127;++ce)le.write_shift(-4,ce<te[2]?te[1]+ce:-1);le.write_shift(-4,Ae===te[1]-1?L:Ae+1)}var Fe=function(yt){for(Ae+=yt;ce<Ae-1;++ce)le.write_shift(-4,ce+1);yt&&(++ce,le.write_shift(-4,L))};for(Ae=ce=0,Ae+=te[1];ce<Ae;++ce)le.write_shift(-4,he.DIFSECT);for(Ae+=te[2];ce<Ae;++ce)le.write_shift(-4,he.FATSECT);Fe(te[3]),Fe(te[4]);for(var Te=0,je=0,Ie=H.FileIndex[0];Te<H.FileIndex.length;++Te)Ie=H.FileIndex[Te],Ie.content&&(je=Ie.content.length,!(je<4096)&&(Ie.start=Ae,Fe(je+511>>9)));for(Fe(te[6]+7>>3);le.l&511;)le.write_shift(-4,he.ENDOFCHAIN);for(Ae=ce=0,Te=0;Te<H.FileIndex.length;++Te)Ie=H.FileIndex[Te],Ie.content&&(je=Ie.content.length,!(!je||je>=4096)&&(Ie.start=Ae,Fe(je+63>>6)));for(;le.l&511;)le.write_shift(-4,he.ENDOFCHAIN);for(ce=0;ce<te[4]<<2;++ce){var Ke=H.FullPaths[ce];if(!Ke||Ke.length===0){for(Te=0;Te<17;++Te)le.write_shift(4,0);for(Te=0;Te<3;++Te)le.write_shift(4,-1);for(Te=0;Te<12;++Te)le.write_shift(4,0);continue}Ie=H.FileIndex[ce],ce===0&&(Ie.start=Ie.size?Ie.start-1:L);var ft=ce===0&&Q.root||Ie.name;if(je=2*(ft.length+1),le.write_shift(64,ft,"utf16le"),le.write_shift(2,je),le.write_shift(1,Ie.type),le.write_shift(1,Ie.color),le.write_shift(-4,Ie.L),le.write_shift(-4,Ie.R),le.write_shift(-4,Ie.C),Ie.clsid)le.write_shift(16,Ie.clsid,"hex");else for(Te=0;Te<4;++Te)le.write_shift(4,0);le.write_shift(4,Ie.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Ie.start),le.write_shift(4,Ie.size),le.write_shift(4,0)}for(ce=1;ce<H.FileIndex.length;++ce)if(Ie=H.FileIndex[ce],Ie.size>=4096)if(le.l=Ie.start+1<<9,Mr&&Buffer.isBuffer(Ie.content))Ie.content.copy(le,le.l,0,Ie.size),le.l+=Ie.size+511&-512;else{for(Te=0;Te<Ie.size;++Te)le.write_shift(1,Ie.content[Te]);for(;Te&511;++Te)le.write_shift(1,0)}for(ce=1;ce<H.FileIndex.length;++ce)if(Ie=H.FileIndex[ce],Ie.size>0&&Ie.size<4096)if(Mr&&Buffer.isBuffer(Ie.content))Ie.content.copy(le,le.l,0,Ie.size),le.l+=Ie.size+63&-64;else{for(Te=0;Te<Ie.size;++Te)le.write_shift(1,Ie.content[Te]);for(;Te&63;++Te)le.write_shift(1,0)}if(Mr)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function I(H,ie){var Q=H.FullPaths.map(function(Te){return Te.toUpperCase()}),te=Q.map(function(Te){var je=Te.split("/");return je[je.length-(Te.slice(-1)=="/"?2:1)]}),le=!1;ie.charCodeAt(0)===47?(le=!0,ie=Q[0].slice(0,-1)+ie):le=ie.indexOf("/")!==-1;var ce=ie.toUpperCase(),Ae=le===!0?Q.indexOf(ce):te.indexOf(ce);if(Ae!==-1)return H.FileIndex[Ae];var Fe=!ce.match(Qx);for(ce=ce.replace(wm,""),Fe&&(ce=ce.replace(Qx,"!")),Ae=0;Ae<Q.length;++Ae)if((Fe?Q[Ae].replace(Qx,"!"):Q[Ae]).replace(wm,"")==ce||(Fe?te[Ae].replace(Qx,"!"):te[Ae]).replace(wm,"")==ce)return H.FileIndex[Ae];return null}var R=64,L=-2,U="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],ue="00000000000000000000000000000000",he={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ue,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(H,ie,Q){u();var te=k(H,Q);c.writeFileSync(ie,te)}function ne(H){for(var ie=new Array(H.length),Q=0;Q<H.length;++Q)ie[Q]=String.fromCharCode(H[Q]);return ie.join("")}function G(H,ie){var Q=k(H,ie);switch(ie&&ie.type||"buffer"){case"file":return u(),c.writeFileSync(ie.filename,Q),Q;case"binary":return typeof Q=="string"?Q:ne(Q);case"base64":return ig(typeof Q=="string"?Q:ne(Q));case"buffer":if(Mr)return Buffer.isBuffer(Q)?Q:bc(Q);case"array":return typeof Q=="string"?Do(Q):Q}return Q}var z;function F(H){try{var ie=H.InflateRaw,Q=new ie;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)z=H;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function ee(H,ie){if(!z)return Ds(H,ie);var Q=z.InflateRaw,te=new Q,le=te._processChunk(H.slice(H.l),te._finishFlushFlag);return H.l+=te.bytesRead,le}function K(H){return z?z.deflateRawSync(H):tr(H)}var ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function W(H){var ie=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var V=typeof Uint8Array<"u",fe=V?new Uint8Array(256):[],Se=0;Se<256;++Se)fe[Se]=W(Se);function ve(H,ie){var Q=fe[H&255];return ie<=8?Q>>>8-ie:(Q=Q<<8|fe[H>>8&255],ie<=16?Q>>>16-ie:(Q=Q<<8|fe[H>>16&255],Q>>>24-ie))}function gt(H,ie){var Q=ie&7,te=ie>>>3;return(H[te]|(Q<=6?0:H[te+1]<<8))>>>Q&3}function Y(H,ie){var Q=ie&7,te=ie>>>3;return(H[te]|(Q<=5?0:H[te+1]<<8))>>>Q&7}function Oe(H,ie){var Q=ie&7,te=ie>>>3;return(H[te]|(Q<=4?0:H[te+1]<<8))>>>Q&15}function Re(H,ie){var Q=ie&7,te=ie>>>3;return(H[te]|(Q<=3?0:H[te+1]<<8))>>>Q&31}function Me(H,ie){var Q=ie&7,te=ie>>>3;return(H[te]|(Q<=1?0:H[te+1]<<8))>>>Q&127}function st(H,ie,Q){var te=ie&7,le=ie>>>3,ce=(1<<Q)-1,Ae=H[le]>>>te;return Q<8-te||(Ae|=H[le+1]<<8-te,Q<16-te)||(Ae|=H[le+2]<<16-te,Q<24-te)||(Ae|=H[le+3]<<24-te),Ae&ce}function qt(H,ie,Q){var te=ie&7,le=ie>>>3;return te<=5?H[le]|=(Q&7)<<te:(H[le]|=Q<<te&255,H[le+1]=(Q&7)>>8-te),ie+3}function we(H,ie,Q){var te=ie&7,le=ie>>>3;return Q=(Q&1)<<te,H[le]|=Q,ie+1}function qe(H,ie,Q){var te=ie&7,le=ie>>>3;return Q<<=te,H[le]|=Q&255,Q>>>=8,H[le+1]=Q,ie+8}function se(H,ie,Q){var te=ie&7,le=ie>>>3;return Q<<=te,H[le]|=Q&255,Q>>>=8,H[le+1]=Q&255,H[le+2]=Q>>>8,ie+16}function ye(H,ie){var Q=H.length,te=2*Q>ie?2*Q:ie+5,le=0;if(Q>=ie)return H;if(Mr){var ce=E6(te);if(H.copy)H.copy(ce);else for(;le<H.length;++le)ce[le]=H[le];return ce}else if(V){var Ae=new Uint8Array(te);if(Ae.set)Ae.set(H);else for(;le<Q;++le)Ae[le]=H[le];return Ae}return H.length=te,H}function _e(H){for(var ie=new Array(H),Q=0;Q<H;++Q)ie[Q]=0;return ie}function Ye(H,ie,Q){var te=1,le=0,ce=0,Ae=0,Fe=0,Te=H.length,je=V?new Uint16Array(32):_e(32);for(ce=0;ce<32;++ce)je[ce]=0;for(ce=Te;ce<Q;++ce)H[ce]=0;Te=H.length;var Ie=V?new Uint16Array(Te):_e(Te);for(ce=0;ce<Te;++ce)je[le=H[ce]]++,te<le&&(te=le),Ie[ce]=0;for(je[0]=0,ce=1;ce<=te;++ce)je[ce+16]=Fe=Fe+je[ce-1]<<1;for(ce=0;ce<Te;++ce)Fe=H[ce],Fe!=0&&(Ie[ce]=je[Fe+16]++);var Ke=0;for(ce=0;ce<Te;++ce)if(Ke=H[ce],Ke!=0)for(Fe=ve(Ie[ce],te)>>te-Ke,Ae=(1<<te+4-Ke)-1;Ae>=0;--Ae)ie[Fe|Ae<<Ke]=Ke&15|ce<<4;return te}var at=V?new Uint16Array(512):_e(512),He=V?new Uint16Array(32):_e(32);if(!V){for(var pt=0;pt<512;++pt)at[pt]=0;for(pt=0;pt<32;++pt)He[pt]=0}(function(){for(var H=[],ie=0;ie<32;ie++)H.push(5);Ye(H,He,32);var Q=[];for(ie=0;ie<=143;ie++)Q.push(8);for(;ie<=255;ie++)Q.push(9);for(;ie<=279;ie++)Q.push(7);for(;ie<=287;ie++)Q.push(8);Ye(Q,at,288)})();var kt=(function(){for(var ie=V?new Uint8Array(32768):[],Q=0,te=0;Q<pe.length-1;++Q)for(;te<pe[Q+1];++te)ie[te]=Q;for(;te<32768;++te)ie[te]=29;var le=V?new Uint8Array(259):[];for(Q=0,te=0;Q<q.length-1;++Q)for(;te<q[Q+1];++te)le[te]=Q;function ce(Fe,Te){for(var je=0;je<Fe.length;){var Ie=Math.min(65535,Fe.length-je),Ke=je+Ie==Fe.length;for(Te.write_shift(1,+Ke),Te.write_shift(2,Ie),Te.write_shift(2,~Ie&65535);Ie-- >0;)Te[Te.l++]=Fe[je++]}return Te.l}function Ae(Fe,Te){for(var je=0,Ie=0,Ke=V?new Uint16Array(32768):[];Ie<Fe.length;){var ft=Math.min(65535,Fe.length-Ie);if(ft<10){for(je=qt(Te,je,+(Ie+ft==Fe.length)),je&7&&(je+=8-(je&7)),Te.l=je/8|0,Te.write_shift(2,ft),Te.write_shift(2,~ft&65535);ft-- >0;)Te[Te.l++]=Fe[Ie++];je=Te.l*8;continue}je=qt(Te,je,+(Ie+ft==Fe.length)+2);for(var yt=0;ft-- >0;){var rt=Fe[Ie];yt=(yt<<5^rt)&32767;var Je=-1,Qt=0;if((Je=Ke[yt])&&(Je|=Ie&-32768,Je>Ie&&(Je-=32768),Je<Ie))for(;Fe[Je+Qt]==Fe[Ie+Qt]&&Qt<250;)++Qt;if(Qt>2){rt=le[Qt],rt<=22?je=qe(Te,je,fe[rt+1]>>1)-1:(qe(Te,je,3),je+=5,qe(Te,je,fe[rt-23]>>5),je+=3);var Hr=rt<8?0:rt-4>>2;Hr>0&&(se(Te,je,Qt-q[rt]),je+=Hr),rt=ie[Ie-Je],je=qe(Te,je,fe[rt]>>3),je-=3;var Yr=rt<4?0:rt-2>>1;Yr>0&&(se(Te,je,Ie-Je-pe[rt]),je+=Yr);for(var Nn=0;Nn<Qt;++Nn)Ke[yt]=Ie&32767,yt=(yt<<5^Fe[Ie])&32767,++Ie;ft-=Qt-1}else rt<=143?rt=rt+48:je=we(Te,je,1),je=qe(Te,je,fe[rt]),Ke[yt]=Ie&32767,++Ie}je=qe(Te,je,0)-1}return Te.l=(je+7)/8|0,Te.l}return function(Te,je){return Te.length<8?ce(Te,je):Ae(Te,je)}})();function tr(H){var ie=Be(50+Math.floor(H.length*1.1)),Q=kt(H,ie);return ie.slice(0,Q)}var Sr=V?new Uint16Array(32768):_e(32768),ks=V?new Uint16Array(32768):_e(32768),$i=V?new Uint16Array(128):_e(128),an=1,Go=1;function ss(H,ie){var Q=Re(H,ie)+257;ie+=5;var te=Re(H,ie)+1;ie+=5;var le=Oe(H,ie)+4;ie+=4;for(var ce=0,Ae=V?new Uint8Array(19):_e(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,je=V?new Uint8Array(8):_e(8),Ie=V?new Uint8Array(8):_e(8),Ke=Ae.length,ft=0;ft<le;++ft)Ae[ae[ft]]=ce=Y(H,ie),Te<ce&&(Te=ce),je[ce]++,ie+=3;var yt=0;for(je[0]=0,ft=1;ft<=Te;++ft)Ie[ft]=yt=yt+je[ft-1]<<1;for(ft=0;ft<Ke;++ft)(yt=Ae[ft])!=0&&(Fe[ft]=Ie[yt]++);var rt=0;for(ft=0;ft<Ke;++ft)if(rt=Ae[ft],rt!=0){yt=fe[Fe[ft]]>>8-rt;for(var Je=(1<<7-rt)-1;Je>=0;--Je)$i[yt|Je<<rt]=rt&7|ft<<3}var Qt=[];for(Te=1;Qt.length<Q+te;)switch(yt=$i[Me(H,ie)],ie+=yt&7,yt>>>=3){case 16:for(ce=3+gt(H,ie),ie+=2,yt=Qt[Qt.length-1];ce-- >0;)Qt.push(yt);break;case 17:for(ce=3+Y(H,ie),ie+=3;ce-- >0;)Qt.push(0);break;case 18:for(ce=11+Me(H,ie),ie+=7;ce-- >0;)Qt.push(0);break;default:Qt.push(yt),Te<yt&&(Te=yt);break}var Hr=Qt.slice(0,Q),Yr=Qt.slice(Q);for(ft=Q;ft<286;++ft)Hr[ft]=0;for(ft=te;ft<30;++ft)Yr[ft]=0;return an=Ye(Hr,Sr,286),Go=Ye(Yr,ks,30),ie}function os(H,ie){if(H[0]==3&&!(H[1]&3))return[Zf(ie),2];for(var Q=0,te=0,le=E6(ie||1<<18),ce=0,Ae=le.length>>>0,Fe=0,Te=0;(te&1)==0;){if(te=Y(H,Q),Q+=3,te>>>1)te>>1==1?(Fe=9,Te=5):(Q=ss(H,Q),Fe=an,Te=Go);else{Q&7&&(Q+=8-(Q&7));var je=H[Q>>>3]|H[(Q>>>3)+1]<<8;if(Q+=32,je>0)for(!ie&&Ae<ce+je&&(le=ye(le,ce+je),Ae=le.length);je-- >0;)le[ce++]=H[Q>>>3],Q+=8;continue}for(;;){!ie&&Ae<ce+32767&&(le=ye(le,ce+32767),Ae=le.length);var Ie=st(H,Q,Fe),Ke=te>>>1==1?at[Ie]:Sr[Ie];if(Q+=Ke&15,Ke>>>=4,(Ke>>>8&255)===0)le[ce++]=Ke;else{if(Ke==256)break;Ke-=257;var ft=Ke<8?0:Ke-4>>2;ft>5&&(ft=0);var yt=ce+q[Ke];ft>0&&(yt+=st(H,Q,ft),Q+=ft),Ie=st(H,Q,Te),Ke=te>>>1==1?He[Ie]:ks[Ie],Q+=Ke&15,Ke>>>=4;var rt=Ke<4?0:Ke-2>>1,Je=pe[Ke];for(rt>0&&(Je+=st(H,Q,rt),Q+=rt),!ie&&Ae<yt&&(le=ye(le,yt+100),Ae=le.length);ce<yt;)le[ce]=le[ce-Je],++ce}}}return ie?[le,Q+7>>>3]:[le.slice(0,ce),Q+7>>>3]}function Ds(H,ie){var Q=H.slice(H.l||0),te=os(Q,ie);return H.l+=te[1],te[0]}function uo(H,ie){if(H)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function sn(H,ie){var Q=H;bs(Q,0);var te=[],le=[],ce={FileIndex:te,FullPaths:le};O(ce,{root:ie.root});for(var Ae=Q.length-4;(Q[Ae]!=80||Q[Ae+1]!=75||Q[Ae+2]!=5||Q[Ae+3]!=6)&&Ae>=0;)--Ae;Q.l=Ae+4,Q.l+=4;var Fe=Q.read_shift(2);Q.l+=6;var Te=Q.read_shift(4);for(Q.l=Te,Ae=0;Ae<Fe;++Ae){Q.l+=20;var je=Q.read_shift(4),Ie=Q.read_shift(4),Ke=Q.read_shift(2),ft=Q.read_shift(2),yt=Q.read_shift(2);Q.l+=8;var rt=Q.read_shift(4),Je=o(Q.slice(Q.l+Ke,Q.l+Ke+ft));Q.l+=Ke+ft+yt;var Qt=Q.l;Q.l=rt+4,Rs(Q,je,Ie,ce,Je),Q.l=Qt}return ce}function Rs(H,ie,Q,te,le){H.l+=2;var ce=H.read_shift(2),Ae=H.read_shift(2),Fe=s(H);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var Te=H.read_shift(4),je=H.read_shift(4),Ie=H.read_shift(4),Ke=H.read_shift(2),ft=H.read_shift(2),yt="",rt=0;rt<Ke;++rt)yt+=String.fromCharCode(H[H.l++]);if(ft){var Je=o(H.slice(H.l,H.l+ft));(Je[21589]||{}).mt&&(Fe=Je[21589].mt),((le||{})[21589]||{}).mt&&(Fe=le[21589].mt)}H.l+=ft;var Qt=H.slice(H.l,H.l+je);switch(Ae){case 8:Qt=ee(H,Ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var Hr=!1;ce&8&&(Te=H.read_shift(4),Te==134695760&&(Te=H.read_shift(4),Hr=!0),je=H.read_shift(4),Ie=H.read_shift(4)),je!=ie&&uo(Hr,"Bad compressed size: "+ie+" != "+je),Ie!=Q&&uo(Hr,"Bad uncompressed size: "+Q+" != "+Ie),fo(te,yt,Qt,{unsafe:!0,mt:Fe})}function ti(H,ie){var Q=ie||{},te=[],le=[],ce=Be(1),Ae=Q.compression?8:0,Fe=0,Te=0,je=0,Ie=0,Ke=0,ft=H.FullPaths[0],yt=ft,rt=H.FileIndex[0],Je=[],Qt=0;for(Te=1;Te<H.FullPaths.length;++Te)if(yt=H.FullPaths[Te].slice(ft.length),rt=H.FileIndex[Te],!(!rt.size||!rt.content||yt=="Sh33tJ5")){var Hr=Ie,Yr=Be(yt.length);for(je=0;je<yt.length;++je)Yr.write_shift(1,yt.charCodeAt(je)&127);Yr=Yr.slice(0,Yr.l),Je[Ke]=Eve.buf(rt.content,0);var Nn=rt.content;Ae==8&&(Nn=K(Nn)),ce=Be(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,Fe),ce.write_shift(2,Ae),rt.mt?i(ce,rt.mt):ce.write_shift(4,0),ce.write_shift(-4,Je[Ke]),ce.write_shift(4,Nn.length),ce.write_shift(4,rt.content.length),ce.write_shift(2,Yr.length),ce.write_shift(2,0),Ie+=ce.length,te.push(ce),Ie+=Yr.length,te.push(Yr),Ie+=Nn.length,te.push(Nn),ce=Be(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,Fe),ce.write_shift(2,Ae),ce.write_shift(4,0),ce.write_shift(-4,Je[Ke]),ce.write_shift(4,Nn.length),ce.write_shift(4,rt.content.length),ce.write_shift(2,Yr.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,Hr),Qt+=ce.l,le.push(ce),Qt+=Yr.length,le.push(Yr),++Ke}return ce=Be(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,Ke),ce.write_shift(2,Ke),ce.write_shift(4,Qt),ce.write_shift(4,Ie),ce.write_shift(2,0),Ka([Ka(te),Ka(le),ce])}var Ui={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ac(H,ie){if(H.ctype)return H.ctype;var Q=H.name||"",te=Q.match(/\.([^\.]+)$/);return te&&Ui[te[1]]||ie&&(te=(Q=ie).match(/[\.\\]([^\.\\])+$/),te&&Ui[te[1]])?Ui[te[1]]:"application/octet-stream"}function bd(H){for(var ie=ig(H),Q=[],te=0;te<ie.length;te+=76)Q.push(ie.slice(te,te+76));return Q.join(`\r
`)+`\r
`}function _d(H){var ie=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var Ie=je.charCodeAt(0).toString(16).toUpperCase();return"="+(Ie.length==1?"0"+Ie:Ie)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],te=ie.split(`\r
`),le=0;le<te.length;++le){var ce=te[le];if(ce.length==0){Q.push("");continue}for(var Ae=0;Ae<ce.length;){var Fe=76,Te=ce.slice(Ae,Ae+Fe);Te.charAt(Fe-1)=="="?Fe--:Te.charAt(Fe-2)=="="?Fe-=2:Te.charAt(Fe-3)=="="&&(Fe-=3),Te=ce.slice(Ae,Ae+Fe),Ae+=Fe,Ae<ce.length&&(Te+="="),Q.push(Te)}}return Q.join(`\r
`)}function Sd(H){for(var ie=[],Q=0;Q<H.length;++Q){for(var te=H[Q];Q<=H.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+H[++Q];ie.push(te)}for(var le=0;le<ie.length;++le)ie[le]=ie[le].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return Do(ie.join(`\r
`))}function yn(H,ie,Q){for(var te="",le="",ce="",Ae,Fe=0;Fe<10;++Fe){var Te=ie[Fe];if(!Te||Te.match(/^\s*$/))break;var je=Te.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":te=je[2].trim();break;case"content-type":ce=je[2].trim();break;case"content-transfer-encoding":le=je[2].trim();break}}switch(++Fe,le.toLowerCase()){case"base64":Ae=Do(hc(ie.slice(Fe).join("")));break;case"quoted-printable":Ae=Sd(ie.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Ie=fo(H,te.slice(Q.length),Ae,{unsafe:!0});ce&&(Ie.ctype=ce)}function ls(H,ie){if(ne(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ie&&ie.root||"",te=(Mr&&Buffer.isBuffer(H)?H.toString("binary"):ne(H)).split(`\r
`),le=0,ce="";for(le=0;le<te.length;++le)if(ce=te[le],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),Q||(Q=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),ce.slice(0,Q.length)!=Q););var Ae=(te[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var Fe="--"+(Ae[1]||""),Te=[],je=[],Ie={FileIndex:Te,FullPaths:je};O(Ie);var Ke,ft=0;for(le=0;le<te.length;++le){var yt=te[le];yt!==Fe&&yt!==Fe+"--"||(ft++&&yn(Ie,te.slice(Ke,le),Q),Ke=le)}return Ie}function Ko(H,ie){var Q=ie||{},te=Q.boundary||"SheetJS";te="------="+te;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],ce=H.FullPaths[0],Ae=ce,Fe=H.FileIndex[0],Te=1;Te<H.FullPaths.length;++Te)if(Ae=H.FullPaths[Te].slice(ce.length),Fe=H.FileIndex[Te],!(!Fe.size||!Fe.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var je=Fe.content,Ie=Mr&&Buffer.isBuffer(je)?je.toString("binary"):ne(je),Ke=0,ft=Math.min(1024,Ie.length),yt=0,rt=0;rt<=ft;++rt)(yt=Ie.charCodeAt(rt))>=32&&yt<128&&++Ke;var Je=Ke>=ft*4/5;le.push(te),le.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Ae),le.push("Content-Transfer-Encoding: "+(Je?"quoted-printable":"base64")),le.push("Content-Type: "+Ac(Fe,Ae)),le.push(""),le.push(Je?_d(Ie):bd(Ie))}return le.push(te+`--\r
`),le.join(`\r
`)}function Tc(H){var ie={};return O(ie,H),ie}function fo(H,ie,Q,te){var le=te&&te.unsafe;le||O(H);var ce=!le&&en.find(H,ie);if(!ce){var Ae=H.FullPaths[0];ie.slice(0,Ae.length)==Ae?Ae=ie:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+ie).replace("//","/")),ce={name:a(ie),type:2},H.FileIndex.push(ce),H.FullPaths.push(Ae),le||en.utils.cfb_gc(H)}return ce.content=Q,ce.size=Q?Q.length:0,te&&(te.CLSID&&(ce.clsid=te.CLSID),te.mt&&(ce.mt=te.mt),te.ct&&(ce.ct=te.ct)),ce}function Ms(H,ie){O(H);var Q=en.find(H,ie);if(Q){for(var te=0;te<H.FileIndex.length;++te)if(H.FileIndex[te]==Q)return H.FileIndex.splice(te,1),H.FullPaths.splice(te,1),!0}return!1}function jl(H,ie,Q){O(H);var te=en.find(H,ie);if(te){for(var le=0;le<H.FileIndex.length;++le)if(H.FileIndex[le]==te)return H.FileIndex[le].name=a(Q),H.FullPaths[le]=Q,!0}return!1}function cs(H){M(H,!0)}return e.find=I,e.read=j,e.parse=f,e.write=G,e.writeFile=J,e.utils={cfb_new:Tc,cfb_add:fo,cfb_del:Ms,cfb_mov:jl,cfb_gc:cs,ReadShift:_m,CheckField:ZX,prep_blob:bs,bconcat:Ka,use_zlib:F,_deflateRaw:tr,_inflateRaw:Ds,consts:he},e})();function Ave(t){return typeof t=="string"?iw(t):Array.isArray(t)?Zge(t):t}function gv(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=iw(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?og(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([Ave(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=mv(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function ei(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function k6(t,e){for(var r=[],n=ei(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function g3(t){for(var e=[],r=ei(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function lw(t){for(var e=[],r=ei(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function Tve(t){for(var e=[],r=ei(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var my=new Date(1899,11,30,0,0,0);function rs(t,e){var r=t.getTime(),n=my.getTime()+(t.getTimezoneOffset()-my.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var RX=new Date,Cve=my.getTime()+(RX.getTimezoneOffset()-my.getTimezoneOffset())*6e4,D6=RX.getTimezoneOffset();function MX(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Cve),e.getTimezoneOffset()!==D6&&e.setTime(e.getTime()+(e.getTimezoneOffset()-D6)*6e4),e}var R6=new Date("2017-02-19T19:06:09.000Z"),FX=isNaN(R6.getFullYear())?new Date("2/19/17"):R6,jve=FX.getFullYear()==2017;function Di(t,e){var r=new Date(t);if(jve)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(FX.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function cw(t,e){if(Mr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function ns(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ns(t[r]));return e}function Pn(t,e){for(var r="";r.length<e;)r+=t;return r}function tc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var Ove=["january","february","march","april","may","june","july","august","september","october","november","december"];function sg(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Ove.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function hr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Mr?n=bc(r):n=Jge(r),en.utils.cfb_add(t,e,n)}en.utils.cfb_add(t,e,r)}else t.file(e,r)}function v3(){return en.utils.cfb_new()}var Zn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ive={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x3=g3(Ive),y3=/[&<>'"]/g,Pve=/[\u0000-\u0008\u000b-\u001f]/g;function Xr(t){var e=t+"";return e.replace(y3,function(r){return x3[r]}).replace(Pve,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function M6(t){return Xr(t).replace(/ /g,"_x0020_")}var LX=/[\u0000-\u001f]/g;function kve(t){var e=t+"";return e.replace(y3,function(r){return x3[r]}).replace(/\n/g,"<br/>").replace(LX,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Dve(t){var e=t+"";return e.replace(y3,function(r){return x3[r]}).replace(LX,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Rve(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Mve(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function dS(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function F6(t){var e=Zf(2*t.length),r,n,a=1,i=0,s=0,o;for(n=0;n<t.length;n+=a)a=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function L6(t){return bc(t,"binary").toString("utf8")}var Zx="foo bar bazâð£",bm=Mr&&(L6(Zx)==dS(Zx)&&L6||F6(Zx)==dS(Zx)&&F6)||dS,og=Mr?function(t){return bc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Fve=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),BX=/(^\s|\s$|\n)/;function Xa(t,e){return"<"+t+(e.match(BX)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function lg(t){return ei(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function lt(t,e,r){return"<"+t+(r!=null?lg(r):"")+(e!=null?(e.match(BX)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function NC(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function Lve(t,e){switch(typeof t){case"string":var r=lt("vt:lpwstr",Xr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return lt((t|0)==t?"vt:i4":"vt:r8",Xr(String(t)));case"boolean":return lt("vt:bool",t?"true":"false")}if(t instanceof Date)return lt("vt:filetime",NC(t));throw new Error("Unable to serialize "+t)}var Ca={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},z0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ns={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Bve(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function $ve(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var B6=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},$6=Mr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:bc(e)})):B6(t)}:B6,U6=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(dm(t,a)));return n.join("").replace(wm,"")},w3=Mr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(wm,""):U6(t,e,r)}:U6,V6=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},$X=Mr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):V6(t,e,r)}:V6,H6=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(ih(t,a)));return n.join("")},vv=Mr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):H6(e,r,n)}:H6,UX=function(t,e){var r=Es(t,e);return r>0?vv(t,e+4,e+4+r-1):""},VX=UX,HX=function(t,e){var r=Es(t,e);return r>0?vv(t,e+4,e+4+r-1):""},zX=HX,qX=function(t,e){var r=2*Es(t,e);return r>0?vv(t,e+4,e+4+r-1):""},WX=qX,GX=function(e,r){var n=Es(e,r);return n>0?w3(e,r+4,r+4+n):""},KX=GX,XX=function(t,e){var r=Es(t,e);return r>0?vv(t,e+4,e+4+r):""},QX=XX,YX=function(t,e){return Bve(t,e)},gy=YX,b3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mr&&(VX=function(e,r){if(!Buffer.isBuffer(e))return UX(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},zX=function(e,r){if(!Buffer.isBuffer(e))return HX(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},WX=function(e,r){if(!Buffer.isBuffer(e))return qX(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},KX=function(e,r){if(!Buffer.isBuffer(e))return GX(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},QX=function(e,r){if(!Buffer.isBuffer(e))return XX(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},gy=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):YX(e,r)},b3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ih=function(t,e){return t[e]},dm=function(t,e){return t[e+1]*256+t[e]},Uve=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Es=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},df=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Vve=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function _m(t,e){var r="",n,a,i=[],s,o,c,u;switch(e){case"dbcs":if(u=this.l,Mr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(dm(this,u)),u+=2;t*=2;break;case"utf8":r=vv(this,this.l,this.l+t);break;case"utf16le":t*=2,r=w3(this,this.l,this.l+t);break;case"wstr":return _m.call(this,t,"dbcs");case"lpstr-ansi":r=VX(this,this.l),t=4+Es(this,this.l);break;case"lpstr-cp":r=zX(this,this.l),t=4+Es(this,this.l);break;case"lpwstr":r=WX(this,this.l),t=4+2*Es(this,this.l);break;case"lpp4":t=4+Es(this,this.l),r=KX(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Es(this,this.l),r=QX(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=ih(this,this.l+t++))!==0;)i.push(Xx(s));r=i.join("");break;case"_wstr":for(t=0,r="";(s=dm(this,this.l+t))!==0;)i.push(Xx(s)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=ih(this,u),this.l=u+1,o=_m.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Xx(dm(this,u))),u+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=ih(this,u),this.l=u+1,o=_m.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Xx(ih(this,u))),u+=1}r=i.join("");break;default:switch(t){case 1:return n=ih(this,this.l),this.l++,n;case 2:return n=(e==="i"?Uve:dm)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?df:Vve)(this,this.l),this.l+=4,n):(a=Es(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=gy(this,this.l):a=gy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=$X(this,this.l,t);break}}return this.l+=t,r}var Hve=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},zve=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},qve=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Wve(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)qve(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Hve(this,e,this.l);break;case 8:if(n=8,r==="f"){$ve(this,e,this.l);break}case 16:break;case-4:n=4,zve(this,e,this.l);break}return this.l+=n,this}function ZX(t,e){var r=$X(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function bs(t,e){t.l=e,t.read_shift=_m,t.chk=ZX,t.write_shift=Wve}function bl(t,e){t.l+=e}function Be(t){var e=Zf(t);return bs(e,0),e}function ts(){var t=[],e=Mr?256:2048,r=function(u){var f=Be(u);return bs(f,0),f},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,e)))},s=function(){return a(),Ka(t)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:t}}function ze(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=Bbe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=t.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&b3(r)&&t.push(r)}}function Sm(t,e,r){var n=ns(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function z6(t,e,r){var n=ns(t);return n.s=Sm(n.s,e.s,r),n.e=Sm(n.e,e.s,r),n}function Nm(t,e){if(t.cRel&&t.c<0)for(t=ns(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ns(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Qr(t);return!t.cRel&&t.cRel!=null&&(r=Xve(r)),!t.rRel&&t.rRel!=null&&(r=Gve(r)),r}function hS(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+di(t.s.c)+":"+(t.e.cRel?"":"$")+di(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Za(t.s.r)+":"+(t.e.rRel?"":"$")+Za(t.e.r):Nm(t.s,e.biff)+":"+Nm(t.e,e.biff)}function _3(t){return parseInt(Kve(t),10)-1}function Za(t){return""+(t+1)}function Gve(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Kve(t){return t.replace(/\$(\d+)$/,"$1")}function S3(t){for(var e=Qve(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function di(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Xve(t){return t.replace(/^([A-Z])/,"$$$1")}function Qve(t){return t.replace(/^\$([A-Z])/,"$1")}function Yve(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ia(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Qr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Ps(t){var e=t.indexOf(":");return e==-1?{s:Ia(t),e:Ia(t)}:{s:Ia(t.slice(0,e)),e:Ia(t.slice(e+1))}}function Qn(t,e){return typeof e>"u"||typeof e=="number"?Qn(t.s,t.e):(typeof t!="string"&&(t=Qr(t)),typeof e!="string"&&(e=Qr(e)),t==e?t:t+":"+e)}function xn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function q6(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Iu(t.z,r?rs(e):e)}catch{}try{return t.w=Iu((t.XF||{}).numFmtId||(r?14:0),r?rs(e):e)}catch{return""+e}}function pc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?xv[t.v]||t.v:e==null?q6(t,t.v):q6(t,e))}function ud(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function JX(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Ia(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=xn(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(u.e.r=s=f.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[h].length;++m)if(!(typeof e[h][m]>"u")){var g={v:e[h][m]},x=s+h,v=o+m;if(u.s.r>x&&(u.s.r=x),u.s.c>v&&(u.s.c=v),u.e.r<x&&(u.e.r=x),u.e.c<v&&(u.e.c=v),e[h][m]&&typeof e[h][m]=="object"&&!Array.isArray(e[h][m])&&!(e[h][m]instanceof Date))g=e[h][m];else if(Array.isArray(g.v)&&(g.f=e[h][m][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Dn[14],n.cellDates?(g.t="d",g.w=Iu(g.z,rs(g.v))):(g.t="n",g.v=rs(g.v),g.w=Iu(g.z,g.v))):g.t="s";if(a)i[x]||(i[x]=[]),i[x][v]&&i[x][v].z&&(g.z=i[x][v].z),i[x][v]=g;else{var w=Qr({c:v,r:x});i[w]&&i[w].z&&(g.z=i[w].z),i[w]=g}}}return u.s.c<1e7&&(i["!ref"]=Qn(u)),i}function q0(t,e){return JX(null,t,e)}function Zve(t){return t.read_shift(4,"i")}function Bo(t,e){return e||(e=Be(4)),e.write_shift(4,t),e}function hi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Pa(t,e){var r=!1;return e==null&&(r=!0,e=Be(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function Jve(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function exe(t,e){return e||(e=Be(4)),e.write_shift(2,0),e.write_shift(2,0),e}function N3(t,e){var r=t.l,n=t.read_shift(1),a=hi(t),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)i.push(Jve(t));s.r=i}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function txe(t,e){var r=!1;return e==null&&(r=!0,e=Be(15+4*t.t.length)),e.write_shift(1,0),Pa(t.t,e),r?e.slice(0,e.l):e}var rxe=N3;function nxe(t,e){var r=!1;return e==null&&(r=!0,e=Be(23+4*t.t.length)),e.write_shift(1,1),Pa(t.t,e),e.write_shift(4,1),exe({},e),r?e.slice(0,e.l):e}function lo(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function fd(t,e){return e==null&&(e=Be(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function dd(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function hd(t,e){return e==null&&(e=Be(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var axe=hi,eQ=Pa;function E3(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function vy(t,e){var r=!1;return e==null&&(r=!0,e=Be(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var ixe=hi,EC=E3,A3=vy;function tQ(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?gy([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):df(e,0)>>2;return r?a/100:a}function rQ(t,e){e==null&&(e=Be(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function nQ(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function sxe(t,e){return e||(e=Be(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var pd=nQ,W0=sxe;function G0(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Jf(t,e){return(e||Be(8)).write_shift(8,t,"f")}function oxe(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=gxe[a];u&&(e.rgb=rD(u));break;case 2:e.rgb=rD([s,o,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function xy(t,e){if(e||(e=Be(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function lxe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function cxe(t,e){e||(e=Be(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var aQ=2,xs=3,Jx=11,yy=19,e1=64,uxe=65,fxe=71,dxe=4108,hxe=4126,Ga=80,W6={1:{n:"CodePage",t:aQ},2:{n:"Category",t:Ga},3:{n:"PresentationFormat",t:Ga},4:{n:"ByteCount",t:xs},5:{n:"LineCount",t:xs},6:{n:"ParagraphCount",t:xs},7:{n:"SlideCount",t:xs},8:{n:"NoteCount",t:xs},9:{n:"HiddenCount",t:xs},10:{n:"MultimediaClipCount",t:xs},11:{n:"ScaleCrop",t:Jx},12:{n:"HeadingPairs",t:dxe},13:{n:"TitlesOfParts",t:hxe},14:{n:"Manager",t:Ga},15:{n:"Company",t:Ga},16:{n:"LinksUpToDate",t:Jx},17:{n:"CharacterCount",t:xs},19:{n:"SharedDoc",t:Jx},22:{n:"HyperlinksChanged",t:Jx},23:{n:"AppVersion",t:xs,p:"version"},24:{n:"DigSig",t:uxe},26:{n:"ContentType",t:Ga},27:{n:"ContentStatus",t:Ga},28:{n:"Language",t:Ga},29:{n:"Version",t:Ga},255:{},2147483648:{n:"Locale",t:yy},2147483651:{n:"Behavior",t:yy},1919054434:{}},G6={1:{n:"CodePage",t:aQ},2:{n:"Title",t:Ga},3:{n:"Subject",t:Ga},4:{n:"Author",t:Ga},5:{n:"Keywords",t:Ga},6:{n:"Comments",t:Ga},7:{n:"Template",t:Ga},8:{n:"LastAuthor",t:Ga},9:{n:"RevNumber",t:Ga},10:{n:"EditTime",t:e1},11:{n:"LastPrinted",t:e1},12:{n:"CreatedDate",t:e1},13:{n:"ModifiedDate",t:e1},14:{n:"PageCount",t:xs},15:{n:"WordCount",t:xs},16:{n:"CharCount",t:xs},17:{n:"Thumbnail",t:fxe},18:{n:"Application",t:Ga},19:{n:"DocSecurity",t:xs},255:{},2147483648:{n:"Locale",t:yy},2147483651:{n:"Behavior",t:yy},1919054434:{}};function pxe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var mxe=pxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),gxe=ns(mxe),xv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vxe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},t1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function iQ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function sQ(t,e){var r=Tve(vxe),n=[],a;n[n.length]=Zn,n[n.length]=lt("Types",null,{xmlns:Ca.CT,"xmlns:xsd":Ca.xsd,"xmlns:xsi":Ca.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return lt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){t[c]&&t[c].length>0&&(a=t[c][0],n[n.length]=lt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:t1[c][e.bookType]||t1[c].xlsx}))},s=function(c){(t[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t1[c][e.bookType]||t1[c].xlsx})})},o=function(c){(t[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function oQ(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Eh(t){var e=[Zn,lt("Relationships",null,{xmlns:Ca.RELS})];return ei(t["!id"]).forEach(function(r){e[e.length]=lt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Kr(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[Or.HLINK,Or.XPATH,Or.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function xxe(t){var e=[Zn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function K6(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function yxe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function wxe(t){var e=[Zn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(K6(t[r][0],t[r][1])),e.push(yxe("",t[r][0]));return e.push(K6("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function lQ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+uy.version+"</meta:generator></office:meta></office:document-meta>"}var kf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function pS(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=Xr(e),n[n.length]=r?lt(t,e,r):Xa(t,e))}function cQ(t,e){var r=e||{},n=[Zn,lt("cp:coreProperties",null,{"xmlns:cp":Ca.CORE_PROPS,"xmlns:dc":Ca.dc,"xmlns:dcterms":Ca.dcterms,"xmlns:dcmitype":Ca.dcmitype,"xmlns:xsi":Ca.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&pS("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:NC(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&pS("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:NC(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=kf.length;++i){var s=kf[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&pS(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ah=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],uQ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function fQ(t){var e=[],r=lt;return t||(t={}),t.Application="SheetJS",e[e.length]=Zn,e[e.length]=lt("Properties",null,{xmlns:Ca.EXT_PROPS,"xmlns:vt":Ca.vt}),Ah.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Xr(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Xr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function dQ(t){var e=[Zn,lt("Properties",null,{xmlns:Ca.CUST_PROPS,"xmlns:vt":Ca.vt})];if(!t)return e.join("");var r=1;return ei(t).forEach(function(a){++r,e[e.length]=lt("property",Lve(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Xr(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var X6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function bxe(t,e){var r=[];return ei(X6).map(function(n){for(var a=0;a<kf.length;++a)if(kf[a][1]==n)return kf[a];for(a=0;a<Ah.length;++a)if(Ah[a][1]==n)return Ah[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Xa(X6[n[1]]||n[1],a))}}),lt("DocumentProperties",r.join(""),{xmlns:Ns.o})}function _xe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&ei(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var s=0;s<kf.length;++s)if(i==kf[s][1])return;for(s=0;s<Ah.length;++s)if(i==Ah[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=t[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(lt(M6(i),o,{"dt:dt":c}))}}),e&&ei(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var s=e[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(lt(M6(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ns.o+'">'+a.join("")+"</"+n+">"}function Sxe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Be(8);return s.write_shift(4,n),s.write_shift(4,a),s}function Q6(t,e){var r=Be(4),n=Be(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Be(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Sxe(e);break;case 31:case 80:for(n=Be(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ka([r,n])}var hQ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Nxe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Y6(t,e,r){var n=Be(8),a=[],i=[],s=8,o=0,c=Be(8),u=Be(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!e){u=Be(8),u.write_shift(4,0),a.unshift(u);var f=[Be(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(c=Be(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Ka(f),i.unshift(c),s+=8+c.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(hQ.indexOf(t[o][0])>-1||uQ.indexOf(t[o][0])>-1)&&t[o][1]!=null){var m=t[o][1],g=0;if(e){g=+e[t[o][0]];var x=r[g];if(x.p=="version"&&typeof m=="string"){var v=m.split(".");m=(+v[0]<<16)+(+v[1]||0)}c=Q6(x.t,m)}else{var w=Nxe(m);w==-1&&(w=31,m=String(m)),c=Q6(w,m)}i.push(c),u=Be(8),u.write_shift(4,e?g:2+o),a.push(u),s+=8+c.length}var S=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,S),S+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Ka([n].concat(a).concat(i))}function Z6(t,e,r,n,a,i){var s=Be(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,en.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var c=Y6(t,r,n);if(o.push(c),a){var u=Y6(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Ka(o)}function Exe(t,e){e||(e=Be(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Axe(t,e){return t.read_shift(e)===1}function Ci(t,e){return e||(e=Be(2)),e.write_shift(2,+!!t),e}function pQ(t){return t.read_shift(2,"u")}function Zs(t,e){return e||(e=Be(2)),e.write_shift(2,t),e}function mQ(t,e,r){return r||(r=Be(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function gQ(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?t.read_shift(n,a):"";return s}function Txe(t){var e=t.t||"",r=Be(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Be(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return Ka(a)}function Cxe(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function jxe(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Cxe(t,n,r)}function Oxe(t,e,r){if(r.biff>5)return jxe(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function vQ(t,e,r){return r||(r=Be(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function J6(t,e){e||(e=Be(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Ixe(t){var e=Be(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(i==28)n=n.slice(1),J6(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),i&8&&J6(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function ed(t,e,r,n){return n||(n=Be(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Pxe(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[a,i,s]}function kxe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function xQ(t,e){return e||(e=Be(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function T3(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Be(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Dxe(t,e){var r=!e||e.biff==8,n=Be(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Rxe(t,e){var r=!e||e.biff>=8?2:1,n=Be(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Mxe(t,e){var r=Be(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=Txe(t[a]);var i=Ka([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Fxe(){var t=Be(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Lxe(t){var e=Be(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Bxe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=Be(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function $xe(t,e,r,n){var a=Be(10);return ed(t,e,n,a),a.write_shift(4,r),a}function Uxe(t,e,r,n,a){var i=!a||a.biff==8,s=Be(8+ +i+(1+i)*r.length);return ed(t,e,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function Vxe(t,e,r,n){var a=r&&r.biff==5;n||(n=Be(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Hxe(t,e){var r=e.biff==8||!e.biff?4:2,n=Be(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function eD(t,e,r,n){var a=r&&r.biff==5;n||(n=Be(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function zxe(t){var e=Be(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function qxe(t,e,r,n,a,i){var s=Be(8);return ed(t,e,n,s),mQ(r,i,s),s}function Wxe(t,e,r,n){var a=Be(14);return ed(t,e,n,a),Jf(r,a),a}function Gxe(t,e,r){if(r.biff<8)return Kxe(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(Pxe(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function Kxe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=gQ(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Xxe(t){var e=Be(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)xQ(t[r],e);return e}function Qxe(t){var e=Be(24),r=Ia(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Ka([e,Ixe(t[1])])}function Yxe(t){var e=t[1].Tooltip,r=Be(10+2*(e.length+1));r.write_shift(2,2048);var n=Ia(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function Zxe(t){return t||(t=Be(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Jxe(t,e,r){if(!r.cellStyles)return bl(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function e1e(t,e){var r=Be(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function t1e(t){for(var e=Be(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function r1e(t,e,r){var n=Be(15);return wv(n,t,e),n.write_shift(8,r,"f"),n}function n1e(t,e,r){var n=Be(9);return wv(n,t,e),n.write_shift(2,r),n}var a1e=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=g3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],f=Zf(1);switch(c.type){case"base64":f=Do(hc(o));break;case"binary":f=Do(o);break;case"buffer":case"array":f=o;break}bs(f,0);var h=f.read_shift(1),m=!!(h&136),g=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,m=!0;break;case 49:g=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,w=521;h==2&&(v=f.read_shift(2)),f.l+=3,h!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(w=f.read_shift(2));var S=f.read_shift(2),b=c.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(b=t[f[f.l]]),f.l+=1,f.l+=2),x&&(f.l+=36);for(var _=[],E={},A=Math.min(f.length,h==2?521:w-10-(g?264:0)),j=x?32:11;f.l<A&&f[f.l]!=13;)switch(E={},E.name=fy.utils.decode(b,f.slice(f.l,f.l+j)).replace(/[\u0000\r\n].*$/g,""),f.l+=j,E.type=String.fromCharCode(f.read_shift(1)),h!=2&&!x&&(E.offset=f.read_shift(4)),E.len=f.read_shift(1),h==2&&(E.offset=f.read_shift(2)),E.dec=f.read_shift(1),E.name.length&&_.push(E),h!=2&&(f.l+=x?13:14),E.type){case"B":(!g||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(f[f.l]!==13&&(f.l=w-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=w;var O=0,D=0;for(u[0]=[],D=0;D!=_.length;++D)u[0][D]=_[D].name;for(;v-- >0;){if(f[f.l]===42){f.l+=S;continue}for(++f.l,u[++O]=[],D=0,D=0;D!=_.length;++D){var M=f.slice(f.l,f.l+_[D].len);f.l+=_[D].len,bs(M,0);var k=fy.utils.decode(b,M);switch(_[D].type){case"C":k.trim().length&&(u[O][D]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[O][D]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[O][D]=k;break;case"F":u[O][D]=parseFloat(k.trim());break;case"+":case"I":u[O][D]=x?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[O][D]=!0;break;case"N":case"F":u[O][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[O][D]="##MEMO##"+(x?parseInt(k.trim(),10):M.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[O][D]=+k||0);break;case"@":u[O][D]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":u[O][D]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":u[O][D]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[O][D]=-M.read_shift(-8,"f");break;case"B":if(g&&_[D].len==8){u[O][D]=M.read_shift(8,"f");break}case"G":case"P":M.l+=_[D].len;break;case"0":if(_[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[D].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=q0(r(o,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function a(o,c){try{return ud(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&ag(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=ts(),h=Ny(o,{header:1,raw:!0,cellDates:!0}),m=h[0],g=h.slice(1),x=o["!cols"]||[],v=0,w=0,S=0,b=1;for(v=0;v<m.length;++v){if(((x[v]||{}).DBF||{}).name){m[v]=x[v].DBF.name,++S;continue}if(m[v]!=null){if(++S,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(w=0;w<1024;++w)if(m.indexOf(m[v]+"_"+w)==-1){m[v]+="_"+w;break}}}}var _=xn(o["!ref"]),E=[],A=[],j=[];for(v=0;v<=_.e.c-_.s.c;++v){var O="",D="",M=0,k=[];for(w=0;w<g.length;++w)g[w][v]!=null&&k.push(g[w][v]);if(k.length==0||m[v]==null){E[v]="?";continue}for(w=0;w<k.length;++w){switch(typeof k[w]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=k[w]instanceof Date?"D":"C";break;default:D="C"}M=Math.max(M,String(k[w]).length),O=O&&O!=D?"C":D}M>250&&(M=250),D=((x[v]||{}).DBF||{}).type,D=="C"&&x[v].DBF.len>M&&(M=x[v].DBF.len),O=="B"&&D=="N"&&(O="N",j[v]=x[v].DBF.dec,M=x[v].DBF.len),A[v]=O=="C"||D=="N"?M:i[O]||0,b+=A[v],E[v]=O}var I=f.next(32);for(I.write_shift(4,318902576),I.write_shift(4,g.length),I.write_shift(2,296+32*S),I.write_shift(2,b),v=0;v<4;++v)I.write_shift(4,0);for(I.write_shift(4,0|(+e[wX]||3)<<8),v=0,w=0;v<m.length;++v)if(m[v]!=null){var R=f.next(32),L=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,L,"sbcs"),R.write_shift(1,E[v]=="?"?"C":E[v],"sbcs"),R.write_shift(4,w),R.write_shift(1,A[v]||i[E[v]]||0),R.write_shift(1,j[v]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),w+=A[v]||i[E[v]]||0}var U=f.next(264);for(U.write_shift(4,13),v=0;v<65;++v)U.write_shift(4,0);for(v=0;v<g.length;++v){var X=f.next(b);for(X.write_shift(1,0),w=0;w<m.length;++w)if(m[w]!=null)switch(E[w]){case"L":X.write_shift(1,g[v][w]==null?63:g[v][w]?84:70);break;case"B":X.write_shift(8,g[v][w]||0,"f");break;case"N":var ue="0";for(typeof g[v][w]=="number"&&(ue=g[v][w].toFixed(j[w]||0)),S=0;S<A[w]-ue.length;++S)X.write_shift(1,32);X.write_shift(1,ue,"sbcs");break;case"D":g[v][w]?(X.write_shift(4,("0000"+g[v][w].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(g[v][w].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+g[v][w].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var he=String(g[v][w]!=null?g[v][w]:"").slice(0,A[w]);for(X.write_shift(1,he,"sbcs"),S=0;S<A[w]-he.length;++S)X.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),i1e=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ei(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,g){var x=t[g];return typeof x=="number"?N6(x):x},n=function(m,g,x){var v=g.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return v==59?m:N6(v)};t["|"]=254;function a(m,g){switch(g.type){case"base64":return i(hc(m),g);case"binary":return i(m,g);case"buffer":return i(Mr&&Buffer.isBuffer(m)?m.toString("binary"):mv(m),g);case"array":return i(cw(m),g)}throw new Error("Unrecognized type "+g.type)}function i(m,g){var x=m.split(/[\n\r]+/),v=-1,w=-1,S=0,b=0,_=[],E=[],A=null,j={},O=[],D=[],M=[],k=0,I;for(+g.codepage>=0&&ag(+g.codepage);S!==x.length;++S){k=0;var R=x[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),L=R.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),U=L[0],X;if(R.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&E.push(R.slice(3).replace(/;;/g,";"));break;case"C":var ue=!1,he=!1,J=!1,ne=!1,G=-1,z=-1;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"A":break;case"X":w=parseInt(L[b].slice(1))-1,he=!0;break;case"Y":for(v=parseInt(L[b].slice(1))-1,he||(w=0),I=_.length;I<=v;++I)_[I]=[];break;case"K":X=L[b].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(tc(X))?isNaN(sg(X).getDate())||(X=Di(X)):(X=tc(X),A!==null&&PX(A)&&(X=MX(X))),ue=!0;break;case"E":ne=!0;var F=nye(L[b].slice(1),{r:v,c:w});_[v][w]=[_[v][w],F];break;case"S":J=!0,_[v][w]=[_[v][w],"S5S"];break;case"G":break;case"R":G=parseInt(L[b].slice(1))-1;break;case"C":z=parseInt(L[b].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+R)}if(ue&&(_[v][w]&&_[v][w].length==2?_[v][w][0]=X:_[v][w]=X,A=null),J){if(ne)throw new Error("SYLK shared formula cannot have own formula");var ee=G>-1&&_[G][z];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");_[v][w][1]=aye(ee[1],{r:v-G,c:w-z})}break;case"F":var K=0;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"X":w=parseInt(L[b].slice(1))-1,++K;break;case"Y":for(v=parseInt(L[b].slice(1))-1,I=_.length;I<=v;++I)_[I]=[];break;case"M":k=parseInt(L[b].slice(1))/20;break;case"F":break;case"G":break;case"P":A=E[parseInt(L[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=L[b].slice(1).split(" "),I=parseInt(M[0],10);I<=parseInt(M[1],10);++I)k=parseInt(M[2],10),D[I-1]=k===0?{hidden:!0}:{wch:k},C3(D[I-1]);break;case"C":w=parseInt(L[b].slice(1))-1,D[w]||(D[w]={});break;case"R":v=parseInt(L[b].slice(1))-1,O[v]||(O[v]={}),k>0?(O[v].hpt=k,O[v].hpx=SQ(k)):k===0&&(O[v].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+R)}K<1&&(A=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+R)}}return O.length>0&&(j["!rows"]=O),D.length>0&&(j["!cols"]=D),g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),[_,j]}function s(m,g){var x=a(m,g),v=x[0],w=x[1],S=q0(v,g);return ei(w).forEach(function(b){S[b]=w[b]}),S}function o(m,g){return ud(s(m,g),g)}function c(m,g,x,v){var w="C;Y"+(x+1)+";X"+(v+1)+";K";switch(m.t){case"n":w+=m.v||0,m.f&&!m.F&&(w+=";E"+O3(m.f,{r:x,c:v}));break;case"b":w+=m.v?"TRUE":"FALSE";break;case"e":w+=m.w||m.v;break;case"d":w+='"'+(m.w||m.v)+'"';break;case"s":w+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(m,g){g.forEach(function(x,v){var w="F;W"+(v+1)+" "+(v+1)+" ";x.hidden?w+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=wy(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=by(x.wpx)),typeof x.wch=="number"&&(w+=Math.round(x.wch))),w.charAt(w.length-1)!=" "&&m.push(w)})}function f(m,g){g.forEach(function(x,v){var w="F;";x.hidden?w+="M0;":x.hpt?w+="M"+20*x.hpt+";":x.hpx&&(w+="M"+20*_y(x.hpx)+";"),w.length>2&&m.push(w+"R"+(v+1))})}function h(m,g){var x=["ID;PWXL;N;E"],v=[],w=xn(m["!ref"]),S,b=Array.isArray(m),_=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&f(x,m["!rows"]),x.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var E=w.s.r;E<=w.e.r;++E)for(var A=w.s.c;A<=w.e.c;++A){var j=Qr({r:E,c:A});S=b?(m[E]||[])[A]:m[j],!(!S||S.v==null&&(!S.f||S.F))&&v.push(c(S,m,E,A))}return x.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:h}})(),s1e=(function(){function t(i,s){switch(s.type){case"base64":return e(hc(i),s);case"binary":return e(i,s);case"buffer":return e(Mr&&Buffer.isBuffer(i)?i.toString("binary"):mv(i),s);case"array":return e(cw(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),c=-1,u=-1,f=0,h=[];f!==o.length;++f){if(o[f].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var m=o[f].trim().split(","),g=m[0],x=m[1];++f;for(var v=o[f]||"";(v.match(/["]/g)||[]).length&1&&f<o.length-1;)v+=`
`+o[++f];switch(v=v.trim(),+g){case-1:if(v==="BOT"){h[++c]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[c][u]=!0:v==="FALSE"?h[c][u]=!1:isNaN(tc(x))?isNaN(sg(x).getDate())?h[c][u]=x:h[c][u]=Di(x):h[c][u]=tc(x),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][u++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function r(i,s){return q0(t(i,s),s)}function n(i,s){return ud(r(i,s),s)}var a=(function(){var i=function(c,u,f,h,m){c.push(u),c.push(f+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,f,h){c.push(u+","+f),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],f=xn(c["!ref"]),h,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var g=f.s.r;g<=f.e.r;++g){s(u,-1,0,"BOT");for(var x=f.s.c;x<=f.e.c;++x){var v=Qr({r:g,c:x});if(h=m?(c[g]||[])[x]:c[v],!h){s(u,1,0,"");continue}switch(h.t){case"n":var w=h.w;!w&&h.v!=null&&(w=h.v),w==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,w,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Iu(h.z||Dn[14],rs(Di(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var S=`\r
`,b=u.join(S);return b}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),yQ=(function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var g=h.split(`
`),x=-1,v=-1,w=0,S=[];w!==g.length;++w){var b=g[w].trim().split(":");if(b[0]==="cell"){var _=Ia(b[1]);if(S.length<=_.r)for(x=S.length;x<=_.r;++x)S[x]||(S[x]=[]);switch(x=_.r,v=_.c,b[2]){case"t":S[x][v]=t(b[3]);break;case"v":S[x][v]=+b[3];break;case"vtf":var E=b[b.length-1];case"vtc":switch(b[3]){case"nl":S[x][v]=!!+b[4];break;default:S[x][v]=+b[4];break}b[2]=="vtf"&&(S[x][v]=[S[x][v],E])}}}return m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),S}function n(h,m){return q0(r(h,m),m)}function a(h,m){return ud(n(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var m=[],g=[],x,v="",w=Ps(h["!ref"]),S=Array.isArray(h),b=w.s.r;b<=w.e.r;++b)for(var _=w.s.c;_<=w.e.c;++_)if(v=Qr({r:b,c:_}),x=S?(h[b]||[])[_]:h[v],!(!x||x.v==null||x.t==="z")){switch(g=["cell",v,"t"],x.t){case"s":case"str":g.push(e(x.v));break;case"n":x.f?(g[2]="vtf",g[3]="n",g[4]=x.v,g[5]=e(x.f)):(g[2]="v",g[3]=x.v);break;case"b":g[2]="vt"+(x.f?"f":"c"),g[3]="nl",g[4]=x.v?"1":"0",g[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var E=rs(Di(x.v));g[2]="vtc",g[3]="nd",g[4]=""+E,g[5]=x.w||Iu(x.z||Dn[14],E);break;case"e":continue}m.push(g.join(":"))}return m.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(h){return[i,s,o,s,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}})(),o1e=(function(){function t(f,h,m,g,x){x.raw?h[m][g]=f:f===""||(f==="TRUE"?h[m][g]=!0:f==="FALSE"?h[m][g]=!1:isNaN(tc(f))?isNaN(sg(f).getDate())?h[m][g]=f:h[m][g]=Di(f):h[m][g]=tc(f))}function e(f,h){var m=h||{},g=[];if(!f||f.length===0)return g;for(var x=f.split(/[\r\n]/),v=x.length-1;v>=0&&x[v].length===0;)--v;for(var w=10,S=0,b=0;b<=v;++b)S=x[b].indexOf(" "),S==-1?S=x[b].length:S++,w=Math.max(w,S);for(b=0;b<=v;++b){g[b]=[];var _=0;for(t(x[b].slice(0,w).trim(),g,b,_,m),_=1;_<=(x[b].length-w)/10+1;++_)t(x[b].slice(w+(_-1)*10,w+_*10).trim(),g,b,_,m)}return m.sheetRows&&(g=g.slice(0,m.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var h={},m=!1,g=0,x=0;g<f.length;++g)(x=f.charCodeAt(g))==34?m=!m:!m&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&x.push([h[g],g]);if(!x.length){h=n;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&x.push([h[g],g])}return x.sort(function(v,w){return v[0]-w[0]||n[v[1]]-n[w[1]]}),r[x.pop()[1]]||44}function i(f,h){var m=h||{},g="",x=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(g=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(g=f.charAt(4),f=f.slice(6)):g=a(f.slice(0,1024)):m&&m.FS?g=m.FS:g=a(f.slice(0,1024));var w=0,S=0,b=0,_=0,E=0,A=g.charCodeAt(0),j=!1,O=0,D=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var M=m.dateNF!=null?Sve(m.dateNF):null;function k(){var I=f.slice(_,E),R={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)R.t="z";else if(m.raw)R.t="s",R.v=I;else if(I.trim().length===0)R.t="s",R.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(R.t="s",R.v=I.slice(2,-1).replace(/""/g,'"')):iye(I)?(R.t="n",R.f=I.slice(1)):(R.t="s",R.v=I);else if(I=="TRUE")R.t="b",R.v=!0;else if(I=="FALSE")R.t="b",R.v=!1;else if(!isNaN(b=tc(I)))R.t="n",m.cellText!==!1&&(R.w=I),R.v=b;else if(!isNaN(sg(I).getDate())||M&&I.match(M)){R.z=m.dateNF||Dn[14];var L=0;M&&I.match(M)&&(I=Nve(I,m.dateNF,I.match(M)||[]),L=1),m.cellDates?(R.t="d",R.v=Di(I,L)):(R.t="n",R.v=rs(Di(I,L))),m.cellText!==!1&&(R.w=Iu(R.z,R.v instanceof Date?rs(R.v):R.v)),m.cellNF||delete R.z}else R.t="s",R.v=I;if(R.t=="z"||(m.dense?(x[w]||(x[w]=[]),x[w][S]=R):x[Qr({c:S,r:w})]=R),_=E+1,D=f.charCodeAt(_),v.e.c<S&&(v.e.c=S),v.e.r<w&&(v.e.r=w),O==A)++S;else if(S=0,++w,m.sheetRows&&m.sheetRows<=w)return!0}e:for(;E<f.length;++E)switch(O=f.charCodeAt(E)){case 34:D===34&&(j=!j);break;case A:case 10:case 13:if(!j&&k())break e;break}return E-_>0&&k(),x["!ref"]=Qn(v),x}function s(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):q0(e(f,h),h)}function o(f,h){var m="",g=h.type=="string"?[0,0,0,0]:y_e(f,h);switch(h.type){case"base64":m=hc(f);break;case"binary":m=f;break;case"buffer":h.codepage==65001?m=f.toString("utf8"):h.codepage&&typeof fy<"u"||(m=Mr&&Buffer.isBuffer(f)?f.toString("binary"):mv(f));break;case"array":m=cw(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?m=bm(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=bm(m):h.type=="binary"&&typeof fy<"u",m.slice(0,19)=="socialcalc:version:"?yQ.to_sheet(h.type=="string"?m:bm(m),h):s(m,h)}function c(f,h){return ud(o(f,h),h)}function u(f){for(var h=[],m=xn(f["!ref"]),g,x=Array.isArray(f),v=m.s.r;v<=m.e.r;++v){for(var w=[],S=m.s.c;S<=m.e.c;++S){var b=Qr({r:v,c:S});if(g=x?(f[v]||[])[S]:f[b],!g||g.v==null){w.push("          ");continue}for(var _=(g.w||(pc(g),g.w)||"").slice(0,10);_.length<10;)_+=" ";w.push(_+(S===0?" ":""))}h.push(w.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})(),tD=(function(){function t(F,ee,K){if(F){bs(F,F.l||0);for(var ae=K.Enum||G;F.l<F.length;){var q=F.read_shift(2),pe=ae[q]||ae[65535],W=F.read_shift(2),V=F.l+W,fe=pe.f&&pe.f(F,W,K);if(F.l=V,ee(fe,pe,q))return}}}function e(F,ee){switch(ee.type){case"base64":return r(Do(hc(F)),ee);case"binary":return r(Do(F),ee);case"buffer":case"array":return r(F,ee)}throw"Unsupported type "+ee.type}function r(F,ee){if(!F)return F;var K=ee||{},ae=K.dense?[]:{},q="Sheet1",pe="",W=0,V={},fe=[],Se=[],ve={s:{r:0,c:0},e:{r:0,c:0}},gt=K.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)K.Enum=G,t(F,function(Me,st,qt){switch(qt){case 0:K.vers=Me,Me>=4096&&(K.qpro=!0);break;case 6:ve=Me;break;case 204:Me&&(pe=Me);break;case 222:pe=Me;break;case 15:case 51:K.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:qt==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=K.dateNF||Dn[14],K.cellDates&&(Me[1].t="d",Me[1].v=MX(Me[1].v))),K.qpro&&Me[3]>W&&(ae["!ref"]=Qn(ve),V[q]=ae,fe.push(q),ae=K.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},W=Me[3],q=pe||"Sheet"+(W+1),pe="");var we=K.dense?(ae[Me[0].r]||[])[Me[0].c]:ae[Qr(Me[0])];if(we){we.t=Me[1].t,we.v=Me[1].v,Me[1].z!=null&&(we.z=Me[1].z),Me[1].f!=null&&(we.f=Me[1].f);break}K.dense?(ae[Me[0].r]||(ae[Me[0].r]=[]),ae[Me[0].r][Me[0].c]=Me[1]):ae[Qr(Me[0])]=Me[1];break}},K);else if(F[2]==26||F[2]==14)K.Enum=z,F[2]==14&&(K.qpro=!0,F.l=0),t(F,function(Me,st,qt){switch(qt){case 204:q=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>W&&(ae["!ref"]=Qn(ve),V[q]=ae,fe.push(q),ae=K.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},W=Me[3],q="Sheet"+(W+1)),gt>0&&Me[0].r>=gt)break;K.dense?(ae[Me[0].r]||(ae[Me[0].r]=[]),ae[Me[0].r][Me[0].c]=Me[1]):ae[Qr(Me[0])]=Me[1],ve.e.c<Me[0].c&&(ve.e.c=Me[0].c),ve.e.r<Me[0].r&&(ve.e.r=Me[0].r);break;case 27:Me[14e3]&&(Se[Me[14e3][0]]=Me[14e3][1]);break;case 1537:Se[Me[0]]=Me[1],Me[0]==W&&(q=Me[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(ae["!ref"]=Qn(ve),V[pe||q]=ae,fe.push(pe||q),!Se.length)return{SheetNames:fe,Sheets:V};for(var Y={},Oe=[],Re=0;Re<Se.length;++Re)V[fe[Re]]?(Oe.push(Se[Re]||fe[Re]),Y[Se[Re]]=V[Se[Re]]||V[fe[Re]]):(Oe.push(Se[Re]),Y[Se[Re]]={"!ref":"A1"});return{SheetNames:Oe,Sheets:Y}}function n(F,ee){var K=ee||{};if(+K.codepage>=0&&ag(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=ts(),q=xn(F["!ref"]),pe=Array.isArray(F),W=[];ct(ae,0,i(1030)),ct(ae,6,c(q));for(var V=Math.min(q.e.r,8191),fe=q.s.r;fe<=V;++fe)for(var Se=Za(fe),ve=q.s.c;ve<=q.e.c;++ve){fe===q.s.r&&(W[ve]=di(ve));var gt=W[ve]+Se,Y=pe?(F[fe]||[])[ve]:F[gt];if(!(!Y||Y.t=="z"))if(Y.t=="n")(Y.v|0)==Y.v&&Y.v>=-32768&&Y.v<=32767?ct(ae,13,g(fe,ve,Y.v)):ct(ae,14,v(fe,ve,Y.v));else{var Oe=pc(Y);ct(ae,15,h(fe,ve,Oe.slice(0,239)))}}return ct(ae,1),ae.end()}function a(F,ee){var K=ee||{};if(+K.codepage>=0&&ag(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=ts();ct(ae,0,s(F));for(var q=0,pe=0;q<F.SheetNames.length;++q)(F.Sheets[F.SheetNames[q]]||{})["!ref"]&&ct(ae,27,ne(F.SheetNames[q],pe++));var W=0;for(q=0;q<F.SheetNames.length;++q){var V=F.Sheets[F.SheetNames[q]];if(!(!V||!V["!ref"])){for(var fe=xn(V["!ref"]),Se=Array.isArray(V),ve=[],gt=Math.min(fe.e.r,8191),Y=fe.s.r;Y<=gt;++Y)for(var Oe=Za(Y),Re=fe.s.c;Re<=fe.e.c;++Re){Y===fe.s.r&&(ve[Re]=di(Re));var Me=ve[Re]+Oe,st=Se?(V[Y]||[])[Re]:V[Me];if(!(!st||st.t=="z"))if(st.t=="n")ct(ae,23,k(Y,Re,W,st.v));else{var qt=pc(st);ct(ae,22,O(Y,Re,W,qt.slice(0,239)))}}++W}}return ct(ae,1),ae.end()}function i(F){var ee=Be(2);return ee.write_shift(2,F),ee}function s(F){var ee=Be(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var K=0,ae=0,q=0,pe=0;pe<F.SheetNames.length;++pe){var W=F.SheetNames[pe],V=F.Sheets[W];if(!(!V||!V["!ref"])){++q;var fe=Ps(V["!ref"]);K<fe.e.r&&(K=fe.e.r),ae<fe.e.c&&(ae=fe.e.c)}}return K>8191&&(K=8191),ee.write_shift(2,K),ee.write_shift(1,q),ee.write_shift(1,ae),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function o(F,ee,K){var ae={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&K.qpro?(ae.s.c=F.read_shift(1),F.l++,ae.s.r=F.read_shift(2),ae.e.c=F.read_shift(1),F.l++,ae.e.r=F.read_shift(2),ae):(ae.s.c=F.read_shift(2),ae.s.r=F.read_shift(2),ee==12&&K.qpro&&(F.l+=2),ae.e.c=F.read_shift(2),ae.e.r=F.read_shift(2),ee==12&&K.qpro&&(F.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function c(F){var ee=Be(8);return ee.write_shift(2,F.s.c),ee.write_shift(2,F.s.r),ee.write_shift(2,F.e.c),ee.write_shift(2,F.e.r),ee}function u(F,ee,K){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(ae[0].c=F.read_shift(1),ae[3]=F.read_shift(1),ae[0].r=F.read_shift(2),F.l+=2):(ae[2]=F.read_shift(1),ae[0].c=F.read_shift(2),ae[0].r=F.read_shift(2)),ae}function f(F,ee,K){var ae=F.l+ee,q=u(F,ee,K);if(q[1].t="s",K.vers==20768){F.l++;var pe=F.read_shift(1);return q[1].v=F.read_shift(pe,"utf8"),q}return K.qpro&&F.l++,q[1].v=F.read_shift(ae-F.l,"cstr"),q}function h(F,ee,K){var ae=Be(7+K.length);ae.write_shift(1,255),ae.write_shift(2,ee),ae.write_shift(2,F),ae.write_shift(1,39);for(var q=0;q<ae.length;++q){var pe=K.charCodeAt(q);ae.write_shift(1,pe>=128?95:pe)}return ae.write_shift(1,0),ae}function m(F,ee,K){var ae=u(F,ee,K);return ae[1].v=F.read_shift(2,"i"),ae}function g(F,ee,K){var ae=Be(7);return ae.write_shift(1,255),ae.write_shift(2,ee),ae.write_shift(2,F),ae.write_shift(2,K,"i"),ae}function x(F,ee,K){var ae=u(F,ee,K);return ae[1].v=F.read_shift(8,"f"),ae}function v(F,ee,K){var ae=Be(13);return ae.write_shift(1,255),ae.write_shift(2,ee),ae.write_shift(2,F),ae.write_shift(8,K,"f"),ae}function w(F,ee,K){var ae=F.l+ee,q=u(F,ee,K);if(q[1].v=F.read_shift(8,"f"),K.qpro)F.l=ae;else{var pe=F.read_shift(2);E(F.slice(F.l,F.l+pe),q),F.l+=pe}return q}function S(F,ee,K){var ae=ee&32768;return ee&=-32769,ee=(ae?F:0)+(ee>=8192?ee-16384:ee),(ae?"":"$")+(K?di(ee):Za(ee))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(F,ee){bs(F,0);for(var K=[],ae=0,q="",pe="",W="",V="";F.l<F.length;){var fe=F[F.l++];switch(fe){case 0:K.push(F.read_shift(8,"f"));break;case 1:pe=S(ee[0].c,F.read_shift(2),!0),q=S(ee[0].r,F.read_shift(2),!1),K.push(pe+q);break;case 2:{var Se=S(ee[0].c,F.read_shift(2),!0),ve=S(ee[0].r,F.read_shift(2),!1);pe=S(ee[0].c,F.read_shift(2),!0),q=S(ee[0].r,F.read_shift(2),!1),K.push(Se+ve+":"+pe+q)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(F.read_shift(2));break;case 6:{for(var gt="";fe=F[F.l++];)gt+=String.fromCharCode(fe);K.push('"'+gt.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:V=K.pop(),W=K.pop(),K.push(["AND","OR"][fe-20]+"("+W+","+V+")");break;default:if(fe<32&&_[fe])V=K.pop(),W=K.pop(),K.push(W+_[fe]+V);else if(b[fe]){if(ae=b[fe][1],ae==69&&(ae=F[F.l++]),ae>K.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+K.join("|")+"|");return}var Y=K.slice(-ae);K.length-=ae,K.push(b[fe][0]+"("+Y.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}K.length==1?ee[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function A(F){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=F.read_shift(2),ee[3]=F[F.l++],ee[0].c=F[F.l++],ee}function j(F,ee){var K=A(F);return K[1].t="s",K[1].v=F.read_shift(ee-4,"cstr"),K}function O(F,ee,K,ae){var q=Be(6+ae.length);q.write_shift(2,F),q.write_shift(1,K),q.write_shift(1,ee),q.write_shift(1,39);for(var pe=0;pe<ae.length;++pe){var W=ae.charCodeAt(pe);q.write_shift(1,W>=128?95:W)}return q.write_shift(1,0),q}function D(F,ee){var K=A(F);K[1].v=F.read_shift(2);var ae=K[1].v>>1;if(K[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return K[1].v=ae,K}function M(F,ee){var K=A(F),ae=F.read_shift(4),q=F.read_shift(4),pe=F.read_shift(2);if(pe==65535)return ae===0&&q===3221225472?(K[1].t="e",K[1].v=15):ae===0&&q===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var W=pe&32768;return pe=(pe&32767)-16446,K[1].v=(1-W*2)*(q*Math.pow(2,pe+32)+ae*Math.pow(2,pe)),K}function k(F,ee,K,ae){var q=Be(14);if(q.write_shift(2,F),q.write_shift(1,K),q.write_shift(1,ee),ae==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var pe=0,W=0,V=0,fe=0;return ae<0&&(pe=1,ae=-ae),W=Math.log2(ae)|0,ae/=Math.pow(2,W-31),fe=ae>>>0,(fe&2147483648)==0&&(ae/=2,++W,fe=ae>>>0),ae-=fe,fe|=2147483648,fe>>>=0,ae*=Math.pow(2,32),V=ae>>>0,q.write_shift(4,V),q.write_shift(4,fe),W+=16383+(pe?32768:0),q.write_shift(2,W),q}function I(F,ee){var K=M(F);return F.l+=ee-14,K}function R(F,ee){var K=A(F),ae=F.read_shift(4);return K[1].v=ae>>6,K}function L(F,ee){var K=A(F),ae=F.read_shift(8,"f");return K[1].v=ae,K}function U(F,ee){var K=L(F);return F.l+=ee-10,K}function X(F,ee){return F[F.l+ee-1]==0?F.read_shift(ee,"cstr"):""}function ue(F,ee){var K=F[F.l++];K>ee-1&&(K=ee-1);for(var ae="";ae.length<K;)ae+=String.fromCharCode(F[F.l++]);return ae}function he(F,ee,K){if(!(!K.qpro||ee<21)){var ae=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var q=F.read_shift(ee-21,"cstr");return[ae,q]}}function J(F,ee){for(var K={},ae=F.l+ee;F.l<ae;){var q=F.read_shift(2);if(q==14e3){for(K[q]=[0,""],K[q][0]=F.read_shift(2);F[F.l];)K[q][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return K}function ne(F,ee){var K=Be(5+F.length);K.write_shift(2,14e3),K.write_shift(2,ee);for(var ae=0;ae<F.length;++ae){var q=F.charCodeAt(ae);K[K.l++]=q>127?95:q}return K[K.l++]=0,K}var G={0:{n:"BOF",f:pQ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:ue},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:he},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),l1e=/^\s|\s$|[\t\n\r]/;function wQ(t,e){if(!e.bookSST)return"";var r=[Zn];r[r.length]=lt("sst",null,{xmlns:z0[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(l1e)&&(i+=' xml:space="preserve"'),i+=">"+Xr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function c1e(t){return[t.read_shift(4),t.read_shift(4)]}function u1e(t,e){return e||(e=Be(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var f1e=txe;function d1e(t){var e=ts();ze(e,159,u1e(t));for(var r=0;r<t.length;++r)ze(e,19,f1e(t[r]));return ze(e,160),e.end()}function h1e(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function bQ(t){var e=0,r,n=h1e(t),a=n.length+1,i,s,o,c,u;for(r=Zf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=(e&16384)===0?0:1,c=e<<1&32767,u=o|c,e=u^s;return e^52811}var p1e=(function(){function t(a,i){switch(i.type){case"base64":return e(hc(a),i);case"binary":return e(a,i);case"buffer":return e(Mr&&Buffer.isBuffer(a)?a.toString("binary"):mv(a),i);case"array":return e(cw(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,h){Array.isArray(o)&&(o[h]=[]);for(var m=/\\\w+\b/g,g=0,x,v=-1;x=m.exec(f);){switch(x[0]){case"\\cell":var w=f.slice(g,m.lastIndex-x[0].length);if(w[0]==" "&&(w=w.slice(1)),++v,w.length){var S={v:w,t:"s"};Array.isArray(o)?o[h][v]=S:o[Qr({r:h,c:v})]=S}break}g=m.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=Qn(u),o}function r(a,i){return ud(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=xn(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var h=Qr({r:u,c:f});o=c?(a[u]||[])[f]:a[h],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(pc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function rD(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var m1e=6,rc=m1e;function wy(t){return Math.floor((t+Math.round(128/rc)/256)*rc)}function by(t){return Math.floor((t-5)/rc*100+.5)/100}function AC(t){return Math.round((t*rc+5)/rc*256)/256}function C3(t){t.width?(t.wpx=wy(t.width),t.wch=by(t.wpx),t.MDW=rc):t.wpx?(t.wch=by(t.wpx),t.width=AC(t.wch),t.MDW=rc):typeof t.wch=="number"&&(t.width=AC(t.wch),t.wpx=wy(t.width),t.MDW=rc),t.customWidth&&delete t.customWidth}var g1e=96,_Q=g1e;function _y(t){return t*96/_Q}function SQ(t){return t*_Q/96}function v1e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=lt("numFmt",null,{numFmtId:n,formatCode:Xr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=lt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function x1e(t){var e=[];return e[e.length]=lt("cellXfs",null),t.forEach(function(r){e[e.length]=lt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=lt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function NQ(t,e){var r=[Zn,lt("styleSheet",null,{xmlns:z0[0],"xmlns:vt":Ca.vt})],n;return t.SSF&&(n=v1e(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=x1e(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function y1e(t,e){var r=t.read_shift(2),n=hi(t);return[r,n]}function w1e(t,e,r){r||(r=Be(6+4*e.length)),r.write_shift(2,t),Pa(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function b1e(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=lxe(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=oxe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=hi(t),n}function _1e(t,e){e||(e=Be(153)),e.write_shift(2,t.sz*20),cxe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),xy(t.color,e);var n=0;return n=2,e.write_shift(1,n),Pa(t.name,e),e.length>e.l?e.slice(0,e.l):e}var S1e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],mS,N1e=bl;function nD(t,e){e||(e=Be(84)),mS||(mS=g3(S1e));var r=mS[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(xy({auto:1},e),xy({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function E1e(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function EQ(t,e,r){r||(r=Be(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function zp(t,e){return e||(e=Be(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var A1e=bl;function T1e(t,e){return e||(e=Be(51)),e.write_shift(1,0),zp(null,e),zp(null,e),zp(null,e),zp(null,e),zp(null,e),e.length>e.l?e.slice(0,e.l):e}function C1e(t,e){return e||(e=Be(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),vy(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function j1e(t,e,r){var n=Be(2052);return n.write_shift(4,t),vy(e,n),vy(r,n),n.length>n.l?n.slice(0,n.l):n}function O1e(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(ze(t,615,Bo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&ze(t,44,w1e(a,e[a]))}),ze(t,616))}}function I1e(t){var e=1;ze(t,611,Bo(e)),ze(t,43,_1e({sz:12,color:{theme:1},name:"Calibri",family:2})),ze(t,612)}function P1e(t){var e=2;ze(t,603,Bo(e)),ze(t,45,nD({patternType:"none"})),ze(t,45,nD({patternType:"gray125"})),ze(t,604)}function k1e(t){var e=1;ze(t,613,Bo(e)),ze(t,46,T1e()),ze(t,614)}function D1e(t){var e=1;ze(t,626,Bo(e)),ze(t,47,EQ({numFmtId:0},65535)),ze(t,627)}function R1e(t,e){ze(t,617,Bo(e.length)),e.forEach(function(r){ze(t,47,EQ(r,0))}),ze(t,618)}function M1e(t){var e=1;ze(t,619,Bo(e)),ze(t,48,C1e({xfId:0,name:"Normal"})),ze(t,620)}function F1e(t){var e=0;ze(t,505,Bo(e)),ze(t,506)}function L1e(t){var e=0;ze(t,508,j1e(e,"TableStyleMedium9","PivotStyleMedium4")),ze(t,509)}function B1e(t,e){var r=ts();return ze(r,278),O1e(r,t.SSF),I1e(r),P1e(r),k1e(r),D1e(r),R1e(r,e.cellXfs),M1e(r),F1e(r),L1e(r),ze(r,279),r.end()}function AQ(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Zn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $1e(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:hi(t)}}function U1e(t){var e=Be(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Pa(t.name,e),e.slice(0,e.l)}function V1e(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function H1e(t){var e=Be(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function z1e(t,e){var r=Be(8+2*e.length);return r.write_shift(4,t),Pa(e,r),r.slice(0,r.l)}function q1e(t){return t.l+=4,t.read_shift(4)!=0}function W1e(t,e){var r=Be(8);return r.write_shift(4,t),r.write_shift(4,1),r}function G1e(){var t=ts();return ze(t,332),ze(t,334,Bo(1)),ze(t,335,U1e({name:"XLDAPR",version:12e4,flags:3496657072})),ze(t,336),ze(t,339,z1e(1,"XLDAPR")),ze(t,52),ze(t,35,Bo(514)),ze(t,4096,Bo(0)),ze(t,4097,Zs(1)),ze(t,36),ze(t,53),ze(t,340),ze(t,337,W1e(1)),ze(t,51,H1e([[1,0]])),ze(t,338),ze(t,333),t.end()}function TQ(){var t=[Zn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function K1e(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Qr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var uh=1024;function CQ(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[lt("xml",null,{"xmlns:v":Ns.v,"xmlns:o":Ns.o,"xmlns:x":Ns.x,"xmlns:mv":Ns.mv}).replace(/\/>/,">"),lt("o:shapelayout",lt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),lt("v:shapetype",[lt("v:stroke",null,{joinstyle:"miter"}),lt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];uh<t*1e3;)uh+=1e3;return e.forEach(function(i){var s=Ia(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?lt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=lt("v:fill",c,o),f={on:"t",obscured:"t"};++uh,a=a.concat(["<v:shape"+lg({id:"_x0000_s"+uh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,lt("v:shadow",null,f),lt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xa("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Xa("x:AutoFill","False"),Xa("x:Row",String(s.r)),Xa("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function jQ(t){var e=[Zn,lt("comments",null,{xmlns:z0[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=Xr(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Xr(c.a))),i.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(Xa("t",Xr(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;e.push(Xa("t",Xr(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function X1e(t,e,r){var n=[Zn,lt("ThreadedComments",null,{xmlns:Ca.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(lt("threadedComment",Xa("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Q1e(t){var e=[Zn,lt("personList",null,{xmlns:Ca.TCMNT,"xmlns:x":z0[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(lt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Y1e(t){var e={};e.iauthor=t.read_shift(4);var r=pd(t);return e.rfx=r.s,e.ref=Qr(r.s),t.l+=16,e}function Z1e(t,e){return e==null&&(e=Be(36)),e.write_shift(4,t[1].iauthor),W0(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var J1e=hi;function eye(t){return Pa(t.slice(0,54))}function tye(t){var e=ts(),r=[];return ze(e,628),ze(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ze(e,632,eye(a.a)))})}),ze(e,631),ze(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Ia(n[0]),e:Ia(n[0])};ze(e,635,Z1e([i,a])),a.t&&a.t.length>0&&ze(e,637,nxe(a)),ze(e,636),delete a.iauthor})}),ze(e,634),ze(e,629),e.end()}function rye(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&en.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var OQ=["xlsb","xlsm","xlam","biff8","xla"],nye=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=e.c:--f,c?u+=e.r:--u,a+(o?"":"$")+di(f)+(c?"":"$")+Za(u)}return function(a,i){return e=i,a.replace(t,r)}})(),j3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,O3=(function(){return function(e,r){return e.replace(j3,function(n,a,i,s,o,c){var u=S3(s)-(i?0:r.c),f=_3(c)-(o?0:r.r),h=f==0?"":o?f+1:"["+f+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+h+"C"+m})}})();function aye(t,e){return t.replace(j3,function(r,n,a,i,s,o){return n+(a=="$"?a+i:di(S3(i)+e.c))+(s=="$"?s+o:Za(_3(o)+e.r))})}function iye(t){return t.length!=1}function zn(t){t.l+=1}function Pu(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function IQ(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return PQ(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),s=Pu(t),o=Pu(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function PQ(t){var e=Pu(t),r=Pu(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function sye(t,e,r){if(r.biff<8)return PQ(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=Pu(t),s=Pu(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function kQ(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return oye(t);var n=t.read_shift(r&&r.biff==12?4:2),a=Pu(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function oye(t){var e=Pu(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function lye(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function cye(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return uye(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function uye(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function fye(t,e,r){var n=(t[t.l++]&96)>>5,a=IQ(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function dye(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var s=IQ(t,i,r);return[n,a,s]}function hye(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function pye(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function mye(t,e,r){var n=(t[t.l++]&96)>>5,a=sye(t,e-1,r);return[n,a]}function gye(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function aD(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function vye(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function xye(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function yye(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function wye(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function bye(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function DQ(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function _ye(t){return t.read_shift(2),DQ(t)}function Sye(t){return t.read_shift(2),DQ(t)}function Nye(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=kQ(t,0,r);return[n,a]}function Eye(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=cye(t,0,r);return[n,a]}function Aye(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=kQ(t,0,r);return[n,a,i]}function Tye(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[T2e[a],FQ[a],n]}function Cye(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:jye(t);return[a,(i[0]===0?FQ:A2e)[i[1]]]}function jye(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Oye(t,e,r){t.l+=r&&r.biff==2?3:4}function Iye(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Pye(t){return t.l++,xv[t.read_shift(1)]}function kye(t){return t.l++,t.read_shift(2)}function Dye(t){return t.l++,t.read_shift(1)!==0}function Rye(t){return t.l++,G0(t)}function Mye(t,e,r){return t.l++,gQ(t,e-1,r)}function Fye(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Axe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=xv[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=G0(t);break;case 2:r[1]=Oxe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Lye(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?pd:kxe)(t));return a}function Bye(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Fye(t,r.biff);return s}function $ye(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function Uye(t,e,r){if(r.biff==5)return Vye(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function Vye(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Hye(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function zye(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function qye(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Wye(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var Gye=bl,Kye=bl,Xye=bl;function yv(t,e,r){return t.l+=2,[lye(t)]}function I3(t){return t.l+=6,[]}var Qye=yv,Yye=I3,Zye=I3,Jye=yv;function RQ(t){return t.l+=2,[pQ(t),t.read_shift(2)&1]}var e2e=yv,t2e=RQ,r2e=I3,n2e=yv,a2e=yv,i2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function s2e(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),s=i2e[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:a,C:i}}function o2e(t){return t.l+=2,[t.read_shift(4)]}function l2e(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function c2e(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function u2e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function f2e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function d2e(t){return t.l+=4,[0,0]}var iD={1:{n:"PtgExp",f:Iye},2:{n:"PtgTbl",f:Xye},3:{n:"PtgAdd",f:zn},4:{n:"PtgSub",f:zn},5:{n:"PtgMul",f:zn},6:{n:"PtgDiv",f:zn},7:{n:"PtgPower",f:zn},8:{n:"PtgConcat",f:zn},9:{n:"PtgLt",f:zn},10:{n:"PtgLe",f:zn},11:{n:"PtgEq",f:zn},12:{n:"PtgGe",f:zn},13:{n:"PtgGt",f:zn},14:{n:"PtgNe",f:zn},15:{n:"PtgIsect",f:zn},16:{n:"PtgUnion",f:zn},17:{n:"PtgRange",f:zn},18:{n:"PtgUplus",f:zn},19:{n:"PtgUminus",f:zn},20:{n:"PtgPercent",f:zn},21:{n:"PtgParen",f:zn},22:{n:"PtgMissArg",f:zn},23:{n:"PtgStr",f:Mye},26:{n:"PtgSheet",f:l2e},27:{n:"PtgEndSheet",f:c2e},28:{n:"PtgErr",f:Pye},29:{n:"PtgBool",f:Dye},30:{n:"PtgInt",f:kye},31:{n:"PtgNum",f:Rye},32:{n:"PtgArray",f:gye},33:{n:"PtgFunc",f:Tye},34:{n:"PtgFuncVar",f:Cye},35:{n:"PtgName",f:$ye},36:{n:"PtgRef",f:Nye},37:{n:"PtgArea",f:fye},38:{n:"PtgMemArea",f:Hye},39:{n:"PtgMemErr",f:Gye},40:{n:"PtgMemNoMem",f:Kye},41:{n:"PtgMemFunc",f:zye},42:{n:"PtgRefErr",f:qye},43:{n:"PtgAreaErr",f:hye},44:{n:"PtgRefN",f:Eye},45:{n:"PtgAreaN",f:mye},46:{n:"PtgMemAreaN",f:u2e},47:{n:"PtgMemNoMemN",f:f2e},57:{n:"PtgNameX",f:Uye},58:{n:"PtgRef3d",f:Aye},59:{n:"PtgArea3d",f:dye},60:{n:"PtgRefErr3d",f:Wye},61:{n:"PtgAreaErr3d",f:pye},255:{}},h2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},p2e={1:{n:"PtgElfLel",f:RQ},2:{n:"PtgElfRw",f:n2e},3:{n:"PtgElfCol",f:Qye},6:{n:"PtgElfRwV",f:a2e},7:{n:"PtgElfColV",f:Jye},10:{n:"PtgElfRadical",f:e2e},11:{n:"PtgElfRadicalS",f:r2e},13:{n:"PtgElfColS",f:Yye},15:{n:"PtgElfColSV",f:Zye},16:{n:"PtgElfRadicalLel",f:t2e},25:{n:"PtgList",f:s2e},29:{n:"PtgSxName",f:o2e},255:{}},m2e={0:{n:"PtgAttrNoop",f:d2e},1:{n:"PtgAttrSemi",f:bye},2:{n:"PtgAttrIf",f:yye},4:{n:"PtgAttrChoose",f:vye},8:{n:"PtgAttrGoto",f:xye},16:{n:"PtgAttrSum",f:Oye},32:{n:"PtgAttrBaxcel",f:aD},33:{n:"PtgAttrBaxcel",f:aD},64:{n:"PtgAttrSpace",f:_ye},65:{n:"PtgAttrSpaceSemi",f:Sye},128:{n:"PtgAttrIfError",f:wye},255:{}};function g2e(t,e,r,n){if(n.biff<8)return bl(t,e);for(var a=t.l+e,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Bye(t,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Lye(t,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=a-t.l,e!==0&&i.push(bl(t,e)),i}function v2e(t,e,r){for(var n=t.l+e,a,i,s=[];n!=t.l;)e=n-t.l,i=t[t.l],a=iD[i]||iD[h2e[i]],(i===24||i===25)&&(a=(i===24?p2e:m2e)[t[t.l+1]]),!a||!a.f?bl(t,e):s.push([a.n,a.f(t,e,r)]);return s}function x2e(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var y2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function w2e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function MQ(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function sD(t,e,r){var n=MQ(t,e,r);return n=="#REF"?n:w2e(n,r)}function n0(t,e,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],c,u,f,h=0,m=0,g,x="";if(!t[0]||!t[0][0])return"";for(var v=-1,w="",S=0,b=t[0].length;S<b;++S){var _=t[0][S];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:w=Pn(" ",t[0][v][1][1]);break;case 1:w=Pn("\r",t[0][v][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}u=u+w,v=-1}o.push(u+y2e[_[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Sm(_[1][1],s,a),o.push(Nm(f,i));break;case"PtgRefN":f=r?Sm(_[1][1],r,a):_[1][1],o.push(Nm(f,i));break;case"PtgRef3d":h=_[1][1],f=Sm(_[1][2],s,a),x=sD(n,h,a),o.push(x+"!"+Nm(f,i));break;case"PtgFunc":case"PtgFuncVar":var E=_[1][0],A=_[1][1];E||(E=0),E&=127;var j=E==0?[]:o.slice(-E);o.length-=E,A==="User"&&(A=j.shift()),o.push(A+"("+j.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":g=z6(_[1][1],r?{s:r}:s,a),o.push(hS(g,a));break;case"PtgArea":g=z6(_[1][1],s,a),o.push(hS(g,a));break;case"PtgArea3d":h=_[1][1],g=_[1][2],x=sD(n,h,a),o.push(x+"!"+hS(g,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var O=(n.names||[])[m-1]||(n[0]||[])[m],D=O?O.Name:"SH33TJSNAME"+String(m);D&&D.slice(0,6)=="_xlfn."&&!a.xlfn&&(D=D.slice(6)),o.push(D);break;case"PtgNameX":var M=_[1][1];m=_[1][2];var k;if(a.biff<=5)M<0&&(M=-M),n[M]&&(k=n[M][m]);else{var I="";if(((n[M]||[])[0]||[])[0]==14849||(((n[M]||[])[0]||[])[0]==1025?n[M][m]&&n[M][m].itab>0&&(I=n.SheetNames[n[M][m].itab-1]+"!"):I=n.SheetNames[m-1]+"!"),n[M]&&n[M][m])I+=n[M][m].Name;else if(n[0]&&n[0][m])I+=n[0][m].Name;else{var R=(MQ(n,M,a)||"").split(";;");R[m-1]?I=R[m-1]:I+="SH33TJSERRX"}o.push(I);break}k||(k={Name:"SH33TJSERRY"}),o.push(k.Name);break;case"PtgParen":var L="(",U=")";if(v>=0){switch(w="",t[0][v][1][0]){case 2:L=Pn(" ",t[0][v][1][1])+L;break;case 3:L=Pn("\r",t[0][v][1][1])+L;break;case 4:U=Pn(" ",t[0][v][1][1])+U;break;case 5:U=Pn("\r",t[0][v][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(L+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:_[1][1],r:_[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[Qr(f)]){var ue=n.sharedf[Qr(f)];o.push(n0(ue,s,X,n,a))}else{var he=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(n0(u[1],s,X,n,a)),he=!0;break}he||o.push(_[1])}break;case"PtgArray":o.push("{"+x2e(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&J.indexOf(t[0][S][0])==-1){_=t[0][v];var ne=!0;switch(_[1][0]){case 4:ne=!1;case 0:w=Pn(" ",_[1][1]);break;case 5:ne=!1;case 1:w=Pn("\r",_[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((ne?w:"")+o.pop()+(ne?"":w)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function b2e(t){if(t==null){var e=Be(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Jf(t);return Jf(0)}function _2e(t,e,r,n,a){var i=ed(e,r,a),s=b2e(t.v),o=Be(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=Be(t.bf.length),f=0;f<t.bf.length;++f)u[f]=t.bf[f];var h=Ka([i,s,o,u]);return h}function uw(t,e,r){var n=t.read_shift(4),a=v2e(t,n,r),i=t.read_shift(4),s=i>0?g2e(t,i,a,r):null;return[a,s]}var S2e=uw,fw=uw,N2e=uw,E2e=uw,A2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},FQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},T2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function C2e(t){var e="of:="+t.replace(j3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function j2e(t){return t.replace(/\./,"!")}var Em=typeof Map<"u";function P3(t,e,r){var n=0,a=t.length;if(r){if(Em?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=Em?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(Em?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function dw(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(rc=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=by(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=AC(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function LQ(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Mu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){kX(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function O2e(t,e,r){if(t&&t["!ref"]){var n=xn(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function I2e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Qn(t[r])+'"/>';return e+"</mergeCells>"}function P2e(t,e,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=og(Xr(c))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+lt("outlinePr",null,u)}!i&&!o||(a[a.length]=lt("sheetPr",o,s))}var k2e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],D2e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function R2e(t){var e={sheet:1};return k2e.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),D2e.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=bQ(t.password).toString(16).toUpperCase()),lt("sheetProtection",null,e)}function M2e(t){return LQ(t),lt("pageMargins",null,t)}function F2e(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=lt("col",null,dw(a,n)));return r[r.length]="</cols>",r.join("")}function L2e(t,e,r,n){var a=typeof t.ref=="string"?t.ref:Qn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Ps(a);s.s.r==s.e.r&&(s.e.r=Ps(e["!ref"]).e.r,a=Qn(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),lt("autoFilter",null,{ref:a})}function B2e(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),lt("sheetViews",lt("sheetView",null,a),{})}function $2e(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=xv[t.v];break;case"d":n&&n.cellDates?a=Di(t.v,-1).toISOString():(t=ns(t),t.t="n",a=""+(t.v=rs(Di(t.v)))),typeof t.z>"u"&&(t.z=Dn[14]);break;default:a=t.v;break}var o=Xa("v",Xr(a)),c={r:e},u=Mu(n.cellXfs,t,n);switch(u!==0&&(c.s=u),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Xa("v",""+P3(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=i&&(t.t=i,t.v=s),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=lt("f",Xr(t.f),f)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),lt("c",o,c)}function U2e(t,e,r,n){var a=[],i=[],s=xn(t["!ref"]),o="",c,u="",f=[],h=0,m=0,g=t["!rows"],x=Array.isArray(t),v={r:u},w,S=-1;for(m=s.s.c;m<=s.e.c;++m)f[m]=di(m);for(h=s.s.r;h<=s.e.r;++h){for(i=[],u=Za(h),m=s.s.c;m<=s.e.c;++m){c=f[m]+u;var b=x?(t[h]||[])[m]:t[c];b!==void 0&&(o=$2e(b,c,t,e))!=null&&i.push(o)}(i.length>0||g&&g[h])&&(v={r:u},g&&g[h]&&(w=g[h],w.hidden&&(v.hidden=1),S=-1,w.hpx?S=_y(w.hpx):w.hpt&&(S=w.hpt),S>-1&&(v.ht=S,v.customHeight=1),w.level&&(v.outlineLevel=w.level)),a[a.length]=lt("row",i.join(""),v))}if(g)for(;h<g.length;++h)g&&g[h]&&(v={r:h+1},w=g[h],w.hidden&&(v.hidden=1),S=-1,w.hpx?S=_y(w.hpx):w.hpt&&(S=w.hpt),S>-1&&(v.ht=S,v.customHeight=1),w.level&&(v.outlineLevel=w.level),a[a.length]=lt("row","",v));return a.join("")}function BQ(t,e,r,n){var a=[Zn,lt("worksheet",null,{xmlns:z0[0],"xmlns:r":Ca.r})],i=r.SheetNames[t],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",f=xn(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Qn(f)}n||(n={}),c["!comments"]=[];var h=[];P2e(c,r,t,e,a),a[a.length]=lt("dimension",null,{ref:u}),a[a.length]=B2e(c,e,t,r),e.sheetFormat&&(a[a.length]=lt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=F2e(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=U2e(c,e),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=R2e(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=L2e(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=I2e(c["!merges"]));var m=-1,g,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(g={ref:v[0]},v[1].Target.charAt(0)!="#"&&(x=Kr(n,-1,Xr(v[1].Target).replace(/#.*$/,""),Or.HLINK),g["r:id"]="rId"+x),(m=v[1].Target.indexOf("#"))>-1&&(g.location=Xr(v[1].Target.slice(m+1))),v[1].Tooltip&&(g.tooltip=Xr(v[1].Tooltip)),a[a.length]=lt("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=M2e(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=Xa("ignoredErrors",lt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(x=Kr(n,-1,"../drawings/drawing"+(t+1)+".xml",Or.DRAW),a[a.length]=lt("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=h),c["!comments"].length>0&&(x=Kr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Or.VML),a[a.length]=lt("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function V2e(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function H2e(t,e,r){var n=Be(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=_y(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var h=-1,m=-1,g=f<<10;g<f+1<<10;++g){u.c=g;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Qr(u)];x&&(h<0&&(h=g),m=g)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,m))}var v=n.l;return n.l=c,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function z2e(t,e,r,n){var a=H2e(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&ze(t,0,a)}var q2e=pd,W2e=W0;function G2e(){}function K2e(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=axe(t),r}function X2e(t,e,r){r==null&&(r=Be(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return xy({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),eQ(t,r),r.slice(0,r.l)}function Q2e(t){var e=lo(t);return[e]}function Y2e(t,e,r){return r==null&&(r=Be(8)),fd(e,r)}function Z2e(t){var e=dd(t);return[e]}function J2e(t,e,r){return r==null&&(r=Be(4)),hd(e,r)}function ewe(t){var e=lo(t),r=t.read_shift(1);return[e,r,"b"]}function twe(t,e,r){return r==null&&(r=Be(9)),fd(e,r),r.write_shift(1,t.v?1:0),r}function rwe(t){var e=dd(t),r=t.read_shift(1);return[e,r,"b"]}function nwe(t,e,r){return r==null&&(r=Be(5)),hd(e,r),r.write_shift(1,t.v?1:0),r}function awe(t){var e=lo(t),r=t.read_shift(1);return[e,r,"e"]}function iwe(t,e,r){return r==null&&(r=Be(9)),fd(e,r),r.write_shift(1,t.v),r}function swe(t){var e=dd(t),r=t.read_shift(1);return[e,r,"e"]}function owe(t,e,r){return r==null&&(r=Be(8)),hd(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function lwe(t){var e=lo(t),r=t.read_shift(4);return[e,r,"s"]}function cwe(t,e,r){return r==null&&(r=Be(12)),fd(e,r),r.write_shift(4,e.v),r}function uwe(t){var e=dd(t),r=t.read_shift(4);return[e,r,"s"]}function fwe(t,e,r){return r==null&&(r=Be(8)),hd(e,r),r.write_shift(4,e.v),r}function dwe(t){var e=lo(t),r=G0(t);return[e,r,"n"]}function hwe(t,e,r){return r==null&&(r=Be(16)),fd(e,r),Jf(t.v,r),r}function pwe(t){var e=dd(t),r=G0(t);return[e,r,"n"]}function mwe(t,e,r){return r==null&&(r=Be(12)),hd(e,r),Jf(t.v,r),r}function gwe(t){var e=lo(t),r=tQ(t);return[e,r,"n"]}function vwe(t,e,r){return r==null&&(r=Be(12)),fd(e,r),rQ(t.v,r),r}function xwe(t){var e=dd(t),r=tQ(t);return[e,r,"n"]}function ywe(t,e,r){return r==null&&(r=Be(8)),hd(e,r),rQ(t.v,r),r}function wwe(t){var e=lo(t),r=N3(t);return[e,r,"is"]}function bwe(t){var e=lo(t),r=hi(t);return[e,r,"str"]}function _we(t,e,r){return r==null&&(r=Be(12+4*t.v.length)),fd(e,r),Pa(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Swe(t){var e=dd(t),r=hi(t);return[e,r,"str"]}function Nwe(t,e,r){return r==null&&(r=Be(8+4*t.v.length)),hd(e,r),Pa(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Ewe(t,e,r){var n=t.l+e,a=lo(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"b"];if(r.cellFormula){t.l+=2;var o=fw(t,n-t.l,r);s[3]=n0(o,null,a,r.supbooks,r)}else t.l=n;return s}function Awe(t,e,r){var n=t.l+e,a=lo(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"e"];if(r.cellFormula){t.l+=2;var o=fw(t,n-t.l,r);s[3]=n0(o,null,a,r.supbooks,r)}else t.l=n;return s}function Twe(t,e,r){var n=t.l+e,a=lo(t);a.r=r["!row"];var i=G0(t),s=[a,i,"n"];if(r.cellFormula){t.l+=2;var o=fw(t,n-t.l,r);s[3]=n0(o,null,a,r.supbooks,r)}else t.l=n;return s}function Cwe(t,e,r){var n=t.l+e,a=lo(t);a.r=r["!row"];var i=hi(t),s=[a,i,"str"];if(r.cellFormula){t.l+=2;var o=fw(t,n-t.l,r);s[3]=n0(o,null,a,r.supbooks,r)}else t.l=n;return s}var jwe=pd,Owe=W0;function Iwe(t,e){return e==null&&(e=Be(4)),e.write_shift(4,t),e}function Pwe(t,e){var r=t.l+e,n=pd(t),a=E3(t),i=hi(t),s=hi(t),o=hi(t);t.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function kwe(t,e){var r=Be(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));W0({s:Ia(t[0]),e:Ia(t[0])},r),A3("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Pa(a||"",r),Pa(t[1].Tooltip||"",r),Pa("",r),r.slice(0,r.l)}function Dwe(){}function Rwe(t,e,r){var n=t.l+e,a=nQ(t),i=t.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=S2e(t,n-t.l,r);s[1]=o}else t.l=n;return s}function Mwe(t,e,r){var n=t.l+e,a=pd(t),i=[a];if(r.cellFormula){var s=E2e(t,n-t.l,r);i[1]=s,t.l=n}else t.l=n;return i}function Fwe(t,e,r){r==null&&(r=Be(18));var n=dw(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var $Q=["left","right","top","bottom","header","footer"];function Lwe(t){var e={};return $Q.forEach(function(r){e[r]=G0(t)}),e}function Bwe(t,e){return e==null&&(e=Be(48)),LQ(t),$Q.forEach(function(r){Jf(t[r],e)}),e}function $we(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Uwe(t,e,r){r==null&&(r=Be(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Vwe(t){var e=Be(24);return e.write_shift(4,4),e.write_shift(4,1),W0(t,e),e}function Hwe(t,e){return e==null&&(e=Be(66)),e.write_shift(2,t.password?bQ(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function zwe(){}function qwe(){}function Wwe(t,e,r,n,a,i,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=ns(e),e.z=e.z||Dn[14],e.v=rs(Di(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r,c:n};switch(c.s=Mu(a.cellXfs,e,a),e.l&&i["!links"].push([Qr(c),e.l]),e.c&&i["!comments"].push([Qr(c),e.c]),e.t){case"s":case"str":return a.bookSST?(o=P3(a.Strings,e.v,a.revStrings),c.t="s",c.v=o,s?ze(t,18,fwe(e,c)):ze(t,7,cwe(e,c))):(c.t="str",s?ze(t,17,Nwe(e,c)):ze(t,6,_we(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?ze(t,13,ywe(e,c)):ze(t,2,vwe(e,c)):s?ze(t,16,mwe(e,c)):ze(t,5,hwe(e,c)),!0;case"b":return c.t="b",s?ze(t,15,nwe(e,c)):ze(t,4,twe(e,c)),!0;case"e":return c.t="e",s?ze(t,14,owe(e,c)):ze(t,3,iwe(e,c)),!0}return s?ze(t,12,J2e(e,c)):ze(t,1,Y2e(e,c)),!0}function Gwe(t,e,r,n){var a=xn(e["!ref"]||"A1"),i,s="",o=[];ze(t,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var f=a.s.r;f<=u;++f){s=Za(f),z2e(t,e,a,f);var h=!1;if(f<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){f===a.s.r&&(o[m]=di(m)),i=o[m]+s;var g=c?(e[f]||[])[m]:e[i];if(!g){h=!1;continue}h=Wwe(t,g,f,m,n,e,h)}}ze(t,146)}function Kwe(t,e){!e||!e["!merges"]||(ze(t,177,Iwe(e["!merges"].length)),e["!merges"].forEach(function(r){ze(t,176,Owe(r))}),ze(t,178))}function Xwe(t,e){!e||!e["!cols"]||(ze(t,390),e["!cols"].forEach(function(r,n){r&&ze(t,60,Fwe(n,r))}),ze(t,391))}function Qwe(t,e){!e||!e["!ref"]||(ze(t,648),ze(t,649,Vwe(xn(e["!ref"]))),ze(t,650))}function Ywe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=Kr(r,-1,n[1].Target.replace(/#.*$/,""),Or.HLINK);ze(t,494,kwe(n,a))}}),delete e["!links"]}function Zwe(t,e,r,n){if(e["!comments"].length>0){var a=Kr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Or.VML);ze(t,551,A3("rId"+a)),e["!legacy"]=a}}function Jwe(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:Qn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Ps(i);o.s.r==o.e.r&&(o.e.r=Ps(e["!ref"]).e.r,i=Qn(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ze(t,161,W0(xn(i))),ze(t,162)}}function ebe(t,e,r){ze(t,133),ze(t,137,Uwe(e,r)),ze(t,138),ze(t,134)}function tbe(t,e){e["!protect"]&&ze(t,535,Hwe(e["!protect"]))}function rbe(t,e,r,n){var a=ts(),i=r.SheetNames[t],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var c=xn(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ze(a,129),(r.vbaraw||s["!outline"])&&ze(a,147,X2e(o,s["!outline"])),ze(a,148,W2e(c)),ebe(a,s,r.Workbook),Xwe(a,s),Gwe(a,s,t,e),tbe(a,s),Jwe(a,s,r,t),Kwe(a,s),Ywe(a,s,n),s["!margins"]&&ze(a,476,Bwe(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Qwe(a,s),Zwe(a,s,t,n),ze(a,130),a.end()}function nbe(t,e){t.l+=10;var r=hi(t);return{name:r}}var abe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ibe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Mve(t.Workbook.WBProps.date1904)?"true":"false"}var sbe="][*?/\\".split("");function UQ(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return sbe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function obe(t,e,r){t.forEach(function(n,a){UQ(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function lbe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];obe(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)O2e(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function VQ(t){var e=[Zn];e[e.length]=lt("workbook",null,{xmlns:z0[0],"xmlns:r":Ca.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(abe.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=lt("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var s={name:Xr(t.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=lt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=lt("definedName",Xr(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function cbe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=EC(t),r.name=hi(t),r}function ube(t,e){return e||(e=Be(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),A3(t.strRelID,e),Pa(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function fbe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?hi(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function dbe(t,e){e||(e=Be(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),eQ(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function hbe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=ixe(t),s=N2e(t,0,r),o=E3(t);t.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function pbe(t,e){ze(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ze(t,156,ube(a))}ze(t,144)}function mbe(t,e){e||(e=Be(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Pa("SheetJS",e),Pa(uy.version,e),Pa(uy.version,e),Pa("7262",e),e.length>e.l?e.slice(0,e.l):e}function gbe(t,e){e||(e=Be(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function vbe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ze(t,135),ze(t,158,gbe(a)),ze(t,136))}}function xbe(t,e){var r=ts();return ze(r,131),ze(r,128,mbe()),ze(r,153,dbe(t.Workbook&&t.Workbook.WBProps||null)),vbe(r,t),pbe(r,t),ze(r,132),r.end()}function ybe(t,e,r){return(e.slice(-4)===".bin"?xbe:VQ)(t)}function wbe(t,e,r,n,a){return(e.slice(-4)===".bin"?rbe:BQ)(t,r,n,a)}function bbe(t,e,r){return(e.slice(-4)===".bin"?B1e:NQ)(t,r)}function _be(t,e,r){return(e.slice(-4)===".bin"?d1e:wQ)(t,r)}function Sbe(t,e,r){return(e.slice(-4)===".bin"?tye:jQ)(t)}function Nbe(t){return(t.slice(-4)===".bin"?G1e:TQ)()}function Ebe(t,e){var r=[];return t.Props&&r.push(bxe(t.Props,e)),t.Custprops&&r.push(_xe(t.Props,t.Custprops)),r.join("")}function Abe(){return""}function Tbe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(lt("NumberFormat",null,{"ss:Format":Xr(Dn[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(lt("Style",i.join(""),s))}),lt("Styles",r.join(""))}function HQ(t){return lt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+O3(t.Ref,{r:0,c:0})})}function Cbe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(HQ(a)))}return lt("Names",r.join(""))}function jbe(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(HQ(o)))}return i.join("")}function Obe(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(lt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(lt("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(lt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(lt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(Xa("ProtectContents","True")),t["!protect"].objects&&a.push(Xa("ProtectObjects","True")),t["!protect"].scenarios&&a.push(Xa("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(Xa("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(Xa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":lt("WorksheetOptions",a.join(""),{xmlns:Ns.x})}function Ibe(t){return t.map(function(e){var r=Rve(e.t||""),n=lt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return lt("Comment",n,{"ss:Author":e.a})}).join("")}function Pbe(t,e,r,n,a,i,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Xr(O3(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var c=Ia(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Xr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Xr(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=s.c||u[f].s.r!=s.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(t.v);break;case"b":h="Boolean",m=t.v?"1":"0";break;case"e":h="Error",m=xv[t.v];break;case"d":h="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Dn[14]);break;case"s":h="String",m=Dve(t.v||"");break}var g=Mu(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=s.c+1;var x=t.v!=null?m:"",v=t.t=="z"?"":'<Data ss:Type="'+h+'">'+x+"</Data>";return(t.c||[]).length>0&&(v+=Ibe(t.c)),lt("Cell",v,o)}function kbe(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=SQ(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Dbe(t,e,r,n){if(!t["!ref"])return"";var a=xn(t["!ref"]),i=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(w,S){C3(w);var b=!!w.width,_=dw(S,w),E={"ss:Index":S+1};b&&(E["ss:Width"]=wy(_.width)),w.hidden&&(E["ss:Hidden"]="1"),o.push(lt("Column",null,E))});for(var c=Array.isArray(t),u=a.s.r;u<=a.e.r;++u){for(var f=[kbe(u,(t["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var m=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>h)&&!(i[s].s.r>u)&&!(i[s].e.c<h)&&!(i[s].e.r<u)){(i[s].s.c!=h||i[s].s.r!=u)&&(m=!0);break}if(!m){var g={r:u,c:h},x=Qr(g),v=c?(t[u]||[])[h]:t[x];f.push(Pbe(v,x,t,e,r,n,g))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function Rbe(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],s=i?jbe(i,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?Dbe(i,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Obe(i,e,t,r)),n.join("")}function Mbe(t,e){e||(e={}),t.SSF||(t.SSF=ns(Dn)),t.SSF&&(ow(),sw(t.SSF),e.revssf=lw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Mu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Ebe(t,e)),r.push(Abe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(lt("Worksheet",Rbe(n,e,t),{"ss:Name":Xr(t.SheetNames[n])}));return r[2]=Tbe(t,e),r[3]=Cbe(t),Zn+lt("Workbook",r.join(""),{xmlns:Ns.ss,"xmlns:o":Ns.o,"xmlns:x":Ns.x,"xmlns:ss":Ns.ss,"xmlns:dt":Ns.dt,"xmlns:html":Ns.html})}var gS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Fbe(t,e){var r=[],n=[],a=[],i=0,s,o=k6(W6,"n"),c=k6(G6,"n");if(t.Props)for(s=ei(t.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],t.Props[s[i]]]);if(t.Custprops)for(s=ei(t.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],t.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)hQ.indexOf(a[i][0])>-1||uQ.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&en.utils.cfb_add(e,"/SummaryInformation",Z6(n,gS.SI,c,G6)),(r.length||u.length)&&en.utils.cfb_add(e,"/DocumentSummaryInformation",Z6(r,gS.DSI,o,W6,u.length?u:null,gS.UDI))}function Lbe(t,e){var r=e||{},n=en.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return en.utils.cfb_add(n,a,zQ(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Fbe(t,n),r.biff==8&&t.vbaraw&&rye(n,en.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Bbe={0:{f:V2e},1:{f:Q2e},2:{f:gwe},3:{f:awe},4:{f:ewe},5:{f:dwe},6:{f:bwe},7:{f:lwe},8:{f:Cwe},9:{f:Twe},10:{f:Ewe},11:{f:Awe},12:{f:Z2e},13:{f:xwe},14:{f:swe},15:{f:rwe},16:{f:pwe},17:{f:Swe},18:{f:uwe},19:{f:N3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:hbe},40:{},42:{},43:{f:b1e},44:{f:y1e},45:{f:N1e},46:{f:A1e},47:{f:E1e},48:{},49:{f:Zve},50:{},51:{f:V1e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Jxe},62:{f:wwe},63:{f:K1e},64:{f:zwe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:bl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$we},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:K2e},148:{f:q2e,p:16},151:{f:Dwe},152:{},153:{f:fbe},154:{},155:{},156:{f:cbe},157:{},158:{},159:{T:1,f:c1e},160:{T:-1},161:{T:1,f:pd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jwe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$1e},336:{T:-1},337:{f:q1e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:EC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Gxe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Rwe},427:{f:Mwe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Lwe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:G2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Pwe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:EC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:J1e},633:{T:1},634:{T:-1},635:{T:1,f:Y1e},636:{T:-1},637:{f:rxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nbe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:qwe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ct(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&b3(r)&&t.push(r)}}function $be(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return ct(t,e,r,a);var i=e;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,i),f.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u;c<a;){for(f=t.next(4),f.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;f.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u}}}function wv(t,e,r){return t||(t=Be(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Ube(t,e,r,n){var a=Be(9);return wv(a,t,e),mQ(r,n||"b",a),a}function Vbe(t,e,r){var n=Be(8+2*r.length);return wv(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Hbe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?rs(Di(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?ct(t,2,n1e(r,n,a)):ct(t,3,r1e(r,n,a));return;case"b":case"e":ct(t,5,Ube(r,n,e.v,e.t));return;case"s":case"str":ct(t,4,Vbe(r,n,(e.v||"").slice(0,255)));return}ct(t,1,wv(null,r,n))}function zbe(t,e,r,n){var a=Array.isArray(e),i=xn(e["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Qn(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Za(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(c[f]=di(f)),s=c[f]+o;var h=a?(e[u]||[])[f]:e[s];h&&Hbe(t,h,u,f)}}}function qbe(t,e){for(var r=e||{},n=ts(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ct(n,r.biff==4?1033:r.biff==3?521:9,T3(t,16,r)),zbe(n,t.Sheets[t.SheetNames[a]],a,r),ct(n,10),n.end()}function Wbe(t,e,r){ct(t,49,Bxe({sz:12,name:"Arial"},r))}function Gbe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&ct(t,1054,Vxe(a,e[a],r))})}function Kbe(t,e){var r=Be(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ct(t,2151,r),r=Be(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),xQ(xn(e["!ref"]||"A1"),r),r.write_shift(4,4),ct(t,2152,r)}function Xbe(t,e){for(var r=0;r<16;++r)ct(t,224,eD({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ct(t,224,eD(n,0,e))})}function Qbe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ct(t,440,Qxe(n)),n[1].Tooltip&&ct(t,2048,Yxe(n))}delete e["!links"]}function Ybe(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&ct(t,125,e1e(dw(a,n),a))})}}function Zbe(t,e,r,n,a){var i=16+Mu(a.cellXfs,e,a);if(e.v==null&&!e.bf){ct(t,513,ed(r,n,i));return}if(e.bf)ct(t,6,_2e(e,r,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?rs(Di(e.v)):e.v;ct(t,515,Wxe(r,n,s,i));break;case"b":case"e":ct(t,517,qxe(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var o=P3(a.Strings,e.v,a.revStrings);ct(t,253,$xe(r,n,o,i))}else ct(t,516,Uxe(r,n,(e.v||"").slice(0,255),i,a));break;default:ct(t,513,ed(r,n,i))}}function Jbe(t,e,r){var n=ts(),a=r.SheetNames[t],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},c=Array.isArray(i),u=e.biff==8,f,h="",m=[],g=xn(i["!ref"]||"A1"),x=u?65536:16384;if(g.e.c>255||g.e.r>=x){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,x-1)}ct(n,2057,T3(r,16,e)),ct(n,13,Zs(1)),ct(n,12,Zs(100)),ct(n,15,Ci(!0)),ct(n,17,Ci(!1)),ct(n,16,Jf(.001)),ct(n,95,Ci(!0)),ct(n,42,Ci(!1)),ct(n,43,Ci(!1)),ct(n,130,Zs(1)),ct(n,128,zxe()),ct(n,131,Ci(!1)),ct(n,132,Ci(!1)),u&&Ybe(n,i["!cols"]),ct(n,512,Hxe(g,e)),u&&(i["!links"]=[]);for(var v=g.s.r;v<=g.e.r;++v){h=Za(v);for(var w=g.s.c;w<=g.e.c;++w){v===g.s.r&&(m[w]=di(w)),f=m[w]+h;var S=c?(i[v]||[])[w]:i[f];S&&(Zbe(n,S,v,w,e),u&&S.l&&i["!links"].push([f,S.l]))}}var b=o.CodeName||o.name||a;return u&&ct(n,574,Lxe((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&ct(n,229,Xxe(i["!merges"])),u&&Qbe(n,i),ct(n,442,vQ(b)),u&&Kbe(n,i),ct(n,10),n.end()}function e_e(t,e,r){var n=ts(),a=(t||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(ct(n,2057,T3(t,5,r)),r.bookType=="xla"&&ct(n,135),ct(n,225,o?Zs(1200):null),ct(n,193,Exe(2)),c&&ct(n,191),c&&ct(n,192),ct(n,226),ct(n,92,Dxe("SheetJS",r)),ct(n,66,Zs(o?1200:1252)),o&&ct(n,353,Zs(0)),o&&ct(n,448),ct(n,317,t1e(t.SheetNames.length)),o&&t.vbaraw&&ct(n,211),o&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";ct(n,442,vQ(u))}ct(n,156,Zs(17)),ct(n,25,Ci(!1)),ct(n,18,Ci(!1)),ct(n,19,Zs(0)),o&&ct(n,431,Ci(!1)),o&&ct(n,444,Zs(0)),ct(n,61,Fxe()),ct(n,64,Ci(!1)),ct(n,141,Zs(0)),ct(n,34,Ci(ibe(t)=="true")),ct(n,14,Ci(!0)),o&&ct(n,439,Ci(!1)),ct(n,218,Zs(0)),Wbe(n,t,r),Gbe(n,t.SSF,r),Xbe(n,r),o&&ct(n,352,Ci(!1));var f=n.end(),h=ts();o&&ct(h,140,Zxe()),o&&r.Strings&&$be(h,252,Mxe(r.Strings)),ct(h,10);var m=h.end(),g=ts(),x=0,v=0;for(v=0;v<t.SheetNames.length;++v)x+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var w=f.length+x+m.length;for(v=0;v<t.SheetNames.length;++v){var S=i[v]||{};ct(g,133,Rxe({pos:w,hs:S.Hidden||0,dt:0,name:t.SheetNames[v]},r)),w+=e[v].length}var b=g.end();if(x!=b.length)throw new Error("BS8 "+x+" != "+b.length);var _=[];return f.length&&_.push(f),b.length&&_.push(b),m.length&&_.push(m),Ka(_)}function t_e(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=ns(Dn)),t&&t.SSF&&(ow(),sw(t.SSF),r.revssf=lw(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,k3(r),r.cellXfs=[],Mu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=Jbe(a,r,t);return n.unshift(e_e(t,n,r)),Ka(n)}function zQ(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ps(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return t_e(t,e);case 4:case 3:case 2:return qbe(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function r_e(t,e,r,n){for(var a=t["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var f=Qr({r,c:s}),h=n.dense?(t[r]||[])[s]:t[f],m=h&&h.v!=null&&(h.h||kve(h.w||(pc(h),h.w)||""))||"",g={};o>1&&(g.rowspan=o),c>1&&(g.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),g.id=(n.id||"sjs")+"-"+f,i.push(lt("td",m,g))}}var x="<tr>";return x+i.join("")+"</tr>"}var n_e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',a_e="</body></html>";function i_e(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function qQ(t,e){var r=e||{},n=r.header!=null?r.header:n_e,a=r.footer!=null?r.footer:a_e,i=[n],s=Ps(t["!ref"]);r.dense=Array.isArray(t),i.push(i_e(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(r_e(t,s,o,r));return i.push("</table>"+a),i.join("")}function WQ(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Ia(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var f=Ps(t["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var h=[],m=0,g=t["!rows"]||(t["!rows"]=[]),x=0,v=0,w=0,S=0,b=0,_=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&v<c;++x){var E=o[x];if(oD(E)){if(n.display)continue;g[v]={hidden:!0}}var A=E.children;for(w=S=0;w<A.length;++w){var j=A[w];if(!(n.display&&oD(j))){var O=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):Fve(j.innerHTML),D=j.getAttribute("data-z")||j.getAttribute("z");for(m=0;m<h.length;++m){var M=h[m];M.s.c==S+i&&M.s.r<v+a&&v+a<=M.e.r&&(S=M.e.c+1-i,m=-1)}_=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:v+a,c:S+i},e:{r:v+a+(b||1)-1,c:S+i+(_||1)-1}});var k={t:"s",v:O},I=j.getAttribute("data-t")||j.getAttribute("t")||"";O!=null&&(O.length==0?k.t=I||"z":n.raw||O.trim().length==0||I=="s"||(O==="TRUE"?k={t:"b",v:!0}:O==="FALSE"?k={t:"b",v:!1}:isNaN(tc(O))?isNaN(sg(O).getDate())||(k={t:"d",v:Di(O)},n.cellDates||(k={t:"n",v:rs(k.v)}),k.z=n.dateNF||Dn[14]):k={t:"n",v:tc(O)})),k.z===void 0&&D!=null&&(k.z=D);var R="",L=j.getElementsByTagName("A");if(L&&L.length)for(var U=0;U<L.length&&!(L[U].hasAttribute("href")&&(R=L[U].getAttribute("href"),R.charAt(0)!="#"));++U);R&&R.charAt(0)!="#"&&(k.l={Target:R}),n.dense?(t[v+a]||(t[v+a]=[]),t[v+a][S+i]=k):t[Qr({c:S+i,r:v+a})]=k,u.e.c<S+i&&(u.e.c=S+i),S+=_}}++v}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+a),t["!ref"]=Qn(u),v>=c&&(t["!fullref"]=Qn((u.e.r=o.length-x+v-1+a,u))),t}function GQ(t,e){var r=e||{},n=r.dense?[]:{};return WQ(n,t,e)}function s_e(t,e){return ud(GQ(t,e),e)}function oD(t){var e="",r=o_e(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function o_e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var l_e=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+lg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Zn+e}})(),lD=(function(){var t=function(i){return Xr(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+Xr(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,h=Ps(i["!ref"]||"A1"),m=i["!merges"]||[],g=0,x=Array.isArray(i);if(i["!cols"])for(f=0;f<=h.e.c;++f)c.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var v="",w=i["!rows"]||[];for(u=0;u<h.s.r;++u)v=w[u]?' table:style-name="ro'+w[u].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=w[u]?' table:style-name="ro'+w[u].ods+'"':"",c.push("        <table:table-row"+v+`>
`),f=0;f<h.s.c;++f)c.push(e);for(;f<=h.e.c;++f){var S=!1,b={},_="";for(g=0;g!=m.length;++g)if(!(m[g].s.c>f)&&!(m[g].s.r>u)&&!(m[g].e.c<f)&&!(m[g].e.r<u)){(m[g].s.c!=f||m[g].s.r!=u)&&(S=!0),b["table:number-columns-spanned"]=m[g].e.c-m[g].s.c+1,b["table:number-rows-spanned"]=m[g].e.r-m[g].s.r+1;break}if(S){c.push(r);continue}var E=Qr({r:u,c:f}),A=x?(i[u]||[])[f]:i[E];if(A&&A.f&&(b["table:formula"]=Xr(C2e(A.f)),A.F&&A.F.slice(0,E.length)==E)){var j=Ps(A.F);b["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,b["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!A){c.push(e);continue}switch(A.t){case"b":_=A.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=A.v?"true":"false";break;case"n":_=A.w||String(A.v||0),b["office:value-type"]="float",b["office:value"]=A.v||0;break;case"s":case"str":_=A.v==null?"":A.v,b["office:value-type"]="string";break;case"d":_=A.w||Di(A.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Di(A.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(e);continue}var O=t(_);if(A.l&&A.l.Target){var D=A.l.Target;D=D.charAt(0)=="#"?"#"+j2e(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),O=lt("text:a",O,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+lt("table:table-cell",lt("text:p",O,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;C3(h),h.ods=o;var m=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var h=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[Zn],u=lg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=lg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(lQ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)c.push(n(s.Sheets[s.SheetNames[h]],s,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function KQ(t,e){if(e.bookType=="fods")return lD(t,e);var r=v3(),n="",a=[],i=[];return n="mimetype",hr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",hr(r,n,lD(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",hr(r,n,l_e(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",hr(r,n,Zn+lQ()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",hr(r,n,wxe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",hr(r,n,xxe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Sy(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function c_e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Do(og(t))}function u_e(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ku(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function f_e(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function cg(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Gr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Th(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ia(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=cg(t,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);o=t.slice(c,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=cg(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function Ha(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(Gr(n*8+a.type)),a.type==2&&e.push(Gr(a.data.length)),e.push(a.data))})}),ku(e)}function bo(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=cg(t,n),i=ia(t.slice(n[0],n[0]+a));n[0]+=a;var s={id:Th(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=ia(o.data),u=Th(c[3][0].data);s.messages.push({meta:c,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=i[3])!=null&&e[0]&&(s.merge=Th(i[3][0].data)>>>0>0),r.push(s)}return r}function Zd(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Gr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Gr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Gr(s.data.length)}],n[2].push({data:Ha(s.meta),type:2})});var i=Ha(n);e.push(Gr(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),ku(e)}function d_e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=cg(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,i==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ku(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=ku(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function _o(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(d_e(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ku(e)}function Jd(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=Gr(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return ku(e)}function vS(t,e){var r=new Uint8Array(32),n=Sy(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,f_e(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function xS(t,e){var r=new Uint8Array(32),n=Sy(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Yc(t){var e=ia(t);return cg(e[1][0].data)}function h_e(t,e,r){var n,a,i,s;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=t[8])==null?void 0:i[0])==null?void 0:s.data)&&Th(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Sy(t[7][0].data),f=0,h=[],m=Sy(t[4][0].data),g=0,x=[],v=0;v<e.length;++v){if(e[v]==null){u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535);continue}u.setUint16(v*2,f,!0),m.setUint16(v*2,g,!0);var w,S;switch(typeof e[v]){case"string":w=vS({t:"s",v:e[v]},r),S=xS({t:"s",v:e[v]},r);break;case"number":w=vS({t:"n",v:e[v]},r),S=xS({t:"n",v:e[v]},r);break;case"boolean":w=vS({t:"b",v:e[v]},r),S=xS({t:"b",v:e[v]},r);break;default:throw new Error("Unsupported value "+e[v])}h.push(w),f+=w.length,x.push(S),g+=S.length,++c}for(t[2][0].data=Gr(c);v<t[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535,!0);return t[6][0].data=ku(h),t[3][0].data=ku(x),c}function p_e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ps(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Qn(n)));var i=Ny(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(ee){return ee.forEach(function(K){typeof K=="string"&&s.push(K)})});var o={},c=[],u=en.read(e.numbers,{type:"base64"});u.FileIndex.map(function(ee,K){return[ee,u.FullPaths[K]]}).forEach(function(ee){var K=ee[0],ae=ee[1];if(K.type==2&&K.name.match(/\.iwa/)){var q=K.content,pe=_o(q),W=bo(pe);W.forEach(function(V){c.push(V.id),o[V.id]={deps:[],location:ae,type:Th(V.messages[0].meta[1][0].data)}})}}),c.sort(function(ee,K){return ee-K});var f=c.filter(function(ee){return ee>1}).map(function(ee){return[ee,Gr(ee)]});u.FileIndex.map(function(ee,K){return[ee,u.FullPaths[K]]}).forEach(function(ee){var K=ee[0];if(ee[1],!!K.name.match(/\.iwa/)){var ae=bo(_o(K.content));ae.forEach(function(q){q.messages.forEach(function(pe){f.forEach(function(W){q.messages.some(function(V){return Th(V.meta[1][0].data)!=11006&&u_e(V.data,W[1])})&&o[W[0]].deps.push(q.id)})})})}});for(var h=en.find(u,o[1].location),m=bo(_o(h.content)),g,x=0;x<m.length;++x){var v=m[x];v.id==1&&(g=v)}var w=Yc(ia(g.messages[0].data)[1][0].data);for(h=en.find(u,o[w].location),m=bo(_o(h.content)),x=0;x<m.length;++x)v=m[x],v.id==w&&(g=v);for(w=Yc(ia(g.messages[0].data)[2][0].data),h=en.find(u,o[w].location),m=bo(_o(h.content)),x=0;x<m.length;++x)v=m[x],v.id==w&&(g=v);for(w=Yc(ia(g.messages[0].data)[2][0].data),h=en.find(u,o[w].location),m=bo(_o(h.content)),x=0;x<m.length;++x)v=m[x],v.id==w&&(g=v);var S=ia(g.messages[0].data);{S[6][0].data=Gr(n.e.r+1),S[7][0].data=Gr(n.e.c+1);var b=Yc(S[46][0].data),_=en.find(u,o[b].location),E=bo(_o(_.content));{for(var A=0;A<E.length&&E[A].id!=b;++A);if(E[A].id!=b)throw"Bad ColumnRowUIDMapArchive";var j=ia(E[A].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var O=0;O<=n.e.c;++O){var D=[];D[1]=D[2]=[{type:0,data:Gr(O+420690)}],j[1].push({type:2,data:Ha(D)}),j[2].push({type:0,data:Gr(O)}),j[3].push({type:0,data:Gr(O)})}j[4]=[],j[5]=[],j[6]=[];for(var M=0;M<=n.e.r;++M)D=[],D[1]=D[2]=[{type:0,data:Gr(M+726270)}],j[4].push({type:2,data:Ha(D)}),j[5].push({type:0,data:Gr(M)}),j[6].push({type:0,data:Gr(M)});E[A].messages[0].data=Ha(j)}_.content=Jd(Zd(E)),_.size=_.content.length,delete S[46];var k=ia(S[4][0].data);{k[7][0].data=Gr(n.e.r+1);var I=ia(k[1][0].data),R=Yc(I[2][0].data);_=en.find(u,o[R].location),E=bo(_o(_.content));{if(E[0].id!=R)throw"Bad HeaderStorageBucket";var L=ia(E[0].messages[0].data);for(M=0;M<i.length;++M){var U=ia(L[2][0].data);U[1][0].data=Gr(M),U[4][0].data=Gr(i[M].length),L[2][M]={type:L[2][0].type,data:Ha(U)}}E[0].messages[0].data=Ha(L)}_.content=Jd(Zd(E)),_.size=_.content.length;var X=Yc(k[2][0].data);_=en.find(u,o[X].location),E=bo(_o(_.content));{if(E[0].id!=X)throw"Bad HeaderStorageBucket";for(L=ia(E[0].messages[0].data),O=0;O<=n.e.c;++O)U=ia(L[2][0].data),U[1][0].data=Gr(O),U[4][0].data=Gr(n.e.r+1),L[2][O]={type:L[2][0].type,data:Ha(U)};E[0].messages[0].data=Ha(L)}_.content=Jd(Zd(E)),_.size=_.content.length;var ue=Yc(k[4][0].data);(function(){for(var ee=en.find(u,o[ue].location),K=bo(_o(ee.content)),ae,q=0;q<K.length;++q){var pe=K[q];pe.id==ue&&(ae=pe)}var W=ia(ae.messages[0].data);{W[3]=[];var V=[];s.forEach(function(ve,gt){V[1]=[{type:0,data:Gr(gt)}],V[2]=[{type:0,data:Gr(1)}],V[3]=[{type:2,data:c_e(ve)}],W[3].push({type:2,data:Ha(V)})})}ae.messages[0].data=Ha(W);var fe=Zd(K),Se=Jd(fe);ee.content=Se,ee.size=ee.content.length})();var he=ia(k[3][0].data);{var J=he[1][0];delete he[2];var ne=ia(J.data);{var G=Yc(ne[2][0].data);(function(){for(var ee=en.find(u,o[G].location),K=bo(_o(ee.content)),ae,q=0;q<K.length;++q){var pe=K[q];pe.id==G&&(ae=pe)}var W=ia(ae.messages[0].data);{delete W[6],delete he[7];var V=new Uint8Array(W[5][0].data);W[5]=[];for(var fe=0,Se=0;Se<=n.e.r;++Se){var ve=ia(V);fe+=h_e(ve,i[Se],s),ve[1][0].data=Gr(Se),W[5].push({data:Ha(ve),type:2})}W[1]=[{type:0,data:Gr(n.e.c+1)}],W[2]=[{type:0,data:Gr(n.e.r+1)}],W[3]=[{type:0,data:Gr(fe)}],W[4]=[{type:0,data:Gr(n.e.r+1)}]}ae.messages[0].data=Ha(W);var gt=Zd(K),Y=Jd(gt);ee.content=Y,ee.size=ee.content.length})()}J.data=Ha(ne)}k[3][0].data=Ha(he)}S[4][0].data=Ha(k)}g.messages[0].data=Ha(S);var z=Zd(m),F=Jd(z);return h.content=F,h.size=h.content.length,u}function m_e(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function k3(t){m_e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function g_e(t,e){return e.bookType=="ods"?KQ(t,e):e.bookType=="numbers"?p_e(t,e):e.bookType=="xlsb"?v_e(t,e):x_e(t,e)}function v_e(t,e){uh=1024,t&&!t.SSF&&(t.SSF=ns(Dn)),t&&t.SSF&&(ow(),sw(t.SSF),e.revssf=lw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Em?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=OQ.indexOf(e.bookType)>-1,a=iQ();k3(e=e||{});var i=v3(),s="",o=0;if(e.cellXfs=[],Mu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",hr(i,s,cQ(t.Props,e)),a.coreprops.push(s),Kr(e.rels,2,s,Or.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,hr(i,s,fQ(t.Props)),a.extprops.push(s),Kr(e.rels,3,s,Or.EXT_PROPS),t.Custprops!==t.Props&&ei(t.Custprops||{}).length>0&&(s="docProps/custom.xml",hr(i,s,dQ(t.Custprops)),a.custprops.push(s),Kr(e.rels,4,s,Or.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,hr(i,s,wbe(o-1,s,e,t,f)),a.sheets.push(s),Kr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(h){var g=h["!comments"],x=!1,v="";g&&g.length>0&&(v="xl/comments"+o+"."+r,hr(i,v,Sbe(g,v)),a.comments.push(v),Kr(f,-1,"../comments"+o+"."+r,Or.CMNT),x=!0),h["!legacy"]&&x&&hr(i,"xl/drawings/vmlDrawing"+o+".vml",CQ(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&hr(i,oQ(s),Eh(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,hr(i,s,_be(e.Strings,s,e)),a.strs.push(s),Kr(e.wbrels,-1,"sharedStrings."+r,Or.SST)),s="xl/workbook."+r,hr(i,s,ybe(t,s)),a.workbooks.push(s),Kr(e.rels,1,s,Or.WB),s="xl/theme/theme1.xml",hr(i,s,AQ(t.Themes,e)),a.themes.push(s),Kr(e.wbrels,-1,"theme/theme1.xml",Or.THEME),s="xl/styles."+r,hr(i,s,bbe(t,s,e)),a.styles.push(s),Kr(e.wbrels,-1,"styles."+r,Or.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",hr(i,s,t.vbaraw),a.vba.push(s),Kr(e.wbrels,-1,"vbaProject.bin",Or.VBA)),s="xl/metadata."+r,hr(i,s,Nbe(s)),a.metadata.push(s),Kr(e.wbrels,-1,"metadata."+r,Or.XLMETA),hr(i,"[Content_Types].xml",sQ(a,e)),hr(i,"_rels/.rels",Eh(e.rels)),hr(i,"xl/_rels/workbook."+r+".rels",Eh(e.wbrels)),delete e.revssf,delete e.ssf,i}function x_e(t,e){uh=1024,t&&!t.SSF&&(t.SSF=ns(Dn)),t&&t.SSF&&(ow(),sw(t.SSF),e.revssf=lw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Em?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=OQ.indexOf(e.bookType)>-1,a=iQ();k3(e=e||{});var i=v3(),s="",o=0;if(e.cellXfs=[],Mu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",hr(i,s,cQ(t.Props,e)),a.coreprops.push(s),Kr(e.rels,2,s,Or.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,hr(i,s,fQ(t.Props)),a.extprops.push(s),Kr(e.rels,3,s,Or.EXT_PROPS),t.Custprops!==t.Props&&ei(t.Custprops||{}).length>0&&(s="docProps/custom.xml",hr(i,s,dQ(t.Custprops)),a.custprops.push(s),Kr(e.rels,4,s,Or.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},m=t.Sheets[t.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,hr(i,s,BQ(o-1,e,t,h)),a.sheets.push(s),Kr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(m){var x=m["!comments"],v=!1,w="";if(x&&x.length>0){var S=!1;x.forEach(function(b){b[1].forEach(function(_){_.T==!0&&(S=!0)})}),S&&(w="xl/threadedComments/threadedComment"+o+"."+r,hr(i,w,X1e(x,f,e)),a.threadedcomments.push(w),Kr(h,-1,"../threadedComments/threadedComment"+o+"."+r,Or.TCMNT)),w="xl/comments"+o+"."+r,hr(i,w,jQ(x)),a.comments.push(w),Kr(h,-1,"../comments"+o+"."+r,Or.CMNT),v=!0}m["!legacy"]&&v&&hr(i,"xl/drawings/vmlDrawing"+o+".vml",CQ(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&hr(i,oQ(s),Eh(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,hr(i,s,wQ(e.Strings,e)),a.strs.push(s),Kr(e.wbrels,-1,"sharedStrings."+r,Or.SST)),s="xl/workbook."+r,hr(i,s,VQ(t)),a.workbooks.push(s),Kr(e.rels,1,s,Or.WB),s="xl/theme/theme1.xml",hr(i,s,AQ(t.Themes,e)),a.themes.push(s),Kr(e.wbrels,-1,"theme/theme1.xml",Or.THEME),s="xl/styles."+r,hr(i,s,NQ(t,e)),a.styles.push(s),Kr(e.wbrels,-1,"styles."+r,Or.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",hr(i,s,t.vbaraw),a.vba.push(s),Kr(e.wbrels,-1,"vbaProject.bin",Or.VBA)),s="xl/metadata."+r,hr(i,s,TQ()),a.metadata.push(s),Kr(e.wbrels,-1,"metadata."+r,Or.XLMETA),f.length>1&&(s="xl/persons/person.xml",hr(i,s,Q1e(f)),a.people.push(s),Kr(e.wbrels,-1,"persons/person.xml",Or.PEOPLE)),hr(i,"[Content_Types].xml",sQ(a,e)),hr(i,"_rels/.rels",Eh(e.rels)),hr(i,"xl/_rels/workbook."+r+".rels",Eh(e.wbrels)),delete e.revssf,delete e.ssf,i}function y_e(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=hc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function XQ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return gv(e.file,en.write(t,{type:Mr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return en.write(t,e)}function w_e(t,e){var r=ns(e||{}),n=g_e(t,r);return b_e(n,r)}function b_e(t,e){var r={},n=Mr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?en.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(iw(a))}return e.password&&typeof encrypt_agile<"u"?XQ(encrypt_agile(a,e.password),e):e.type==="file"?gv(e.file,a):e.type=="string"?bm(a):a}function __e(t,e){var r=e||{},n=Lbe(t,r);return XQ(n,r)}function tl(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return ig(og(n));case"binary":return og(n);case"string":return t;case"file":return gv(e.file,n,"utf8");case"buffer":return Mr?bc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):tl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function S_e(t,e){switch(e.type){case"base64":return ig(t);case"binary":return t;case"string":return t;case"file":return gv(e.file,t,"binary");case"buffer":return Mr?bc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function r1(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?ig(r):e.type=="string"?bm(r):r;case"file":return gv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function QQ(t,e){Yge(),lbe(t);var r=ns(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=QQ(t,r);return r.type="array",iw(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return tl(Mbe(t,r),r);case"slk":case"sylk":return tl(i1e.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return tl(qQ(t.Sheets[t.SheetNames[a]],r),r);case"txt":return S_e(ZQ(t.Sheets[t.SheetNames[a]],r),r);case"csv":return tl(D3(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return tl(s1e.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return r1(a1e.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return tl(o1e.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return tl(p1e.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return tl(yQ.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return tl(KQ(t,r),r);case"wk1":return r1(tD.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return r1(tD.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),r1(zQ(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),__e(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return w_e(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function N_e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function YQ(t,e,r){var n={};return n.type="file",n.file=e,N_e(n),QQ(t,n)}function E_e(t,e,r,n,a,i,s,o){var c=Za(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||t[r])for(var g=e.s.c;g<=e.e.c;++g){var x=s?t[r][g]:t[n[g]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[g]!=null&&(m[i[g]]=u);continue}var v=x.v;switch(x.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[g]!=null){if(v==null)if(x.t=="e"&&v===null)m[i[g]]=null;else if(u!==void 0)m[i[g]]=u;else if(f&&v===null)m[i[g]]=null;else continue;else m[i[g]]=f&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?v:pc(x,v,o);v!=null&&(h=!1)}}return{row:m,isempty:h}}function Ny(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=xn(f);break;case"number":c=xn(t["!ref"]),c.s.r=f;break;default:c=f}n>0&&(a=0);var h=Za(c.s.r),m=[],g=[],x=0,v=0,w=Array.isArray(t),S=c.s.r,b=0,_={};w&&!t[S]&&(t[S]=[]);var E=u.skipHidden&&t["!cols"]||[],A=u.skipHidden&&t["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(E[b]||{}).hidden)switch(m[b]=di(b),r=w?t[S][b]:t[m[b]+h],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=m[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=pc(r,null,u),v=_[s]||0,!v)_[s]=1;else{do o=s+"_"+v++;while(_[o]);_[s]=v,_[o]=1}i[b]=o}for(S=c.s.r+a;S<=c.e.r;++S)if(!(A[S]||{}).hidden){var j=E_e(t,c,S,m,n,i,w,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[x++]=j.row)}return g.length=x,g}var cD=/"/g;function A_e(t,e,r,n,a,i,s,o){for(var c=!0,u=[],f="",h=Za(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var g=o.dense?(t[r]||[])[m]:t[n[m]+h];if(g==null)f="";else if(g.v!=null){c=!1,f=""+(o.rawNumbers&&g.t=="n"?g.v:pc(g,null,o));for(var x=0,v=0;x!==f.length;++x)if((v=f.charCodeAt(x))===a||v===i||v===34||o.forceQuotes){f='"'+f.replace(cD,'""')+'"';break}f=="ID"&&(f='"ID"')}else g.f!=null&&!g.F?(c=!1,f="="+g.f,f.indexOf(",")>=0&&(f='"'+f.replace(cD,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&c?null:u.join(s)}function D3(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=xn(t["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],g=n.skipHidden&&t["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(h[x]=di(x));for(var v=0,w=a.s.r;w<=a.e.r;++w)(g[w]||{}).hidden||(f=A_e(t,a,w,h,s,c,i,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((v++?o:"")+f)));return delete n.dense,r.join("")}function ZQ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=D3(t,e);return r}function T_e(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=xn(t["!ref"]),i="",s=[],o,c=[],u=Array.isArray(t);for(o=a.s.c;o<=a.e.c;++o)s[o]=di(o);for(var f=a.s.r;f<=a.e.r;++f)for(i=Za(f),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,r=u?(t[f]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function JQ(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Ia(n.origin):n.origin;s=c.r,o=c.c}var u,f={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var h=xn(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),s==-1&&(s=h.e.r+1,f.e.r=s+e.length-1+a)}else s==-1&&(s=0,f.e.r=e.length-1+a);var m=n.header||[],g=0;e.forEach(function(v,w){ei(v).forEach(function(S){(g=m.indexOf(S))==-1&&(m[g=m.length]=S);var b=v[S],_="z",E="",A=Qr({c:o+g,r:s+w+a});u=ug(i,A),b&&typeof b=="object"&&!(b instanceof Date)?i[A]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=rs(b)),E=n.dateNF||Dn[14]):b===null&&n.nullError&&(_="e",b=0),u?(u.t=_,u.v=b,delete u.w,delete u.R,E&&(u.z=E)):i[A]=u={t:_,v:b},E&&(u.z=E))})}),f.e.c=Math.max(f.e.c,o+m.length-1);var x=Za(s);if(a)for(g=0;g<m.length;++g)i[di(g+o)+x]={t:"s",v:m[g]};return i["!ref"]=Qn(f),i}function C_e(t,e){return JQ(null,t,e)}function ug(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Ia(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ug(t,Qr(e)):ug(t,Qr({r:e,c:r||0}))}function j_e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function O_e(){return{SheetNames:[],Sheets:{}}}function I_e(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=s+a)!=-1;++a);}if(UQ(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function P_e(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=j_e(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function k_e(t,e){return t.z=e,t}function eY(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function D_e(t,e,r){return eY(t,"#"+e,r)}function R_e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function M_e(t,e,r,n){for(var a=typeof e!="string"?e:xn(e),i=typeof e=="string"?e:Qn(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=ug(t,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return t}var ci={encode_col:di,encode_row:Za,encode_cell:Qr,encode_range:Qn,decode_col:S3,decode_row:_3,split_cell:Yve,decode_cell:Ia,decode_range:Ps,format_cell:pc,sheet_add_aoa:JX,sheet_add_json:JQ,sheet_add_dom:WQ,aoa_to_sheet:q0,json_to_sheet:C_e,table_to_sheet:GQ,table_to_book:s_e,sheet_to_csv:D3,sheet_to_txt:ZQ,sheet_to_json:Ny,sheet_to_html:qQ,sheet_to_formulae:T_e,sheet_to_row_object_array:Ny,sheet_get_cell:ug,book_new:O_e,book_append_sheet:I_e,book_set_sheet_visibility:P_e,cell_set_number_format:k_e,cell_set_hyperlink:eY,cell_set_internal_link:D_e,cell_add_comment:R_e,sheet_set_array_formula:M_e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function F_e(){var b,_,E,A,j,O,D,M,k;const[t,e]=T.useState(()=>{const I=new Date;return I.setDate(I.getDate()-7),I.toISOString().split("T")[0]}),[r,n]=T.useState(()=>{const I=new Date;return I.setDate(I.getDate()+1),I.toISOString().split("T")[0]}),[a,i]=T.useState(new Set),[s,o]=T.useState(new Set),{data:c,isLoading:u,refetch:f}=Ft({queryKey:["/api/PaymentStats",t,r],queryFn:async()=>{const I=new URLSearchParams({fromDate:t,toDate:r}),R=await At(`/api/PaymentStats?${I}`,{method:"GET"});return console.log("Payment stats data:",R),console.log("Payment stats structure:",JSON.stringify(R,null,2)),R}}),h=I=>{switch(I){case"cash":return l.jsx(lc,{className:"w-5 h-5 text-green-600"});case"card":return l.jsx(_u,{className:"w-5 h-5 text-blue-600"});case"qr":return l.jsx(D0,{className:"w-5 h-5 text-purple-600"});case"ewallet":return l.jsx(uH,{className:"w-5 h-5 text-orange-600"});default:return l.jsx(lc,{className:"w-5 h-5 text-gray-600"})}},m=I=>{switch(I){case"cash":return"bg-green-500";case"card":return"bg-blue-500";case"qr":return"bg-purple-500";case"ewallet":return"bg-orange-500";default:return"bg-gray-500"}},g=()=>{f()},x=I=>{i(R=>{const L=new Set(R);return L.has(I)?L.delete(I):L.add(I),L})},v=I=>{o(R=>{const L=new Set(R);return L.has(I)?L.delete(I):L.add(I),L})},w=I=>new Date(I).toLocaleString("vi-VN"),S=()=>{var ne;if(!(c!=null&&c.paymentStats)||c.paymentStats.length===0){alert("Không có dữ liệu để xuất");return}const I=ci.book_new(),R=[["Báo cáo Hình thức Thanh toán"],[`Từ ngày: ${t} đến ${r}`],[`Tổng doanh thu: ${(ne=c.totalRevenue)==null?void 0:ne.toLocaleString("vi-VN")}₫`],[`Tổng đơn hàng: ${c.totalOrders}`],[""],["Hình thức thanh toán","Số đơn hàng","Doanh thu","Tỷ lệ %"]];c.paymentStats.forEach(G=>{R.push([G.paymentMethod,G.orderCount.toString(),`${G.totalAmount.toLocaleString("vi-VN")}₫`,`${G.percentage}%`])});const L=ci.aoa_to_sheet(R);ci.book_append_sheet(I,L,"Tổng quan");const U=[["Chi tiết Đơn hàng theo Hình thức Thanh toán"],[""],["Hình thức thanh toán","Số đơn","Mã đơn hàng","Khách hàng","Thời gian","Tổng tiền","Sản phẩm","Số lượng","Đơn giá","Thành tiền"]];c.paymentStats.forEach(G=>{G.orders&&G.orders.length>0&&(G.orders.forEach(z=>{z.items&&z.items.length>0?z.items.forEach((F,ee)=>{U.push([ee===0?G.paymentMethod:"",ee===0?z.orderId.toString():"",ee===0?z.orderNumber||`Đơn #${z.orderId}`:"",ee===0?z.customerName:"",ee===0?w(z.createdAt):"",ee===0?`${z.totalAmount.toLocaleString("vi-VN")}₫`:"",F.productName,F.quantity.toString(),`${F.price.toLocaleString("vi-VN")}₫`,`${F.totalPrice.toLocaleString("vi-VN")}₫`])}):U.push([G.paymentMethod,z.orderId.toString(),z.orderNumber||`Đơn #${z.orderId}`,z.customerName,w(z.createdAt),`${z.totalAmount.toLocaleString("vi-VN")}₫`,"Không có sản phẩm","","",""])}),U.push(["","","","","","","","","",""]))});const X=ci.aoa_to_sheet(U);ci.book_append_sheet(I,X,"Chi tiết đơn hàng");const ue=[["Xếp hạng Hình thức Thanh toán"],[""],["Hạng","Hình thức thanh toán","Số đơn hàng","Doanh thu","Tỷ lệ %"]];c.paymentStats.forEach((G,z)=>{ue.push([(z+1).toString(),G.paymentMethod,G.orderCount.toString(),`${G.totalAmount.toLocaleString("vi-VN")}₫`,`${G.percentage}%`])});const he=ci.aoa_to_sheet(ue);ci.book_append_sheet(I,he,"Xếp hạng");const J=`Bao_cao_hinh_thuc_thanh_toan_${t}_den_${r}.xlsx`;YQ(I,J)};return u?l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(I=>l.jsx("div",{className:"h-24 bg-gray-200 rounded"},I))}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg border p-6 sm:p-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center justify-center sm:justify-start gap-2 mb-3",children:[l.jsx(_s,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Báo cáo Hình thức Thanh toán"]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Thống kê doanh thu theo phương thức thanh toán"})]}),l.jsx("div",{className:"border-t pt-5",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[l.jsx(vm,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[l.jsx(tt,{type:"date",value:t,onChange:I=>e(I.target.value),className:"w-full sm:w-auto text-sm"}),l.jsx("span",{className:"text-gray-500 self-center",children:"-"}),l.jsx(tt,{type:"date",value:r,onChange:I=>n(I.target.value),className:"w-full sm:w-auto text-sm"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs(ke,{onClick:g,size:"sm",variant:"outline",className:"w-full sm:w-auto",children:[l.jsx(uj,{className:"w-4 h-4 mr-1"}),"Làm mới"]}),l.jsxs(ke,{onClick:S,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto",children:[l.jsx(Vf,{className:"w-4 h-4 mr-1"}),"Xuất Excel"]})]})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 truncate",children:"Tổng doanh thu"}),l.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-600 truncate",children:[(b=c==null?void 0:c.totalRevenue)==null?void 0:b.toLocaleString("vi-VN"),"₫"]})]}),l.jsx(_s,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 flex-shrink-0"})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 truncate",children:"Tổng đơn hàng"}),l.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:(c==null?void 0:c.totalOrders)||0})]}),l.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-blue-600 font-bold text-xs sm:text-sm",children:(c==null?void 0:c.totalOrders)||0})})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 truncate",children:"Phương thức phổ biến"}),l.jsx("p",{className:"text-sm sm:text-lg font-semibold text-purple-600 truncate",children:((E=(_=c==null?void 0:c.paymentStats)==null?void 0:_[0])==null?void 0:E.paymentMethod)||"Chưa có dữ liệu"})]}),l.jsx("div",{className:"flex-shrink-0",children:((A=c==null?void 0:c.paymentStats)==null?void 0:A[0])&&h(c.paymentStats[0].paymentMethodId)})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 truncate",children:"Số phương thức sử dụng"}),l.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:((j=c==null?void 0:c.paymentStats)==null?void 0:j.length)||0})]}),l.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-orange-600 font-bold text-xs sm:text-sm",children:((O=c==null?void 0:c.paymentStats)==null?void 0:O.length)||0})})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{className:"pb-4",children:l.jsxs(Mt,{className:"text-base sm:text-lg flex items-center gap-2 mb-2",children:[l.jsx(_s,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),"Biểu đồ Doanh thu theo Hình thức"]})}),l.jsx(Ve,{children:l.jsx("div",{className:"space-y-4",children:(D=c==null?void 0:c.paymentStats)==null?void 0:D.map((I,R)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[h(I.paymentMethodId),l.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:I.paymentMethod})]}),l.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[l.jsxs("div",{className:"font-semibold text-sm sm:text-base",children:[I.totalAmount.toLocaleString("vi-VN"),"₫"]}),l.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[I.percentage,"%"]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 sm:h-3",children:l.jsx("div",{className:`h-2 sm:h-3 rounded-full ${m(I.paymentMethodId)}`,style:{width:`${I.percentage}%`}})}),l.jsxs("div",{className:"text-xs text-gray-500",children:[I.orderCount," đơn hàng"]})]},I.paymentMethodId))})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{className:"pb-4",children:l.jsxs(Mt,{className:"text-base sm:text-lg flex items-center gap-2 mb-2",children:[l.jsx(_s,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600"}),"Xếp hạng Hình thức Thanh toán"]})}),l.jsx(Ve,{children:l.jsxs("div",{className:"space-y-3",children:[(M=c==null?void 0:c.paymentStats)==null?void 0:M.map((I,R)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm ${R===0?"bg-yellow-500":R===1?"bg-gray-400":R===2?"bg-orange-600":"bg-gray-300"}`,children:["#",R+1]})}),l.jsx("div",{className:"flex-shrink-0",children:h(I.paymentMethodId)}),l.jsxs("div",{className:"flex-grow min-w-0",children:[l.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:I.paymentMethod}),l.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[I.orderCount," đơn hàng • ",I.percentage,"%"]})]}),l.jsx("div",{className:"text-right flex-shrink-0",children:l.jsxs("div",{className:"font-semibold text-sm sm:text-lg",children:[I.totalAmount.toLocaleString("vi-VN"),"₫"]})})]},I.paymentMethodId)),(!(c!=null&&c.paymentStats)||c.paymentStats.length===0)&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(_s,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{className:"text-sm sm:text-base",children:"Chưa có dữ liệu thanh toán"}),l.jsx("p",{className:"text-xs sm:text-sm",children:"Hãy thực hiện một số giao dịch để xem báo cáo"})]})]})})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{className:"pb-4",children:l.jsxs(Mt,{className:"text-base sm:text-lg flex items-center gap-2 mb-2",children:[l.jsx(vh,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Chi tiết Đơn hàng theo Hình thức Thanh toán"]})}),l.jsx(Ve,{children:l.jsxs("div",{className:"space-y-4",children:[(k=c==null?void 0:c.paymentStats)==null?void 0:k.map(I=>{var R;return l.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 cursor-pointer flex items-center justify-between hover:bg-gray-100 transition-colors",onClick:()=>x(I.paymentMethodId),children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[h(I.paymentMethodId),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:I.paymentMethod}),l.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[I.orderCount," đơn hàng • ",I.totalAmount.toLocaleString("vi-VN"),"₫"]})]})]}),l.jsx("div",{className:"flex-shrink-0",children:a.has(I.paymentMethodId)?l.jsx(Uf,{className:"w-4 h-4 sm:w-5 sm:h-5"}):l.jsx(Rm,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),a.has(I.paymentMethodId)&&l.jsx("div",{className:"border-t",children:l.jsxs("div",{className:"p-3 sm:p-4 space-y-3",children:[(console.log(`Orders for ${I.paymentMethodId}:`,I.orders),null),(R=I.orders)==null?void 0:R.map(L=>{var U,X;return l.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"p-3 bg-white cursor-pointer flex items-center justify-between hover:bg-gray-50 transition-colors",onClick:()=>v(L.orderId),children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[l.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsxs("span",{className:"text-blue-600 font-semibold text-xs",children:["#",L.orderId]})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:L.orderNumber||`Đơn #${L.orderId}`}),l.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1 truncate",children:[l.jsx(xc,{className:"w-3 h-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:L.customerName})]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(mf,{className:"w-3 h-3 flex-shrink-0"}),w(L.createdAt)]})]})})]})]}),l.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[l.jsxs("div",{className:"font-semibold text-sm sm:text-base",children:[L.totalAmount.toLocaleString("vi-VN"),"₫"]}),l.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-gray-500 justify-end",children:[l.jsx(ja,{className:"w-3 h-3"}),l.jsxs("span",{children:[((U=L.items)==null?void 0:U.length)||0," items"]}),s.has(L.orderId)?l.jsx(Uf,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"}):l.jsx(Rm,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]})]}),s.has(L.orderId)&&l.jsx("div",{className:"border-t bg-gray-50",children:l.jsxs("div",{className:"p-3",children:[l.jsx("h5",{className:"font-medium mb-2 text-xs sm:text-sm",children:"Chi tiết sản phẩm:"}),l.jsx("div",{className:"space-y-2",children:(X=L.items)==null?void 0:X.map((ue,he)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border text-xs sm:text-sm",children:[l.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[l.jsx("div",{className:"font-medium truncate",children:ue.productName}),l.jsxs("div",{className:"text-gray-600",children:[ue.quantity," x ",ue.price.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{className:"font-semibold flex-shrink-0",children:[ue.totalPrice.toLocaleString("vi-VN"),"₫"]})]},he))})]})})]},L.orderId)}),(!I.orders||I.orders.length===0)&&l.jsxs("div",{className:"text-center py-4 text-gray-500",children:[l.jsx(ja,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2 text-gray-300"}),l.jsx("p",{className:"text-sm",children:"Chưa có đơn hàng nào"})]})]})})]},I.paymentMethodId)}),(!(c!=null&&c.paymentStats)||c.paymentStats.length===0)&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(_s,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{className:"text-sm sm:text-base",children:"Chưa có dữ liệu thanh toán"}),l.jsx("p",{className:"text-xs sm:text-sm",children:"Hãy thực hiện một số giao dịch để xem báo cáo"})]})]})})]})]})}var yS,uD;function is(){if(uD)return yS;uD=1;var t=Array.isArray;return yS=t,yS}var wS,fD;function tY(){if(fD)return wS;fD=1;var t=typeof kx=="object"&&kx&&kx.Object===Object&&kx;return wS=t,wS}var bS,dD;function Tl(){if(dD)return bS;dD=1;var t=tY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return bS=r,bS}var _S,hD;function bv(){if(hD)return _S;hD=1;var t=Tl(),e=t.Symbol;return _S=e,_S}var SS,pD;function L_e(){if(pD)return SS;pD=1;var t=bv(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var f=n.call(s);return u&&(o?s[a]=c:delete s[a]),f}return SS=i,SS}var NS,mD;function B_e(){if(mD)return NS;mD=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return NS=r,NS}var ES,gD;function _c(){if(gD)return ES;gD=1;var t=bv(),e=L_e(),r=B_e(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?e(o):r(o)}return ES=s,ES}var AS,vD;function Sc(){if(vD)return AS;vD=1;function t(e){return e!=null&&typeof e=="object"}return AS=t,AS}var TS,xD;function K0(){if(xD)return TS;xD=1;var t=_c(),e=Sc(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return TS=n,TS}var CS,yD;function R3(){if(yD)return CS;yD=1;var t=is(),e=K0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return CS=a,CS}var jS,wD;function Fu(){if(wD)return jS;wD=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return jS=t,jS}var OS,bD;function M3(){if(bD)return OS;bD=1;var t=_c(),e=Fu(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var c=t(o);return c==n||c==a||c==r||c==i}return OS=s,OS}var IS,_D;function $_e(){if(_D)return IS;_D=1;var t=Tl(),e=t["__core-js_shared__"];return IS=e,IS}var PS,SD;function U_e(){if(SD)return PS;SD=1;var t=$_e(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return PS=r,PS}var kS,ND;function rY(){if(ND)return kS;ND=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return kS=r,kS}var DS,ED;function V_e(){if(ED)return DS;ED=1;var t=M3(),e=U_e(),r=Fu(),n=rY(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,u=o.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var g=t(m)?f:i;return g.test(n(m))}return DS=h,DS}var RS,AD;function H_e(){if(AD)return RS;AD=1;function t(e,r){return e==null?void 0:e[r]}return RS=t,RS}var MS,TD;function md(){if(TD)return MS;TD=1;var t=V_e(),e=H_e();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return MS=r,MS}var FS,CD;function hw(){if(CD)return FS;CD=1;var t=md(),e=t(Object,"create");return FS=e,FS}var LS,jD;function z_e(){if(jD)return LS;jD=1;var t=hw();function e(){this.__data__=t?t(null):{},this.size=0}return LS=e,LS}var BS,OD;function q_e(){if(OD)return BS;OD=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return BS=t,BS}var $S,ID;function W_e(){if(ID)return $S;ID=1;var t=hw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return $S=a,$S}var US,PD;function G_e(){if(PD)return US;PD=1;var t=hw(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return US=n,US}var VS,kD;function K_e(){if(kD)return VS;kD=1;var t=hw(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return VS=r,VS}var HS,DD;function X_e(){if(DD)return HS;DD=1;var t=z_e(),e=q_e(),r=W_e(),n=G_e(),a=K_e();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,HS=i,HS}var zS,RD;function Q_e(){if(RD)return zS;RD=1;function t(){this.__data__=[],this.size=0}return zS=t,zS}var qS,MD;function F3(){if(MD)return qS;MD=1;function t(e,r){return e===r||e!==e&&r!==r}return qS=t,qS}var WS,FD;function pw(){if(FD)return WS;FD=1;var t=F3();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return WS=e,WS}var GS,LD;function Y_e(){if(LD)return GS;LD=1;var t=pw(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return GS=n,GS}var KS,BD;function Z_e(){if(BD)return KS;BD=1;var t=pw();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return KS=e,KS}var XS,$D;function J_e(){if($D)return XS;$D=1;var t=pw();function e(r){return t(this.__data__,r)>-1}return XS=e,XS}var QS,UD;function eSe(){if(UD)return QS;UD=1;var t=pw();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return QS=e,QS}var YS,VD;function mw(){if(VD)return YS;VD=1;var t=Q_e(),e=Y_e(),r=Z_e(),n=J_e(),a=eSe();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,YS=i,YS}var ZS,HD;function L3(){if(HD)return ZS;HD=1;var t=md(),e=Tl(),r=t(e,"Map");return ZS=r,ZS}var JS,zD;function tSe(){if(zD)return JS;zD=1;var t=X_e(),e=mw(),r=L3();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return JS=n,JS}var eN,qD;function rSe(){if(qD)return eN;qD=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return eN=t,eN}var tN,WD;function gw(){if(WD)return tN;WD=1;var t=rSe();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return tN=e,tN}var rN,GD;function nSe(){if(GD)return rN;GD=1;var t=gw();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return rN=e,rN}var nN,KD;function aSe(){if(KD)return nN;KD=1;var t=gw();function e(r){return t(this,r).get(r)}return nN=e,nN}var aN,XD;function iSe(){if(XD)return aN;XD=1;var t=gw();function e(r){return t(this,r).has(r)}return aN=e,aN}var iN,QD;function sSe(){if(QD)return iN;QD=1;var t=gw();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return iN=e,iN}var sN,YD;function B3(){if(YD)return sN;YD=1;var t=tSe(),e=nSe(),r=aSe(),n=iSe(),a=sSe();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,sN=i,sN}var oN,ZD;function nY(){if(ZD)return oN;ZD=1;var t=B3(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],c=i.cache;if(c.has(o))return c.get(o);var u=n.apply(this,s);return i.cache=c.set(o,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,oN=r,oN}var lN,JD;function oSe(){if(JD)return lN;JD=1;var t=nY(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return lN=r,lN}var cN,eR;function lSe(){if(eR)return cN;eR=1;var t=oSe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,c,u){i.push(c?u.replace(r,"$1"):o||s)}),i});return cN=n,cN}var uN,tR;function $3(){if(tR)return uN;tR=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return uN=t,uN}var fN,rR;function cSe(){if(rR)return fN;rR=1;var t=bv(),e=$3(),r=is(),n=K0(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return i?i.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return fN=s,fN}var dN,nR;function aY(){if(nR)return dN;nR=1;var t=cSe();function e(r){return r==null?"":t(r)}return dN=e,dN}var hN,aR;function iY(){if(aR)return hN;aR=1;var t=is(),e=R3(),r=lSe(),n=aY();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return hN=a,hN}var pN,iR;function vw(){if(iR)return pN;iR=1;var t=K0();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return pN=e,pN}var mN,sR;function U3(){if(sR)return mN;sR=1;var t=iY(),e=vw();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return mN=r,mN}var gN,oR;function sY(){if(oR)return gN;oR=1;var t=U3();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return gN=e,gN}var uSe=sY();const Os=Vr(uSe);var vN,lR;function fSe(){if(lR)return vN;lR=1;function t(e){return e==null}return vN=t,vN}var dSe=fSe();const rr=Vr(dSe);var xN,cR;function hSe(){if(cR)return xN;cR=1;var t=_c(),e=is(),r=Sc(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return xN=a,xN}var pSe=hSe();const _v=Vr(pSe);var mSe=M3();const Zt=Vr(mSe);var gSe=Fu();const X0=Vr(gSe);var yN={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function vSe(){if(uR)return Lr;uR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function v(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case t:switch(w=w.type,w){case r:case a:case n:case u:case f:return w;default:switch(w=w&&w.$$typeof,w){case o:case s:case c:case m:case h:case i:return w;default:return S}}case e:return S}}}return Lr.ContextConsumer=s,Lr.ContextProvider=i,Lr.Element=t,Lr.ForwardRef=c,Lr.Fragment=r,Lr.Lazy=m,Lr.Memo=h,Lr.Portal=e,Lr.Profiler=a,Lr.StrictMode=n,Lr.Suspense=u,Lr.SuspenseList=f,Lr.isAsyncMode=function(){return!1},Lr.isConcurrentMode=function(){return!1},Lr.isContextConsumer=function(w){return v(w)===s},Lr.isContextProvider=function(w){return v(w)===i},Lr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Lr.isForwardRef=function(w){return v(w)===c},Lr.isFragment=function(w){return v(w)===r},Lr.isLazy=function(w){return v(w)===m},Lr.isMemo=function(w){return v(w)===h},Lr.isPortal=function(w){return v(w)===e},Lr.isProfiler=function(w){return v(w)===a},Lr.isStrictMode=function(w){return v(w)===n},Lr.isSuspense=function(w){return v(w)===u},Lr.isSuspenseList=function(w){return v(w)===f},Lr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===u||w===f||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===h||w.$$typeof===i||w.$$typeof===s||w.$$typeof===c||w.$$typeof===x||w.getModuleId!==void 0)},Lr.typeOf=v,Lr}var fR;function xSe(){return fR||(fR=1,yN.exports=vSe()),yN.exports}var ySe=xSe(),wN,dR;function oY(){if(dR)return wN;dR=1;var t=_c(),e=Sc(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return wN=n,wN}var bN,hR;function wSe(){if(hR)return bN;hR=1;var t=oY();function e(r){return t(r)&&r!=+r}return bN=e,bN}var bSe=wSe();const Sv=Vr(bSe);var _Se=oY();const SSe=Vr(_Se);var Ii=function(e){return e===0?0:e>0?1:-1},yf=function(e){return _v(e)&&e.indexOf("%")===e.length-1},ut=function(e){return SSe(e)&&!Sv(e)},ma=function(e){return ut(e)||_v(e)},NSe=0,Q0=function(e){var r=++NSe;return"".concat(e||"").concat(r)},Pi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(e)&&!_v(e))return n;var i;if(yf(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Sv(i)&&(i=n),a&&i>r&&(i=r),i},nu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ESe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},As=function(e,r){return ut(e)&&ut(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ey(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Os(n,e))===r})}function Ch(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function TC(t){"@babel/helpers - typeof";return TC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TC(t)}var ASe=["viewBox","children"],TSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pR=["points","pathLength"],_N={svg:ASe,polygon:pR,polyline:pR},V3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ay=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!X0(n))return null;var a={};return Object.keys(n).forEach(function(i){V3.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},CSe=function(e,r,n){return function(a){return e(r,n,a),null}},td=function(e,r,n){if(!X0(e)||TC(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];V3.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=CSe(s,r,n))}),a},jSe=["children"],OSe=["children"];function mR(t,e){if(t==null)return{};var r=ISe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ISe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CC(t){"@babel/helpers - typeof";return CC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CC(t)}var gR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},nc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vR=null,SN=null,H3=function t(e){if(e===vR&&Array.isArray(SN))return SN;var r=[];return T.Children.forEach(e,function(n){rr(n)||(ySe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),SN=r,vR=e,r};function Is(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return nc(a)}):n=[nc(e)],H3(t).forEach(function(a){var i=Os(a,"type.displayName")||Os(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ys(t,e){var r=Is(t,e);return r&&r[0]}var xR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ut(n)||n<=0||!ut(a)||a<=0)},PSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kSe=function(e){return e&&e.type&&_v(e.type)&&PSe.indexOf(e.type)>=0},DSe=function(e){return e&&CC(e)==="object"&&"clipDot"in e},RSe=function(e,r,n,a){var i,s=(i=_N==null?void 0:_N[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Zt(e)&&(a&&s.includes(r)||TSe.includes(r))||n&&V3.includes(r)},zt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(T.isValidElement(e)&&(a=e.props),!X0(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;RSe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},jC=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return yR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!yR(i,s))return!1}return!0},yR=function(e,r){if(rr(e)&&rr(r))return!0;if(!rr(e)&&!rr(r)){var n=e.props||{},a=n.children,i=mR(n,jSe),s=r.props||{},o=s.children,c=mR(s,OSe);return a&&o?Ch(i,c)&&jC(a,o):!a&&!o?Ch(i,c):!1}return!1},wR=function(e,r){var n=[],a={};return H3(e).forEach(function(i,s){if(kSe(i))n.push(i);else if(i){var o=nc(i.type),c=r[o]||{},u=c.handler,f=c.once;if(u&&(!f||!a[o])){var h=u(i,o,s);n.push(h),a[o]=!0}}}),n},MSe=function(e){var r=e&&e.type;return r&&gR[r]?gR[r]:null},FSe=function(e,r){return H3(r).indexOf(e)},LSe=["children","width","height","viewBox","className","style","title","desc"];function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OC.apply(this,arguments)}function BSe(t,e){if(t==null)return{};var r=$Se(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IC(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,c=t.desc,u=BSe(t,LSe),f=a||{width:r,height:n,x:0,y:0},h=or("recharts-surface",i);return oe.createElement("svg",OC({},zt(u,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),oe.createElement("title",null,o),oe.createElement("desc",null,c),e)}var USe=["children","className"];function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PC.apply(this,arguments)}function VSe(t,e){if(t==null)return{};var r=HSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Pr=oe.forwardRef(function(t,e){var r=t.children,n=t.className,a=VSe(t,USe),i=or("recharts-layer",n);return oe.createElement("g",PC({className:i},zt(a,!0),{ref:e}),r)}),$o=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},NN,bR;function zSe(){if(bR)return NN;bR=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return NN=t,NN}var EN,_R;function qSe(){if(_R)return EN;_R=1;var t=zSe();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return EN=e,EN}var AN,SR;function lY(){if(SR)return AN;SR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+a+i+"]");function c(u){return o.test(u)}return AN=c,AN}var TN,NR;function WSe(){if(NR)return TN;NR=1;function t(e){return e.split("")}return TN=t,TN}var CN,ER;function GSe(){if(ER)return CN;ER=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",o="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=u+"?",v="["+i+"]?",w="(?:"+g+"(?:"+[f,h,m].join("|")+")"+v+x+")*",S=v+x+w,b="(?:"+[f+o+"?",o,h,m,s].join("|")+")",_=RegExp(c+"(?="+c+")|"+b+S,"g");function E(A){return A.match(_)||[]}return CN=E,CN}var jN,AR;function KSe(){if(AR)return jN;AR=1;var t=WSe(),e=lY(),r=GSe();function n(a){return e(a)?r(a):t(a)}return jN=n,jN}var ON,TR;function XSe(){if(TR)return ON;TR=1;var t=qSe(),e=lY(),r=KSe(),n=aY();function a(i){return function(s){s=n(s);var o=e(s)?r(s):void 0,c=o?o[0]:s.charAt(0),u=o?t(o,1).join(""):s.slice(1);return c[i]()+u}}return ON=a,ON}var IN,CR;function QSe(){if(CR)return IN;CR=1;var t=XSe(),e=t("toUpperCase");return IN=e,IN}var YSe=QSe();const xw=Vr(YSe);function cn(t){return function(){return t}}const cY=Math.cos,Ty=Math.sin,Wo=Math.sqrt,Cy=Math.PI,yw=2*Cy,kC=Math.PI,DC=2*kC,lf=1e-6,ZSe=DC-lf;function uY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function JSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uY;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class eNe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uY:JSe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-e,u=a-r,f=s-e,h=o-r,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>lf)if(!(Math.abs(h*c-u*f)>lf)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,x=a-o,v=c*c+u*u,w=g*g+x*x,S=Math.sqrt(v),b=Math.sqrt(m),_=i*Math.tan((kC-Math.acos((v+m-w)/(2*S*b)))/2),E=_/b,A=_/S;Math.abs(E-1)>lf&&this._append`L${e+E*f},${r+E*h}`,this._append`A${i},${i},0,0,${+(h*g>f*x)},${this._x1=e+A*c},${this._y1=r+A*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=e+o,f=r+c,h=1^s,m=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>lf||Math.abs(this._y1-f)>lf)&&this._append`L${u},${f}`,n&&(m<0&&(m=m%DC+DC),m>ZSe?this._append`A${n},${n},0,1,${h},${e-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:m>lf&&this._append`A${n},${n},0,${+(m>=kC)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function z3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new eNe(e)}function q3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fY(t){this._context=t}fY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ww(t){return new fY(t)}function dY(t){return t[0]}function hY(t){return t[1]}function pY(t,e){var r=cn(!0),n=null,a=ww,i=null,s=z3(o);t=typeof t=="function"?t:t===void 0?dY:cn(t),e=typeof e=="function"?e:e===void 0?hY:cn(e);function o(c){var u,f=(c=q3(c)).length,h,m=!1,g;for(n==null&&(i=a(g=s())),u=0;u<=f;++u)!(u<f&&r(h=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(h,u,c),+e(h,u,c));if(g)return i=null,g+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:cn(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:cn(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:cn(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function n1(t,e,r){var n=null,a=cn(!0),i=null,s=ww,o=null,c=z3(u);t=typeof t=="function"?t:t===void 0?dY:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?hY:cn(+r);function u(h){var m,g,x,v=(h=q3(h)).length,w,S=!1,b,_=new Array(v),E=new Array(v);for(i==null&&(o=s(b=c())),m=0;m<=v;++m){if(!(m<v&&a(w=h[m],m,h))===S)if(S=!S)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=g;--x)o.point(_[x],E[x]);o.lineEnd(),o.areaEnd()}S&&(_[m]=+t(w,m,h),E[m]=+e(w,m,h),o.point(n?+n(w,m,h):_[m],r?+r(w,m,h):E[m]))}if(b)return o=null,b+""||null}function f(){return pY().defined(a).curve(s).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:cn(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:cn(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:cn(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:cn(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:cn(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:cn(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:cn(!!h),u):a},u.curve=function(h){return arguments.length?(s=h,i!=null&&(o=s(i)),u):s},u.context=function(h){return arguments.length?(h==null?i=o=null:o=s(i=h),u):i},u}class mY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function tNe(t){return new mY(t,!0)}function rNe(t){return new mY(t,!1)}const W3={draw(t,e){const r=Wo(e/Cy);t.moveTo(r,0),t.arc(0,0,r,0,yw)}},nNe={draw(t,e){const r=Wo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},gY=Wo(1/3),aNe=gY*2,iNe={draw(t,e){const r=Wo(e/aNe),n=r*gY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},sNe={draw(t,e){const r=Wo(e),n=-r/2;t.rect(n,n,r,r)}},oNe=.8908130915292852,vY=Ty(Cy/10)/Ty(7*Cy/10),lNe=Ty(yw/10)*vY,cNe=-cY(yw/10)*vY,uNe={draw(t,e){const r=Wo(e*oNe),n=lNe*r,a=cNe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=yw*i/5,o=cY(s),c=Ty(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*a,c*n+o*a)}t.closePath()}},PN=Wo(3),fNe={draw(t,e){const r=-Wo(e/(PN*3));t.moveTo(0,r*2),t.lineTo(-PN*r,-r),t.lineTo(PN*r,-r),t.closePath()}},zs=-.5,qs=Wo(3)/2,RC=1/Wo(12),dNe=(RC/2+1)*3,hNe={draw(t,e){const r=Wo(e/dNe),n=r/2,a=r*RC,i=n,s=r*RC+r,o=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,c),t.lineTo(zs*n-qs*a,qs*n+zs*a),t.lineTo(zs*i-qs*s,qs*i+zs*s),t.lineTo(zs*o-qs*c,qs*o+zs*c),t.lineTo(zs*n+qs*a,zs*a-qs*n),t.lineTo(zs*i+qs*s,zs*s-qs*i),t.lineTo(zs*o+qs*c,zs*c-qs*o),t.closePath()}};function pNe(t,e){let r=null,n=z3(a);t=typeof t=="function"?t:cn(t||W3),e=typeof e=="function"?e:cn(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:cn(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:cn(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function jy(){}function Oy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xY(t){this._context=t}xY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mNe(t){return new xY(t)}function yY(t){this._context=t}yY.prototype={areaStart:jy,areaEnd:jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Oy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gNe(t){return new yY(t)}function wY(t){this._context=t}wY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Oy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vNe(t){return new wY(t)}function bY(t){this._context=t}bY.prototype={areaStart:jy,areaEnd:jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xNe(t){return new bY(t)}function jR(t){return t<0?-1:1}function OR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(jR(i)+jR(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function IR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function kN(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function Iy(t){this._context=t}Iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kN(this,this._t0,IR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,kN(this,IR(this,r=OR(this,t,e)),r);break;default:kN(this,this._t0,r=OR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function _Y(t){this._context=new SY(t)}(_Y.prototype=Object.create(Iy.prototype)).point=function(t,e){Iy.prototype.point.call(this,e,t)};function SY(t){this._context=t}SY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function yNe(t){return new Iy(t)}function wNe(t){return new _Y(t)}function NY(t){this._context=t}NY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=PR(t),a=PR(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PR(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function bNe(t){return new NY(t)}function bw(t,e){this._context=t,this._t=e}bw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function _Ne(t){return new bw(t,.5)}function SNe(t){return new bw(t,0)}function NNe(t){return new bw(t,1)}function a0(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function MC(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ENe(t,e){return t[e]}function ANe(t){const e=[];return e.key=t,e}function TNe(){var t=cn([]),e=MC,r=a0,n=ENe;function a(i){var s=Array.from(t.apply(this,arguments),ANe),o,c=s.length,u=-1,f;for(const h of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(h,s[o].key,u,i)]).data=h;for(o=0,f=q3(e(s));o<c;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:cn(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:cn(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?MC:typeof i=="function"?i:cn(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??a0,a):r},a}function CNe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}a0(t,e)}}function jNe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}a0(t,e)}}function ONe(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var f=t[e[o]],h=f[n][1]||0,m=f[n-1][1]||0,g=(h-m)/2,x=0;x<o;++x){var v=t[e[x]],w=v[n][1]||0,S=v[n-1][1]||0;g+=w-S}c+=h,u+=g*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,a0(t,e)}}function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}var INe=["type","size","sizeType"];function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FC.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){PNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PNe(t,e,r){return e=kNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kNe(t){var e=DNe(t,"string");return fg(e)=="symbol"?e:e+""}function DNe(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RNe(t,e){if(t==null)return{};var r=MNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EY={symbolCircle:W3,symbolCross:nNe,symbolDiamond:iNe,symbolSquare:sNe,symbolStar:uNe,symbolTriangle:fNe,symbolWye:hNe},FNe=Math.PI/180,LNe=function(e){var r="symbol".concat(xw(e));return EY[r]||W3},BNe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*FNe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$Ne=function(e,r){EY["symbol".concat(xw(e))]=r},G3=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,c=RNe(e,INe),u=DR(DR({},c),{},{type:n,size:i,sizeType:o}),f=function(){var w=LNe(n),S=pNe().type(w).size(BNe(i,o,n));return S()},h=u.className,m=u.cx,g=u.cy,x=zt(u,!0);return m===+m&&g===+g&&i===+i?oe.createElement("path",FC({},x,{className:or("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:f()})):null};G3.registerSymbol=$Ne;function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LC.apply(this,arguments)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UNe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TY(n.key),n)}}function zNe(t,e,r){return e&&HNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qNe(t,e,r){return e=Py(e),WNe(t,AY()?Reflect.construct(e,r||[],Py(t).constructor):e.apply(t,r))}function WNe(t,e){if(e&&(i0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GNe(t)}function GNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AY=function(){return!!t})()}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(t)}function KNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(t,e)}function dg(t,e,r){return e=TY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TY(t){var e=XNe(t,"string");return i0(e)=="symbol"?e:e+""}function XNe(t,e){if(i0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ws=32,K3=(function(t){function e(){return VNe(this,e),qNe(this,e,arguments)}return KNe(e,t),zNe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ws/2,s=Ws/6,o=Ws/3,c=n.inactive?a:n.color;if(n.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ws,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ws,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return oe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ws/8,"h").concat(Ws,"v").concat(Ws*3/4,"h").concat(-Ws,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(n.legendIcon)){var u=UNe({},n);return delete u.legendIcon,oe.cloneElement(n.legendIcon,u)}return oe.createElement(G3,{fill:c,cx:i,cy:i,size:Ws,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:Ws,height:Ws},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,x){var v=g.formatter||c,w=or(dg(dg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var S=Zt(g.value)?null:g.value;$o(!Zt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return oe.createElement("li",LC({className:w,style:h,key:"legend-item-".concat(x)},td(n.props,g,x)),oe.createElement(IC,{width:s,height:s,viewBox:f,style:m},n.renderIcon(g)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(S,g,x):S))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(T.PureComponent);dg(K3,"displayName","Legend");dg(K3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DN,MR;function QNe(){if(MR)return DN;MR=1;var t=mw();function e(){this.__data__=new t,this.size=0}return DN=e,DN}var RN,FR;function YNe(){if(FR)return RN;FR=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return RN=t,RN}var MN,LR;function ZNe(){if(LR)return MN;LR=1;function t(e){return this.__data__.get(e)}return MN=t,MN}var FN,BR;function JNe(){if(BR)return FN;BR=1;function t(e){return this.__data__.has(e)}return FN=t,FN}var LN,$R;function eEe(){if($R)return LN;$R=1;var t=mw(),e=L3(),r=B3(),n=200;function a(i,s){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!e||c.length<n-1)return c.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(i,s),this.size=o.size,this}return LN=a,LN}var BN,UR;function CY(){if(UR)return BN;UR=1;var t=mw(),e=QNe(),r=YNe(),n=ZNe(),a=JNe(),i=eEe();function s(o){var c=this.__data__=new t(o);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,BN=s,BN}var $N,VR;function tEe(){if(VR)return $N;VR=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return $N=e,$N}var UN,HR;function rEe(){if(HR)return UN;HR=1;function t(e){return this.__data__.has(e)}return UN=t,UN}var VN,zR;function jY(){if(zR)return VN;zR=1;var t=B3(),e=tEe(),r=rEe();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,VN=n,VN}var HN,qR;function OY(){if(qR)return HN;qR=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return HN=t,HN}var zN,WR;function IY(){if(WR)return zN;WR=1;function t(e,r){return e.has(r)}return zN=t,zN}var qN,GR;function PY(){if(GR)return qN;GR=1;var t=jY(),e=OY(),r=IY(),n=1,a=2;function i(s,o,c,u,f,h){var m=c&n,g=s.length,x=o.length;if(g!=x&&!(m&&x>g))return!1;var v=h.get(s),w=h.get(o);if(v&&w)return v==o&&w==s;var S=-1,b=!0,_=c&a?new t:void 0;for(h.set(s,o),h.set(o,s);++S<g;){var E=s[S],A=o[S];if(u)var j=m?u(A,E,S,o,s,h):u(E,A,S,s,o,h);if(j!==void 0){if(j)continue;b=!1;break}if(_){if(!e(o,function(O,D){if(!r(_,D)&&(E===O||f(E,O,c,u,h)))return _.push(D)})){b=!1;break}}else if(!(E===A||f(E,A,c,u,h))){b=!1;break}}return h.delete(s),h.delete(o),b}return qN=i,qN}var WN,KR;function nEe(){if(KR)return WN;KR=1;var t=Tl(),e=t.Uint8Array;return WN=e,WN}var GN,XR;function aEe(){if(XR)return GN;XR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return GN=t,GN}var KN,QR;function X3(){if(QR)return KN;QR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return KN=t,KN}var XN,YR;function iEe(){if(YR)return XN;YR=1;var t=bv(),e=nEe(),r=F3(),n=PY(),a=aEe(),i=X3(),s=1,o=2,c="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",x="[object Set]",v="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",b="[object DataView]",_=t?t.prototype:void 0,E=_?_.valueOf:void 0;function A(j,O,D,M,k,I,R){switch(D){case b:if(j.byteLength!=O.byteLength||j.byteOffset!=O.byteOffset)return!1;j=j.buffer,O=O.buffer;case S:return!(j.byteLength!=O.byteLength||!I(new e(j),new e(O)));case c:case u:case m:return r(+j,+O);case f:return j.name==O.name&&j.message==O.message;case g:case v:return j==O+"";case h:var L=a;case x:var U=M&s;if(L||(L=i),j.size!=O.size&&!U)return!1;var X=R.get(j);if(X)return X==O;M|=o,R.set(j,O);var ue=n(L(j),L(O),M,k,I,R);return R.delete(j),ue;case w:if(E)return E.call(j)==E.call(O)}return!1}return XN=A,XN}var QN,ZR;function kY(){if(ZR)return QN;ZR=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return QN=t,QN}var YN,JR;function sEe(){if(JR)return YN;JR=1;var t=kY(),e=is();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return YN=r,YN}var ZN,e5;function oEe(){if(e5)return ZN;e5=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var o=e[n];r(o,n,e)&&(s[i++]=o)}return s}return ZN=t,ZN}var JN,t5;function lEe(){if(t5)return JN;t5=1;function t(){return[]}return JN=t,JN}var eE,r5;function cEe(){if(r5)return eE;r5=1;var t=oEe(),e=lEe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return n.call(s,o)}))}:e;return eE=i,eE}var tE,n5;function uEe(){if(n5)return tE;n5=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return tE=t,tE}var rE,a5;function fEe(){if(a5)return rE;a5=1;var t=_c(),e=Sc(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return rE=n,rE}var nE,i5;function Q3(){if(i5)return nE;i5=1;var t=fEe(),e=Sc(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return nE=i,nE}var hm={exports:{}},aE,s5;function dEe(){if(s5)return aE;s5=1;function t(){return!1}return aE=t,aE}hm.exports;var o5;function DY(){return o5||(o5=1,(function(t,e){var r=Tl(),n=dEe(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u})(hm,hm.exports)),hm.exports}var iE,l5;function Y3(){if(l5)return iE;l5=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return iE=r,iE}var sE,c5;function Z3(){if(c5)return sE;c5=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return sE=e,sE}var oE,u5;function hEe(){if(u5)return oE;u5=1;var t=_c(),e=Z3(),r=Sc(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",x="[object String]",v="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",M="[object Uint16Array]",k="[object Uint32Array]",I={};I[b]=I[_]=I[E]=I[A]=I[j]=I[O]=I[D]=I[M]=I[k]=!0,I[n]=I[a]=I[w]=I[i]=I[S]=I[s]=I[o]=I[c]=I[u]=I[f]=I[h]=I[m]=I[g]=I[x]=I[v]=!1;function R(L){return r(L)&&e(L.length)&&!!I[t(L)]}return oE=R,oE}var lE,f5;function RY(){if(f5)return lE;f5=1;function t(e){return function(r){return e(r)}}return lE=t,lE}var pm={exports:{}};pm.exports;var d5;function pEe(){return d5||(d5=1,(function(t,e){var r=tY(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=(function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(pm,pm.exports)),pm.exports}var cE,h5;function MY(){if(h5)return cE;h5=1;var t=hEe(),e=RY(),r=pEe(),n=r&&r.isTypedArray,a=n?e(n):t;return cE=a,cE}var uE,p5;function mEe(){if(p5)return uE;p5=1;var t=uEe(),e=Q3(),r=is(),n=DY(),a=Y3(),i=MY(),s=Object.prototype,o=s.hasOwnProperty;function c(u,f){var h=r(u),m=!h&&e(u),g=!h&&!m&&n(u),x=!h&&!m&&!g&&i(u),v=h||m||g||x,w=v?t(u.length,String):[],S=w.length;for(var b in u)(f||o.call(u,b))&&!(v&&(b=="length"||g&&(b=="offset"||b=="parent")||x&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,S)))&&w.push(b);return w}return uE=c,uE}var fE,m5;function gEe(){if(m5)return fE;m5=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return fE=e,fE}var dE,g5;function FY(){if(g5)return dE;g5=1;function t(e,r){return function(n){return e(r(n))}}return dE=t,dE}var hE,v5;function vEe(){if(v5)return hE;v5=1;var t=FY(),e=t(Object.keys,Object);return hE=e,hE}var pE,x5;function xEe(){if(x5)return pE;x5=1;var t=gEe(),e=vEe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return pE=a,pE}var mE,y5;function Nv(){if(y5)return mE;y5=1;var t=M3(),e=Z3();function r(n){return n!=null&&e(n.length)&&!t(n)}return mE=r,mE}var gE,w5;function _w(){if(w5)return gE;w5=1;var t=mEe(),e=xEe(),r=Nv();function n(a){return r(a)?t(a):e(a)}return gE=n,gE}var vE,b5;function yEe(){if(b5)return vE;b5=1;var t=sEe(),e=cEe(),r=_w();function n(a){return t(a,r,e)}return vE=n,vE}var xE,_5;function wEe(){if(_5)return xE;_5=1;var t=yEe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,c,u,f){var h=o&e,m=t(i),g=m.length,x=t(s),v=x.length;if(g!=v&&!h)return!1;for(var w=g;w--;){var S=m[w];if(!(h?S in s:n.call(s,S)))return!1}var b=f.get(i),_=f.get(s);if(b&&_)return b==s&&_==i;var E=!0;f.set(i,s),f.set(s,i);for(var A=h;++w<g;){S=m[w];var j=i[S],O=s[S];if(c)var D=h?c(O,j,S,s,i,f):c(j,O,S,i,s,f);if(!(D===void 0?j===O||u(j,O,o,c,f):D)){E=!1;break}A||(A=S=="constructor")}if(E&&!A){var M=i.constructor,k=s.constructor;M!=k&&"constructor"in i&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof k=="function"&&k instanceof k)&&(E=!1)}return f.delete(i),f.delete(s),E}return xE=a,xE}var yE,S5;function bEe(){if(S5)return yE;S5=1;var t=md(),e=Tl(),r=t(e,"DataView");return yE=r,yE}var wE,N5;function _Ee(){if(N5)return wE;N5=1;var t=md(),e=Tl(),r=t(e,"Promise");return wE=r,wE}var bE,E5;function LY(){if(E5)return bE;E5=1;var t=md(),e=Tl(),r=t(e,"Set");return bE=r,bE}var _E,A5;function SEe(){if(A5)return _E;A5=1;var t=md(),e=Tl(),r=t(e,"WeakMap");return _E=r,_E}var SE,T5;function NEe(){if(T5)return SE;T5=1;var t=bEe(),e=L3(),r=_Ee(),n=LY(),a=SEe(),i=_c(),s=rY(),o="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=s(t),x=s(e),v=s(r),w=s(n),S=s(a),b=i;return(t&&b(new t(new ArrayBuffer(1)))!=m||e&&b(new e)!=o||r&&b(r.resolve())!=u||n&&b(new n)!=f||a&&b(new a)!=h)&&(b=function(_){var E=i(_),A=E==c?_.constructor:void 0,j=A?s(A):"";if(j)switch(j){case g:return m;case x:return o;case v:return u;case w:return f;case S:return h}return E}),SE=b,SE}var NE,C5;function EEe(){if(C5)return NE;C5=1;var t=CY(),e=PY(),r=iEe(),n=wEe(),a=NEe(),i=is(),s=DY(),o=MY(),c=1,u="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function x(v,w,S,b,_,E){var A=i(v),j=i(w),O=A?f:a(v),D=j?f:a(w);O=O==u?h:O,D=D==u?h:D;var M=O==h,k=D==h,I=O==D;if(I&&s(v)){if(!s(w))return!1;A=!0,M=!1}if(I&&!M)return E||(E=new t),A||o(v)?e(v,w,S,b,_,E):r(v,w,O,S,b,_,E);if(!(S&c)){var R=M&&g.call(v,"__wrapped__"),L=k&&g.call(w,"__wrapped__");if(R||L){var U=R?v.value():v,X=L?w.value():w;return E||(E=new t),_(U,X,S,b,E)}}return I?(E||(E=new t),n(v,w,S,b,_,E)):!1}return NE=x,NE}var EE,j5;function J3(){if(j5)return EE;j5=1;var t=EEe(),e=Sc();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,o)}return EE=r,EE}var AE,O5;function AEe(){if(O5)return AE;O5=1;var t=CY(),e=J3(),r=1,n=2;function a(i,s,o,c){var u=o.length,f=u,h=!c;if(i==null)return!f;for(i=Object(i);u--;){var m=o[u];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<f;){m=o[u];var g=m[0],x=i[g],v=m[1];if(h&&m[2]){if(x===void 0&&!(g in i))return!1}else{var w=new t;if(c)var S=c(x,v,g,i,s,w);if(!(S===void 0?e(v,x,r|n,c,w):S))return!1}}return!0}return AE=a,AE}var TE,I5;function BY(){if(I5)return TE;I5=1;var t=Fu();function e(r){return r===r&&!t(r)}return TE=e,TE}var CE,P5;function TEe(){if(P5)return CE;P5=1;var t=BY(),e=_w();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,t(o)]}return a}return CE=r,CE}var jE,k5;function $Y(){if(k5)return jE;k5=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return jE=t,jE}var OE,D5;function CEe(){if(D5)return OE;D5=1;var t=AEe(),e=TEe(),r=$Y();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return OE=n,OE}var IE,R5;function jEe(){if(R5)return IE;R5=1;function t(e,r){return e!=null&&r in Object(e)}return IE=t,IE}var PE,M5;function OEe(){if(M5)return PE;M5=1;var t=iY(),e=Q3(),r=is(),n=Y3(),a=Z3(),i=vw();function s(o,c,u){c=t(c,o);for(var f=-1,h=c.length,m=!1;++f<h;){var g=i(c[f]);if(!(m=o!=null&&u(o,g)))break;o=o[g]}return m||++f!=h?m:(h=o==null?0:o.length,!!h&&a(h)&&n(g,h)&&(r(o)||e(o)))}return PE=s,PE}var kE,F5;function IEe(){if(F5)return kE;F5=1;var t=jEe(),e=OEe();function r(n,a){return n!=null&&e(n,a,t)}return kE=r,kE}var DE,L5;function PEe(){if(L5)return DE;L5=1;var t=J3(),e=sY(),r=IEe(),n=R3(),a=BY(),i=$Y(),s=vw(),o=1,c=2;function u(f,h){return n(f)&&a(h)?i(s(f),h):function(m){var g=e(m,f);return g===void 0&&g===h?r(m,f):t(h,g,o|c)}}return DE=u,DE}var RE,B5;function Y0(){if(B5)return RE;B5=1;function t(e){return e}return RE=t,RE}var ME,$5;function kEe(){if($5)return ME;$5=1;function t(e){return function(r){return r==null?void 0:r[e]}}return ME=t,ME}var FE,U5;function DEe(){if(U5)return FE;U5=1;var t=U3();function e(r){return function(n){return t(n,r)}}return FE=e,FE}var LE,V5;function REe(){if(V5)return LE;V5=1;var t=kEe(),e=DEe(),r=R3(),n=vw();function a(i){return r(i)?t(n(i)):e(i)}return LE=a,LE}var BE,H5;function Cl(){if(H5)return BE;H5=1;var t=CEe(),e=PEe(),r=Y0(),n=is(),a=REe();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return BE=i,BE}var $E,z5;function UY(){if(z5)return $E;z5=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return $E=t,$E}var UE,q5;function MEe(){if(q5)return UE;q5=1;function t(e){return e!==e}return UE=t,UE}var VE,W5;function FEe(){if(W5)return VE;W5=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return VE=t,VE}var HE,G5;function LEe(){if(G5)return HE;G5=1;var t=UY(),e=MEe(),r=FEe();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return HE=n,HE}var zE,K5;function BEe(){if(K5)return zE;K5=1;var t=LEe();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return zE=e,zE}var qE,X5;function $Ee(){if(X5)return qE;X5=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return qE=t,qE}var WE,Q5;function UEe(){if(Q5)return WE;Q5=1;function t(){}return WE=t,WE}var GE,Y5;function VEe(){if(Y5)return GE;Y5=1;var t=LY(),e=UEe(),r=X3(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return GE=a,GE}var KE,Z5;function HEe(){if(Z5)return KE;Z5=1;var t=jY(),e=BEe(),r=$Ee(),n=IY(),a=VEe(),i=X3(),s=200;function o(c,u,f){var h=-1,m=e,g=c.length,x=!0,v=[],w=v;if(f)x=!1,m=r;else if(g>=s){var S=u?null:a(c);if(S)return i(S);x=!1,m=n,w=new t}else w=u?[]:v;e:for(;++h<g;){var b=c[h],_=u?u(b):b;if(b=f||b!==0?b:0,x&&_===_){for(var E=w.length;E--;)if(w[E]===_)continue e;u&&w.push(_),v.push(b)}else m(w,_,f)||(w!==v&&w.push(_),v.push(b))}return v}return KE=o,KE}var XE,J5;function zEe(){if(J5)return XE;J5=1;var t=Cl(),e=HEe();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return XE=r,XE}var qEe=zEe();const eM=Vr(qEe);function VY(t,e,r){return e===!0?eM(t,r):Zt(e)?eM(t,e):t}function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}var WEe=["ref"];function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){Sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zY(n.key),n)}}function KEe(t,e,r){return e&&rM(t.prototype,e),r&&rM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XEe(t,e,r){return e=ky(e),QEe(t,HY()?Reflect.construct(e,r||[],ky(t).constructor):e.apply(t,r))}function QEe(t,e){if(e&&(s0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(t)}function YEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HY=function(){return!!t})()}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(t)}function ZEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$C(t,e)}function Sw(t,e,r){return e=zY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zY(t){var e=JEe(t,"string");return s0(e)=="symbol"?e:e+""}function JEe(t,e){if(s0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eAe(t,e){if(t==null)return{};var r=tAe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rAe(t){return t.value}function nAe(t,e){if(oe.isValidElement(t))return oe.cloneElement(t,e);if(typeof t=="function")return oe.createElement(t,e);e.ref;var r=eAe(e,WEe);return oe.createElement(K3,r)}var nM=1,jh=(function(t){function e(){var r;GEe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=XEe(this,e,[].concat(a)),Sw(r,"lastBoundingBox",{width:-1,height:-1}),r}return ZEe(e,t),KEe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>nM||Math.abs(a.height-this.lastBoundingBox.height)>nM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$l({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();h={left:((u||0)-g.width)/2}}else h=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();m={top:((f||0)-x.height)/2}}else m=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return $l($l({},h),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,h=$l($l({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return oe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},nAe(i,$l($l({},this.props),{},{payload:VY(f,u,rAe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=$l($l({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&ut(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(T.PureComponent);Sw(jh,"displayName","Legend");Sw(jh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QE,aM;function aAe(){if(aM)return QE;aM=1;var t=bv(),e=Q3(),r=is(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return QE=a,QE}var YE,iM;function qY(){if(iM)return YE;iM=1;var t=kY(),e=aAe();function r(n,a,i,s,o){var c=-1,u=n.length;for(i||(i=e),o||(o=[]);++c<u;){var f=n[c];a>0&&i(f)?a>1?r(f,a-1,i,s,o):t(o,f):s||(o[o.length]=f)}return o}return YE=r,YE}var ZE,sM;function iAe(){if(sM)return ZE;sM=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),c=o.length;c--;){var u=o[e?c:++i];if(n(s[u],u,s)===!1)break}return r}}return ZE=t,ZE}var JE,oM;function sAe(){if(oM)return JE;oM=1;var t=iAe(),e=t();return JE=e,JE}var eA,lM;function WY(){if(lM)return eA;lM=1;var t=sAe(),e=_w();function r(n,a){return n&&t(n,a,e)}return eA=r,eA}var tA,cM;function oAe(){if(cM)return tA;cM=1;var t=Nv();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,o=n?s:-1,c=Object(a);(n?o--:++o<s)&&i(c[o],o,c)!==!1;);return a}}return tA=e,tA}var rA,uM;function eO(){if(uM)return rA;uM=1;var t=WY(),e=oAe(),r=e(t);return rA=r,rA}var nA,fM;function GY(){if(fM)return nA;fM=1;var t=eO(),e=Nv();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(o,c,u){s[++i]=a(o,c,u)}),s}return nA=r,nA}var aA,dM;function lAe(){if(dM)return aA;dM=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return aA=t,aA}var iA,hM;function cAe(){if(hM)return iA;hM=1;var t=K0();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=t(r),c=n!==void 0,u=n===null,f=n===n,h=t(n);if(!u&&!h&&!o&&r>n||o&&c&&f&&!u&&!h||i&&c&&f||!a&&f||!s)return 1;if(!i&&!o&&!h&&r<n||h&&a&&s&&!i&&!o||u&&a&&s||!c&&s||!f)return-1}return 0}return iA=e,iA}var sA,pM;function uAe(){if(pM)return sA;pM=1;var t=cAe();function e(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,c=s.length,u=a.length;++i<c;){var f=t(s[i],o[i]);if(f){if(i>=u)return f;var h=a[i];return f*(h=="desc"?-1:1)}}return r.index-n.index}return sA=e,sA}var oA,mM;function fAe(){if(mM)return oA;mM=1;var t=$3(),e=U3(),r=Cl(),n=GY(),a=lAe(),i=RY(),s=uAe(),o=Y0(),c=is();function u(f,h,m){h.length?h=t(h,function(v){return c(v)?function(w){return e(w,v.length===1?v[0]:v)}:v}):h=[o];var g=-1;h=t(h,i(r));var x=n(f,function(v,w,S){var b=t(h,function(_){return _(v)});return{criteria:b,index:++g,value:v}});return a(x,function(v,w){return s(v,w,m)})}return oA=u,oA}var lA,gM;function dAe(){if(gM)return lA;gM=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return lA=t,lA}var cA,vM;function hAe(){if(vM)return cA;vM=1;var t=dAe(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,c=e(s.length-a,0),u=Array(c);++o<c;)u[o]=s[a+o];o=-1;for(var f=Array(a+1);++o<a;)f[o]=s[o];return f[a]=i(u),t(n,this,f)}}return cA=r,cA}var uA,xM;function pAe(){if(xM)return uA;xM=1;function t(e){return function(){return e}}return uA=t,uA}var fA,yM;function KY(){if(yM)return fA;yM=1;var t=md(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return fA=e,fA}var dA,wM;function mAe(){if(wM)return dA;wM=1;var t=pAe(),e=KY(),r=Y0(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return dA=n,dA}var hA,bM;function gAe(){if(bM)return hA;bM=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),c=e-(o-s);if(s=o,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return hA=n,hA}var pA,_M;function vAe(){if(_M)return pA;_M=1;var t=mAe(),e=gAe(),r=e(t);return pA=r,pA}var mA,SM;function xAe(){if(SM)return mA;SM=1;var t=Y0(),e=hAe(),r=vAe();function n(a,i){return r(e(a,i,t),a+"")}return mA=n,mA}var gA,NM;function Nw(){if(NM)return gA;NM=1;var t=F3(),e=Nv(),r=Y3(),n=Fu();function a(i,s,o){if(!n(o))return!1;var c=typeof s;return(c=="number"?e(o)&&r(s,o.length):c=="string"&&s in o)?t(o[s],i):!1}return gA=a,gA}var vA,EM;function yAe(){if(EM)return vA;EM=1;var t=qY(),e=fAe(),r=xAe(),n=Nw(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return vA=a,vA}var wAe=yAe();const tO=Vr(wAe);function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UC.apply(this,arguments)}function bAe(t,e){return EAe(t)||NAe(t,e)||SAe(t,e)||_Ae()}function _Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SAe(t,e){if(t){if(typeof t=="string")return AM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(t,e)}}function AM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function EAe(t){if(Array.isArray(t))return t}function TM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(r),!0).forEach(function(n){AAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AAe(t,e,r){return e=TAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TAe(t){var e=CAe(t,"string");return hg(e)=="symbol"?e:e+""}function CAe(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jAe(t){return Array.isArray(t)&&ma(t[0])&&ma(t[1])?t.join(" ~ "):t}var OAe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,h=e.formatter,m=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,v=e.label,w=e.labelFormatter,S=e.accessibilityLayer,b=S===void 0?!1:S,_=function(){if(f&&f.length){var R={padding:0,margin:0},L=(m?tO(f,m):f).map(function(U,X){if(U.type==="none")return null;var ue=xA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),he=U.formatter||h||jAe,J=U.value,ne=U.name,G=J,z=ne;if(he&&G!=null&&z!=null){var F=he(J,ne,U,X,f);if(Array.isArray(F)){var ee=bAe(F,2);G=ee[0],z=ee[1]}else G=F}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:ue},ma(z)?oe.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ma(z)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},G),oe.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:R},L)}return null},E=xA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=xA({margin:0},u),j=!rr(v),O=j?v:"",D=or("recharts-default-tooltip",g),M=or("recharts-tooltip-label",x);j&&w&&f!==void 0&&f!==null&&(O=w(v,f));var k=b?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",UC({className:D,style:E},k),oe.createElement("p",{className:M,style:A},oe.isValidElement(O)?O:"".concat(O)),_())};function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function a1(t,e,r){return e=IAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IAe(t){var e=PAe(t,"string");return pg(e)=="symbol"?e:e+""}function PAe(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qp="recharts-tooltip-wrapper",kAe={visibility:"hidden"};function DAe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return or(qp,a1(a1(a1(a1({},"".concat(qp,"-right"),ut(r)&&e&&ut(e.x)&&r>=e.x),"".concat(qp,"-left"),ut(r)&&e&&ut(e.x)&&r<e.x),"".concat(qp,"-bottom"),ut(n)&&e&&ut(e.y)&&n>=e.y),"".concat(qp,"-top"),ut(n)&&e&&ut(e.y)&&n<e.y))}function CM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&ut(i[n]))return i[n];var f=r[n]-o-a,h=r[n]+a;if(e[n])return s[n]?f:h;if(s[n]){var m=f,g=c[n];return m<g?Math.max(h,c[n]):Math.max(f,c[n])}var x=h+o,v=c[n]+u;return x>v?Math.max(f,c[n]):Math.max(h,c[n])}function RAe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function MAe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,f,h;return s.height>0&&s.width>0&&r?(f=CM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=CM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=RAe({translateX:f,translateY:h,useTranslate3d:o})):u=kAe,{cssProperties:u,cssClasses:DAe({translateX:f,translateY:h,coordinate:r})}}function o0(t){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){HC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QY(n.key),n)}}function BAe(t,e,r){return e&&LAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ae(t,e,r){return e=Dy(e),UAe(t,XY()?Reflect.construct(e,r||[],Dy(t).constructor):e.apply(t,r))}function UAe(t,e){if(e&&(o0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VAe(t)}function VAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XY=function(){return!!t})()}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(t)}function HAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VC(t,e)}function HC(t,e,r){return e=QY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QY(t){var e=zAe(t,"string");return o0(e)=="symbol"?e:e+""}function zAe(t,e){if(o0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IM=1,qAe=(function(t){function e(){var r;FAe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$Ae(this,e,[].concat(a)),HC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HC(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return HAe(e,t),BAe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IM||Math.abs(n.height-this.state.lastBoundingBox.height)>IM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,g=a.offset,x=a.position,v=a.reverseDirection,w=a.useTranslate3d,S=a.viewBox,b=a.wrapperStyle,_=MAe({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:S}),E=_.cssClasses,A=_.cssProperties,j=OM(OM({transition:m&&i?"transform ".concat(o,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return oe.createElement("div",{tabIndex:-1,className:E,style:j,ref:function(D){n.wrapperNode=D}},u)}}])})(T.PureComponent),WAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gd={isSsr:WAe()};function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function PM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(r),!0).forEach(function(n){rO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZY(n.key),n)}}function XAe(t,e,r){return e&&KAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QAe(t,e,r){return e=Ry(e),YAe(t,YY()?Reflect.construct(e,r||[],Ry(t).constructor):e.apply(t,r))}function YAe(t,e){if(e&&(l0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZAe(t)}function ZAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YY=function(){return!!t})()}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(t)}function JAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zC(t,e)}function zC(t,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zC(t,e)}function rO(t,e,r){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZY(t){var e=eTe(t,"string");return l0(e)=="symbol"?e:e+""}function eTe(t,e){if(l0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tTe(t){return t.dataKey}function rTe(t,e){return oe.isValidElement(t)?oe.cloneElement(t,e):typeof t=="function"?oe.createElement(t,e):oe.createElement(OAe,e)}var Yi=(function(t){function e(){return GAe(this,e),QAe(this,e,arguments)}return JAe(e,t),XAe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,h=a.filterNull,m=a.isAnimationActive,g=a.offset,x=a.payload,v=a.payloadUniqBy,w=a.position,S=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,E=a.wrapperStyle,A=x??[];h&&A.length&&(A=VY(x.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),v,tTe));var j=A.length>0;return oe.createElement(qAe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:m,active:i,coordinate:f,hasPayload:j,offset:g,position:w,reverseDirection:S,useTranslate3d:b,viewBox:_,wrapperStyle:E},rTe(u,kM(kM({},this.props),{},{payload:A})))}}])})(T.PureComponent);rO(Yi,"displayName","Tooltip");rO(Yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yA,DM;function nTe(){if(DM)return yA;DM=1;var t=Tl(),e=function(){return t.Date.now()};return yA=e,yA}var wA,RM;function aTe(){if(RM)return wA;RM=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return wA=e,wA}var bA,MM;function iTe(){if(MM)return bA;MM=1;var t=aTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return bA=r,bA}var _A,FM;function JY(){if(FM)return _A;FM=1;var t=iTe(),e=Fu(),r=K0(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=i.test(u);return h||s.test(u)?o(u.slice(2),h?2:8):a.test(u)?n:+u}return _A=c,_A}var SA,LM;function sTe(){if(LM)return SA;LM=1;var t=Fu(),e=nTe(),r=JY(),n="Expected a function",a=Math.max,i=Math.min;function s(o,c,u){var f,h,m,g,x,v,w=0,S=!1,b=!1,_=!0;if(typeof o!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(S=!!u.leading,b="maxWait"in u,m=b?a(r(u.maxWait)||0,c):m,_="trailing"in u?!!u.trailing:_);function E(L){var U=f,X=h;return f=h=void 0,w=L,g=o.apply(X,U),g}function A(L){return w=L,x=setTimeout(D,c),S?E(L):g}function j(L){var U=L-v,X=L-w,ue=c-U;return b?i(ue,m-X):ue}function O(L){var U=L-v,X=L-w;return v===void 0||U>=c||U<0||b&&X>=m}function D(){var L=e();if(O(L))return M(L);x=setTimeout(D,j(L))}function M(L){return x=void 0,_&&f?E(L):(f=h=void 0,g)}function k(){x!==void 0&&clearTimeout(x),w=0,f=v=h=x=void 0}function I(){return x===void 0?g:M(e())}function R(){var L=e(),U=O(L);if(f=arguments,h=this,v=L,U){if(x===void 0)return A(v);if(b)return clearTimeout(x),x=setTimeout(D,c),E(v)}return x===void 0&&(x=setTimeout(D,c)),g}return R.cancel=k,R.flush=I,R}return SA=s,SA}var NA,BM;function oTe(){if(BM)return NA;BM=1;var t=sTe(),e=Fu(),r="Expected a function";function n(a,i,s){var o=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:o,maxWait:i,trailing:c})}return NA=n,NA}var lTe=oTe();const eZ=Vr(lTe);function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){cTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cTe(t,e,r){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uTe(t){var e=fTe(t,"string");return mg(e)=="symbol"?e:e+""}function fTe(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dTe(t,e){return gTe(t)||mTe(t,e)||pTe(t,e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(t,e){if(t){if(typeof t=="string")return UM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UM(t,e)}}function UM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function gTe(t){if(Array.isArray(t))return t}var Wp=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,m=t.maxHeight,g=t.children,x=t.debounce,v=x===void 0?0:x,w=t.id,S=t.className,b=t.onResize,_=t.style,E=_===void 0?{}:_,A=T.useRef(null),j=T.useRef();j.current=b,T.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var O=T.useState({containerWidth:a.width,containerHeight:a.height}),D=dTe(O,2),M=D[0],k=D[1],I=T.useCallback(function(L,U){k(function(X){var ue=Math.round(L),he=Math.round(U);return X.containerWidth===ue&&X.containerHeight===he?X:{containerWidth:ue,containerHeight:he}})},[]);T.useEffect(function(){var L=function(ne){var G,z=ne[0].contentRect,F=z.width,ee=z.height;I(F,ee),(G=j.current)===null||G===void 0||G.call(j,F,ee)};v>0&&(L=eZ(L,v,{trailing:!0,leading:!1}));var U=new ResizeObserver(L),X=A.current.getBoundingClientRect(),ue=X.width,he=X.height;return I(ue,he),U.observe(A.current),function(){U.disconnect()}},[I,v]);var R=T.useMemo(function(){var L=M.containerWidth,U=M.containerHeight;if(L<0||U<0)return null;$o(yf(s)||yf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),$o(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=yf(s)?L:s,ue=yf(c)?U:c;r&&r>0&&(X?ue=X/r:ue&&(X=ue*r),m&&ue>m&&(ue=m)),$o(X>0||ue>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,ue,s,c,f,h,r);var he=!Array.isArray(g)&&nc(g.type).endsWith("Chart");return oe.Children.map(g,function(J){return oe.isValidElement(J)?T.cloneElement(J,i1({width:X,height:ue},he?{style:i1({height:"100%",width:"100%",maxHeight:ue,maxWidth:X},J.props.style)}:{})):J})},[r,g,c,m,h,f,M,s]);return oe.createElement("div",{id:w?"".concat(w):void 0,className:or("recharts-responsive-container",S),style:i1(i1({},E),{},{width:s,height:c,minWidth:f,minHeight:h,maxHeight:m}),ref:A},R)}),gg=function(e){return null};gg.displayName="Cell";function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){vTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vTe(t,e,r){return e=xTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xTe(t){var e=yTe(t,"string");return vg(e)=="symbol"?e:e+""}function yTe(t,e){if(vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eh={widthCache:{},cacheCount:0},wTe=2e3,bTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HM="recharts_measurement_span";function _Te(t){var e=qC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Am=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gd.isSsr)return{width:0,height:0};var n=_Te(r),a=JSON.stringify({text:e,copyStyle:n});if(eh.widthCache[a])return eh.widthCache[a];try{var i=document.getElementById(HM);i||(i=document.createElement("span"),i.setAttribute("id",HM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=qC(qC({},bTe),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return eh.widthCache[a]=c,++eh.cacheCount>wTe&&(eh.cacheCount=0,eh.widthCache={}),c}catch{return{width:0,height:0}}},STe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function My(t,e){return TTe(t)||ATe(t,e)||ETe(t,e)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ETe(t,e){if(t){if(typeof t=="string")return zM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zM(t,e)}}function zM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ATe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function TTe(t){if(Array.isArray(t))return t}function CTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OTe(n.key),n)}}function jTe(t,e,r){return e&&qM(t.prototype,e),r&&qM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OTe(t){var e=ITe(t,"string");return xg(e)=="symbol"?e:e+""}function ITe(t,e){if(xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DTe=Object.keys(tZ),fh="NaN";function RTe(t,e){return t*tZ[e]}var s1=(function(){function t(e,r){CTe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!PTe.test(r)&&(this.num=NaN,this.unit=""),DTe.includes(r)&&(this.num=RTe(e,r),this.unit="px")}return jTe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=kTe.exec(r))!==null&&n!==void 0?n:[],i=My(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])})();function rZ(t){if(t.includes(fh))return fh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=WM.exec(e))!==null&&r!==void 0?r:[],a=My(n,4),i=a[1],s=a[2],o=a[3],c=s1.parse(i??""),u=s1.parse(o??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return fh;e=e.replace(WM,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=GM.exec(e))!==null&&h!==void 0?h:[],g=My(m,4),x=g[1],v=g[2],w=g[3],S=s1.parse(x??""),b=s1.parse(w??""),_=v==="+"?S.add(b):S.subtract(b);if(_.isNaN())return fh;e=e.replace(GM,_.toString())}return e}var KM=/\(([^()]*)\)/;function MTe(t){for(var e=t;e.includes("(");){var r=KM.exec(e),n=My(r,2),a=n[1];e=e.replace(KM,rZ(a))}return e}function FTe(t){var e=t.replace(/\s+/g,"");return e=MTe(e),e=rZ(e),e}function LTe(t){try{return FTe(t)}catch{return fh}}function EA(t){var e=LTe(t.slice(5,-1));return e===fh?"":e}var BTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$Te=["dx","dy","angle","className","breakAll"];function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WC.apply(this,arguments)}function XM(t,e){if(t==null)return{};var r=UTe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QM(t,e){return qTe(t)||zTe(t,e)||HTe(t,e)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(t,e){if(t){if(typeof t=="string")return YM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(t,e)}}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function qTe(t){if(Array.isArray(t))return t}var nZ=/[ \f\n\r\t\v\u2028\u2029]+/,aZ=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];rr(r)||(n?i=r.toString().split(""):i=r.toString().split(nZ));var s=i.map(function(c){return{word:c,width:Am(c,a).width}}),o=n?0:Am(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},WTe=function(e,r,n,a,i){var s=e.maxLines,o=e.children,c=e.style,u=e.breakAll,f=ut(s),h=o,m=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(ue,he){var J=he.word,ne=he.width,G=ue[ue.length-1];if(G&&(a==null||i||G.width+ne+n<Number(a)))G.words.push(J),G.width+=ne+n;else{var z={words:[J],width:ne};ue.push(z)}return ue},[])},g=m(r),x=function(X){return X.reduce(function(ue,he){return ue.width>he.width?ue:he})};if(!f)return g;for(var v="…",w=function(X){var ue=h.slice(0,X),he=aZ({breakAll:u,style:c,children:ue+v}).wordsWithComputedWidth,J=m(he),ne=J.length>s||x(J).width>Number(a);return[ne,J]},S=0,b=h.length-1,_=0,E;S<=b&&_<=h.length-1;){var A=Math.floor((S+b)/2),j=A-1,O=w(j),D=QM(O,2),M=D[0],k=D[1],I=w(A),R=QM(I,1),L=R[0];if(!M&&!L&&(S=A+1),M&&L&&(b=A-1),!M&&L){E=k;break}_++}return E||g},ZM=function(e){var r=rr(e)?[]:e.toString().split(nZ);return[{words:r}]},GTe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!gd.isSsr){var c,u,f=aZ({breakAll:s,children:a,style:i});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;c=h,u=m}else return ZM(a);return WTe({breakAll:s,children:a,maxLines:o,style:i},c,u,r,n)}return ZM(a)},JM="#808080",rd=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,m=e.textAnchor,g=m===void 0?"start":m,x=e.verticalAnchor,v=x===void 0?"end":x,w=e.fill,S=w===void 0?JM:w,b=XM(e,BTe),_=T.useMemo(function(){return GTe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),E=b.dx,A=b.dy,j=b.angle,O=b.className,D=b.breakAll,M=XM(b,$Te);if(!ma(n)||!ma(i))return null;var k=n+(ut(E)?E:0),I=i+(ut(A)?A:0),R;switch(v){case"start":R=EA("calc(".concat(u,")"));break;case"middle":R=EA("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:R=EA("calc(".concat(_.length-1," * -").concat(o,")"));break}var L=[];if(h){var U=_[0].width,X=b.width;L.push("scale(".concat((ut(X)?X/U:1)/U,")"))}return j&&L.push("rotate(".concat(j,", ").concat(k,", ").concat(I,")")),L.length&&(M.transform=L.join(" ")),oe.createElement("text",WC({},zt(M,!0),{x:k,y:I,className:or("recharts-text",O),textAnchor:g,fill:S.includes("url")?JM:S}),_.map(function(ue,he){var J=ue.words.join(D?"":" ");return oe.createElement("tspan",{x:k,dy:he===0?R:o,key:"".concat(J,"-").concat(he)},J)}))};function wu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KTe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nO(t){let e,r,n;t.length!==2?(e=wu,r=(o,c)=>wu(t(o),c),n=(o,c)=>t(o)-c):(e=t===wu||t===KTe?t:XTe,r=t,n=t);function a(o,c,u=0,f=o.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;r(o[h],c)<0?u=h+1:f=h}while(u<f)}return u}function i(o,c,u=0,f=o.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;r(o[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function s(o,c,u=0,f=o.length){const h=a(o,c,u,f-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:a,center:s,right:i}}function XTe(){return 0}function iZ(t){return t===null?NaN:+t}function*QTe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const YTe=nO(wu),Ev=YTe.right;nO(iZ).center;class eF extends Map{constructor(e,r=eCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(tF(this,e))}has(e){return super.has(tF(this,e))}set(e,r){return super.set(ZTe(this,e),r)}delete(e){return super.delete(JTe(this,e))}}function tF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ZTe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function JTe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function eCe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tCe(t=wu){if(t===wu)return sZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function sZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rCe=Math.sqrt(50),nCe=Math.sqrt(10),aCe=Math.sqrt(2);function Fy(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=rCe?10:i>=nCe?5:i>=aCe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?Fy(t,e,r*2):[o,c,u]}function GC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Fy(e,t,r):Fy(t,e,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function KC(t,e,r){return e=+e,t=+t,r=+r,Fy(t,e,r)[2]}function XC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?KC(e,t,r):KC(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function rF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oZ(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?sZ:tCe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*h/c+m)),x=Math.min(n,Math.floor(e+(c-u)*h/c+m));oZ(t,e,g,x,a)}const i=t[e];let s=r,o=n;for(Gp(t,r,e),a(t[n],i)>0&&Gp(t,r,n);s<o;){for(Gp(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?Gp(t,r,o):(++o,Gp(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Gp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function iCe(t,e,r){if(t=Float64Array.from(QTe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return nF(t);if(e>=1)return rF(t);var n,a=(n-1)*e,i=Math.floor(a),s=rF(oZ(t,i).subarray(0,i+1)),o=nF(t.subarray(i+1));return s+(o-s)*(a-i)}}function sCe(t,e,r=iZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function oCe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function co(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Nc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const QC=Symbol("implicit");function aO(){var t=new eF,e=[],r=[],n=QC;function a(i){let s=t.get(i);if(s===void 0){if(n!==QC)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new eF;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aO(e,r).unknown(n)},co.apply(a,arguments),a}function yg(){var t=aO().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,c=0,u=0,f=.5;delete t.unknown;function h(){var m=e().length,g=a<n,x=g?a:n,v=g?n:a;i=(v-x)/Math.max(1,m-c+u*2),o&&(i=Math.floor(i)),x+=(v-x-i*(m-c))*f,s=i*(1-c),o&&(x=Math.round(x),s=Math.round(s));var w=oCe(m).map(function(S){return x+i*S});return r(g?w.reverse():w)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(m){return arguments.length?(o=!!m,h()):o},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},t.copy=function(){return yg(e(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(f)},co.apply(h(),arguments)}function lZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lZ(e())},t}function Tm(){return lZ(yg.apply(null,arguments).paddingInner(1))}function iO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function cZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Av(){}var wg=.7,Ly=1/wg,Oh="\\s*([+-]?\\d+)\\s*",bg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lCe=/^#([0-9a-f]{3,8})$/,cCe=new RegExp(`^rgb\\(${Oh},${Oh},${Oh}\\)$`),uCe=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),fCe=new RegExp(`^rgba\\(${Oh},${Oh},${Oh},${bg}\\)$`),dCe=new RegExp(`^rgba\\(${pl},${pl},${pl},${bg}\\)$`),hCe=new RegExp(`^hsl\\(${bg},${pl},${pl}\\)$`),pCe=new RegExp(`^hsla\\(${bg},${pl},${pl},${bg}\\)$`),aF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iO(Av,_g,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:iF,formatHex:iF,formatHex8:mCe,formatHsl:gCe,formatRgb:sF,toString:sF});function iF(){return this.rgb().formatHex()}function mCe(){return this.rgb().formatHex8()}function gCe(){return uZ(this).formatHsl()}function sF(){return this.rgb().formatRgb()}function _g(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=lCe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?oF(e):r===3?new es(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?o1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?o1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cCe.exec(t))?new es(e[1],e[2],e[3],1):(e=uCe.exec(t))?new es(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fCe.exec(t))?o1(e[1],e[2],e[3],e[4]):(e=dCe.exec(t))?o1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hCe.exec(t))?uF(e[1],e[2]/100,e[3]/100,1):(e=pCe.exec(t))?uF(e[1],e[2]/100,e[3]/100,e[4]):aF.hasOwnProperty(t)?oF(aF[t]):t==="transparent"?new es(NaN,NaN,NaN,0):null}function oF(t){return new es(t>>16&255,t>>8&255,t&255,1)}function o1(t,e,r,n){return n<=0&&(t=e=r=NaN),new es(t,e,r,n)}function vCe(t){return t instanceof Av||(t=_g(t)),t?(t=t.rgb(),new es(t.r,t.g,t.b,t.opacity)):new es}function YC(t,e,r,n){return arguments.length===1?vCe(t):new es(t,e,r,n??1)}function es(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}iO(es,YC,cZ(Av,{brighter(t){return t=t==null?Ly:Math.pow(Ly,t),new es(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wg:Math.pow(wg,t),new es(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new es(Df(this.r),Df(this.g),Df(this.b),By(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lF,formatHex:lF,formatHex8:xCe,formatRgb:cF,toString:cF}));function lF(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function xCe(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function cF(){const t=By(this.opacity);return`${t===1?"rgb(":"rgba("}${Df(this.r)}, ${Df(this.g)}, ${Df(this.b)}${t===1?")":`, ${t})`}`}function By(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Df(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wf(t){return t=Df(t),(t<16?"0":"")+t.toString(16)}function uF(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ro(t,e,r,n)}function uZ(t){if(t instanceof Ro)return new Ro(t.h,t.s,t.l,t.opacity);if(t instanceof Av||(t=_g(t)),!t)return new Ro;if(t instanceof Ro)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new Ro(s,o,c,t.opacity)}function yCe(t,e,r,n){return arguments.length===1?uZ(t):new Ro(t,e,r,n??1)}function Ro(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}iO(Ro,yCe,cZ(Av,{brighter(t){return t=t==null?Ly:Math.pow(Ly,t),new Ro(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wg:Math.pow(wg,t),new Ro(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new es(AA(t>=240?t-240:t+120,a,n),AA(t,a,n),AA(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ro(fF(this.h),l1(this.s),l1(this.l),By(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=By(this.opacity);return`${t===1?"hsl(":"hsla("}${fF(this.h)}, ${l1(this.s)*100}%, ${l1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fF(t){return t=(t||0)%360,t<0?t+360:t}function l1(t){return Math.max(0,Math.min(1,t||0))}function AA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const sO=t=>()=>t;function wCe(t,e){return function(r){return t+r*e}}function bCe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function _Ce(t){return(t=+t)==1?fZ:function(e,r){return r-e?bCe(e,r,t):sO(isNaN(e)?r:e)}}function fZ(t,e){var r=e-t;return r?wCe(t,r):sO(isNaN(t)?e:t)}const dF=(function t(e){var r=_Ce(e);function n(a,i){var s=r((a=YC(a)).r,(i=YC(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=fZ(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=t,n})(1);function SCe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function NCe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ECe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Z0(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function ACe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function $y(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function TCe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Z0(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ZC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TA=new RegExp(ZC.source,"g");function CCe(t){return function(){return t}}function jCe(t){return function(e){return t(e)+""}}function OCe(t,e){var r=ZC.lastIndex=TA.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=ZC.exec(t))&&(a=TA.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:$y(n,a)})),r=TA.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?jCe(c[0].x):CCe(e):(e=c.length,function(u){for(var f=0,h;f<e;++f)o[(h=c[f]).i]=h.x(u);return o.join("")})}function Z0(t,e){var r=typeof e,n;return e==null||r==="boolean"?sO(e):(r==="number"?$y:r==="string"?(n=_g(e))?(e=n,dF):OCe:e instanceof _g?dF:e instanceof Date?ACe:NCe(e)?SCe:Array.isArray(e)?ECe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TCe:$y)(t,e)}function oO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ICe(t,e){e===void 0&&(e=t,t=Z0);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function PCe(t){return function(){return t}}function Uy(t){return+t}var hF=[0,1];function ki(t){return t}function JC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:PCe(isNaN(e)?NaN:.5)}function kCe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function DCe(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=JC(a,n),i=r(s,i)):(n=JC(n,a),i=r(i,s)),function(o){return i(n(o))}}function RCe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=JC(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var c=Ev(t,o,1,n)-1;return i[c](a[c](o))}}function Tv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ew(){var t=hF,e=hF,r=Z0,n,a,i,s=ki,o,c,u;function f(){var m=Math.min(t.length,e.length);return s!==ki&&(s=kCe(t[0],t[m-1])),o=m>2?RCe:DCe,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=o(t.map(n),e,r)))(n(s(m)))}return h.invert=function(m){return s(a((u||(u=o(e,t.map(n),$y)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,Uy),f()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=oO,f()},h.clamp=function(m){return arguments.length?(s=m?!0:ki,f()):s!==ki},h.interpolate=function(m){return arguments.length?(r=m,f()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,g){return n=m,a=g,f()}}function lO(){return Ew()(ki,ki)}function MCe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function c0(t){return t=Vy(Math.abs(t)),t?t[1]:NaN}function FCe(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function LCe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var BCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sg(t){if(!(e=BCe.exec(t)))throw new Error("invalid format: "+t);var e;return new cO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sg.prototype=cO.prototype;function cO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $Ce(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var dZ;function UCe(t,e){var r=Vy(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(dZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vy(t,Math.max(0,e+i-1))[0]}function pF(t,e){var r=Vy(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MCe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pF(t*100,e),r:pF,s:UCe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gF(t){return t}var vF=Array.prototype.map,xF=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function VCe(t){var e=t.grouping===void 0||t.thousands===void 0?gF:FCe(vF.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?gF:LCe(vF.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Sg(h);var m=h.fill,g=h.align,x=h.sign,v=h.symbol,w=h.zero,S=h.width,b=h.comma,_=h.precision,E=h.trim,A=h.type;A==="n"?(b=!0,A="g"):mF[A]||(_===void 0&&(_=12),E=!0,A="g"),(w||m==="0"&&g==="=")&&(w=!0,m="0",g="=");var j=v==="$"?r:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O=v==="$"?n:/[%p]/.test(A)?s:"",D=mF[A],M=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(I){var R=j,L=O,U,X,ue;if(A==="c")L=D(I)+L,I="";else{I=+I;var he=I<0||1/I<0;if(I=isNaN(I)?c:D(Math.abs(I),_),E&&(I=$Ce(I)),he&&+I==0&&x!=="+"&&(he=!1),R=(he?x==="("?x:o:x==="-"||x==="("?"":x)+R,L=(A==="s"?xF[8+dZ/3]:"")+L+(he&&x==="("?")":""),M){for(U=-1,X=I.length;++U<X;)if(ue=I.charCodeAt(U),48>ue||ue>57){L=(ue===46?a+I.slice(U+1):I.slice(U))+L,I=I.slice(0,U);break}}}b&&!w&&(I=e(I,1/0));var J=R.length+I.length+L.length,ne=J<S?new Array(S-J+1).join(m):"";switch(b&&w&&(I=e(ne+I,ne.length?S-L.length:1/0),ne=""),g){case"<":I=R+I+L+ne;break;case"=":I=R+ne+I+L;break;case"^":I=ne.slice(0,J=ne.length>>1)+R+I+L+ne.slice(J);break;default:I=ne+R+I+L;break}return i(I)}return k.toString=function(){return h+""},k}function f(h,m){var g=u((h=Sg(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(c0(m)/3)))*3,v=Math.pow(10,-x),w=xF[8+x/3];return function(S){return g(v*S)+w}}return{format:u,formatPrefix:f}}var c1,uO,hZ;HCe({thousands:",",grouping:[3],currency:["$",""]});function HCe(t){return c1=VCe(t),uO=c1.format,hZ=c1.formatPrefix,c1}function zCe(t){return Math.max(0,-c0(Math.abs(t)))}function qCe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(c0(e)/3)))*3-c0(Math.abs(t)))}function WCe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,c0(e)-c0(t))+1}function pZ(t,e,r,n){var a=XC(t,e,r),i;switch(n=Sg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=qCe(a,s))&&(n.precision=i),hZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=WCe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=zCe(a))&&(n.precision=i-(n.type==="%")*2);break}}return uO(n)}function Lu(t){var e=t.domain;return t.ticks=function(r){var n=e();return GC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return pZ(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,f=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);f-- >0;){if(u=KC(s,o,r),u===c)return n[a]=s,n[i]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function Hy(){var t=lO();return t.copy=function(){return Tv(t,Hy())},co.apply(t,arguments),Lu(t)}function mZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Uy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return mZ(t).unknown(e)},t=arguments.length?Array.from(t,Uy):[0,1],Lu(r)}function gZ(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function yF(t){return Math.log(t)}function wF(t){return Math.exp(t)}function GCe(t){return-Math.log(-t)}function KCe(t){return-Math.exp(-t)}function XCe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function QCe(t){return t===10?XCe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function YCe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bF(t){return(e,r)=>-t(-e,r)}function fO(t){const e=t(yF,wF),r=e.domain;let n=10,a,i;function s(){return a=YCe(n),i=QCe(n),r()[0]<0?(a=bF(a),i=bF(i),t(GCe,KCe)):t(yF,wF),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let m=a(u),g=a(f),x,v;const w=o==null?10:+o;let S=[];if(!(n%1)&&g-m<w){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<n;++x)if(v=m<0?x/i(-m):x*i(m),!(v<u)){if(v>f)break;S.push(v)}}else for(;m<=g;++m)for(x=n-1;x>=1;--x)if(v=m>0?x/i(-m):x*i(m),!(v<u)){if(v>f)break;S.push(v)}S.length*2<w&&(S=GC(u,f,w))}else S=GC(m,g,Math.min(g-m,w)).map(i);return h?S.reverse():S},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sg(c)).precision==null&&(c.trim=!0),c=uO(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*n<n-.5&&(h*=n),h<=u?c(f):""}},e.nice=()=>r(gZ(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function vZ(){const t=fO(Ew()).domain([1,10]);return t.copy=()=>Tv(t,vZ()).base(t.base()),co.apply(t,arguments),t}function _F(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dO(t){var e=1,r=t(_F(e),SF(e));return r.constant=function(n){return arguments.length?t(_F(e=+n),SF(e)):e},Lu(r)}function xZ(){var t=dO(Ew());return t.copy=function(){return Tv(t,xZ()).constant(t.constant())},co.apply(t,arguments)}function NF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ZCe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JCe(t){return t<0?-t*t:t*t}function hO(t){var e=t(ki,ki),r=1;function n(){return r===1?t(ki,ki):r===.5?t(ZCe,JCe):t(NF(r),NF(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Lu(e)}function pO(){var t=hO(Ew());return t.copy=function(){return Tv(t,pO()).exponent(t.exponent())},co.apply(t,arguments),t}function e4e(){return pO.apply(null,arguments).exponent(.5)}function EF(t){return Math.sign(t)*t*t}function t4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yZ(){var t=lO(),e=[0,1],r=!1,n;function a(i){var s=t4e(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(EF(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Uy)).map(EF)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yZ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},co.apply(a,arguments),Lu(a)}function wZ(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=sCe(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[Ev(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(wu),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return wZ().domain(t).range(e).unknown(n)},co.apply(i,arguments)}function bZ(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Ev(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return bZ().domain([t,e]).range(a).unknown(i)},co.apply(Lu(s),arguments)}function _Z(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Ev(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _Z().domain(t).range(e).unknown(r)},co.apply(a,arguments)}const CA=new Date,jA=new Date;function va(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<s);return c},a.filter=i=>va(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(CA.setTime(+i),jA.setTime(+s),t(CA),t(jA),Math.floor(r(CA,jA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const zy=va(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?va(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):zy);zy.range;const Ql=1e3,ro=Ql*60,Yl=ro*60,mc=Yl*24,mO=mc*7,AF=mc*30,OA=mc*365,bf=va(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ql)},(t,e)=>(e-t)/Ql,t=>t.getUTCSeconds());bf.range;const gO=va(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ql)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getMinutes());gO.range;const vO=va(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCMinutes());vO.range;const xO=va(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ql-t.getMinutes()*ro)},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getHours());xO.range;const yO=va(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getUTCHours());yO.range;const Cv=va(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ro)/mc,t=>t.getDate()-1);Cv.range;const Aw=va(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/mc,t=>t.getUTCDate()-1);Aw.range;const SZ=va(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/mc,t=>Math.floor(t/mc));SZ.range;function vd(t){return va(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ro)/mO)}const Tw=vd(0),qy=vd(1),r4e=vd(2),n4e=vd(3),u0=vd(4),a4e=vd(5),i4e=vd(6);Tw.range;qy.range;r4e.range;n4e.range;u0.range;a4e.range;i4e.range;function xd(t){return va(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/mO)}const Cw=xd(0),Wy=xd(1),s4e=xd(2),o4e=xd(3),f0=xd(4),l4e=xd(5),c4e=xd(6);Cw.range;Wy.range;s4e.range;o4e.range;f0.range;l4e.range;c4e.range;const wO=va(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wO.range;const bO=va(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bO.range;const gc=va(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:va(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});gc.range;const vc=va(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());vc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:va(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});vc.range;function NZ(t,e,r,n,a,i){const s=[[bf,1,Ql],[bf,5,5*Ql],[bf,15,15*Ql],[bf,30,30*Ql],[i,1,ro],[i,5,5*ro],[i,15,15*ro],[i,30,30*ro],[a,1,Yl],[a,3,3*Yl],[a,6,6*Yl],[a,12,12*Yl],[n,1,mc],[n,2,2*mc],[r,1,mO],[e,1,AF],[e,3,3*AF],[t,1,OA]];function o(u,f,h){const m=f<u;m&&([u,f]=[f,u]);const g=h&&typeof h.range=="function"?h:c(u,f,h),x=g?g.range(u,+f+1):[];return m?x.reverse():x}function c(u,f,h){const m=Math.abs(f-u)/h,g=nO(([,,w])=>w).right(s,m);if(g===s.length)return t.every(XC(u/OA,f/OA,h));if(g===0)return zy.every(Math.max(XC(u,f,h),1));const[x,v]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return x.every(v)}return[o,c]}const[u4e,f4e]=NZ(vc,bO,Cw,SZ,yO,vO),[d4e,h4e]=NZ(gc,wO,Tw,Cv,xO,gO);function IA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function PA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function p4e(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=Xp(a),f=Qp(a),h=Xp(i),m=Qp(i),g=Xp(s),x=Qp(s),v=Xp(o),w=Qp(o),S=Xp(c),b=Qp(c),_={a:he,A:J,b:ne,B:G,c:null,d:PF,e:PF,f:F4e,g:G4e,G:X4e,H:D4e,I:R4e,j:M4e,L:EZ,m:L4e,M:B4e,p:z,q:F,Q:RF,s:MF,S:$4e,u:U4e,U:V4e,V:H4e,w:z4e,W:q4e,x:null,X:null,y:W4e,Y:K4e,Z:Q4e,"%":DF},E={a:ee,A:K,b:ae,B:q,c:null,d:kF,e:kF,f:eje,g:uje,G:dje,H:Y4e,I:Z4e,j:J4e,L:TZ,m:tje,M:rje,p:pe,q:W,Q:RF,s:MF,S:nje,u:aje,U:ije,V:sje,w:oje,W:lje,x:null,X:null,y:cje,Y:fje,Z:hje,"%":DF},A={a:k,A:I,b:R,B:L,c:U,d:OF,e:OF,f:O4e,g:jF,G:CF,H:IF,I:IF,j:A4e,L:j4e,m:E4e,M:T4e,p:M,q:N4e,Q:P4e,s:k4e,S:C4e,u:y4e,U:w4e,V:b4e,w:x4e,W:_4e,x:X,X:ue,y:jF,Y:CF,Z:S4e,"%":I4e};_.x=j(r,_),_.X=j(n,_),_.c=j(e,_),E.x=j(r,E),E.X=j(n,E),E.c=j(e,E);function j(V,fe){return function(Se){var ve=[],gt=-1,Y=0,Oe=V.length,Re,Me,st;for(Se instanceof Date||(Se=new Date(+Se));++gt<Oe;)V.charCodeAt(gt)===37&&(ve.push(V.slice(Y,gt)),(Me=TF[Re=V.charAt(++gt)])!=null?Re=V.charAt(++gt):Me=Re==="e"?" ":"0",(st=fe[Re])&&(Re=st(Se,Me)),ve.push(Re),Y=gt+1);return ve.push(V.slice(Y,gt)),ve.join("")}}function O(V,fe){return function(Se){var ve=Kp(1900,void 0,1),gt=D(ve,V,Se+="",0),Y,Oe;if(gt!=Se.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(fe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Y=PA(Kp(ve.y,0,1)),Oe=Y.getUTCDay(),Y=Oe>4||Oe===0?Wy.ceil(Y):Wy(Y),Y=Aw.offset(Y,(ve.V-1)*7),ve.y=Y.getUTCFullYear(),ve.m=Y.getUTCMonth(),ve.d=Y.getUTCDate()+(ve.w+6)%7):(Y=IA(Kp(ve.y,0,1)),Oe=Y.getDay(),Y=Oe>4||Oe===0?qy.ceil(Y):qy(Y),Y=Cv.offset(Y,(ve.V-1)*7),ve.y=Y.getFullYear(),ve.m=Y.getMonth(),ve.d=Y.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Oe="Z"in ve?PA(Kp(ve.y,0,1)).getUTCDay():IA(Kp(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Oe+5)%7:ve.w+ve.U*7-(Oe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,PA(ve)):IA(ve)}}function D(V,fe,Se,ve){for(var gt=0,Y=fe.length,Oe=Se.length,Re,Me;gt<Y;){if(ve>=Oe)return-1;if(Re=fe.charCodeAt(gt++),Re===37){if(Re=fe.charAt(gt++),Me=A[Re in TF?fe.charAt(gt++):Re],!Me||(ve=Me(V,Se,ve))<0)return-1}else if(Re!=Se.charCodeAt(ve++))return-1}return ve}function M(V,fe,Se){var ve=u.exec(fe.slice(Se));return ve?(V.p=f.get(ve[0].toLowerCase()),Se+ve[0].length):-1}function k(V,fe,Se){var ve=g.exec(fe.slice(Se));return ve?(V.w=x.get(ve[0].toLowerCase()),Se+ve[0].length):-1}function I(V,fe,Se){var ve=h.exec(fe.slice(Se));return ve?(V.w=m.get(ve[0].toLowerCase()),Se+ve[0].length):-1}function R(V,fe,Se){var ve=S.exec(fe.slice(Se));return ve?(V.m=b.get(ve[0].toLowerCase()),Se+ve[0].length):-1}function L(V,fe,Se){var ve=v.exec(fe.slice(Se));return ve?(V.m=w.get(ve[0].toLowerCase()),Se+ve[0].length):-1}function U(V,fe,Se){return D(V,e,fe,Se)}function X(V,fe,Se){return D(V,r,fe,Se)}function ue(V,fe,Se){return D(V,n,fe,Se)}function he(V){return s[V.getDay()]}function J(V){return i[V.getDay()]}function ne(V){return c[V.getMonth()]}function G(V){return o[V.getMonth()]}function z(V){return a[+(V.getHours()>=12)]}function F(V){return 1+~~(V.getMonth()/3)}function ee(V){return s[V.getUTCDay()]}function K(V){return i[V.getUTCDay()]}function ae(V){return c[V.getUTCMonth()]}function q(V){return o[V.getUTCMonth()]}function pe(V){return a[+(V.getUTCHours()>=12)]}function W(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var fe=j(V+="",_);return fe.toString=function(){return V},fe},parse:function(V){var fe=O(V+="",!1);return fe.toString=function(){return V},fe},utcFormat:function(V){var fe=j(V+="",E);return fe.toString=function(){return V},fe},utcParse:function(V){var fe=O(V+="",!0);return fe.toString=function(){return V},fe}}}var TF={"-":"",_:" ",0:"0"},La=/^\s*\d+/,m4e=/^%/,g4e=/[\\^$*+?|[\]().{}]/g;function kr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function v4e(t){return t.replace(g4e,"\\$&")}function Xp(t){return new RegExp("^(?:"+t.map(v4e).join("|")+")","i")}function Qp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function x4e(t,e,r){var n=La.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function y4e(t,e,r){var n=La.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function w4e(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function b4e(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function _4e(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function CF(t,e,r){var n=La.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function jF(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function S4e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function N4e(t,e,r){var n=La.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function E4e(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function OF(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function A4e(t,e,r){var n=La.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function IF(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function T4e(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function C4e(t,e,r){var n=La.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function j4e(t,e,r){var n=La.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function O4e(t,e,r){var n=La.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function I4e(t,e,r){var n=m4e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function P4e(t,e,r){var n=La.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function k4e(t,e,r){var n=La.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function PF(t,e){return kr(t.getDate(),e,2)}function D4e(t,e){return kr(t.getHours(),e,2)}function R4e(t,e){return kr(t.getHours()%12||12,e,2)}function M4e(t,e){return kr(1+Cv.count(gc(t),t),e,3)}function EZ(t,e){return kr(t.getMilliseconds(),e,3)}function F4e(t,e){return EZ(t,e)+"000"}function L4e(t,e){return kr(t.getMonth()+1,e,2)}function B4e(t,e){return kr(t.getMinutes(),e,2)}function $4e(t,e){return kr(t.getSeconds(),e,2)}function U4e(t){var e=t.getDay();return e===0?7:e}function V4e(t,e){return kr(Tw.count(gc(t)-1,t),e,2)}function AZ(t){var e=t.getDay();return e>=4||e===0?u0(t):u0.ceil(t)}function H4e(t,e){return t=AZ(t),kr(u0.count(gc(t),t)+(gc(t).getDay()===4),e,2)}function z4e(t){return t.getDay()}function q4e(t,e){return kr(qy.count(gc(t)-1,t),e,2)}function W4e(t,e){return kr(t.getFullYear()%100,e,2)}function G4e(t,e){return t=AZ(t),kr(t.getFullYear()%100,e,2)}function K4e(t,e){return kr(t.getFullYear()%1e4,e,4)}function X4e(t,e){var r=t.getDay();return t=r>=4||r===0?u0(t):u0.ceil(t),kr(t.getFullYear()%1e4,e,4)}function Q4e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kr(e/60|0,"0",2)+kr(e%60,"0",2)}function kF(t,e){return kr(t.getUTCDate(),e,2)}function Y4e(t,e){return kr(t.getUTCHours(),e,2)}function Z4e(t,e){return kr(t.getUTCHours()%12||12,e,2)}function J4e(t,e){return kr(1+Aw.count(vc(t),t),e,3)}function TZ(t,e){return kr(t.getUTCMilliseconds(),e,3)}function eje(t,e){return TZ(t,e)+"000"}function tje(t,e){return kr(t.getUTCMonth()+1,e,2)}function rje(t,e){return kr(t.getUTCMinutes(),e,2)}function nje(t,e){return kr(t.getUTCSeconds(),e,2)}function aje(t){var e=t.getUTCDay();return e===0?7:e}function ije(t,e){return kr(Cw.count(vc(t)-1,t),e,2)}function CZ(t){var e=t.getUTCDay();return e>=4||e===0?f0(t):f0.ceil(t)}function sje(t,e){return t=CZ(t),kr(f0.count(vc(t),t)+(vc(t).getUTCDay()===4),e,2)}function oje(t){return t.getUTCDay()}function lje(t,e){return kr(Wy.count(vc(t)-1,t),e,2)}function cje(t,e){return kr(t.getUTCFullYear()%100,e,2)}function uje(t,e){return t=CZ(t),kr(t.getUTCFullYear()%100,e,2)}function fje(t,e){return kr(t.getUTCFullYear()%1e4,e,4)}function dje(t,e){var r=t.getUTCDay();return t=r>=4||r===0?f0(t):f0.ceil(t),kr(t.getUTCFullYear()%1e4,e,4)}function hje(){return"+0000"}function DF(){return"%"}function RF(t){return+t}function MF(t){return Math.floor(+t/1e3)}var th,jZ,OZ;pje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pje(t){return th=p4e(t),jZ=th.format,th.parse,OZ=th.utcFormat,th.utcParse,th}function mje(t){return new Date(t)}function gje(t){return t instanceof Date?+t:+new Date(+t)}function _O(t,e,r,n,a,i,s,o,c,u){var f=lO(),h=f.invert,m=f.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),w=u("%I %p"),S=u("%a %d"),b=u("%b %d"),_=u("%B"),E=u("%Y");function A(j){return(c(j)<j?g:o(j)<j?x:s(j)<j?v:i(j)<j?w:n(j)<j?a(j)<j?S:b:r(j)<j?_:E)(j)}return f.invert=function(j){return new Date(h(j))},f.domain=function(j){return arguments.length?m(Array.from(j,gje)):m().map(mje)},f.ticks=function(j){var O=m();return t(O[0],O[O.length-1],j??10)},f.tickFormat=function(j,O){return O==null?A:u(O)},f.nice=function(j){var O=m();return(!j||typeof j.range!="function")&&(j=e(O[0],O[O.length-1],j??10)),j?m(gZ(O,j)):f},f.copy=function(){return Tv(f,_O(t,e,r,n,a,i,s,o,c,u))},f}function vje(){return co.apply(_O(d4e,h4e,gc,wO,Tw,Cv,xO,gO,bf,jZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xje(){return co.apply(_O(u4e,f4e,vc,bO,Cw,Aw,yO,vO,bf,OZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jw(){var t=0,e=1,r,n,a,i,s=ki,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(a===0?.5:(h=(i(h)-r)*a,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function f(h){return function(m){var g,x;return arguments.length?([g,x]=m,s=h(g,x),u):[s(0),s(1)]}}return u.range=f(Z0),u.rangeRound=f(oO),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),u}}function Bu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IZ(){var t=Lu(jw()(ki));return t.copy=function(){return Bu(t,IZ())},Nc.apply(t,arguments)}function PZ(){var t=fO(jw()).domain([1,10]);return t.copy=function(){return Bu(t,PZ()).base(t.base())},Nc.apply(t,arguments)}function kZ(){var t=dO(jw());return t.copy=function(){return Bu(t,kZ()).constant(t.constant())},Nc.apply(t,arguments)}function SO(){var t=hO(jw());return t.copy=function(){return Bu(t,SO()).exponent(t.exponent())},Nc.apply(t,arguments)}function yje(){return SO.apply(null,arguments).exponent(.5)}function DZ(){var t=[],e=ki;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ev(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(wu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>iCe(t,i/n))},r.copy=function(){return DZ(e).domain(t)},Nc.apply(r,arguments)}function Ow(){var t=0,e=.5,r=1,n=1,a,i,s,o,c,u=ki,f,h=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+f(v))-i)*(n*v<n*i?o:c),u(h?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,r]=v,a=f(t=+t),i=f(e=+e),s=f(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,g):[t,e,r]},g.clamp=function(v){return arguments.length?(h=!!v,g):h},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(w){var S,b,_;return arguments.length?([S,b,_]=w,u=ICe(v,[S,b,_]),g):[u(0),u(.5),u(1)]}}return g.range=x(Z0),g.rangeRound=x(oO),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return f=v,a=v(t),i=v(e),s=v(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,g}}function RZ(){var t=Lu(Ow()(ki));return t.copy=function(){return Bu(t,RZ())},Nc.apply(t,arguments)}function MZ(){var t=fO(Ow()).domain([.1,1,10]);return t.copy=function(){return Bu(t,MZ()).base(t.base())},Nc.apply(t,arguments)}function FZ(){var t=dO(Ow());return t.copy=function(){return Bu(t,FZ()).constant(t.constant())},Nc.apply(t,arguments)}function NO(){var t=hO(Ow());return t.copy=function(){return Bu(t,NO()).exponent(t.exponent())},Nc.apply(t,arguments)}function wje(){return NO.apply(null,arguments).exponent(.5)}const FF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yg,scaleDiverging:RZ,scaleDivergingLog:MZ,scaleDivergingPow:NO,scaleDivergingSqrt:wje,scaleDivergingSymlog:FZ,scaleIdentity:mZ,scaleImplicit:QC,scaleLinear:Hy,scaleLog:vZ,scaleOrdinal:aO,scalePoint:Tm,scalePow:pO,scaleQuantile:wZ,scaleQuantize:bZ,scaleRadial:yZ,scaleSequential:IZ,scaleSequentialLog:PZ,scaleSequentialPow:SO,scaleSequentialQuantile:DZ,scaleSequentialSqrt:yje,scaleSequentialSymlog:kZ,scaleSqrt:e4e,scaleSymlog:xZ,scaleThreshold:_Z,scaleTime:vje,scaleUtc:xje,tickFormat:pZ},Symbol.toStringTag,{value:"Module"}));var kA,LF;function Iw(){if(LF)return kA;LF=1;var t=K0();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var o=r[i],c=n(o);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,f=o}return f}return kA=e,kA}var DA,BF;function LZ(){if(BF)return DA;BF=1;function t(e,r){return e>r}return DA=t,DA}var RA,$F;function bje(){if($F)return RA;$F=1;var t=Iw(),e=LZ(),r=Y0();function n(a){return a&&a.length?t(a,r,e):void 0}return RA=n,RA}var _je=bje();const Pw=Vr(_je);var MA,UF;function BZ(){if(UF)return MA;UF=1;function t(e,r){return e<r}return MA=t,MA}var FA,VF;function Sje(){if(VF)return FA;VF=1;var t=Iw(),e=BZ(),r=Y0();function n(a){return a&&a.length?t(a,r,e):void 0}return FA=n,FA}var Nje=Sje();const kw=Vr(Nje);var LA,HF;function Eje(){if(HF)return LA;HF=1;var t=$3(),e=Cl(),r=GY(),n=is();function a(i,s){var o=n(i)?t:r;return o(i,e(s,3))}return LA=a,LA}var BA,zF;function Aje(){if(zF)return BA;zF=1;var t=qY(),e=Eje();function r(n,a){return t(e(n,a),1)}return BA=r,BA}var Tje=Aje();const Cje=Vr(Tje);var $A,qF;function jje(){if(qF)return $A;qF=1;var t=J3();function e(r,n){return t(r,n)}return $A=e,$A}var Oje=jje();const jv=Vr(Oje);var J0=1e9,Ije={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AO,Sn=!0,io="[DecimalError] ",Rf=io+"Invalid argument: ",EO=io+"Exponent out of range: ",ep=Math.floor,cf=Math.pow,Pje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ts,Ea=1e7,vn=7,$Z=9007199254740991,Gy=ep($Z/vn),Nt={};Nt.absoluteValue=Nt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Nt.comparedTo=Nt.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Nt.decimalPlaces=Nt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*vn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Nt.dividedBy=Nt.div=function(t){return ac(this,new this.constructor(t))};Nt.dividedToIntegerBy=Nt.idiv=function(t){var e=this,r=e.constructor;return rn(ac(e,new r(t),0,1),r.precision)};Nt.equals=Nt.eq=function(t){return!this.cmp(t)};Nt.exponent=function(){return Yn(this)};Nt.greaterThan=Nt.gt=function(t){return this.cmp(t)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(t){return this.cmp(t)>=0};Nt.isInteger=Nt.isint=function(){return this.e>this.d.length-2};Nt.isNegative=Nt.isneg=function(){return this.s<0};Nt.isPositive=Nt.ispos=function(){return this.s>0};Nt.isZero=function(){return this.s===0};Nt.lessThan=Nt.lt=function(t){return this.cmp(t)<0};Nt.lessThanOrEqualTo=Nt.lte=function(t){return this.cmp(t)<1};Nt.logarithm=Nt.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ts))throw Error(io+"NaN");if(r.s<1)throw Error(io+(r.s?"NaN":"-Infinity"));return r.eq(Ts)?new n(0):(Sn=!1,e=ac(Ng(r,i),Ng(t,i),i),Sn=!0,rn(e,a))};Nt.minus=Nt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HZ(e,t):UZ(e,(t.s=-t.s,t))};Nt.modulo=Nt.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(io+"NaN");return r.s?(Sn=!1,e=ac(r,t,0,1).times(t),Sn=!0,r.minus(e)):rn(new n(r),a)};Nt.naturalExponential=Nt.exp=function(){return VZ(this)};Nt.naturalLogarithm=Nt.ln=function(){return Ng(this)};Nt.negated=Nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Nt.plus=Nt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UZ(e,t):HZ(e,(t.s=-t.s,t))};Nt.precision=Nt.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rf+t);if(e=Yn(a)+1,n=a.d.length-1,r=n*vn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Nt.squareRoot=Nt.sqrt=function(){var t,e,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(io+"NaN")}for(t=Yn(o),Sn=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=cl(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ep((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ac(o,i,s+2)).times(.5),cl(i.d).slice(0,s)===(e=cl(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(rn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return Sn=!0,rn(n,r)};Nt.times=Nt.mul=function(t){var e,r,n,a,i,s,o,c,u,f=this,h=f.constructor,m=f.d,g=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,c=m.length,u=g.length,c<u&&(i=m,m=g,g=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)o=i[a]+g[n]*m[a-n-1]+e,i[a--]=o%Ea|0,e=o/Ea|0;i[a]=(i[a]+e)%Ea|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Sn?rn(t,h.precision):t};Nt.toDecimalPlaces=Nt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(_l(t,0,J0),e===void 0?e=n.rounding:_l(e,0,8),rn(r,t+Yn(r)+1,e))};Nt.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=nd(n,!0):(_l(t,0,J0),e===void 0?e=a.rounding:_l(e,0,8),n=rn(new a(n),t+1,e),r=nd(n,!0,t+1)),r};Nt.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?nd(a):(_l(t,0,J0),e===void 0?e=i.rounding:_l(e,0,8),n=rn(new i(a),t+Yn(a)+1,e),r=nd(n.abs(),!1,t+Yn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Nt.toInteger=Nt.toint=function(){var t=this,e=t.constructor;return rn(new e(t),Yn(t)+1,e.rounding)};Nt.toNumber=function(){return+this};Nt.toPower=Nt.pow=function(t){var e,r,n,a,i,s,o=this,c=o.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(Ts);if(o=new c(o),!o.s){if(t.s<1)throw Error(io+"Infinity");return o}if(o.eq(Ts))return o;if(n=c.precision,t.eq(Ts))return rn(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=f<0?-f:f)<=$Z){for(a=new c(Ts),e=Math.ceil(n/vn+4),Sn=!1;r%2&&(a=a.times(o),GF(a.d,e)),r=ep(r/2),r!==0;)o=o.times(o),GF(o.d,e);return Sn=!0,t.s<0?new c(Ts).div(a):rn(a,n)}}else if(i<0)throw Error(io+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Sn=!1,a=t.times(Ng(o,n+u)),Sn=!0,a=VZ(a),a.s=i,a};Nt.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Yn(a),n=nd(a,r<=i.toExpNeg||r>=i.toExpPos)):(_l(t,1,J0),e===void 0?e=i.rounding:_l(e,0,8),a=rn(new i(a),t,e),r=Yn(a),n=nd(a,t<=r||r<=i.toExpNeg,t)),n};Nt.toSignificantDigits=Nt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(_l(t,1,J0),e===void 0?e=n.rounding:_l(e,0,8)),rn(new n(r),t,e)};Nt.toString=Nt.valueOf=Nt.val=Nt.toJSON=Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yn(t),r=t.constructor;return nd(t,e<=r.toExpNeg||e>=r.toExpPos)};function UZ(t,e){var r,n,a,i,s,o,c,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Sn?rn(e,h):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(h/vn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ea|0,c[i]%=Ea;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=a,Sn?rn(e,h):e}function _l(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rf+t)}function cl(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=vn-n.length,r&&(i+=tu(r)),i+=n;s=t[e],n=s+"",r=vn-n.length,r&&(i+=tu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ac=(function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ea|0,s=i/Ea|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ea+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,f,h,m,g,x,v,w,S,b,_,E,A,j,O,D,M=n.constructor,k=n.s==a.s?1:-1,I=n.d,R=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(io+"Division by zero");for(c=n.e-a.e,O=R.length,A=I.length,g=new M(k),x=g.d=[],u=0;R[u]==(I[u]||0);)++u;if(R[u]>(I[u]||0)&&--c,i==null?b=i=M.precision:s?b=i+(Yn(n)-Yn(a))+1:b=i,b<0)return new M(0);if(b=b/vn+2|0,u=0,O==1)for(f=0,R=R[0],b++;(u<A||f)&&b--;u++)_=f*Ea+(I[u]||0),x[u]=_/R|0,f=_%R|0;else{for(f=Ea/(R[0]+1)|0,f>1&&(R=t(R,f),I=t(I,f),O=R.length,A=I.length),E=O,v=I.slice(0,O),w=v.length;w<O;)v[w++]=0;D=R.slice(),D.unshift(0),j=R[0],R[1]>=Ea/2&&++j;do f=0,o=e(R,v,O,w),o<0?(S=v[0],O!=w&&(S=S*Ea+(v[1]||0)),f=S/j|0,f>1?(f>=Ea&&(f=Ea-1),h=t(R,f),m=h.length,w=v.length,o=e(h,v,m,w),o==1&&(f--,r(h,O<m?D:R,m))):(f==0&&(o=f=1),h=R.slice()),m=h.length,m<w&&h.unshift(0),r(v,h,w),o==-1&&(w=v.length,o=e(R,v,O,w),o<1&&(f++,r(v,O<w?D:R,w))),w=v.length):o===0&&(f++,v=[0]),x[u++]=f,o&&v[0]?v[w++]=I[E]||0:(v=[I[E]],w=1);while((E++<A||v[0]!==void 0)&&b--)}return x[0]||x.shift(),g.e=c,rn(g,s?i+Yn(g)+1:i)}})();function VZ(t,e){var r,n,a,i,s,o,c=0,u=0,f=t.constructor,h=f.precision;if(Yn(t)>16)throw Error(EO+Yn(t));if(!t.s)return new f(Ts);for(Sn=!1,o=h,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(cf(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new f(Ts),f.precision=o;;){if(a=rn(a.times(t),o),r=r.times(++c),s=i.plus(ac(a,r,o)),cl(s.d).slice(0,o)===cl(i.d).slice(0,o)){for(;u--;)i=rn(i.times(i),o);return f.precision=h,e==null?(Sn=!0,rn(i,h)):i}i=s}}function Yn(t){for(var e=t.e*vn,r=t.d[0];r>=10;r/=10)e++;return e}function UA(t,e,r){if(e>t.LN10.sd())throw Sn=!0,r&&(t.precision=r),Error(io+"LN10 precision limit exceeded");return rn(new t(t.LN10),e)}function tu(t){for(var e="";t--;)e+="0";return e}function Ng(t,e){var r,n,a,i,s,o,c,u,f,h=1,m=10,g=t,x=g.d,v=g.constructor,w=v.precision;if(g.s<1)throw Error(io+(g.s?"NaN":"-Infinity"));if(g.eq(Ts))return new v(0);if(e==null?(Sn=!1,u=w):u=e,g.eq(10))return e==null&&(Sn=!0),UA(v,u);if(u+=m,v.precision=u,r=cl(x),n=r.charAt(0),i=Yn(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=cl(g.d),n=r.charAt(0),h++;i=Yn(g),n>1?(g=new v("0."+r),i++):g=new v(n+"."+r.slice(1))}else return c=UA(v,u+2,w).times(i+""),g=Ng(new v(n+"."+r.slice(1)),u-m).plus(c),v.precision=w,e==null?(Sn=!0,rn(g,w)):g;for(o=s=g=ac(g.minus(Ts),g.plus(Ts),u),f=rn(g.times(g),u),a=3;;){if(s=rn(s.times(f),u),c=o.plus(ac(s,new v(a),u)),cl(c.d).slice(0,u)===cl(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(UA(v,u+2,w).times(i+""))),o=ac(o,new v(h),u),v.precision=w,e==null?(Sn=!0,rn(o,w)):o;o=c,a+=2}}function WF(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=ep(r/vn),t.d=[],n=(r+1)%vn,r<0&&(n+=vn),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=vn;n<a;)t.d.push(+e.slice(n,n+=vn));e=e.slice(n),n=vn-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Sn&&(t.e>Gy||t.e<-Gy))throw Error(EO+r)}else t.s=0,t.e=0,t.d=[0];return t}function rn(t,e,r){var n,a,i,s,o,c,u,f,h=t.d;for(s=1,i=h[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=vn,a=e,u=h[f=0];else{if(f=Math.ceil((n+1)/vn),i=h.length,f>=i)return t;for(u=i=h[f],s=1;i>=10;i/=10)s++;n%=vn,a=n-vn+s}if(r!==void 0&&(i=cf(10,s-a-1),o=u/i%10|0,c=e<0||h[f+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/cf(10,s-a):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=Yn(t),h.length=1,e=e-i-1,h[0]=cf(10,(vn-e%vn)%vn),t.e=ep(-e/vn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,i=1,f--):(h.length=f+1,i=cf(10,vn-n),h[f]=a>0?(u/cf(10,s-a)%cf(10,a)|0)*i:0),c)for(;;)if(f==0){(h[0]+=i)==Ea&&(h[0]=1,++t.e);break}else{if(h[f]+=i,h[f]!=Ea)break;h[f--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Sn&&(t.e>Gy||t.e<-Gy))throw Error(EO+Yn(t));return t}function HZ(t,e){var r,n,a,i,s,o,c,u,f,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Sn?rn(e,g):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,o=h.length):(r=h,n=u,o=c.length),a=Math.max(Math.ceil(g/vn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=h.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(c[a]!=h[a]){f=c[a]<h[a];break}s=0}for(f&&(r=c,c=h,h=r,e.s=-e.s),o=c.length,a=h.length-o;a>0;--a)c[o++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Ea-1;--c[i],c[a]+=Ea}c[a]-=h[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Sn?rn(e,g):e):new m(0)}function nd(t,e,r){var n,a=Yn(t),i=cl(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+tu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+tu(-a-1)+i,r&&(n=r-s)>0&&(i+=tu(n))):a>=s?(i+=tu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+tu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=tu(n))),t.s<0?"-"+i:i}function GF(t,e){if(t.length>e)return t.length=e,!0}function zZ(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Rf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return WF(s,i.toString())}else if(typeof i!="string")throw Error(Rf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Pje.test(i))WF(s,i);else throw Error(Rf+i)}if(a.prototype=Nt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zZ,a.config=a.set=kje,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function kje(t){if(!t||typeof t!="object")throw Error(io+"Object expected");var e,r,n,a=["precision",1,J0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(ep(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Rf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rf+r+": "+n);return this}var AO=zZ(Ije);Ts=new AO(1);const tn=AO;function Dje(t){return Lje(t)||Fje(t)||Mje(t)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mje(t,e){if(t){if(typeof t=="string")return e4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e4(t,e)}}function Fje(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lje(t){if(Array.isArray(t))return e4(t)}function e4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bje=function(e){return e},qZ={},WZ=function(e){return e===qZ},KF=function(e){return function r(){return arguments.length===0||arguments.length===1&&WZ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},$je=function t(e,r){return e===1?r:KF(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==qZ}).length;return s>=e?r.apply(void 0,a):t(e-s,KF(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=a.map(function(h){return WZ(h)?c.shift():h});return r.apply(void 0,Dje(f).concat(c))}))})},Dw=function(e){return $je(e.length,e)},t4=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Uje=Dw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Vje=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Bje;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},r4=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},GZ=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function Hje(t){var e;return t===0?e=1:e=Math.floor(new tn(t).abs().log(10).toNumber())+1,e}function zje(t,e,r){for(var n=new tn(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var qje=Dw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Wje=Dw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Gje=Dw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Rw={rangeStep:zje,getDigitCount:Hje,interpolateNumber:qje,uninterpolateNumber:Wje,uninterpolateTruncation:Gje};function n4(t){return Qje(t)||Xje(t)||KZ(t)||Kje()}function Kje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xje(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qje(t){if(Array.isArray(t))return a4(t)}function Eg(t,e){return Jje(t)||Zje(t,e)||KZ(t,e)||Yje()}function Yje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KZ(t,e){if(t){if(typeof t=="string")return a4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a4(t,e)}}function a4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zje(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Jje(t){if(Array.isArray(t))return t}function XZ(t){var e=Eg(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function QZ(t,e,r){if(t.lte(0))return new tn(0);var n=Rw.getDigitCount(t.toNumber()),a=new tn(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new tn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return e?c:new tn(Math.ceil(c))}function e3e(t,e,r){var n=1,a=new tn(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new tn(10).pow(Rw.getDigitCount(t)-1),a=new tn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new tn(Math.floor(t)))}else t===0?a=new tn(Math.floor((e-1)/2)):r||(a=new tn(Math.floor(t)));var s=Math.floor((e-1)/2),o=Vje(Uje(function(c){return a.add(new tn(c-s).mul(n)).toNumber()}),t4);return o(0,e)}function YZ(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var i=QZ(new tn(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new tn(0):(s=new tn(t).add(e).div(2),s=s.sub(new tn(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new tn(e).sub(s).div(i).toNumber()),u=o+c+1;return u>r?YZ(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,o=e>0?o:o+(r-u)),{step:i,tickMin:s.sub(new tn(o).mul(i)),tickMax:s.add(new tn(c).mul(i))})}function t3e(t){var e=Eg(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=XZ([r,n]),c=Eg(o,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(n4(t4(0,a-1).map(function(){return 1/0}))):[].concat(n4(t4(0,a-1).map(function(){return-1/0})),[f]);return r>n?r4(h):h}if(u===f)return e3e(u,a,i);var m=YZ(u,f,s,i),g=m.step,x=m.tickMin,v=m.tickMax,w=Rw.rangeStep(x,v.add(new tn(.1).mul(g)),g);return r>n?r4(w):w}function r3e(t,e){var r=Eg(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=XZ([n,a]),o=Eg(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(e,2),h=QZ(new tn(u).sub(c).div(f-1),i,0),m=[].concat(n4(Rw.rangeStep(new tn(c),new tn(u).sub(new tn(.99).mul(h)),h)),[u]);return n>a?r4(m):m}var n3e=GZ(t3e),a3e=GZ(r3e),i3e="Invariant failed";function ad(t,e){throw new Error(i3e)}var s3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ky.apply(this,arguments)}function o3e(t,e){return f3e(t)||u3e(t,e)||c3e(t,e)||l3e()}function l3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3e(t,e){if(t){if(typeof t=="string")return XF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XF(t,e)}}function XF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function f3e(t){if(Array.isArray(t))return t}function d3e(t,e){if(t==null)return{};var r=h3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eJ(n.key),n)}}function g3e(t,e,r){return e&&m3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v3e(t,e,r){return e=Xy(e),x3e(t,ZZ()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function x3e(t,e){if(e&&(d0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y3e(t)}function y3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZZ=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function w3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i4(t,e)}function i4(t,e){return i4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i4(t,e)}function JZ(t,e,r){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJ(t){var e=b3e(t,"string");return d0(e)=="symbol"?e:e+""}function b3e(t,e){if(d0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(d0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ov=(function(t){function e(){return p3e(this,e),v3e(this,e,arguments)}return w3e(e,t),g3e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,m=d3e(n,s3e),g=zt(m,!1);this.props.direction==="x"&&f.type!=="number"&&ad();var x=c.map(function(v){var w=u(v,o),S=w.x,b=w.y,_=w.value,E=w.errorVal;if(!E)return null;var A=[],j,O;if(Array.isArray(E)){var D=o3e(E,2);j=D[0],O=D[1]}else j=O=E;if(i==="vertical"){var M=f.scale,k=b+a,I=k+s,R=k-s,L=M(_-j),U=M(_+O);A.push({x1:U,y1:I,x2:U,y2:R}),A.push({x1:L,y1:k,x2:U,y2:k}),A.push({x1:L,y1:I,x2:L,y2:R})}else if(i==="horizontal"){var X=h.scale,ue=S+a,he=ue-s,J=ue+s,ne=X(_-j),G=X(_+O);A.push({x1:he,y1:G,x2:J,y2:G}),A.push({x1:ue,y1:ne,x2:ue,y2:G}),A.push({x1:he,y1:ne,x2:J,y2:ne})}return oe.createElement(Pr,Ky({className:"recharts-errorBar",key:"bar-".concat(A.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},g),A.map(function(z){return oe.createElement("line",Ky({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return oe.createElement(Pr,{className:"recharts-errorBars"},x)}}])})(oe.Component);JZ(Ov,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JZ(Ov,"displayName","ErrorBar");function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){_3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _3e(t,e,r){return e=S3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3e(t){var e=N3e(t,"string");return Ag(e)=="symbol"?e:e+""}function N3e(t,e){if(Ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=ys(r,jh);if(!s)return null;var o=jh.defaultProps,c=o!==void 0?tf(tf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(f,h){var m=h.item,g=h.props,x=g.sectors||g.data||[];return f.concat(x.map(function(v){return{type:s.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(f){var h=f.item,m=h.type.defaultProps,g=m!==void 0?tf(tf({},m),h.props):{},x=g.dataKey,v=g.name,w=g.legendType,S=g.hide;return{inactive:S,dataKey:x,type:c.iconType||w||"square",color:TO(h),value:v||x,payload:g}}),tf(tf(tf({},c),jh.getWithHeight(s,a)),{},{payload:u,item:s})};function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function YF(t){return C3e(t)||T3e(t)||A3e(t)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A3e(t,e){if(t){if(typeof t=="string")return s4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(t,e)}}function T3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C3e(t){if(Array.isArray(t))return s4(t)}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){Ih(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ih(t,e,r){return e=j3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3e(t){var e=O3e(t,"string");return Tg(e)=="symbol"?e:e+""}function O3e(t,e){if(Tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ua(t,e,r){return rr(t)||rr(e)?r:ma(e)?Os(t,e,r):Zt(e)?e(t):r}function Cm(t,e,r,n){var a=Cje(t,function(o){return ua(o,e)});if(r==="number"){var i=a.filter(function(o){return ut(o)||parseFloat(o)});return i.length?[kw(i),Pw(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!rr(o)}):a;return s.map(function(o){return ma(o)||o instanceof Date?o:""})}var I3e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var f=u>0?a[u-1].coordinate:a[o-1].coordinate,h=a[u].coordinate,m=u>=o-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(Ii(h-f)!==Ii(m-h)){var x=[];if(Ii(m-h)===Ii(c[1]-c[0])){g=m;var v=h+c[1]-c[0];x[0]=Math.min(v,(v+f)/2),x[1]=Math.max(v,(v+f)/2)}else{g=f;var w=m+c[1]-c[0];x[0]=Math.min(h,(w+h)/2),x[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=x[0]&&e<=x[1]){s=a[u].index;break}}else{var b=Math.min(f,m),_=Math.max(f,m);if(e>(b+h)/2&&e<=(_+h)/2){s=a[u].index;break}}}else for(var E=0;E<o;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<o-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===o-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){s=n[E].index;break}return s},TO=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?kn(kn({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},P3e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var f=i[o[c]].stackGroups,h=Object.keys(f),m=0,g=h.length;m<g;m++){var x=f[h[m]],v=x.items,w=x.cateAxisId,S=v.filter(function(O){return nc(O.type).indexOf("Bar")>=0});if(S&&S.length){var b=S[0].type.defaultProps,_=b!==void 0?kn(kn({},b),S[0].props):S[0].props,E=_.barSize,A=_[w];s[A]||(s[A]=[]);var j=rr(E)?r:E;s[A].push({item:S[0],stackList:S.slice(1),barSize:rr(j)?void 0:Pi(j,n,0)})}}return s},k3e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,c=s.length;if(c<1)return null;var u=Pi(r,a,0,!0),f,h=[];if(s[0].barSize===+s[0].barSize){var m=!1,g=a/c,x=s.reduce(function(E,A){return E+A.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&g>0&&(m=!0,g*=.9,x=c*g);var v=(a-x)/2>>0,w={offset:v-u,size:0};f=s.reduce(function(E,A){var j={item:A.item,position:{offset:w.offset+w.size+u,size:m?g:A.barSize}},O=[].concat(YF(E),[j]);return w=O[O.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(D){O.push({item:D,position:w})}),O},h)}else{var S=Pi(n,a,0,!0);a-2*S-(c-1)*u<=0&&(u=0);var b=(a-2*S-(c-1)*u)/c;b>1&&(b>>=0);var _=o===+o?Math.min(b,o):b;f=s.reduce(function(E,A,j){var O=[].concat(YF(E),[{item:A.item,position:{offset:S+(b+u)*j+(b-_)/2,size:_}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},h)}return f},D3e=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=tJ({children:i,legendWidth:c});if(u){var f=a||{},h=f.width,m=f.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&ut(e[g]))return kn(kn({},e),{},Ih({},g,e[g]+(h||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&ut(e[x]))return kn(kn({},e),{},Ih({},x,e[x]+(m||0)))}return e},R3e=function(e,r,n){return rr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},rJ=function(e,r,n,a,i){var s=r.props.children,o=Is(s,Ov).filter(function(u){return R3e(a,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=ua(f,n);if(rr(h))return u;var m=Array.isArray(h)?[kw(h),Pw(h)]:[h,h],g=c.reduce(function(x,v){var w=ua(f,v,0),S=m[0]-Math.abs(Array.isArray(w)?w[0]:w),b=m[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(S,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},M3e=function(e,r,n,a,i){var s=r.map(function(o){return rJ(e,o,n,i,a)}).filter(function(o){return!rr(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},nJ=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&rJ(e,c,u,a)||Cm(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)o[u[f]]||(o[u[f]]=!0,c.push(u[f]));return c},[])},aJ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},iJ=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,o=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||o.push(r),s||o.push(n),o},Zl=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ii(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+u,value:h,offset:u}});return f.filter(function(h){return!Sv(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:a(h)+u,value:h,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,m){return{coordinate:a(h)+u,value:i?i[h]:h,index:m,offset:u}})},VA=new WeakMap,u1=function(e,r){if(typeof r!="function")return e;VA.has(e)||VA.set(e,new WeakMap);var n=VA.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},sJ=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:yg(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Hy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tm(),realScaleType:"point"}:i==="category"?{scale:yg(),realScaleType:"band"}:{scale:Hy(),realScaleType:"linear"};if(_v(a)){var c="scale".concat(xw(a));return{scale:(FF[c]||Tm)(),realScaleType:FF[c]?c:"point"}}return Zt(a)?{scale:a}:{scale:Tm(),realScaleType:"point"}},JF=1e-4,oJ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-JF,s=Math.max(a[0],a[1])+JF,o=e(r[0]),c=e(r[n-1]);(o<i||o>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},F3e=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},L3e=function(e,r){if(!r||r.length!==2||!ut(r[0])||!ut(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!ut(e[0])||e[0]<n)&&(i[0]=n),(!ut(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},B3e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=Sv(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},$3e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Sv(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},U3e={sign:B3e,expand:CNe,none:a0,silhouette:jNe,wiggle:ONe,positive:$3e},V3e=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=U3e[n],s=TNe().keys(a).value(function(o,c){return+ua(o,c,0)}).order(MC).offset(i);return s(e)},H3e=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(h,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?kn(kn({},m.type.defaultProps),m.props):m.props,v=x.stackId,w=x.hide;if(w)return h;var S=x[n],b=h[S]||{hasStack:!1,stackGroups:{}};if(ma(v)){var _=b.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(m),b.hasStack=!0,b.stackGroups[v]=_}else b.stackGroups[Q0("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return kn(kn({},h),{},Ih({},S,b))},c),f={};return Object.keys(u).reduce(function(h,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,w){var S=g.stackGroups[w];return kn(kn({},v),{},Ih({},w,{numericAxisId:n,cateAxisId:a,items:S.items,stackedData:V3e(e,S.items,i)}))},x)}return kn(kn({},h),{},Ih({},m,g))},f)},lJ=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=n3e(u,i,o);return e.domain([kw(f),Pw(f)]),{niceTicks:f}}if(i&&a==="number"){var h=e.domain(),m=a3e(h,i,o);return{niceTicks:m}}return null};function e7(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rr(a[e.dataKey])){var o=Ey(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ua(a,rr(s)?e.dataKey:s);return rr(c)?null:e.scale(c)}var t7=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=ua(s,r.dataKey,r.domain[o]);return rr(c)?null:r.scale(c)-i/2+a},z3e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},q3e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kn(kn({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(ma(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},W3e=function(e){return e.reduce(function(r,n){return[kw(n.concat([r[0]]).filter(ut)),Pw(n.concat([r[1]]).filter(ut))]},[1/0,-1/0])},cJ=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,c=o.reduce(function(u,f){var h=W3e(f.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},r7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o4=function(e,r,n){if(Zt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ut(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(r7.test(e[0])){var i=+r7.exec(e[0])[1];a[0]=r[0]-i}else Zt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ut(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(n7.test(e[1])){var s=+n7.exec(e[1])[1];a[1]=r[1]+s}else Zt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Qy=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=tO(r,function(h){return h.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},a7=function(e,r,n){return!e||!e.length||jv(e,Os(n,"type.defaultProps.domain"))?r:e},uJ=function(e,r){var n=e.type.defaultProps?kn(kn({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return kn(kn({},zt(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:TO(e),value:ua(r,a),type:c,payload:r,chartType:u,hide:f})};function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function i7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i7(Object(r),!0).forEach(function(n){fJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fJ(t,e,r){return e=G3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G3e(t){var e=K3e(t,"string");return Cg(e)=="symbol"?e:e+""}function K3e(t,e){if(Cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X3e(t,e){return J3e(t)||Z3e(t,e)||Y3e(t,e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(t,e){if(t){if(typeof t=="string")return s7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s7(t,e)}}function s7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function J3e(t){if(Array.isArray(t))return t}var Yy=Math.PI/180,eOe=function(e){return e*180/Math.PI},fn=function(e,r,n,a){return{x:e+Math.cos(-Yy*a)*n,y:r+Math.sin(-Yy*a)*n}},dJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tOe=function(e,r,n,a,i){var s=e.width,o=e.height,c=e.startAngle,u=e.endAngle,f=Pi(e.cx,s,s/2),h=Pi(e.cy,o,o/2),m=dJ(s,o,n),g=Pi(e.innerRadius,m,0),x=Pi(e.outerRadius,m,m*.8),v=Object.keys(r);return v.reduce(function(w,S){var b=r[S],_=b.domain,E=b.reversed,A;if(rr(b.range))a==="angleAxis"?A=[c,u]:a==="radiusAxis"&&(A=[g,x]),E&&(A=[A[1],A[0]]);else{A=b.range;var j=A,O=X3e(j,2);c=O[0],u=O[1]}var D=sJ(b,i),M=D.realScaleType,k=D.scale;k.domain(_).range(A),oJ(k);var I=lJ(k,Wl(Wl({},b),{},{realScaleType:M})),R=Wl(Wl(Wl({},b),I),{},{range:A,radius:x,realScaleType:M,scale:k,cx:f,cy:h,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Wl(Wl({},w),{},fJ({},S,R))},{})},rOe=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},nOe=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=rOe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:o,angle:eOe(u),angleInRadian:u}},aOe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},iOe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},o7=function(e,r){var n=e.x,a=e.y,i=nOe({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=aOe(r),h=f.startAngle,m=f.endAngle,g=o,x;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=h}return x?Wl(Wl({},r),{},{radius:s,angle:iOe(g,r)}):null},hJ=function(e){return!T.isValidElement(e)&&!Zt(e)&&typeof e!="boolean"?e.className:""};function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var sOe=["offset"];function oOe(t){return fOe(t)||uOe(t)||cOe(t)||lOe()}function lOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cOe(t,e){if(t){if(typeof t=="string")return l4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l4(t,e)}}function uOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fOe(t){if(Array.isArray(t))return l4(t)}function l4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dOe(t,e){if(t==null)return{};var r=hOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(r),!0).forEach(function(n){pOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pOe(t,e,r){return e=mOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mOe(t){var e=gOe(t,"string");return jg(e)=="symbol"?e:e+""}function gOe(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Og.apply(this,arguments)}var vOe=function(e){var r=e.value,n=e.formatter,a=rr(e.children)?r:e.children;return Zt(n)?n(a):a},xOe=function(e,r){var n=Ii(r-e),a=Math.min(Math.abs(r-e),360);return n*a},yOe=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,c=i,u=c.cx,f=c.cy,h=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,w=(h+m)/2,S=xOe(g,x),b=S>=0?1:-1,_,E;a==="insideStart"?(_=g+b*s,E=v):a==="insideEnd"?(_=x-b*s,E=!v):a==="end"&&(_=x+b*s,E=v),E=S<=0?E:!E;var A=fn(u,f,w,_),j=fn(u,f,w,_+(E?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(j.x,",").concat(j.y),D=rr(e.id)?Q0("recharts-radial-line-"):e.id;return oe.createElement("text",Og({},n,{dominantBaseline:"central",className:or("recharts-radial-bar-label",o)}),oe.createElement("defs",null,oe.createElement("path",{id:D,d:O})),oe.createElement("textPath",{xlinkHref:"#".concat(D)},r))},wOe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,h=i.endAngle,m=(f+h)/2;if(a==="outside"){var g=fn(s,o,u+n,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,S=fn(s,o,w,m),b=S.x,_=S.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},bOe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,c=s.y,u=s.width,f=s.height,h=f>=0?1:-1,m=h*a,g=h>0?"end":"start",x=h>0?"start":"end",v=u>=0?1:-1,w=v*a,S=v>0?"end":"start",b=v>0?"start":"end";if(i==="top"){var _={x:o+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:g};return ta(ta({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var E={x:o+u/2,y:c+f+m,textAnchor:"middle",verticalAnchor:x};return ta(ta({},E),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var A={x:o-w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return ta(ta({},A),n?{width:Math.max(A.x-n.x,0),height:f}:{})}if(i==="right"){var j={x:o+u+w,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return ta(ta({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:f}:{})}var O=n?{width:u,height:f}:{};return i==="insideLeft"?ta({x:o+w,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},O):i==="insideRight"?ta({x:o+u-w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideTop"?ta({x:o+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},O):i==="insideBottom"?ta({x:o+u/2,y:c+f-m,textAnchor:"middle",verticalAnchor:g},O):i==="insideTopLeft"?ta({x:o+w,y:c+m,textAnchor:b,verticalAnchor:x},O):i==="insideTopRight"?ta({x:o+u-w,y:c+m,textAnchor:S,verticalAnchor:x},O):i==="insideBottomLeft"?ta({x:o+w,y:c+f-m,textAnchor:b,verticalAnchor:g},O):i==="insideBottomRight"?ta({x:o+u-w,y:c+f-m,textAnchor:S,verticalAnchor:g},O):X0(i)&&(ut(i.x)||yf(i.x))&&(ut(i.y)||yf(i.y))?ta({x:o+Pi(i.x,u),y:c+Pi(i.y,f),textAnchor:"end",verticalAnchor:"end"},O):ta({x:o+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},_Oe=function(e){return"cx"in e&&ut(e.cx)};function Aa(t){var e=t.offset,r=e===void 0?5:e,n=dOe(t,sOe),a=ta({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,f=a.className,h=f===void 0?"":f,m=a.textBreakAll;if(!i||rr(o)&&rr(c)&&!T.isValidElement(u)&&!Zt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,a);var g;if(Zt(u)){if(g=T.createElement(u,a),T.isValidElement(g))return g}else g=vOe(a);var x=_Oe(i),v=zt(a,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return yOe(a,g,v);var w=x?wOe(a):bOe(a);return oe.createElement(rd,Og({className:or("recharts-label",h)},v,w,{breakAll:m}),g)}Aa.displayName="Label";var pJ=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,m=e.y,g=e.top,x=e.left,v=e.width,w=e.height,S=e.clockWise,b=e.labelViewBox;if(b)return b;if(ut(v)&&ut(w)){if(ut(h)&&ut(m))return{x:h,y:m,width:v,height:w};if(ut(g)&&ut(x))return{x:g,y:x,width:v,height:w}}return ut(h)&&ut(m)?{x:h,y:m,width:0,height:0}:ut(r)&&ut(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:f||c||o||0,clockWise:S}:e.viewBox?e.viewBox:{}},SOe=function(e,r){return e?e===!0?oe.createElement(Aa,{key:"label-implicit",viewBox:r}):ma(e)?oe.createElement(Aa,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Aa?T.cloneElement(e,{key:"label-implicit",viewBox:r}):oe.createElement(Aa,{key:"label-implicit",content:e,viewBox:r}):Zt(e)?oe.createElement(Aa,{key:"label-implicit",content:e,viewBox:r}):X0(e)?oe.createElement(Aa,Og({viewBox:r},e,{key:"label-implicit"})):null:null},NOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=pJ(e),s=Is(a,Aa).map(function(c,u){return T.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=SOe(e.label,r||i);return[o].concat(oOe(s))};Aa.parseViewBox=pJ;Aa.renderCallByParent=NOe;var HA,c7;function EOe(){if(c7)return HA;c7=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return HA=t,HA}var AOe=EOe();const TOe=Vr(AOe);function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}var COe=["valueAccessor"],jOe=["data","dataKey","clockWise","id","textBreakAll"];function OOe(t){return DOe(t)||kOe(t)||POe(t)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function POe(t,e){if(t){if(typeof t=="string")return c4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(t,e)}}function kOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DOe(t){if(Array.isArray(t))return c4(t)}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function u7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function f7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u7(Object(r),!0).forEach(function(n){ROe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ROe(t,e,r){return e=MOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MOe(t){var e=FOe(t,"string");return Ig(e)=="symbol"?e:e+""}function FOe(t,e){if(Ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d7(t,e){if(t==null)return{};var r=LOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var BOe=function(e){return Array.isArray(e.value)?TOe(e.value):e.value};function ic(t){var e=t.valueAccessor,r=e===void 0?BOe:e,n=d7(t,COe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=d7(n,jOe);return!a||!a.length?null:oe.createElement(Pr,{className:"recharts-label-list"},a.map(function(f,h){var m=rr(i)?r(f,h):ua(f&&f.payload,i),g=rr(o)?{}:{id:"".concat(o,"-").concat(h)};return oe.createElement(Aa,Zy({},zt(f,!0),u,g,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:Aa.parseViewBox(rr(s)?f:f7(f7({},f),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}ic.displayName="LabelList";function $Oe(t,e){return t?t===!0?oe.createElement(ic,{key:"labelList-implicit",data:e}):oe.isValidElement(t)||Zt(t)?oe.createElement(ic,{key:"labelList-implicit",data:e,content:t}):X0(t)?oe.createElement(ic,Zy({data:e},t,{key:"labelList-implicit"})):null:null}function UOe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Is(n,ic).map(function(s,o){return T.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=$Oe(t.label,e);return[i].concat(OOe(a))}ic.renderCallByParent=UOe;function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function u4(){return u4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u4.apply(this,arguments)}function h7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(r),!0).forEach(function(n){VOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VOe(t,e,r){return e=HOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HOe(t){var e=zOe(t,"string");return Pg(e)=="symbol"?e:e+""}function zOe(t,e){if(Pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qOe=function(e,r){var n=Ii(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},f1=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(o?1:-1)+a,h=Math.asin(c/f)/Yy,m=u?i:i+s*h,g=fn(r,n,f,m),x=fn(r,n,a,m),v=u?i-s*h:i,w=fn(r,n,f*Math.cos(h*Yy),v);return{center:g,circleTangency:x,lineTangency:w,theta:h}},mJ=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,c=qOe(s,o),u=s+c,f=fn(r,n,i,s),h=fn(r,n,i,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=fn(r,n,a,s),x=fn(r,n,a,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},WOe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=Ii(f-u),m=f1({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:s,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,w=f1({cx:r,cy:n,radius:i,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:c}),S=w.circleTangency,b=w.lineTangency,_=w.theta,E=c?Math.abs(u-f):Math.abs(u-f)-v-_;if(E<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):mJ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var A="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=f1({cx:r,cy:n,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=j.circleTangency,D=j.lineTangency,M=j.theta,k=f1({cx:r,cy:n,radius:a,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=k.circleTangency,R=k.lineTangency,L=k.theta,U=c?Math.abs(u-f):Math.abs(u-f)-M-L;if(U<0&&s===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},GOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gJ=function(e){var r=p7(p7({},GOe),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,m=r.className;if(s<i||f===h)return null;var g=or("recharts-sector",m),x=s-i,v=Pi(o,x,0,!0),w;return v>0&&Math.abs(f-h)<360?w=WOe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):w=mJ({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:h}),oe.createElement("path",u4({},zt(r,!0),{className:g,d:w,role:"img"}))};function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function f4(){return f4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f4.apply(this,arguments)}function m7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function g7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(r),!0).forEach(function(n){KOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KOe(t,e,r){return e=XOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XOe(t){var e=QOe(t,"string");return kg(e)=="symbol"?e:e+""}function QOe(t,e){if(kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v7={curveBasisClosed:gNe,curveBasisOpen:vNe,curveBasis:mNe,curveBumpX:tNe,curveBumpY:rNe,curveLinearClosed:xNe,curveLinear:ww,curveMonotoneX:yNe,curveMonotoneY:wNe,curveNatural:bNe,curveStep:_Ne,curveStepAfter:NNe,curveStepBefore:SNe},d1=function(e){return e.x===+e.x&&e.y===+e.y},Yp=function(e){return e.x},Zp=function(e){return e.y},YOe=function(e,r){if(Zt(e))return e;var n="curve".concat(xw(e));return(n==="curveMonotone"||n==="curveBump")&&r?v7["".concat(n).concat(r==="vertical"?"Y":"X")]:v7[n]||ww},ZOe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=YOe(n,o),h=u?i.filter(function(v){return d1(v)}):i,m;if(Array.isArray(s)){var g=u?s.filter(function(v){return d1(v)}):s,x=h.map(function(v,w){return g7(g7({},v),{},{base:g[w]})});return o==="vertical"?m=n1().y(Zp).x1(Yp).x0(function(v){return v.base.x}):m=n1().x(Yp).y1(Zp).y0(function(v){return v.base.y}),m.defined(d1).curve(f),m(x)}return o==="vertical"&&ut(s)?m=n1().y(Zp).x1(Yp).x0(s):ut(s)?m=n1().x(Yp).y1(Zp).y0(s):m=pY().x(Yp).y(Zp),m.defined(d1).curve(f),m(h)},Jy=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?ZOe(e):a;return oe.createElement("path",f4({},zt(e,!1),Ay(e),{className:or("recharts-curve",r),d:s,ref:i}))},zA={exports:{}},qA,x7;function JOe(){if(x7)return qA;x7=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qA=t,qA}var WA,y7;function eIe(){if(y7)return WA;y7=1;var t=JOe();function e(){}function r(){}return r.resetWarningCache=e,WA=function(){function n(s,o,c,u,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},WA}var w7;function tIe(){return w7||(w7=1,zA.exports=eIe()()),zA.exports}var rIe=tIe();const Br=Vr(rIe);var nIe=Object.getOwnPropertyNames,aIe=Object.getOwnPropertySymbols,iIe=Object.prototype.hasOwnProperty;function b7(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function h1(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function _7(t){return nIe(t).concat(aIe(t))}var sIe=Object.hasOwn||(function(t,e){return iIe.call(t,e)});function yd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var oIe="__v",lIe="__o",cIe="_owner",S7=Object.getOwnPropertyDescriptor,N7=Object.keys;function uIe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function fIe(t,e){return yd(t.getTime(),e.getTime())}function dIe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function hIe(t,e){return t===e}function E7(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,o,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),f=!1,h=0;(o=u.next())&&!o.done;){if(a[h]){h++;continue}var m=s.value,g=o.value;if(r.equals(m[0],g[0],c,h,t,e,r)&&r.equals(m[1],g[1],m[0],g[0],t,e,r)){f=a[h]=!0;break}h++}if(!f)return!1;c++}return!0}var pIe=yd;function mIe(t,e,r){var n=N7(t),a=n.length;if(N7(e).length!==a)return!1;for(;a-- >0;)if(!vJ(t,e,r,n[a]))return!1;return!0}function Jp(t,e,r){var n=_7(t),a=n.length;if(_7(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!vJ(t,e,r,i)||(s=S7(t,i),o=S7(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function gIe(t,e){return yd(t.valueOf(),e.valueOf())}function vIe(t,e){return t.source===e.source&&t.flags===e.flags}function A7(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,o;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,f=0;(o=c.next())&&!o.done;){if(!a[f]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function xIe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function yIe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function vJ(t,e,r,n){return(n===cIe||n===lIe||n===oIe)&&(t.$$typeof||e.$$typeof)?!0:sIe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var wIe="[object Arguments]",bIe="[object Boolean]",_Ie="[object Date]",SIe="[object Error]",NIe="[object Map]",EIe="[object Number]",AIe="[object Object]",TIe="[object RegExp]",CIe="[object Set]",jIe="[object String]",OIe="[object URL]",IIe=Array.isArray,T7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,C7=Object.assign,PIe=Object.prototype.toString.call.bind(Object.prototype.toString);function kIe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(x,v,w){if(x===v)return!0;if(x==null||v==null)return!1;var S=typeof x;if(S!==typeof v)return!1;if(S!=="object")return S==="number"?s(x,v,w):S==="function"?a(x,v,w):!1;var b=x.constructor;if(b!==v.constructor)return!1;if(b===Object)return o(x,v,w);if(IIe(x))return e(x,v,w);if(T7!=null&&T7(x))return h(x,v,w);if(b===Date)return r(x,v,w);if(b===RegExp)return u(x,v,w);if(b===Map)return i(x,v,w);if(b===Set)return f(x,v,w);var _=PIe(x);return _===_Ie?r(x,v,w):_===TIe?u(x,v,w):_===NIe?i(x,v,w):_===CIe?f(x,v,w):_===AIe?typeof x.then!="function"&&typeof v.then!="function"&&o(x,v,w):_===OIe?m(x,v,w):_===SIe?n(x,v,w):_===wIe?o(x,v,w):_===bIe||_===EIe||_===jIe?c(x,v,w):!1}}function DIe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Jp:uIe,areDatesEqual:fIe,areErrorsEqual:dIe,areFunctionsEqual:hIe,areMapsEqual:n?b7(E7,Jp):E7,areNumbersEqual:pIe,areObjectsEqual:n?Jp:mIe,arePrimitiveWrappersEqual:gIe,areRegExpsEqual:vIe,areSetsEqual:n?b7(A7,Jp):A7,areTypedArraysEqual:n?Jp:xIe,areUrlsEqual:yIe};if(r&&(a=C7({},a,r(a))),e){var i=h1(a.areArraysEqual),s=h1(a.areMapsEqual),o=h1(a.areObjectsEqual),c=h1(a.areSetsEqual);a=C7({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return a}function RIe(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function MIe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var f=n(),h=f.cache,m=h===void 0?e?new WeakMap:void 0:h,g=f.meta;return r(c,u,{cache:m,equals:a,meta:g,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var FIe=$u();$u({strict:!0});$u({circular:!0});$u({circular:!0,strict:!0});$u({createInternalComparator:function(){return yd}});$u({strict:!0,createInternalComparator:function(){return yd}});$u({circular:!0,createInternalComparator:function(){return yd}});$u({circular:!0,createInternalComparator:function(){return yd},strict:!0});function $u(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=DIe(t),c=kIe(o),u=n?n(c):RIe(c);return MIe({circular:r,comparator:c,createState:a,equals:u,strict:s})}function LIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function j7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):LIe(a)};requestAnimationFrame(n)}function d4(t){"@babel/helpers - typeof";return d4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d4(t)}function BIe(t){return HIe(t)||VIe(t)||UIe(t)||$Ie()}function $Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UIe(t,e){if(t){if(typeof t=="string")return O7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O7(t,e)}}function O7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HIe(t){if(Array.isArray(t))return t}function zIe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=BIe(s),c=o[0],u=o.slice(1);if(typeof c=="number"){j7(a.bind(null,u),c);return}a(c),j7(a.bind(null,u));return}d4(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function I7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(r),!0).forEach(function(n){xJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xJ(t,e,r){return e=qIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qIe(t){var e=WIe(t,"string");return Dg(e)==="symbol"?e:String(e)}function WIe(t,e){if(Dg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GIe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},KIe=function(e){return e},XIe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jm=function(e,r){return Object.keys(r).reduce(function(n,a){return P7(P7({},n),{},xJ({},a,e(a,r[a])))},{})},k7=function(e,r,n){return e.map(function(a){return"".concat(XIe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function QIe(t,e){return JIe(t)||ZIe(t,e)||yJ(t,e)||YIe()}function YIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function JIe(t){if(Array.isArray(t))return t}function ePe(t){return nPe(t)||rPe(t)||yJ(t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return h4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(t,e)}}function rPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nPe(t){if(Array.isArray(t))return h4(t)}function h4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var e2=1e-4,wJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},bJ=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},D7=function(e,r){return function(n){var a=wJ(e,r);return bJ(a,n)}},aPe=function(e,r){return function(n){var a=wJ(e,r),i=[].concat(ePe(a.map(function(s,o){return s*o}).slice(1)),[0]);return bJ(i,n)}},R7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=QIe(u,4);a=f[0],i=f[1],s=f[2],o=f[3]}}}var h=D7(a,s),m=D7(i,o),g=aPe(a,s),x=function(S){return S>1?1:S<0?0:S},v=function(S){for(var b=S>1?1:S,_=b,E=0;E<8;++E){var A=h(_)-b,j=g(_);if(Math.abs(A-b)<e2||j<e2)return m(_);_=x(_-A/j)}return m(_)};return v.isStepper=!1,v},iPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,c=function(f,h,m){var g=-(f-h)*n,x=m*i,v=m+(g-x)*o/1e3,w=m*o/1e3+f;return Math.abs(w-h)<e2&&Math.abs(v)<e2?[h,0]:[w,v]};return c.isStepper=!0,c.dt=o,c},sPe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R7(a);case"spring":return iPe();default:if(a.split("(")[0]==="cubic-bezier")return R7(a)}return typeof a=="function"?a:null};function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function M7(t){return cPe(t)||lPe(t)||_J(t)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cPe(t){if(Array.isArray(t))return m4(t)}function F7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F7(Object(r),!0).forEach(function(n){p4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p4(t,e,r){return e=uPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uPe(t){var e=fPe(t,"string");return Rg(e)==="symbol"?e:String(e)}function fPe(t,e){if(Rg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dPe(t,e){return mPe(t)||pPe(t,e)||_J(t,e)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return m4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m4(t,e)}}function m4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function mPe(t){if(Array.isArray(t))return t}var t2=function(e,r,n){return e+(r-e)*n},g4=function(e){var r=e.from,n=e.to;return r!==n},gPe=function t(e,r,n){var a=jm(function(i,s){if(g4(s)){var o=e(s.from,s.to,s.velocity),c=dPe(o,2),u=c[0],f=c[1];return qa(qa({},s),{},{from:u,velocity:f})}return s},r);return n<1?jm(function(i,s){return g4(s)?qa(qa({},s),{},{velocity:t2(s.velocity,a[i].velocity,n),from:t2(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const vPe=(function(t,e,r,n,a){var i=GIe(t,e),s=i.reduce(function(w,S){return qa(qa({},w),{},p4({},S,[t[S],e[S]]))},{}),o=i.reduce(function(w,S){return qa(qa({},w),{},p4({},S,{from:t[S],velocity:0,to:e[S]}))},{}),c=-1,u,f,h=function(){return null},m=function(){return jm(function(S,b){return b.from},o)},g=function(){return!Object.values(o).filter(g4).length},x=function(S){u||(u=S);var b=S-u,_=b/r.dt;o=gPe(r,o,_),a(qa(qa(qa({},t),e),m())),u=S,g()||(c=requestAnimationFrame(h))},v=function(S){f||(f=S);var b=(S-f)/n,_=jm(function(A,j){return t2.apply(void 0,M7(j).concat([r(b)]))},s);if(a(qa(qa(qa({},t),e),_)),b<1)c=requestAnimationFrame(h);else{var E=jm(function(A,j){return t2.apply(void 0,M7(j).concat([r(1)]))},s);a(qa(qa(qa({},t),e),E))}};return h=r.isStepper?x:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}var xPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yPe(t,e){if(t==null)return{};var r=wPe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wPe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function GA(t){return NPe(t)||SPe(t)||_Pe(t)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return v4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v4(t,e)}}function SPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NPe(t){if(Array.isArray(t))return v4(t)}function v4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(r),!0).forEach(function(n){mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mm(t,e,r){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function APe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SJ(n.key),n)}}function TPe(t,e,r){return e&&APe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SJ(t){var e=CPe(t,"string");return h0(e)==="symbol"?e:String(e)}function CPe(t,e){if(h0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(h0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x4(t,e)}function x4(t,e){return x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x4(t,e)}function OPe(t){var e=IPe();return function(){var n=r2(t),a;if(e){var i=r2(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return y4(this,a)}}function y4(t,e){if(e&&(h0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w4(t)}function w4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r2(t){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r2(t)}var Sl=(function(t){jPe(r,t);var e=OPe(r);function r(n,a){var i;EPe(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,u=s.from,f=s.to,h=s.steps,m=s.children,g=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(w4(i)),i.changeStyle=i.changeStyle.bind(w4(i)),!o||g<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:f}),y4(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof m=="function")return i.state={style:u},y4(i);i.state={style:c?mm({},c,u):u}}else i.state={style:{}};return i}return TPe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,h=i.from,m=this.state.style;if(o){if(!s){var g={style:c?mm({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(g);return}if(!(FIe(a.to,f)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?h:a.to;if(this.state&&m){var w={style:c?mm({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(w)}this.runAnimation(So(So({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,u=a.easing,f=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,g=vPe(s,o,sPe(u),c,this.changeStyle),x=function(){i.stopJSAnimation=g()};this.manager.start([m,f,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,u=s[0],f=u.style,h=u.duration,m=h===void 0?0:h,g=function(v,w,S){if(S===0)return v;var b=w.duration,_=w.easing,E=_===void 0?"ease":_,A=w.style,j=w.properties,O=w.onAnimationEnd,D=S>0?s[S-1]:w,M=j||Object.keys(A);if(typeof E=="function"||E==="spring")return[].concat(GA(v),[i.runJSAnimation.bind(i,{from:D.style,to:A,duration:b,easing:E}),b]);var k=k7(M,b,E),I=So(So(So({},D.style),A),{},{transition:k});return[].concat(GA(v),[I,b,O]).filter(KIe)};return this.manager.start([c].concat(GA(s.reduce(g,[f,Math.max(m,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=zIe());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,g=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var v=o?mm({},o,c):c,w=k7(Object.keys(v),s,u);x.start([f,i,So(So({},v),{},{transition:w}),s,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=yPe(a,xPe),u=T.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||u===0||s<=0)return i;var h=function(g){var x=g.props,v=x.style,w=v===void 0?{}:v,S=x.className,b=T.cloneElement(g,So(So({},c),{},{style:So(So({},w),f),className:S}));return b};return u===1?h(T.Children.only(i)):oe.createElement("div",null,T.Children.map(i,function(m){return h(m)}))}}]),r})(T.PureComponent);Sl.displayName="Animate";Sl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sl.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n2.apply(this,arguments)}function PPe(t,e){return MPe(t)||RPe(t,e)||DPe(t,e)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DPe(t,e){if(t){if(typeof t=="string")return B7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B7(t,e)}}function B7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function MPe(t){if(Array.isArray(t))return t}function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){FPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FPe(t,e,r){return e=LPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LPe(t){var e=BPe(t,"string");return Mg(e)=="symbol"?e:e+""}function BPe(t,e){if(Mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=i[m]>s?s:i[m];f="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),f+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*h[1])),f+="L ".concat(e+n,",").concat(r+a-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+a)),f+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-o*h[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);f="M ".concat(e,",").concat(r+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*x,`
            L `).concat(e+n,",").concat(r+a-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(r+a,`
            L `).concat(e+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(r+a-o*x," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},$Pe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),f=Math.max(i,i+o),h=Math.min(s,s+c),m=Math.max(s,s+c);return n>=u&&n<=f&&a>=h&&a<=m}return!1},UPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CO=function(e){var r=U7(U7({},UPe),e),n=T.useRef(),a=T.useState(-1),i=PPe(a,2),s=i[0],o=i[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&o(E)}catch{}},[]);var c=r.x,u=r.y,f=r.width,h=r.height,m=r.radius,g=r.className,x=r.animationEasing,v=r.animationDuration,w=r.animationBegin,S=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var _=or("recharts-rectangle",g);return b?oe.createElement(Sl,{canBegin:s>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:v,animationEasing:x,isActive:b},function(E){var A=E.width,j=E.height,O=E.x,D=E.y;return oe.createElement(Sl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:S,easing:x},oe.createElement("path",n2({},zt(r,!0),{className:_,d:V7(O,D,A,j,m),ref:n})))}):oe.createElement("path",n2({},zt(r,!0),{className:_,d:V7(c,u,f,h,m)}))},VPe=["points","className","baseLinePoints","connectNulls"];function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dh.apply(this,arguments)}function HPe(t,e){if(t==null)return{};var r=zPe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function H7(t){return KPe(t)||GPe(t)||WPe(t)||qPe()}function qPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(t,e){if(t){if(typeof t=="string")return b4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b4(t,e)}}function GPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KPe(t){if(Array.isArray(t))return b4(t)}function b4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z7=function(e){return e&&e.x===+e.x&&e.y===+e.y},XPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){z7(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),z7(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Om=function(e,r){var n=XPe(e);r&&(n=[n.reduce(function(i,s){return[].concat(H7(i),H7(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},QPe=function(e,r,n){var a=Om(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Om(r.reverse(),n).slice(1))},YPe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=HPe(e,VPe);if(!r||!r.length)return null;var o=or("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=QPe(r,a,i);return oe.createElement("g",{className:o},oe.createElement("path",dh({},zt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?oe.createElement("path",dh({},zt(s,!0),{fill:"none",d:Om(r,i)})):null,c?oe.createElement("path",dh({},zt(s,!0),{fill:"none",d:Om(a,i)})):null)}var f=Om(r,i);return oe.createElement("path",dh({},zt(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:o,d:f}))};function _4(){return _4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_4.apply(this,arguments)}var Mw=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=or("recharts-dot",i);return r===+r&&n===+n&&a===+a?oe.createElement("circle",_4({},zt(e,!1),Ay(e),{className:s,cx:r,cy:n,r:a})):null};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}var ZPe=["x","y","top","left","width","height","className"];function S4(){return S4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S4.apply(this,arguments)}function q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(r),!0).forEach(function(n){e8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e8e(t,e,r){return e=t8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t8e(t){var e=r8e(t,"string");return Fg(e)=="symbol"?e:e+""}function r8e(t,e){if(Fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n8e(t,e){if(t==null)return{};var r=a8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var i8e=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},s8e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,c=e.left,u=c===void 0?0:c,f=e.width,h=f===void 0?0:f,m=e.height,g=m===void 0?0:m,x=e.className,v=n8e(e,ZPe),w=JPe({x:n,y:i,top:o,left:u,width:h,height:g},v);return!ut(n)||!ut(i)||!ut(h)||!ut(g)||!ut(o)||!ut(u)?null:oe.createElement("path",S4({},zt(w,!0),{className:or("recharts-cross",x),d:i8e(n,i,h,g,o,u)}))},KA,W7;function o8e(){if(W7)return KA;W7=1;var t=Iw(),e=LZ(),r=Cl();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return KA=n,KA}var l8e=o8e();const c8e=Vr(l8e);var XA,G7;function u8e(){if(G7)return XA;G7=1;var t=Iw(),e=Cl(),r=BZ();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return XA=n,XA}var f8e=u8e();const d8e=Vr(f8e);var h8e=["cx","cy","angle","ticks","axisLine"],p8e=["ticks","tick","angle","tickFormatter","stroke"];function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(n){Fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X7(t,e){if(t==null)return{};var r=m8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EJ(n.key),n)}}function v8e(t,e,r){return e&&Q7(t.prototype,e),r&&Q7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x8e(t,e,r){return e=a2(e),y8e(t,NJ()?Reflect.construct(e,r||[],a2(t).constructor):e.apply(t,r))}function y8e(t,e){if(e&&(p0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w8e(t)}function w8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!t})()}function a2(t){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a2(t)}function b8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N4(t,e)}function N4(t,e){return N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N4(t,e)}function Fw(t,e,r){return e=EJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EJ(t){var e=_8e(t,"string");return p0(e)=="symbol"?e:e+""}function _8e(t,e){if(p0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lw=(function(t){function e(){return g8e(this,e),x8e(this,e,arguments)}return b8e(e,t),v8e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,c=i.cy;return fn(o,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=c8e(o,function(f){return f.coordinate||0}),u=d8e(o,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=X7(n,h8e),f=o.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),h=fn(a,i,f[0],s),m=fn(a,i,f[1],s),g=rf(rf(rf({},zt(u,!1)),{},{fill:"none"},zt(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return oe.createElement("line",Im({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,c=a.tickFormatter,u=a.stroke,f=X7(a,p8e),h=this.getTickTextAnchor(),m=zt(f,!1),g=zt(s,!1),x=i.map(function(v,w){var S=n.getTickValueCoord(v),b=rf(rf(rf(rf({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(S.x,", ").concat(S.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:w},S),{},{payload:v});return oe.createElement(Pr,Im({className:or("recharts-polar-radius-axis-tick",hJ(s)),key:"tick-".concat(v.coordinate)},td(n.props,v,w)),e.renderTickItem(s,b,c?c(v.value,w):v.value))});return oe.createElement(Pr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:oe.createElement(Pr,{className:or("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Aa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,a):Zt(n)?s=n(a):s=oe.createElement(rd,Im({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(T.PureComponent);Fw(Lw,"displayName","PolarRadiusAxis");Fw(Lw,"axisType","radiusAxis");Fw(Lw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}function Y7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y7(Object(r),!0).forEach(function(n){Bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TJ(n.key),n)}}function N8e(t,e,r){return e&&Z7(t.prototype,e),r&&Z7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E8e(t,e,r){return e=i2(e),A8e(t,AJ()?Reflect.construct(e,r||[],i2(t).constructor):e.apply(t,r))}function A8e(t,e){if(e&&(m0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T8e(t)}function T8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AJ=function(){return!!t})()}function i2(t){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i2(t)}function C8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E4(t,e)}function E4(t,e){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E4(t,e)}function Bw(t,e,r){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TJ(t){var e=j8e(t,"string");return m0(e)=="symbol"?e:e+""}function j8e(t,e){if(m0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O8e=Math.PI/180,J7=1e-5,$w=(function(t){function e(){return S8e(this,e),E8e(this,e,arguments)}return C8e(e,t),N8e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,c=a.orientation,u=a.tickSize,f=u||8,h=fn(i,s,o,n.coordinate),m=fn(i,s,o+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*O8e),s;return i>J7?s=a==="outer"?"start":"end":i<-J7?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=nf(nf({},zt(this.props,!1)),{},{fill:"none"},zt(o,!1));if(c==="circle")return oe.createElement(Mw,hf({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var f=this.props.ticks,h=f.map(function(m){return fn(a,i,s,m.coordinate)});return oe.createElement(YPe,hf({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,c=a.tickFormatter,u=a.stroke,f=zt(this.props,!1),h=zt(s,!1),m=nf(nf({},f),{},{fill:"none"},zt(o,!1)),g=i.map(function(x,v){var w=n.getTickLineCoord(x),S=n.getTickTextAnchor(x),b=nf(nf(nf({textAnchor:S},f),{},{stroke:"none",fill:u},h),{},{index:v,payload:x,x:w.x2,y:w.y2});return oe.createElement(Pr,hf({className:or("recharts-polar-angle-axis-tick",hJ(s)),key:"tick-".concat(x.coordinate)},td(n.props,x,v)),o&&oe.createElement("line",hf({className:"recharts-polar-angle-axis-tick-line"},m,w)),s&&e.renderTickItem(s,b,c?c(x.value,v):x.value))});return oe.createElement(Pr,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:oe.createElement(Pr,{className:or("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,a):Zt(n)?s=n(a):s=oe.createElement(rd,hf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(T.PureComponent);Bw($w,"displayName","PolarAngleAxis");Bw($w,"axisType","angleAxis");Bw($w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QA,eL;function I8e(){if(eL)return QA;eL=1;var t=FY(),e=t(Object.getPrototypeOf,Object);return QA=e,QA}var YA,tL;function P8e(){if(tL)return YA;tL=1;var t=_c(),e=I8e(),r=Sc(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,c=s.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var h=e(f);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==c}return YA=u,YA}var k8e=P8e();const D8e=Vr(k8e);var ZA,rL;function R8e(){if(rL)return ZA;rL=1;var t=_c(),e=Sc(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return ZA=n,ZA}var M8e=R8e();const F8e=Vr(M8e);function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s2.apply(this,arguments)}function L8e(t,e){return V8e(t)||U8e(t,e)||$8e(t,e)||B8e()}function B8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8e(t,e){if(t){if(typeof t=="string")return nL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function V8e(t){if(Array.isArray(t))return t}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){H8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H8e(t,e,r){return e=z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z8e(t){var e=q8e(t,"string");return Lg(e)=="symbol"?e:e+""}function q8e(t,e){if(Lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sL=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},W8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G8e=function(e){var r=iL(iL({},W8e),e),n=T.useRef(),a=T.useState(-1),i=L8e(a,2),s=i[0],o=i[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,h=r.lowerWidth,m=r.height,g=r.className,x=r.animationEasing,v=r.animationDuration,w=r.animationBegin,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var b=or("recharts-trapezoid",g);return S?oe.createElement(Sl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:S},function(_){var E=_.upperWidth,A=_.lowerWidth,j=_.height,O=_.x,D=_.y;return oe.createElement(Sl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:x},oe.createElement("path",s2({},zt(r,!0),{className:b,d:sL(O,D,E,A,j),ref:n})))}):oe.createElement("g",null,oe.createElement("path",s2({},zt(r,!0),{className:b,d:sL(c,u,f,h,m)})))},K8e=["option","shapeType","propTransformer","activeClassName","isActive"];function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function X8e(t,e){if(t==null)return{};var r=Q8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function o2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){Y8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y8e(t,e,r){return e=Z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8e(t){var e=J8e(t,"string");return Bg(e)=="symbol"?e:e+""}function J8e(t,e){if(Bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eke(t,e){return o2(o2({},e),t)}function tke(t,e){return t==="symbols"}function lL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return oe.createElement(CO,r);case"trapezoid":return oe.createElement(G8e,r);case"sector":return oe.createElement(gJ,r);case"symbols":if(tke(e))return oe.createElement(G3,r);break;default:return null}}function rke(t){return T.isValidElement(t)?t.props:t}function CJ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?eke:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,c=X8e(t,K8e),u;if(T.isValidElement(e))u=T.cloneElement(e,o2(o2({},c),rke(e)));else if(Zt(e))u=e(c);else if(D8e(e)&&!F8e(e)){var f=a(e,c);u=oe.createElement(lL,{shapeType:r,elementProps:f})}else{var h=c;u=oe.createElement(lL,{shapeType:r,elementProps:h})}return o?oe.createElement(Pr,{className:s},u):u}function Uw(t,e){return e!=null&&"trapezoids"in t.props}function Vw(t,e){return e!=null&&"sectors"in t.props}function $g(t,e){return e!=null&&"points"in t.props}function nke(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function ake(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ike(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function ske(t,e){var r;return Uw(t,e)?r=nke:Vw(t,e)?r=ake:$g(t,e)&&(r=ike),r}function oke(t,e){var r;return Uw(t,e)?r="trapezoids":Vw(t,e)?r="sectors":$g(t,e)&&(r="points"),r}function lke(t,e){if(Uw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $g(t,e)?e.payload:{}}function cke(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=oke(r,e),i=lke(r,e),s=n.filter(function(c,u){var f=jv(i,c),h=r.props[a].filter(function(x){var v=ske(r,e);return v(x,e)}),m=r.props[a].indexOf(h[h.length-1]),g=u===m;return f&&g}),o=n.indexOf(s[s.length-1]);return o}var j1;function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hh.apply(this,arguments)}function cL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(r),!0).forEach(function(n){Js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OJ(n.key),n)}}function fke(t,e,r){return e&&uL(t.prototype,e),r&&uL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dke(t,e,r){return e=l2(e),hke(t,jJ()?Reflect.construct(e,r||[],l2(t).constructor):e.apply(t,r))}function hke(t,e){if(e&&(g0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pke(t)}function pke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jJ=function(){return!!t})()}function l2(t){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l2(t)}function mke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A4(t,e)}function A4(t,e){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A4(t,e)}function Js(t,e,r){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OJ(t){var e=gke(t,"string");return g0(e)=="symbol"?e:e+""}function gke(t,e){if(g0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(g0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nl=(function(t){function e(r){var n;return uke(this,e),n=dke(this,e,[r]),Js(n,"pieRef",null),Js(n,"sectorRefs",[]),Js(n,"id",Q0("recharts-pie-")),Js(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Zt(a)&&a()}),Js(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Zt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return mke(e,t),fke(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,c=i.dataKey,u=i.valueKey,f=zt(this.props,!1),h=zt(s,!1),m=zt(o,!1),g=s&&s.offsetRadius||20,x=n.map(function(v,w){var S=(v.startAngle+v.endAngle)/2,b=fn(v.cx,v.cy,v.outerRadius+g,S),_=ln(ln(ln(ln({},f),v),{},{stroke:"none"},h),{},{index:w,textAnchor:e.getTextAnchor(b.x,v.cx)},b),E=ln(ln(ln(ln({},f),v),{},{fill:"none",stroke:v.fill},m),{},{index:w,points:[fn(v.cx,v.cy,v.outerRadius,S),b]}),A=c;return rr(c)&&rr(u)?A="value":rr(c)&&(A=u),oe.createElement(Pr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(w)},o&&e.renderLabelLineItem(o,E,"line"),e.renderLabelItem(s,_,ua(v,A)))});return oe.createElement(Pr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(f),m=c&&a.hasActiveIndex()?c:null,g=h?s:m,x=ln(ln({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return oe.createElement(Pr,hh({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},td(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),oe.createElement(CJ,hh({option:g,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state,m=h.prevSectors,g=h.prevIsAnimationActive;return oe.createElement(Sl,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,w=[],S=i&&i[0],b=S.startAngle;return i.forEach(function(_,E){var A=m&&m[E],j=E>0?Os(_,"paddingAngle",0):0;if(A){var O=As(A.endAngle-A.startAngle,_.endAngle-_.startAngle),D=ln(ln({},_),{},{startAngle:b+j,endAngle:b+O(v)+j});w.push(D),b=D.endAngle}else{var M=_.endAngle,k=_.startAngle,I=As(0,M-k),R=I(v),L=ln(ln({},_),{},{startAngle:b+j,endAngle:b+R+j});w.push(L),b=L.endAngle}}),oe.createElement(Pr,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!jv(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,c=a.label,u=a.cx,f=a.cy,h=a.innerRadius,m=a.outerRadius,g=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!s||!s.length||!ut(u)||!ut(f)||!ut(h)||!ut(m))return null;var v=or("recharts-pie",o);return oe.createElement(Pr,{tabIndex:this.props.rootTabIndex,className:v,ref:function(S){n.pieRef=S}},this.renderSectors(),c&&this.renderLabels(s),Aa.renderCallByParent(this.props,null,!1),(!g||x)&&ic.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(oe.isValidElement(n))return oe.cloneElement(n,a);if(Zt(n))return n(a);var s=or("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return oe.createElement(Jy,hh({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(oe.isValidElement(n))return oe.cloneElement(n,a);var s=i;if(Zt(n)&&(s=n(a),oe.isValidElement(s)))return s;var o=or("recharts-pie-label-text",typeof n!="boolean"&&!Zt(n)?n.className:"");return oe.createElement(rd,hh({},a,{alignmentBaseline:"middle",className:o}),s)}}])})(T.PureComponent);j1=Nl;Js(Nl,"displayName","Pie");Js(Nl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Js(Nl,"parseDeltaAngle",function(t,e){var r=Ii(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Js(Nl,"getRealPieData",function(t){var e=t.data,r=t.children,n=zt(t,!1),a=Is(r,gg);return e&&e.length?e.map(function(i,s){return ln(ln(ln({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return ln(ln({},n),i.props)}):[]});Js(Nl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=dJ(a,i),o=n+Pi(t.cx,a,a/2),c=r+Pi(t.cy,i,i/2),u=Pi(t.innerRadius,s,0),f=Pi(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});Js(Nl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ln(ln({},e.type.defaultProps),e.props):e.props,a=j1.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,h=n.valueKey,m=n.tooltipType,g=Math.abs(n.minAngle),x=j1.parseCoordinateOfPie(n,r),v=j1.parseDeltaAngle(s,o),w=Math.abs(v),S=u;rr(u)&&rr(h)?($o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):rr(u)&&($o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=h);var b=a.filter(function(D){return ua(D,S,0)!==0}).length,_=(w>=360?b:b-1)*c,E=w-b*g-_,A=a.reduce(function(D,M){var k=ua(M,S,0);return D+(ut(k)?k:0)},0),j;if(A>0){var O;j=a.map(function(D,M){var k=ua(D,S,0),I=ua(D,f,M),R=(ut(k)?k:0)/A,L;M?L=O.endAngle+Ii(v)*c*(k!==0?1:0):L=s;var U=L+Ii(v)*((k!==0?g:0)+R*E),X=(L+U)/2,ue=(x.innerRadius+x.outerRadius)/2,he=[{name:I,value:k,payload:D,dataKey:S,type:m}],J=fn(x.cx,x.cy,ue,X);return O=ln(ln(ln({percent:R,cornerRadius:i,name:I,tooltipPayload:he,midAngle:X,middleRadius:ue,tooltipPosition:J},D),x),{},{value:ua(D,S),startAngle:L,endAngle:U,payload:D,paddingAngle:Ii(v)*c}),O})}return ln(ln({},x),{},{sectors:j,data:a})});var JA,fL;function vke(){if(fL)return JA;fL=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var o=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++o]=n,n+=i;return u}return JA=r,JA}var eT,dL;function IJ(){if(dL)return eT;dL=1;var t=JY(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return eT=n,eT}var tT,hL;function xke(){if(hL)return tT;hL=1;var t=vke(),e=Nw(),r=IJ();function n(a){return function(i,s,o){return o&&typeof o!="number"&&e(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),t(i,s,o,a)}}return tT=n,tT}var rT,pL;function yke(){if(pL)return rT;pL=1;var t=xke(),e=t();return rT=e,rT}var wke=yke();const c2=Vr(wke);function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){PJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PJ(t,e,r){return e=bke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bke(t){var e=_ke(t,"string");return Ug(e)=="symbol"?e:e+""}function _ke(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ske=["Webkit","Moz","O","ms"],Nke=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Ske.reduce(function(i,s){return gL(gL({},i),{},PJ({},s+n,r))},{});return a[e]=r,a};function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u2.apply(this,arguments)}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DJ(n.key),n)}}function Ake(t,e,r){return e&&xL(t.prototype,e),r&&xL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tke(t,e,r){return e=f2(e),Cke(t,kJ()?Reflect.construct(e,r||[],f2(t).constructor):e.apply(t,r))}function Cke(t,e){if(e&&(v0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jke(t)}function jke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kJ=function(){return!!t})()}function f2(t){return f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f2(t)}function Oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T4(t,e)}function T4(t,e){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T4(t,e)}function gs(t,e,r){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=Ike(t,"string");return v0(e)=="symbol"?e:e+""}function Ike(t,e){if(v0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pke=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Tm().domain(c2(0,c)).range([i,i+s-o]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},yL=function(e){return e.changedTouches&&!!e.changedTouches.length},x0=(function(t){function e(r){var n;return Eke(this,e),n=Tke(this,e,[r]),gs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),gs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),gs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),gs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),gs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),gs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),gs(n,"handleSlideDragStart",function(a){var i=yL(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Oke(e,t),Ake(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,f=u.length-1,h=Math.min(a,i),m=Math.max(a,i),g=e.getIndexInRange(s,h),x=e.getIndexInRange(s,m);return{startIndex:g-g%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=ua(i[n],o,n);return Zt(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=n.pageX-i;v>0?v=Math.min(v,u+f-h-o,u+f-h-s):v<0&&(v=Math.max(v,u-s,u-o));var w=this.getIndex({startX:s+v,endX:o+v});(w.startIndex!==m||w.endIndex!==g)&&x&&x(w),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=yL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[s],f=this.props,h=f.x,m=f.width,g=f.travellerWidth,x=f.onChange,v=f.gap,w=f.data,S={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,h+m-g-u):b<0&&(b=Math.max(b,h-u)),S[s]=u+b;var _=this.getIndex(S),E=_.startIndex,A=_.endIndex,j=function(){var D=w.length-1;return s==="startX"&&(o>c?E%v===0:A%v===0)||o<c&&A===D||s==="endX"&&(o>c?A%v===0:E%v===0)||o>c&&A===D};this.setState(gs(gs({},s,u+b),"brushMoveStartX",n.pageX),function(){x&&j()&&x(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,f=this.state[a],h=o.indexOf(f);if(h!==-1){var m=h+n;if(!(m===-1||m>=o.length)){var g=o[m];a==="startX"&&g>=u||a==="endX"&&g<=c||this.setState(gs({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return oe.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,u=n.children,f=n.padding,h=T.Children.only(u);return h?oe.cloneElement(h,{x:a,y:i,width:s,height:o,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,w=c.endIndex,S=Math.max(n,this.props.x),b=nT(nT({},zt(this.props,!1)),{},{x:S,y:u,width:f,height:h}),_=g||"Min value: ".concat((i=x[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=x[w])===null||s===void 0?void 0:s.name);return oe.createElement(Pr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,h=Math.max(Math.abs(a-n)-u,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,h=f.startX,m=f.endX,g=5,x={pointerEvents:"none",fill:u};return oe.createElement(Pr,{className:"recharts-brush-texts"},oe.createElement(rd,u2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-g,y:s+o/2},x),this.getTextOfTick(a)),oe.createElement(rd,u2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+g,y:s+o/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,u=n.width,f=n.height,h=n.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,w=m.isSlideMoving,S=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!ut(o)||!ut(c)||!ut(u)||!ut(f)||u<=0||f<=0)return null;var _=or("recharts-brush",i),E=oe.Children.count(s)===1,A=Nke("userSelect","none");return oe.createElement(Pr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||w||S||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(i+o/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),oe.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return oe.isValidElement(n)?i=oe.cloneElement(n,a):Zt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,h=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return nT({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?Pke({data:i,width:s,x:o,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var m=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])})(T.PureComponent);gs(x0,"displayName","Brush");gs(x0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aT,wL;function kke(){if(wL)return aT;wL=1;var t=eO();function e(r,n){var a;return t(r,function(i,s,o){return a=n(i,s,o),!a}),!!a}return aT=e,aT}var iT,bL;function Dke(){if(bL)return iT;bL=1;var t=OY(),e=Cl(),r=kke(),n=is(),a=Nw();function i(s,o,c){var u=n(s)?t:r;return c&&a(s,o,c)&&(o=void 0),u(s,e(o,3))}return iT=i,iT}var Rke=Dke();const Mke=Vr(Rke);var ml=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},sT,_L;function Fke(){if(_L)return sT;_L=1;var t=KY();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return sT=e,sT}var oT,SL;function Lke(){if(SL)return oT;SL=1;var t=Fke(),e=WY(),r=Cl();function n(a,i){var s={};return i=r(i,3),e(a,function(o,c,u){t(s,c,i(o,c,u))}),s}return oT=n,oT}var Bke=Lke();const $ke=Vr(Bke);var lT,NL;function Uke(){if(NL)return lT;NL=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return lT=t,lT}var cT,EL;function Vke(){if(EL)return cT;EL=1;var t=eO();function e(r,n){var a=!0;return t(r,function(i,s,o){return a=!!n(i,s,o),a}),a}return cT=e,cT}var uT,AL;function Hke(){if(AL)return uT;AL=1;var t=Uke(),e=Vke(),r=Cl(),n=is(),a=Nw();function i(s,o,c){var u=n(s)?t:e;return c&&a(s,o,c)&&(o=void 0),u(s,r(o,3))}return uT=i,uT}var zke=Hke();const RJ=Vr(zke);var qke=["x","y"];function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function C4(){return C4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C4.apply(this,arguments)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){Wke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wke(t,e,r){return e=Gke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gke(t){var e=Kke(t,"string");return Vg(e)=="symbol"?e:e+""}function Kke(t,e){if(Vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xke(t,e){if(t==null)return{};var r=Qke(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yke(t,e){var r=t.x,n=t.y,a=Xke(t,qke),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||a.height),f=parseInt(u,10),h="".concat(e.width||a.width),m=parseInt(h,10);return em(em(em(em(em({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function CL(t){return oe.createElement(CJ,C4({shapeType:"rectangle",propTransformer:Yke,activeClassName:"recharts-active-bar"},t))}var Zke=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||ad(),r)}},Jke=["value","background"],MJ;function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function e6e(t,e){if(t==null)return{};var r=t6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d2.apply(this,arguments)}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){gu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LJ(n.key),n)}}function n6e(t,e,r){return e&&OL(t.prototype,e),r&&OL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a6e(t,e,r){return e=h2(e),i6e(t,FJ()?Reflect.construct(e,r||[],h2(t).constructor):e.apply(t,r))}function i6e(t,e){if(e&&(y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(t)}function s6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FJ=function(){return!!t})()}function h2(t){return h2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h2(t)}function o6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j4(t,e)}function j4(t,e){return j4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j4(t,e)}function gu(t,e,r){return e=LJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LJ(t){var e=l6e(t,"string");return y0(e)=="symbol"?e:e+""}function l6e(t,e){if(y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wd=(function(t){function e(){var r;r6e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=a6e(this,e,[].concat(a)),gu(r,"state",{isAnimationFinished:!1}),gu(r,"id",Q0("recharts-bar-")),gu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),gu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return o6e(e,t),n6e(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,f=zt(this.props,!1);return n&&n.map(function(h,m){var g=m===c,x=g?u:s,v=qn(qn(qn({},f),h),{},{isActive:g,option:x,index:m,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return oe.createElement(Pr,d2({className:"recharts-bar-rectangle"},td(a.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),oe.createElement(CL,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,h=a.animationId,m=this.state.prevData;return oe.createElement(Sl,{begin:c,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=i.map(function(w,S){var b=m&&m[S];if(b){var _=As(b.x,w.x),E=As(b.y,w.y),A=As(b.width,w.width),j=As(b.height,w.height);return qn(qn({},w),{},{x:_(x),y:E(x),width:A(x),height:j(x)})}if(s==="horizontal"){var O=As(0,w.height),D=O(x);return qn(qn({},w),{},{y:w.y+w.height-D,height:D})}var M=As(0,w.width),k=M(x);return qn(qn({},w),{},{width:k})});return oe.createElement(Pr,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!jv(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,c=zt(this.props.background,!1);return i.map(function(u,f){u.value;var h=u.background,m=e6e(u,Jke);if(!h)return null;var g=qn(qn(qn(qn(qn({},m),{},{fill:"#eee"},h),c),td(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return oe.createElement(CL,d2({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,h=Is(f,Ov);if(!h)return null;var m=u==="vertical"?s[0].height/2:s[0].width/2,g=function(w,S){var b=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:b,errorVal:ua(w,S)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return oe.createElement(Pr,x,h.map(function(v){return oe.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,m=n.height,g=n.isAnimationActive,x=n.background,v=n.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,S=or("recharts-bar",s),b=o&&o.allowDataOverflow,_=c&&c.allowDataOverflow,E=b||_,A=rr(v)?this.id:v;return oe.createElement(Pr,{className:S},b||_?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(A)},oe.createElement("rect",{x:b?u:u-h/2,y:_?f:f-m/2,width:b?h:h*2,height:_?m:m*2}))):null,oe.createElement(Pr,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!g||w)&&ic.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(T.PureComponent);MJ=wd;gu(wd,"displayName","Bar");gu(wd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gu(wd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,m=t.offset,g=F3e(n,r);if(!g)return null;var x=e.layout,v=r.type.defaultProps,w=v!==void 0?qn(qn({},v),r.props):r.props,S=w.dataKey,b=w.children,_=w.minPointSize,E=x==="horizontal"?s:i,A=u?E.scale.domain():null,j=z3e({numericAxis:E}),O=Is(b,gg),D=h.map(function(M,k){var I,R,L,U,X,ue;u?I=L3e(u[f+k],A):(I=ua(M,S),Array.isArray(I)||(I=[j,I]));var he=Zke(_,MJ.defaultProps.minPointSize)(I[1],k);if(x==="horizontal"){var J,ne=[s.scale(I[0]),s.scale(I[1])],G=ne[0],z=ne[1];R=t7({axis:i,ticks:o,bandSize:a,offset:g.offset,entry:M,index:k}),L=(J=z??G)!==null&&J!==void 0?J:void 0,U=g.size;var F=G-z;if(X=Number.isNaN(F)?0:F,ue={x:R,y:s.y,width:U,height:s.height},Math.abs(he)>0&&Math.abs(X)<Math.abs(he)){var ee=Ii(X||he)*(Math.abs(he)-Math.abs(X));L-=ee,X+=ee}}else{var K=[i.scale(I[0]),i.scale(I[1])],ae=K[0],q=K[1];if(R=ae,L=t7({axis:s,ticks:c,bandSize:a,offset:g.offset,entry:M,index:k}),U=q-ae,X=g.size,ue={x:i.x,y:L,width:i.width,height:X},Math.abs(he)>0&&Math.abs(U)<Math.abs(he)){var pe=Ii(U||he)*(Math.abs(he)-Math.abs(U));U+=pe}}return qn(qn(qn({},M),{},{x:R,y:L,width:U,height:X,value:u?I:I[1],payload:M,background:ue},O&&O[k]&&O[k].props),{},{tooltipPayload:[uJ(r,M)],tooltipPosition:{x:R+U/2,y:L+X/2}})});return qn({data:D,layout:x},m)});function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function c6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BJ(n.key),n)}}function u6e(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function To(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hw(t,e,r){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BJ(t){var e=f6e(t,"string");return Hg(e)=="symbol"?e:e+""}function f6e(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $J=function(e,r,n,a,i){var s=e.width,o=e.height,c=e.layout,u=e.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},m=!!ys(u,wd);return f.reduce(function(g,x){var v=r[x],w=v.orientation,S=v.domain,b=v.padding,_=b===void 0?{}:b,E=v.mirror,A=v.reversed,j="".concat(w).concat(E?"Mirror":""),O,D,M,k,I;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var R=S[1]-S[0],L=1/0,U=v.categoricalDomain.sort();if(U.forEach(function(K,ae){ae>0&&(L=Math.min((K||0)-(U[ae-1]||0),L))}),Number.isFinite(L)){var X=L/R,ue=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(O=X*ue/2),v.padding==="no-gap"){var he=Pi(e.barCategoryGap,X*ue),J=X*ue/2;O=J-he-(J-he)/ue*he}}}a==="xAxis"?D=[n.left+(_.left||0)+(O||0),n.left+n.width-(_.right||0)-(O||0)]:a==="yAxis"?D=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(O||0),n.top+n.height-(_.bottom||0)-(O||0)]:D=v.range,A&&(D=[D[1],D[0]]);var ne=sJ(v,i,m),G=ne.scale,z=ne.realScaleType;G.domain(S).range(D),oJ(G);var F=lJ(G,To(To({},v),{},{realScaleType:z}));a==="xAxis"?(I=w==="top"&&!E||w==="bottom"&&E,M=n.left,k=h[j]-I*v.height):a==="yAxis"&&(I=w==="left"&&!E||w==="right"&&E,M=h[j]-I*v.width,k=n.top);var ee=To(To(To({},v),F),{},{realScaleType:z,x:M,y:k,scale:G,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return ee.bandSize=Qy(ee,F),!v.hide&&a==="xAxis"?h[j]+=(I?-1:1)*ee.height:v.hide||(h[j]+=(I?-1:1)*ee.width),To(To({},g),{},Hw({},x,ee))},{})},UJ=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},d6e=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return UJ({x:r,y:n},{x:a,y:i})},VJ=(function(){function t(e){c6e(this,t),this.scale=e}return u6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Hw(VJ,"EPS",1e-4);var jO=function(e){var r=Object.keys(e).reduce(function(n,a){return To(To({},n),{},Hw({},a,VJ.create(e[a])))},{});return To(To({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return $ke(a,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return RJ(a,function(i,s){return r[s].isInRange(i)})}})};function h6e(t){return(t%180+180)%180}var p6e=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=h6e(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},fT,kL;function m6e(){if(kL)return fT;kL=1;var t=Cl(),e=Nv(),r=_w();function n(a){return function(i,s,o){var c=Object(i);if(!e(i)){var u=t(s,3);i=r(i),s=function(h){return u(c[h],h,c)}}var f=a(i,s,o);return f>-1?c[u?i[f]:f]:void 0}}return fT=n,fT}var dT,DL;function g6e(){if(DL)return dT;DL=1;var t=IJ();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return dT=e,dT}var hT,RL;function v6e(){if(RL)return hT;RL=1;var t=UY(),e=Cl(),r=g6e(),n=Math.max;function a(i,s,o){var c=i==null?0:i.length;if(!c)return-1;var u=o==null?0:r(o);return u<0&&(u=n(c+u,0)),t(i,e(s,3),u)}return hT=a,hT}var pT,ML;function x6e(){if(ML)return pT;ML=1;var t=m6e(),e=v6e(),r=t(e);return pT=r,pT}var y6e=x6e();const w6e=Vr(y6e);var b6e=nY();const _6e=Vr(b6e);var S6e=_6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OO=T.createContext(void 0),IO=T.createContext(void 0),HJ=T.createContext(void 0),zJ=T.createContext({}),qJ=T.createContext(void 0),WJ=T.createContext(0),GJ=T.createContext(0),FL=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,c=e.width,u=e.height,f=S6e(i);return oe.createElement(OO.Provider,{value:n},oe.createElement(IO.Provider,{value:a},oe.createElement(zJ.Provider,{value:i},oe.createElement(HJ.Provider,{value:f},oe.createElement(qJ.Provider,{value:s},oe.createElement(WJ.Provider,{value:u},oe.createElement(GJ.Provider,{value:c},o)))))))},N6e=function(){return T.useContext(qJ)},KJ=function(e){var r=T.useContext(OO);r==null&&ad();var n=r[e];return n==null&&ad(),n},E6e=function(){var e=T.useContext(OO);return nu(e)},A6e=function(){var e=T.useContext(IO),r=w6e(e,function(n){return RJ(n.domain,Number.isFinite)});return r||nu(e)},XJ=function(e){var r=T.useContext(IO);r==null&&ad();var n=r[e];return n==null&&ad(),n},T6e=function(){var e=T.useContext(HJ);return e},C6e=function(){return T.useContext(zJ)},PO=function(){return T.useContext(GJ)},kO=function(){return T.useContext(WJ)};function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function j6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YJ(n.key),n)}}function I6e(t,e,r){return e&&O6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P6e(t,e,r){return e=p2(e),k6e(t,QJ()?Reflect.construct(e,r||[],p2(t).constructor):e.apply(t,r))}function k6e(t,e){if(e&&(w0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D6e(t)}function D6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QJ=function(){return!!t})()}function p2(t){return p2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p2(t)}function R6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O4(t,e)}function O4(t,e){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O4(t,e)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){DO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DO(t,e,r){return e=YJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YJ(t){var e=M6e(t,"string");return w0(e)=="symbol"?e:e+""}function M6e(t,e){if(w0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F6e(t,e){return U6e(t)||$6e(t,e)||B6e(t,e)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6e(t,e){if(t){if(typeof t=="string")return $L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $L(t,e)}}function $L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function U6e(t){if(Array.isArray(t))return t}function I4(){return I4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I4.apply(this,arguments)}var V6e=function(e,r){var n;return oe.isValidElement(e)?n=oe.cloneElement(e,r):Zt(e)?n=e(r):n=oe.createElement("line",I4({},r,{className:"recharts-reference-line-line"})),n},H6e=function(e,r,n,a,i,s,o,c,u){var f=i.x,h=i.y,m=i.width,g=i.height;if(n){var x=u.y,v=e.y.apply(x,{position:s});if(ml(u,"discard")&&!e.y.isInRange(v))return null;var w=[{x:f+m,y:v},{x:f,y:v}];return c==="left"?w.reverse():w}if(r){var S=u.x,b=e.x.apply(S,{position:s});if(ml(u,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:h+g},{x:b,y:h}];return o==="top"?_.reverse():_}if(a){var E=u.segment,A=E.map(function(j){return e.apply(j,{position:s})});return ml(u,"discard")&&Mke(A,function(j){return!e.isInRange(j)})?null:A}return null};function z6e(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,c=t.alwaysShow,u=N6e(),f=KJ(a),h=XJ(i),m=T6e();if(!u||!m)return null;$o(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=jO({x:f.scale,y:h.scale}),x=ma(e),v=ma(r),w=n&&n.length===2,S=H6e(g,x,v,w,m,t.position,f.orientation,h.orientation,t);if(!S)return null;var b=F6e(S,2),_=b[0],E=_.x,A=_.y,j=b[1],O=j.x,D=j.y,M=ml(t,"hidden")?"url(#".concat(u,")"):void 0,k=BL(BL({clipPath:M},zt(t,!0)),{},{x1:E,y1:A,x2:O,y2:D});return oe.createElement(Pr,{className:or("recharts-reference-line",o)},V6e(s,k),Aa.renderCallByParent(t,d6e({x1:E,y1:A,x2:O,y2:D})))}var RO=(function(t){function e(){return j6e(this,e),P6e(this,e,arguments)}return R6e(e,t),I6e(e,[{key:"render",value:function(){return oe.createElement(z6e,this.props)}}])})(oe.Component);DO(RO,"displayName","ReferenceLine");DO(RO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function P4(){return P4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P4.apply(this,arguments)}function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){zw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JJ(n.key),n)}}function G6e(t,e,r){return e&&W6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K6e(t,e,r){return e=m2(e),X6e(t,ZJ()?Reflect.construct(e,r||[],m2(t).constructor):e.apply(t,r))}function X6e(t,e){if(e&&(b0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q6e(t)}function Q6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZJ=function(){return!!t})()}function m2(t){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m2(t)}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k4(t,e)}function k4(t,e){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k4(t,e)}function zw(t,e,r){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JJ(t){var e=Z6e(t,"string");return b0(e)=="symbol"?e:e+""}function Z6e(t,e){if(b0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(b0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J6e=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=jO({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ml(e,"discard")&&!s.isInRange(o)?null:o},qw=(function(t){function e(){return q6e(this,e),K6e(this,e,arguments)}return Y6e(e,t),G6e(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=ma(a),f=ma(i);if($o(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=J6e(this.props);if(!h)return null;var m=h.x,g=h.y,x=this.props,v=x.shape,w=x.className,S=ml(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=VL(VL({clipPath:S},zt(this.props,!0)),{},{cx:m,cy:g});return oe.createElement(Pr,{className:or("recharts-reference-dot",w)},e.renderDot(v,b),Aa.renderCallByParent(this.props,{x:m-s,y:g-s,width:2*s,height:2*s}))}}])})(oe.Component);zw(qw,"displayName","ReferenceDot");zw(qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zw(qw,"renderDot",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):Zt(t)?r=t(e):r=oe.createElement(Mw,P4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function D4(){return D4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D4.apply(this,arguments)}function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){Ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tee(n.key),n)}}function rDe(t,e,r){return e&&tDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nDe(t,e,r){return e=g2(e),aDe(t,eee()?Reflect.construct(e,r||[],g2(t).constructor):e.apply(t,r))}function aDe(t,e){if(e&&(_0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iDe(t)}function iDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eee=function(){return!!t})()}function g2(t){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g2(t)}function sDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R4(t,e)}function R4(t,e){return R4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R4(t,e)}function Ww(t,e,r){return e=tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tee(t){var e=oDe(t,"string");return _0(e)=="symbol"?e:e+""}function oDe(t,e){if(_0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lDe=function(e,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,u=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var m=jO({x:f.scale,y:h.scale}),g={x:e?m.x.apply(s,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return ml(i,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:UJ(g,x)},Gw=(function(t){function e(){return eDe(this,e),nDe(this,e,arguments)}return sDe(e,t),rDe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;$o(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ma(a),m=ma(i),g=ma(s),x=ma(o),v=this.props.shape;if(!h&&!m&&!g&&!x&&!v)return null;var w=lDe(h,m,g,x,this.props);if(!w&&!v)return null;var S=ml(this.props,"hidden")?"url(#".concat(f,")"):void 0;return oe.createElement(Pr,{className:or("recharts-reference-area",c)},e.renderRect(v,zL(zL({clipPath:S},zt(this.props,!0)),w)),Aa.renderCallByParent(this.props,w))}}])})(oe.Component);Ww(Gw,"displayName","ReferenceArea");Ww(Gw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ww(Gw,"renderRect",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):Zt(t)?r=t(e):r=oe.createElement(CO,D4({},e,{className:"recharts-reference-area-rect"})),r});function ree(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function cDe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return p6e(n,r)}function uDe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function v2(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function fDe(t,e){return ree(t,e+1)}function dDe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,c=0,u=1,f=s,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:ree(n,u)};var v=c,w,S=function(){return w===void 0&&(w=r(x,v)),w},b=x.coordinate,_=c===0||v2(t,b,S,f,o);_||(c=0,f=s,u+=1),_&&(f=b+t*(S()/2+a),c+=u)},m;u<=i.length;)if(m=h(),m)return m.v;return[]}function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){hDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hDe(t,e,r){return e=pDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pDe(t){var e=mDe(t,"string");return zg(e)=="symbol"?e:e+""}function mDe(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gDe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,c=e.end,u=function(m){var g=i[m],x,v=function(){return x===void 0&&(x=r(g,m)),x};if(m===s-1){var w=t*(g.coordinate+t*v()/2-c);i[m]=g=li(li({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else i[m]=g=li(li({},g),{},{tickCoord:g.coordinate});var S=v2(t,g.tickCoord,v,o,c);S&&(c=g.tickCoord-t*(v()/2+a),i[m]=li(li({},g),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function vDe(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,c=e.start,u=e.end;if(i){var f=n[o-1],h=r(f,o-1),m=t*(f.coordinate+t*h/2-u);s[o-1]=f=li(li({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var g=v2(t,f.tickCoord,function(){return h},c,u);g&&(u=f.tickCoord-t*(h/2+a),s[o-1]=li(li({},f),{},{isShow:!0}))}for(var x=i?o-1:o,v=function(b){var _=s[b],E,A=function(){return E===void 0&&(E=r(_,b)),E};if(b===0){var j=t*(_.coordinate-t*A()/2-c);s[b]=_=li(li({},_),{},{tickCoord:j<0?_.coordinate-j*t:_.coordinate})}else s[b]=_=li(li({},_),{},{tickCoord:_.coordinate});var O=v2(t,_.tickCoord,A,c,u);O&&(c=_.tickCoord+t*(A()/2+a),s[b]=li(li({},_),{},{isShow:!0}))},w=0;w<x;w++)v(w);return s}function MO(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(ut(c)||gd.isSsr)return fDe(a,typeof c=="number"&&ut(c)?c:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",x=f&&g==="width"?Am(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(_,E){var A=Zt(u)?u(_.value,E):_.value;return g==="width"?cDe(Am(A,{fontSize:e,letterSpacing:r}),x,h):Am(A,{fontSize:e,letterSpacing:r})[g]},w=a.length>=2?Ii(a[1].coordinate-a[0].coordinate):1,S=uDe(i,w,g);return c==="equidistantPreserveStart"?dDe(w,S,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=vDe(w,S,v,a,s,c==="preserveStartEnd"):m=gDe(w,S,v,a,s),m.filter(function(b){return b.isShow}))}var xDe=["viewBox"],yDe=["viewBox"],wDe=["ticks"];function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ph.apply(this,arguments)}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){FO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mT(t,e){if(t==null)return{};var r=bDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aee(n.key),n)}}function SDe(t,e,r){return e&&GL(t.prototype,e),r&&GL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NDe(t,e,r){return e=x2(e),EDe(t,nee()?Reflect.construct(e,r||[],x2(t).constructor):e.apply(t,r))}function EDe(t,e){if(e&&(S0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ADe(t)}function ADe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nee=function(){return!!t})()}function x2(t){return x2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x2(t)}function TDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M4(t,e)}function M4(t,e){return M4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M4(t,e)}function FO(t,e,r){return e=aee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aee(t){var e=CDe(t,"string");return S0(e)=="symbol"?e:e+""}function CDe(t,e){if(S0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=(function(t){function e(r){var n;return _De(this,e),n=NDe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return TDe(e,t),SDe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=mT(n,xDe),o=this.props,c=o.viewBox,u=mT(o,yDe);return!Ch(i,c)||!Ch(s,u)||!Ch(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,c=a.height,u=a.orientation,f=a.tickSize,h=a.mirror,m=a.tickMargin,g,x,v,w,S,b,_=h?-1:1,E=n.tickSize||f,A=ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=x=n.coordinate,w=s+ +!h*c,v=w-_*E,b=v-_*m,S=A;break;case"left":v=w=n.coordinate,x=i+ +!h*o,g=x-_*E,S=g-_*m,b=A;break;case"right":v=w=n.coordinate,x=i+ +h*o,g=x+_*E,S=g+_*m,b=A;break;default:g=x=n.coordinate,w=s+ +h*c,v=w+_*E,b=v+_*m,S=A;break}return{line:{x1:g,y1:v,x2:x,y2:w},tick:{x:S,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,h=bi(bi(bi({},zt(this.props,!1)),zt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);h=bi(bi({},h),{},{x1:a,y1:i+m*o,x2:a+s,y2:i+m*o})}else{var g=+(c==="left"&&!u||c==="right"&&u);h=bi(bi({},h),{},{x1:a+g*s,y1:i,x2:a+g*s,y2:i+o})}return oe.createElement("line",ph({},h,{className:or("recharts-cartesian-axis-line",Os(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,c=o.tickLine,u=o.stroke,f=o.tick,h=o.tickFormatter,m=o.unit,g=MO(bi(bi({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=zt(this.props,!1),S=zt(f,!1),b=bi(bi({},w),{},{fill:"none"},zt(c,!1)),_=g.map(function(E,A){var j=s.getTickLineCoord(E),O=j.line,D=j.tick,M=bi(bi(bi(bi({textAnchor:x,verticalAnchor:v},w),{},{stroke:"none",fill:u},S),D),{},{index:A,payload:E,visibleTicksCount:g.length,tickFormatter:h});return oe.createElement(Pr,ph({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},td(s.props,E,A)),c&&oe.createElement("line",ph({},b,O,{className:or("recharts-cartesian-axis-tick-line",Os(c,"className"))})),f&&e.renderTickItem(f,M,"".concat(Zt(h)?h(E.value,A):E.value).concat(m||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var h=this.props,m=h.ticks,g=mT(h,wDe),x=m;return Zt(c)&&(x=m&&m.length>0?c(this.props):c(g)),s<=0||o<=0||!x||!x.length?null:oe.createElement(Pr,{className:or("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Aa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,a):Zt(n)?s=n(a):s=oe.createElement(rd,ph({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(T.Component);FO(tp,"displayName","CartesianAxis");FO(tp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jDe=["x1","y1","x2","y2","key"],ODe=["offset"];function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){IDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IDe(t,e,r){return e=PDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PDe(t){var e=kDe(t,"string");return id(e)=="symbol"?e:e+""}function kDe(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function XL(t,e){if(t==null)return{};var r=DDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var RDe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,c=e.ry;return oe.createElement("rect",{x:a,y:i,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iee(t,e){var r;if(oe.isValidElement(t))r=oe.cloneElement(t,e);else if(Zt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,c=XL(e,jDe),u=zt(c,!1);u.offset;var f=XL(u,ODe);r=oe.createElement("line",_f({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function MDe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=fi(fi({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return iee(a,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function FDe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=fi(fi({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return iee(a,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function LDe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=o.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==f[0]&&f.unshift(0);var h=f.map(function(m,g){var x=!f[g+1],v=x?a+s-m:f[g+1]-m;if(v<=0)return null;var w=g%e.length;return oe.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:v,width:i,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function BDe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==f[0]&&f.unshift(0);var h=f.map(function(m,g){var x=!f[g+1],v=x?i+o-m:f[g+1]-m;if(v<=0)return null;var w=g%n.length;return oe.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:v,height:c,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $De=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return iJ(MO(fi(fi(fi({},tp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},UDe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return iJ(MO(fi(fi(fi({},tp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},rh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function O1(t){var e,r,n,a,i,s,o=PO(),c=kO(),u=C6e(),f=fi(fi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:rh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:rh.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:rh.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:rh.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:rh.verticalFill,x:ut(t.x)?t.x:u.left,y:ut(t.y)?t.y:u.top,width:ut(t.width)?t.width:u.width,height:ut(t.height)?t.height:u.height}),h=f.x,m=f.y,g=f.width,x=f.height,v=f.syncWithTicks,w=f.horizontalValues,S=f.verticalValues,b=E6e(),_=A6e();if(!ut(g)||g<=0||!ut(x)||x<=0||!ut(h)||h!==+h||!ut(m)||m!==+m)return null;var E=f.verticalCoordinatesGenerator||$De,A=f.horizontalCoordinatesGenerator||UDe,j=f.horizontalPoints,O=f.verticalPoints;if((!j||!j.length)&&Zt(A)){var D=w&&w.length,M=A({yAxis:_?fi(fi({},_),{},{ticks:D?w:_.ticks}):void 0,width:o,height:c,offset:u},D?!0:v);$o(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(id(M),"]")),Array.isArray(M)&&(j=M)}if((!O||!O.length)&&Zt(E)){var k=S&&S.length,I=E({xAxis:b?fi(fi({},b),{},{ticks:k?S:b.ticks}):void 0,width:o,height:c,offset:u},k?!0:v);$o(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(id(I),"]")),Array.isArray(I)&&(O=I)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(RDe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),oe.createElement(MDe,_f({},f,{offset:u,horizontalPoints:j,xAxis:b,yAxis:_})),oe.createElement(FDe,_f({},f,{offset:u,verticalPoints:O,xAxis:b,yAxis:_})),oe.createElement(LDe,_f({},f,{horizontalPoints:j})),oe.createElement(BDe,_f({},f,{verticalPoints:O})))}O1.displayName="CartesianGrid";var VDe=["type","layout","connectNulls","ref"],HDe=["key"];function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function QL(t,e){if(t==null)return{};var r=zDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){Co(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nh(t){return KDe(t)||GDe(t)||WDe(t)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(t,e){if(t){if(typeof t=="string")return F4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(t,e)}}function GDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KDe(t){if(Array.isArray(t))return F4(t)}function F4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oee(n.key),n)}}function QDe(t,e,r){return e&&ZL(t.prototype,e),r&&ZL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YDe(t,e,r){return e=y2(e),ZDe(t,see()?Reflect.construct(e,r||[],y2(t).constructor):e.apply(t,r))}function ZDe(t,e){if(e&&(N0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JDe(t)}function JDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function see(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(see=function(){return!!t})()}function y2(t){return y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y2(t)}function eRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L4(t,e)}function L4(t,e){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L4(t,e)}function Co(t,e,r){return e=oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oee(t){var e=tRe(t,"string");return N0(e)=="symbol"?e:e+""}function tRe(t,e){if(N0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E0=(function(t){function e(){var r;XDe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=YDe(this,e,[].concat(a)),Co(r,"state",{isAnimationFinished:!0,totalLength:0}),Co(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Co(r,"getStrokeDasharray",function(s,o,c){var u=c.reduce(function(S,b){return S+b});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var f=Math.floor(s/u),h=s%u,m=o-s,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>h){g=[].concat(nh(c.slice(0,x)),[h-v]);break}var w=g.length%2===0?[0,m]:[m];return[].concat(nh(e.repeat(c,f)),nh(g),w).map(function(S){return"".concat(S,"px")}).join(", ")}),Co(r,"id",Q0("recharts-line-")),Co(r,"pathRef",function(s){r.mainCurve=s}),Co(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Co(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return eRe(e,t),QDe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,h=Is(f,Ov);if(!h)return null;var m=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:ua(v.payload,w)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return oe.createElement(Pr,g,h.map(function(x){return oe.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,f=o.dataKey,h=zt(this.props,!1),m=zt(c,!0),g=u.map(function(v,w){var S=ms(ms(ms({key:"dot-".concat(w),r:3},h),m),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:u});return e.renderDotItem(c,S)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return oe.createElement(Pr,Pm({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,c=o.type,u=o.layout,f=o.connectNulls;o.ref;var h=QL(o,VDe),m=ms(ms(ms({},zt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:f});return oe.createElement(Jy,Pm({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,c=s.strokeDasharray,u=s.isAnimationActive,f=s.animationBegin,h=s.animationDuration,m=s.animationEasing,g=s.animationId,x=s.animateNewValues,v=s.width,w=s.height,S=this.state,b=S.prevPoints,_=S.totalLength;return oe.createElement(Sl,{begin:f,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(b){var j=b.length/o.length,O=o.map(function(R,L){var U=Math.floor(L*j);if(b[U]){var X=b[U],ue=As(X.x,R.x),he=As(X.y,R.y);return ms(ms({},R),{},{x:ue(A),y:he(A)})}if(x){var J=As(v*2,R.x),ne=As(w/2,R.y);return ms(ms({},R),{},{x:J(A),y:ne(A)})}return ms(ms({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(O,n,a)}var D=As(0,_),M=D(A),k;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=i.getStrokeDasharray(M,_,I)}else k=i.generateSimpleStrokeDasharray(_,M);return i.renderCurveStatically(o,n,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return o&&s&&s.length&&(!u&&f>0||!jv(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,c=a.className,u=a.xAxis,f=a.yAxis,h=a.top,m=a.left,g=a.width,x=a.height,v=a.isAnimationActive,w=a.id;if(i||!o||!o.length)return null;var S=this.state.isAnimationFinished,b=o.length===1,_=or("recharts-line",c),E=u&&u.allowDataOverflow,A=f&&f.allowDataOverflow,j=E||A,O=rr(w)?this.id:w,D=(n=zt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=D.r,k=M===void 0?3:M,I=D.strokeWidth,R=I===void 0?2:I,L=DSe(s)?s:{},U=L.clipDot,X=U===void 0?!0:U,ue=k*2+R;return oe.createElement(Pr,{className:_},E||A?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(O)},oe.createElement("rect",{x:E?m:m-g/2,y:A?h:h-x/2,width:E?g:g*2,height:A?x:x*2})),!X&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},oe.createElement("rect",{x:m-ue/2,y:h-ue/2,width:g+ue,height:x+ue}))):null,!b&&this.renderCurve(j,O),this.renderErrorBar(j,O),(b||s)&&this.renderDots(j,X,O),(!v||S)&&ic.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(nh(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(nh(s),nh(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(oe.isValidElement(n))i=oe.cloneElement(n,a);else if(Zt(n))i=n(a);else{var s=a.key,o=QL(a,HDe),c=or("recharts-line-dot",typeof n!="boolean"?n.className:"");i=oe.createElement(Mw,Pm({key:s},o,{className:c}))}return i}}])})(T.PureComponent);Co(E0,"displayName","Line");Co(E0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Co(E0,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,o=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,h=c.map(function(m,g){var x=ua(m,s);return f==="horizontal"?{x:e7({axis:r,ticks:a,bandSize:o,entry:m,index:g}),y:rr(x)?null:n.scale(x),value:x,payload:m}:{x:rr(x)?null:r.scale(x),y:e7({axis:n,ticks:i,bandSize:o,entry:m,index:g}),value:x,payload:m}});return ms({points:h,layout:f},u)});function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}function rRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uee(n.key),n)}}function aRe(t,e,r){return e&&nRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iRe(t,e,r){return e=w2(e),sRe(t,lee()?Reflect.construct(e,r||[],w2(t).constructor):e.apply(t,r))}function sRe(t,e){if(e&&(A0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(t)}function oRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lee=function(){return!!t})()}function w2(t){return w2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w2(t)}function lRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B4(t,e)}function B4(t,e){return B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B4(t,e)}function cee(t,e,r){return e=uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uee(t){var e=cRe(t,"string");return A0(e)=="symbol"?e:e+""}function cRe(t,e){if(A0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $4(){return $4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$4.apply(this,arguments)}function uRe(t){var e=t.xAxisId,r=PO(),n=kO(),a=KJ(e);return a==null?null:oe.createElement(tp,$4({},a,{className:or("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Zl(s,!0)}}))}var Mf=(function(t){function e(){return rRe(this,e),iRe(this,e,arguments)}return lRe(e,t),aRe(e,[{key:"render",value:function(){return oe.createElement(uRe,this.props)}}])})(oe.Component);cee(Mf,"displayName","XAxis");cee(Mf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function fRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hee(n.key),n)}}function hRe(t,e,r){return e&&dRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pRe(t,e,r){return e=b2(e),mRe(t,fee()?Reflect.construct(e,r||[],b2(t).constructor):e.apply(t,r))}function mRe(t,e){if(e&&(T0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(t)}function gRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fee=function(){return!!t})()}function b2(t){return b2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b2(t)}function vRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U4(t,e)}function U4(t,e){return U4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U4(t,e)}function dee(t,e,r){return e=hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hee(t){var e=xRe(t,"string");return T0(e)=="symbol"?e:e+""}function xRe(t,e){if(T0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V4(){return V4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V4.apply(this,arguments)}var yRe=function(e){var r=e.yAxisId,n=PO(),a=kO(),i=XJ(r);return i==null?null:oe.createElement(tp,V4({},i,{className:or("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Zl(o,!0)}}))},Ff=(function(t){function e(){return fRe(this,e),pRe(this,e,arguments)}return vRe(e,t),hRe(e,[{key:"render",value:function(){return oe.createElement(yRe,this.props)}}])})(oe.Component);dee(Ff,"displayName","YAxis");dee(Ff,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JL(t){return SRe(t)||_Re(t)||bRe(t)||wRe()}function wRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bRe(t,e){if(t){if(typeof t=="string")return H4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H4(t,e)}}function _Re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SRe(t){if(Array.isArray(t))return H4(t)}function H4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z4=function(e,r,n,a,i){var s=Is(e,RO),o=Is(e,qw),c=[].concat(JL(s),JL(o)),u=Is(e,Gw),f="".concat(a,"Id"),h=a[0],m=r;if(c.length&&(m=c.reduce(function(v,w){if(w.props[f]===n&&ml(w.props,"extendDomain")&&ut(w.props[h])){var S=w.props[h];return[Math.min(v[0],S),Math.max(v[1],S)]}return v},m)),u.length){var g="".concat(h,"1"),x="".concat(h,"2");m=u.reduce(function(v,w){if(w.props[f]===n&&ml(w.props,"extendDomain")&&ut(w.props[g])&&ut(w.props[x])){var S=w.props[g],b=w.props[x];return[Math.min(v[0],S,b),Math.max(v[1],S,b)]}return v},m)}return i&&i.length&&(m=i.reduce(function(v,w){return ut(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},m)),m},gT={exports:{}},e9;function NRe(){return e9||(e9=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,h||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,x=new Array(g);m<g;m++)x[m]=h[m].fn;return x},o.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,f,h,m,g,x){var v=r?r+u:u;if(!this._events[v])return!1;var w=this._events[v],S=arguments.length,b,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,h),!0;case 4:return w.fn.call(w.context,f,h,m),!0;case 5:return w.fn.call(w.context,f,h,m,g),!0;case 6:return w.fn.call(w.context,f,h,m,g,x),!0}for(_=1,b=new Array(S-1);_<S;_++)b[_-1]=arguments[_];w.fn.apply(w.context,b)}else{var E=w.length,A;for(_=0;_<E;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),S){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,f);break;case 3:w[_].fn.call(w[_].context,f,h);break;case 4:w[_].fn.call(w[_].context,f,h,m);break;default:if(!b)for(A=1,b=new Array(S-1);A<S;A++)b[A-1]=arguments[A];w[_].fn.apply(w[_].context,b)}}return!0},o.prototype.on=function(u,f,h){return i(this,u,f,h,!1)},o.prototype.once=function(u,f,h){return i(this,u,f,h,!0)},o.prototype.removeListener=function(u,f,h,m){var g=r?r+u:u;if(!this._events[g])return this;if(!f)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!m||x.once)&&(!h||x.context===h)&&s(this,g);else{for(var v=0,w=[],S=x.length;v<S;v++)(x[v].fn!==f||m&&!x[v].once||h&&x[v].context!==h)&&w.push(x[v]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(gT)),gT.exports}var ERe=NRe();const ARe=Vr(ERe);var vT=new ARe,xT="recharts.syncMouseEvents";function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function TRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pee(n.key),n)}}function jRe(t,e,r){return e&&CRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yT(t,e,r){return e=pee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pee(t){var e=ORe(t,"string");return qg(e)=="symbol"?e:e+""}function ORe(t,e){if(qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IRe=(function(){function t(){TRe(this,t),yT(this,"activeIndex",0),yT(this,"coordinateList",[]),yT(this,"layout","horizontal")}return jRe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,m=r.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+u,m=s+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function PRe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&ut(n)&&ut(a))return!0}return!1}function kRe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function mee(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=fn(e,r,n,a),o=fn(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function DRe(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,m=fn(o,c,u,h),g=fn(o,c,f,h);n=m.x,a=m.y,i=g.x,s=g.y}else return mee(e);return[{x:n,y:a},{x:i,y:s}]}function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function t9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(r),!0).forEach(function(n){RRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RRe(t,e,r){return e=MRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MRe(t){var e=FRe(t,"string");return Wg(e)=="symbol"?e:e+""}function FRe(t,e){if(Wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LRe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!s||m!=="ScatterChart"&&a!=="axis")return null;var x,v=Jy;if(m==="ScatterChart")x=s,v=s8e;else if(m==="BarChart")x=kRe(h,s,c,f),v=CO;else if(h==="radial"){var w=mee(s),S=w.cx,b=w.cy,_=w.radius,E=w.startAngle,A=w.endAngle;x={cx:S,cy:b,startAngle:E,endAngle:A,innerRadius:_,outerRadius:_},v=gJ}else x={points:DRe(h,s,c)},v=Jy;var j=p1(p1(p1(p1({stroke:"#ccc",pointerEvents:"none"},c),x),zt(g,!1)),{},{payload:o,payloadIndex:u,className:or("recharts-tooltip-cursor",g.className)});return T.isValidElement(g)?T.cloneElement(g,j):T.createElement(v,j)}var BRe=["item"],$Re=["children","className","width","height","style","compact","title","desc"];function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mh.apply(this,arguments)}function r9(t,e){return HRe(t)||VRe(t,e)||vee(t,e)||URe()}function URe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function HRe(t){if(Array.isArray(t))return t}function n9(t,e){if(t==null)return{};var r=zRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xee(n.key),n)}}function GRe(t,e,r){return e&&WRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KRe(t,e,r){return e=_2(e),XRe(t,gee()?Reflect.construct(e,r||[],_2(t).constructor):e.apply(t,r))}function XRe(t,e){if(e&&(C0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QRe(t)}function QRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gee=function(){return!!t})()}function _2(t){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_2(t)}function YRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q4(t,e)}function q4(t,e){return q4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q4(t,e)}function j0(t){return e5e(t)||JRe(t)||vee(t)||ZRe()}function ZRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(t,e){if(t){if(typeof t=="string")return W4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W4(t,e)}}function JRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e5e(t){if(Array.isArray(t))return W4(t)}function W4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(r),!0).forEach(function(n){Gt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gt(t,e,r){return e=xee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xee(t){var e=t5e(t,"string");return C0(e)=="symbol"?e:e+""}function t5e(t,e){if(C0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r5e={xAxis:["bottom","top"],yAxis:["left","right"]},n5e={width:"100%",height:"100%"},yee={x:0,y:0};function m1(t){return t}var a5e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},i5e=function(e,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return $e($e($e({},a),fn(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,u=a.angle;return $e($e($e({},a),fn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return yee},Kw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(j0(o),j0(u)):o},[]);return s.length>0?s:e&&e.length&&ut(a)&&ut(i)?e.slice(a,i+1):[]};function wee(t){return t==="number"?[0,"auto"]:void 0}var G4=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=Kw(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(s.dataKey&&!s.allowDuplicatedCategory){var g=h===void 0?o:h;m=Ey(g,s.dataKey,a)}else m=h&&h[n]||o[n];return m?[].concat(j0(c),[uJ(u,m)]):c},[])},i9=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=a5e(i,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=I3e(s,o,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,m=G4(e,r,f,h),g=i5e(n,o,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:g}}return null},s5e=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,h=e.children,m=e.stackOffset,g=aJ(f,i);return n.reduce(function(x,v){var w,S=v.type.defaultProps!==void 0?$e($e({},v.type.defaultProps),v.props):v.props,b=S.type,_=S.dataKey,E=S.allowDataOverflow,A=S.allowDuplicatedCategory,j=S.scale,O=S.ticks,D=S.includeHidden,M=S[s];if(x[M])return x;var k=Kw(e.data,{graphicalItems:a.filter(function(F){var ee,K=s in F.props?F.props[s]:(ee=F.type.defaultProps)===null||ee===void 0?void 0:ee[s];return K===M}),dataStartIndex:c,dataEndIndex:u}),I=k.length,R,L,U;PRe(S.domain,E,b)&&(R=o4(S.domain,null,E),g&&(b==="number"||j!=="auto")&&(U=Cm(k,_,"category")));var X=wee(b);if(!R||R.length===0){var ue,he=(ue=S.domain)!==null&&ue!==void 0?ue:X;if(_){if(R=Cm(k,_,b),b==="category"&&g){var J=ESe(R);A&&J?(L=R,R=c2(0,I)):A||(R=a7(he,R,v).reduce(function(F,ee){return F.indexOf(ee)>=0?F:[].concat(j0(F),[ee])},[]))}else if(b==="category")A?R=R.filter(function(F){return F!==""&&!rr(F)}):R=a7(he,R,v).reduce(function(F,ee){return F.indexOf(ee)>=0||ee===""||rr(ee)?F:[].concat(j0(F),[ee])},[]);else if(b==="number"){var ne=M3e(k,a.filter(function(F){var ee,K,ae=s in F.props?F.props[s]:(ee=F.type.defaultProps)===null||ee===void 0?void 0:ee[s],q="hide"in F.props?F.props.hide:(K=F.type.defaultProps)===null||K===void 0?void 0:K.hide;return ae===M&&(D||!q)}),_,i,f);ne&&(R=ne)}g&&(b==="number"||j!=="auto")&&(U=Cm(k,_,"category"))}else g?R=c2(0,I):o&&o[M]&&o[M].hasStack&&b==="number"?R=m==="expand"?[0,1]:cJ(o[M].stackGroups,c,u):R=nJ(k,a.filter(function(F){var ee=s in F.props?F.props[s]:F.type.defaultProps[s],K="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return ee===M&&(D||!K)}),b,f,!0);if(b==="number")R=z4(h,R,M,i,O),he&&(R=o4(he,R,E));else if(b==="category"&&he){var G=he,z=R.every(function(F){return G.indexOf(F)>=0});z&&(R=G)}}return $e($e({},x),{},Gt({},M,$e($e({},S),{},{axisType:i,domain:R,categoricalDomain:U,duplicateDomain:L,originalDomain:(w=S.domain)!==null&&w!==void 0?w:X,isCategorical:g,layout:f})))},{})},o5e=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,h=e.children,m=Kw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=aJ(f,i),v=-1;return n.reduce(function(w,S){var b=S.type.defaultProps!==void 0?$e($e({},S.type.defaultProps),S.props):S.props,_=b[s],E=wee("number");if(!w[_]){v++;var A;return x?A=c2(0,g):o&&o[_]&&o[_].hasStack?(A=cJ(o[_].stackGroups,c,u),A=z4(h,A,_,i)):(A=o4(E,nJ(m,n.filter(function(j){var O,D,M=s in j.props?j.props[s]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[s],k="hide"in j.props?j.props.hide:(D=j.type.defaultProps)===null||D===void 0?void 0:D.hide;return M===_&&!k}),"number",f),a.defaultProps.allowDataOverflow),A=z4(h,A,_,i)),$e($e({},w),{},Gt({},_,$e($e({axisType:i},a.defaultProps),{},{hide:!0,orientation:Os(r5e,"".concat(i,".").concat(v%2),null),domain:A,originalDomain:E,isCategorical:x,layout:f})))}return w},{})},l5e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,h="".concat(a,"Id"),m=Is(f,i),g={};return m&&m.length?g=s5e(e,{axes:m,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(g=o5e(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),g},c5e=function(e){var r=nu(e),n=Zl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Qy(r,n)}},s9=function(e){var r=e.children,n=e.defaultShowTooltip,a=ys(r,x0),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},u5e=function(e){return!e||!e.length?!1:e.some(function(r){var n=nc(r&&r.type);return n&&n.indexOf("Bar")>=0})},o9=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},f5e=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,c=o===void 0?{}:o,u=n.width,f=n.height,h=n.children,m=n.margin||{},g=ys(h,x0),x=ys(h,jh),v=Object.keys(c).reduce(function(A,j){var O=c[j],D=O.orientation;return!O.mirror&&!O.hide?$e($e({},A),{},Gt({},D,A[D]+O.width)):A},{left:m.left||0,right:m.right||0}),w=Object.keys(s).reduce(function(A,j){var O=s[j],D=O.orientation;return!O.mirror&&!O.hide?$e($e({},A),{},Gt({},D,Os(A,"".concat(D))+O.height)):A},{top:m.top||0,bottom:m.bottom||0}),S=$e($e({},w),v),b=S.bottom;g&&(S.bottom+=g.props.height||x0.defaultProps.height),x&&r&&(S=D3e(S,a,n,r));var _=u-S.left-S.right,E=f-S.top-S.bottom;return $e($e({brushBottom:b},S),{},{width:Math.max(_,0),height:Math.max(E,0)})},d5e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},LO=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,m=function(S,b){var _=b.graphicalItems,E=b.stackGroups,A=b.offset,j=b.updateId,O=b.dataStartIndex,D=b.dataEndIndex,M=S.barSize,k=S.layout,I=S.barGap,R=S.barCategoryGap,L=S.maxBarSize,U=o9(k),X=U.numericAxisName,ue=U.cateAxisName,he=u5e(_),J=[];return _.forEach(function(ne,G){var z=Kw(S.data,{graphicalItems:[ne],dataStartIndex:O,dataEndIndex:D}),F=ne.type.defaultProps!==void 0?$e($e({},ne.type.defaultProps),ne.props):ne.props,ee=F.dataKey,K=F.maxBarSize,ae=F["".concat(X,"Id")],q=F["".concat(ue,"Id")],pe={},W=c.reduce(function(qe,se){var ye=b["".concat(se.axisType,"Map")],_e=F["".concat(se.axisType,"Id")];ye&&ye[_e]||se.axisType==="zAxis"||ad();var Ye=ye[_e];return $e($e({},qe),{},Gt(Gt({},se.axisType,Ye),"".concat(se.axisType,"Ticks"),Zl(Ye)))},pe),V=W[ue],fe=W["".concat(ue,"Ticks")],Se=E&&E[ae]&&E[ae].hasStack&&q3e(ne,E[ae].stackGroups),ve=nc(ne.type).indexOf("Bar")>=0,gt=Qy(V,fe),Y=[],Oe=he&&P3e({barSize:M,stackGroups:E,totalSize:d5e(W,ue)});if(ve){var Re,Me,st=rr(K)?L:K,qt=(Re=(Me=Qy(V,fe,!0))!==null&&Me!==void 0?Me:st)!==null&&Re!==void 0?Re:0;Y=k3e({barGap:I,barCategoryGap:R,bandSize:qt!==gt?qt:gt,sizeList:Oe[q],maxBarSize:st}),qt!==gt&&(Y=Y.map(function(qe){return $e($e({},qe),{},{position:$e($e({},qe.position),{},{offset:qe.position.offset-qt/2})})}))}var we=ne&&ne.type&&ne.type.getComposedData;we&&J.push({props:$e($e({},we($e($e({},W),{},{displayedData:z,props:S,dataKey:ee,item:ne,bandSize:gt,barPosition:Y,offset:A,stackedData:Se,layout:k,dataStartIndex:O,dataEndIndex:D}))),{},Gt(Gt(Gt({key:ne.key||"item-".concat(G)},X,W[X]),ue,W[ue]),"animationId",j)),childIndex:FSe(ne,S.children),item:ne})}),J},g=function(S,b){var _=S.props,E=S.dataStartIndex,A=S.dataEndIndex,j=S.updateId;if(!xR({props:_}))return null;var O=_.children,D=_.layout,M=_.stackOffset,k=_.data,I=_.reverseStackOrder,R=o9(D),L=R.numericAxisName,U=R.cateAxisName,X=Is(O,n),ue=H3e(k,X,"".concat(L,"Id"),"".concat(U,"Id"),M,I),he=c.reduce(function(F,ee){var K="".concat(ee.axisType,"Map");return $e($e({},F),{},Gt({},K,l5e(_,$e($e({},ee),{},{graphicalItems:X,stackGroups:ee.axisType===L&&ue,dataStartIndex:E,dataEndIndex:A}))))},{}),J=f5e($e($e({},he),{},{props:_,graphicalItems:X}),b==null?void 0:b.legendBBox);Object.keys(he).forEach(function(F){he[F]=f(_,he[F],J,F.replace("Map",""),r)});var ne=he["".concat(U,"Map")],G=c5e(ne),z=m(_,$e($e({},he),{},{dataStartIndex:E,dataEndIndex:A,updateId:j,graphicalItems:X,stackGroups:ue,offset:J}));return $e($e({formattedGraphicalItems:z,graphicalItems:X,offset:J,stackGroups:ue},G),he)},x=(function(w){function S(b){var _,E,A;return qRe(this,S),A=KRe(this,S,[b]),Gt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Gt(A,"accessibilityManager",new IRe),Gt(A,"handleLegendBBoxUpdate",function(j){if(j){var O=A.state,D=O.dataStartIndex,M=O.dataEndIndex,k=O.updateId;A.setState($e({legendBBox:j},g({props:A.props,dataStartIndex:D,dataEndIndex:M,updateId:k},$e($e({},A.state),{},{legendBBox:j}))))}}),Gt(A,"handleReceiveSyncEvent",function(j,O,D){if(A.props.syncId===j){if(D===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(O)}}),Gt(A,"handleBrushChange",function(j){var O=j.startIndex,D=j.endIndex;if(O!==A.state.dataStartIndex||D!==A.state.dataEndIndex){var M=A.state.updateId;A.setState(function(){return $e({dataStartIndex:O,dataEndIndex:D},g({props:A.props,dataStartIndex:O,dataEndIndex:D,updateId:M},A.state))}),A.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),Gt(A,"handleMouseEnter",function(j){var O=A.getMouseInfo(j);if(O){var D=$e($e({},O),{},{isTooltipActive:!0});A.setState(D),A.triggerSyncEvent(D);var M=A.props.onMouseEnter;Zt(M)&&M(D,j)}}),Gt(A,"triggeredAfterMouseMove",function(j){var O=A.getMouseInfo(j),D=O?$e($e({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(D),A.triggerSyncEvent(D);var M=A.props.onMouseMove;Zt(M)&&M(D,j)}),Gt(A,"handleItemMouseEnter",function(j){A.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Gt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Gt(A,"handleMouseMove",function(j){j.persist(),A.throttleTriggeredAfterMouseMove(j)}),Gt(A,"handleMouseLeave",function(j){A.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};A.setState(O),A.triggerSyncEvent(O);var D=A.props.onMouseLeave;Zt(D)&&D(O,j)}),Gt(A,"handleOuterEvent",function(j){var O=MSe(j),D=Os(A.props,"".concat(O));if(O&&Zt(D)){var M,k;/.*touch.*/i.test(O)?k=A.getMouseInfo(j.changedTouches[0]):k=A.getMouseInfo(j),D((M=k)!==null&&M!==void 0?M:{},j)}}),Gt(A,"handleClick",function(j){var O=A.getMouseInfo(j);if(O){var D=$e($e({},O),{},{isTooltipActive:!0});A.setState(D),A.triggerSyncEvent(D);var M=A.props.onClick;Zt(M)&&M(D,j)}}),Gt(A,"handleMouseDown",function(j){var O=A.props.onMouseDown;if(Zt(O)){var D=A.getMouseInfo(j);O(D,j)}}),Gt(A,"handleMouseUp",function(j){var O=A.props.onMouseUp;if(Zt(O)){var D=A.getMouseInfo(j);O(D,j)}}),Gt(A,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Gt(A,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.handleMouseDown(j.changedTouches[0])}),Gt(A,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.handleMouseUp(j.changedTouches[0])}),Gt(A,"handleDoubleClick",function(j){var O=A.props.onDoubleClick;if(Zt(O)){var D=A.getMouseInfo(j);O(D,j)}}),Gt(A,"handleContextMenu",function(j){var O=A.props.onContextMenu;if(Zt(O)){var D=A.getMouseInfo(j);O(D,j)}}),Gt(A,"triggerSyncEvent",function(j){A.props.syncId!==void 0&&vT.emit(xT,A.props.syncId,j,A.eventEmitterSymbol)}),Gt(A,"applySyncEvent",function(j){var O=A.props,D=O.layout,M=O.syncMethod,k=A.state.updateId,I=j.dataStartIndex,R=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)A.setState($e({dataStartIndex:I,dataEndIndex:R},g({props:A.props,dataStartIndex:I,dataEndIndex:R,updateId:k},A.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,U=j.chartY,X=j.activeTooltipIndex,ue=A.state,he=ue.offset,J=ue.tooltipTicks;if(!he)return;if(typeof M=="function")X=M(J,j);else if(M==="value"){X=-1;for(var ne=0;ne<J.length;ne++)if(J[ne].value===j.activeLabel){X=ne;break}}var G=$e($e({},he),{},{x:he.left,y:he.top}),z=Math.min(L,G.x+G.width),F=Math.min(U,G.y+G.height),ee=J[X]&&J[X].value,K=G4(A.state,A.props.data,X),ae=J[X]?{x:D==="horizontal"?J[X].coordinate:z,y:D==="horizontal"?F:J[X].coordinate}:yee;A.setState($e($e({},j),{},{activeLabel:ee,activeCoordinate:ae,activePayload:K,activeTooltipIndex:X}))}else A.setState(j)}),Gt(A,"renderCursor",function(j){var O,D=A.state,M=D.isTooltipActive,k=D.activeCoordinate,I=D.activePayload,R=D.offset,L=D.activeTooltipIndex,U=D.tooltipAxisBandSize,X=A.getTooltipEventType(),ue=(O=j.props.active)!==null&&O!==void 0?O:M,he=A.props.layout,J=j.key||"_recharts-cursor";return oe.createElement(LRe,{key:J,activeCoordinate:k,activePayload:I,activeTooltipIndex:L,chartName:r,element:j,isActive:ue,layout:he,offset:R,tooltipAxisBandSize:U,tooltipEventType:X})}),Gt(A,"renderPolarAxis",function(j,O,D){var M=Os(j,"type.axisType"),k=Os(A.state,"".concat(M,"Map")),I=j.type.defaultProps,R=I!==void 0?$e($e({},I),j.props):j.props,L=k&&k[R["".concat(M,"Id")]];return T.cloneElement(j,$e($e({},L),{},{className:or(M,L.className),key:j.key||"".concat(O,"-").concat(D),ticks:Zl(L,!0)}))}),Gt(A,"renderPolarGrid",function(j){var O=j.props,D=O.radialLines,M=O.polarAngles,k=O.polarRadius,I=A.state,R=I.radiusAxisMap,L=I.angleAxisMap,U=nu(R),X=nu(L),ue=X.cx,he=X.cy,J=X.innerRadius,ne=X.outerRadius;return T.cloneElement(j,{polarAngles:Array.isArray(M)?M:Zl(X,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(k)?k:Zl(U,!0).map(function(G){return G.coordinate}),cx:ue,cy:he,innerRadius:J,outerRadius:ne,key:j.key||"polar-grid",radialLines:D})}),Gt(A,"renderLegend",function(){var j=A.state.formattedGraphicalItems,O=A.props,D=O.children,M=O.width,k=O.height,I=A.props.margin||{},R=M-(I.left||0)-(I.right||0),L=tJ({children:D,formattedGraphicalItems:j,legendWidth:R,legendContent:u});if(!L)return null;var U=L.item,X=n9(L,BRe);return T.cloneElement(U,$e($e({},X),{},{chartWidth:M,chartHeight:k,margin:I,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Gt(A,"renderTooltip",function(){var j,O=A.props,D=O.children,M=O.accessibilityLayer,k=ys(D,Yi);if(!k)return null;var I=A.state,R=I.isTooltipActive,L=I.activeCoordinate,U=I.activePayload,X=I.activeLabel,ue=I.offset,he=(j=k.props.active)!==null&&j!==void 0?j:R;return T.cloneElement(k,{viewBox:$e($e({},ue),{},{x:ue.left,y:ue.top}),active:he,label:X,payload:he?U:[],coordinate:L,accessibilityLayer:M})}),Gt(A,"renderBrush",function(j){var O=A.props,D=O.margin,M=O.data,k=A.state,I=k.offset,R=k.dataStartIndex,L=k.dataEndIndex,U=k.updateId;return T.cloneElement(j,{key:j.key||"_recharts-brush",onChange:u1(A.handleBrushChange,j.props.onChange),data:M,x:ut(j.props.x)?j.props.x:I.left,y:ut(j.props.y)?j.props.y:I.top+I.height+I.brushBottom-(D.bottom||0),width:ut(j.props.width)?j.props.width:I.width,startIndex:R,endIndex:L,updateId:"brush-".concat(U)})}),Gt(A,"renderReferenceElement",function(j,O,D){if(!j)return null;var M=A,k=M.clipPathId,I=A.state,R=I.xAxisMap,L=I.yAxisMap,U=I.offset,X=j.type.defaultProps||{},ue=j.props,he=ue.xAxisId,J=he===void 0?X.xAxisId:he,ne=ue.yAxisId,G=ne===void 0?X.yAxisId:ne;return T.cloneElement(j,{key:j.key||"".concat(O,"-").concat(D),xAxis:R[J],yAxis:L[G],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),Gt(A,"renderActivePoints",function(j){var O=j.item,D=j.activePoint,M=j.basePoint,k=j.childIndex,I=j.isRange,R=[],L=O.props.key,U=O.item.type.defaultProps!==void 0?$e($e({},O.item.type.defaultProps),O.item.props):O.item.props,X=U.activeDot,ue=U.dataKey,he=$e($e({index:k,dataKey:ue,cx:D.x,cy:D.y,r:4,fill:TO(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},zt(X,!1)),Ay(X));return R.push(S.renderActiveDot(X,he,"".concat(L,"-activePoint-").concat(k))),M?R.push(S.renderActiveDot(X,$e($e({},he),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat(k))):I&&R.push(null),R}),Gt(A,"renderGraphicChild",function(j,O,D){var M=A.filterFormatItem(j,O,D);if(!M)return null;var k=A.getTooltipEventType(),I=A.state,R=I.isTooltipActive,L=I.tooltipAxis,U=I.activeTooltipIndex,X=I.activeLabel,ue=A.props.children,he=ys(ue,Yi),J=M.props,ne=J.points,G=J.isRange,z=J.baseLine,F=M.item.type.defaultProps!==void 0?$e($e({},M.item.type.defaultProps),M.item.props):M.item.props,ee=F.activeDot,K=F.hide,ae=F.activeBar,q=F.activeShape,pe=!!(!K&&R&&he&&(ee||ae||q)),W={};k!=="axis"&&he&&he.props.trigger==="click"?W={onClick:u1(A.handleItemMouseEnter,j.props.onClick)}:k!=="axis"&&(W={onMouseLeave:u1(A.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:u1(A.handleItemMouseEnter,j.props.onMouseEnter)});var V=T.cloneElement(j,$e($e({},M.props),W));function fe(se){return typeof L.dataKey=="function"?L.dataKey(se.payload):null}if(pe)if(U>=0){var Se,ve;if(L.dataKey&&!L.allowDuplicatedCategory){var gt=typeof L.dataKey=="function"?fe:"payload.".concat(L.dataKey.toString());Se=Ey(ne,gt,X),ve=G&&z&&Ey(z,gt,X)}else Se=ne==null?void 0:ne[U],ve=G&&z&&z[U];if(q||ae){var Y=j.props.activeIndex!==void 0?j.props.activeIndex:U;return[T.cloneElement(j,$e($e($e({},M.props),W),{},{activeIndex:Y})),null,null]}if(!rr(Se))return[V].concat(j0(A.renderActivePoints({item:M,activePoint:Se,basePoint:ve,childIndex:U,isRange:G})))}else{var Oe,Re=(Oe=A.getItemByXY(A.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:V},Me=Re.graphicalItem,st=Me.item,qt=st===void 0?j:st,we=Me.childIndex,qe=$e($e($e({},M.props),W),{},{activeIndex:we});return[T.cloneElement(qt,qe),null,null]}return G?[V,null,null]:[V,null]}),Gt(A,"renderCustomized",function(j,O,D){return T.cloneElement(j,$e($e({key:"recharts-customized-".concat(D)},A.props),A.state))}),Gt(A,"renderMap",{CartesianGrid:{handler:m1,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:m1},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:m1},YAxis:{handler:m1},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Q0("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=eZ(A.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),A.state={},A}return YRe(S,w),GRe(S,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,A=_.data,j=_.height,O=_.layout,D=ys(E,Yi);if(D){var M=D.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,I=G4(this.state,A,M,k),R=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+j)/2,U=O==="horizontal",X=U?{x:R,y:L}:{y:R,x:L},ue=this.state.formattedGraphicalItems.find(function(J){var ne=J.item;return ne.type.name==="Scatter"});ue&&(X=$e($e({},X),ue.props.points[M].tooltipPosition),I=ue.props.points[M].tooltipPayload);var he={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:k,activePayload:I,activeCoordinate:X};this.setState(he),this.renderCursor(D),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var A,j;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(_){jC([ys(_.children,Yi)],[ys(this.props.children,Yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=ys(this.props.children,Yi);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return o.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,A=E.getBoundingClientRect(),j=STe(A),O={chartX:Math.round(_.pageX-j.left),chartY:Math.round(_.pageY-j.top)},D=A.width/E.offsetWidth||1,M=this.inRange(O.chartX,O.chartY,D);if(!M)return null;var k=this.state,I=k.xAxisMap,R=k.yAxisMap,L=this.getTooltipEventType(),U=i9(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&I&&R){var X=nu(I).scale,ue=nu(R).scale,he=X&&X.invert?X.invert(O.chartX):null,J=ue&&ue.invert?ue.invert(O.chartY):null;return $e($e({},O),{},{xValue:he,yValue:J},U)}return U?$e($e({},O),U):null}},{key:"inRange",value:function(_,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,O=_/A,D=E/A;if(j==="horizontal"||j==="vertical"){var M=this.state.offset,k=O>=M.left&&O<=M.left+M.width&&D>=M.top&&D<=M.top+M.height;return k?{x:O,y:D}:null}var I=this.state,R=I.angleAxisMap,L=I.radiusAxisMap;if(R&&L){var U=nu(R);return o7({x:O,y:D},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),A=ys(_,Yi),j={};A&&E==="axis"&&(A.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Ay(this.props,this.handleOuterEvent);return $e($e({},O),j)}},{key:"addListener",value:function(){vT.on(xT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vT.removeListener(xT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,A){for(var j=this.state.formattedGraphicalItems,O=0,D=j.length;O<D;O++){var M=j[O];if(M.item===_||M.props.key===_.key||E===nc(M.item.type)&&A===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,A=E.left,j=E.top,O=E.height,D=E.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:_},oe.createElement("rect",{x:A,y:j,height:O,width:D})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,A){var j=r9(A,2),O=j[0],D=j[1];return $e($e({},E),{},Gt({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,A){var j=r9(A,2),O=j[0],D=j[1];return $e($e({},E),{},Gt({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,A=E.formattedGraphicalItems,j=E.activeItem;if(A&&A.length)for(var O=0,D=A.length;O<D;O++){var M=A[O],k=M.props,I=M.item,R=I.type.defaultProps!==void 0?$e($e({},I.type.defaultProps),I.props):I.props,L=nc(I.type);if(L==="Bar"){var U=(k.data||[]).find(function(J){return $Pe(_,J)});if(U)return{graphicalItem:M,payload:U}}else if(L==="RadialBar"){var X=(k.data||[]).find(function(J){return o7(_,J)});if(X)return{graphicalItem:M,payload:X}}else if(Uw(M,j)||Vw(M,j)||$g(M,j)){var ue=cke({graphicalItem:M,activeTooltipItem:j,itemData:R.data}),he=R.activeIndex===void 0?ue:R.activeIndex;return{graphicalItem:$e($e({},M),{},{childIndex:he}),payload:$g(M,j)?R.data[ue]:M.props.data[ue]}}}return null}},{key:"render",value:function(){var _=this;if(!xR(this))return null;var E=this.props,A=E.children,j=E.className,O=E.width,D=E.height,M=E.style,k=E.compact,I=E.title,R=E.desc,L=n9(E,$Re),U=zt(L,!1);if(k)return oe.createElement(FL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(IC,mh({},U,{width:O,height:D,title:I,desc:R}),this.renderClipPath(),wR(A,this.renderMap)));if(this.props.accessibilityLayer){var X,ue;U.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,U.role=(ue=this.props.role)!==null&&ue!==void 0?ue:"application",U.onKeyDown=function(J){_.accessibilityManager.keyboardEvent(J)},U.onFocus=function(){_.accessibilityManager.focus()}}var he=this.parseEventsOfWrapper();return oe.createElement(FL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",mh({className:or("recharts-wrapper",j),style:$e({position:"relative",cursor:"default",width:O,height:D},M)},he,{ref:function(ne){_.container=ne}}),oe.createElement(IC,mh({},U,{width:O,height:D,title:I,desc:R,style:n5e}),this.renderClipPath(),wR(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(T.Component);Gt(x,"displayName",r),Gt(x,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Gt(x,"getDerivedStateFromProps",function(w,S){var b=w.dataKey,_=w.data,E=w.children,A=w.width,j=w.height,O=w.layout,D=w.stackOffset,M=w.margin,k=S.dataStartIndex,I=S.dataEndIndex;if(S.updateId===void 0){var R=s9(w);return $e($e($e({},R),{},{updateId:0},g($e($e({props:w},R),{},{updateId:0}),S)),{},{prevDataKey:b,prevData:_,prevWidth:A,prevHeight:j,prevLayout:O,prevStackOffset:D,prevMargin:M,prevChildren:E})}if(b!==S.prevDataKey||_!==S.prevData||A!==S.prevWidth||j!==S.prevHeight||O!==S.prevLayout||D!==S.prevStackOffset||!Ch(M,S.prevMargin)){var L=s9(w),U={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},X=$e($e({},i9(S,_,O)),{},{updateId:S.updateId+1}),ue=$e($e($e({},L),U),X);return $e($e($e({},ue),g($e({props:w},ue),S)),{},{prevDataKey:b,prevData:_,prevWidth:A,prevHeight:j,prevLayout:O,prevStackOffset:D,prevMargin:M,prevChildren:E})}if(!jC(E,S.prevChildren)){var he,J,ne,G,z=ys(E,x0),F=z&&(he=(J=z.props)===null||J===void 0?void 0:J.startIndex)!==null&&he!==void 0?he:k,ee=z&&(ne=(G=z.props)===null||G===void 0?void 0:G.endIndex)!==null&&ne!==void 0?ne:I,K=F!==k||ee!==I,ae=!rr(_),q=ae&&!K?S.updateId:S.updateId+1;return $e($e({updateId:q},g($e($e({props:w},S),{},{updateId:q,dataStartIndex:F,dataEndIndex:ee}),S)),{},{prevChildren:E,dataStartIndex:F,dataEndIndex:ee})}return null}),Gt(x,"renderActiveDot",function(w,S,b){var _;return T.isValidElement(w)?_=T.cloneElement(w,S):Zt(w)?_=w(S):_=oe.createElement(Mw,S),oe.createElement(Pr,{className:"recharts-active-dot",key:b},_)});var v=T.forwardRef(function(S,b){return oe.createElement(x,mh({},S,{ref:b}))});return v.displayName=x.displayName,v},l9=LO({chartName:"LineChart",GraphicalChild:E0,axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Ff}],formatAxisMap:$J}),h5e=LO({chartName:"BarChart",GraphicalChild:wd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Ff}],formatAxisMap:$J}),c9=LO({chartName:"PieChart",GraphicalChild:Nl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$w},{axisType:"radiusAxis",AxisComp:Lw}],formatAxisMap:tOe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const af=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function p5e(){var F,ee,K,ae,q,pe,W,V,fe,Se,ve,gt,Y,Oe,Re,Me,st,qt;const t=El(),e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),a=r.toISOString().split("T")[0],i=n.toISOString().split("T")[0],[s,o]=T.useState({startDate:a,endDate:i}),[c,u]=T.useState("summary"),[f,h]=T.useState("all"),[m,g]=T.useState(null),[x,v]=T.useState(!1);T.useEffect(()=>{const we=()=>{console.log("Window focused, refreshing reports..."),t.invalidateQueries({queryKey:["/api/reports/sales-summary"]}),t.invalidateQueries({queryKey:["/api/reports/product-performance"]}),t.invalidateQueries({queryKey:["/api/reports/customer-analytics"]}),t.invalidateQueries({queryKey:["/api/reports/profit-analysis"]}),t.invalidateQueries({queryKey:["/api/discount-reports/summary"]})},qe=()=>{document.hidden||we()},se=()=>{console.log("New order event received, refreshing reports..."),t.invalidateQueries({queryKey:["/api/reports/sales-summary"]}),t.invalidateQueries({queryKey:["/api/reports/product-performance"]}),t.invalidateQueries({queryKey:["/api/reports/customer-analytics"]}),t.invalidateQueries({queryKey:["/api/reports/profit-analysis"]}),t.invalidateQueries({queryKey:["/api/discount-reports/summary"]})};return window.addEventListener("focus",we),document.addEventListener("visibilitychange",qe),window.addEventListener("newOrderCreated",se),()=>{window.removeEventListener("focus",we),document.removeEventListener("visibilitychange",qe),window.removeEventListener("newOrderCreated",se)}},[t]);const{data:w=[]}=Ft({queryKey:["/api/storeswitch/my-stores"],queryFn:async()=>{try{const we=await fetch("http://101.53.9.76:5273/api/storeswitch/my-stores",{headers:{Username:"admin"}});if(!we.ok)throw new Error("Failed to fetch stores");return we.json()}catch(we){return console.error("Error fetching stores:",we),[]}},staleTime:600*1e3}),S=f!=="all"?`&storeId=${f}`:"",{data:b,isLoading:_}=Ft({queryKey:["/api/reports/sales-summary",s.startDate,s.endDate,f],queryFn:async()=>{const we=await fetch(`http://101.53.9.76:5273/api/reports/sales-summary?startDate=${s.startDate}&endDate=${s.endDate}${S}`);if(!we.ok)throw new Error("Failed to fetch sales summary");return we.json()},enabled:!!s.startDate&&!!s.endDate,refetchInterval:3e4}),{data:E,isLoading:A}=Ft({queryKey:["/api/reports/product-performance",s.startDate,s.endDate,f],queryFn:async()=>{const we=await fetch(`http://101.53.9.76:5273/api/reports/product-performance?startDate=${s.startDate}&endDate=${s.endDate}${S}`);if(!we.ok)throw new Error("Failed to fetch product performance");return we.json()},enabled:!!s.startDate&&!!s.endDate,refetchInterval:3e4}),{data:j,isLoading:O}=Ft({queryKey:["/api/reports/customer-analytics",s.startDate,s.endDate,f],queryFn:async()=>{const we=await fetch(`http://101.53.9.76:5273/api/reports/customer-analytics?startDate=${s.startDate}&endDate=${s.endDate}${S}`);if(!we.ok)throw new Error("Failed to fetch customer analytics");return we.json()},enabled:!!s.startDate&&!!s.endDate,refetchInterval:3e4}),{data:D,isLoading:M}=Ft({queryKey:["/api/reports/profit-analysis",s.startDate,s.endDate,f],queryFn:async()=>{const we=await fetch(`http://101.53.9.76:5273/api/reports/profit-analysis?startDate=${s.startDate}&endDate=${s.endDate}${S}`);if(!we.ok)throw new Error("Failed to fetch profit analysis");return we.json()},enabled:!!s.startDate&&!!s.endDate,refetchInterval:3e4}),{data:k,isLoading:I}=Ft({queryKey:["/api/discount-reports/summary",s.startDate,s.endDate],queryFn:async()=>{let we="http://101.53.9.76:5273/api/discount-reports/summary";s.startDate&&s.endDate&&(we+=`?startDate=${s.startDate}&endDate=${s.endDate}`),console.log("Fetching discount summary from:",we);const qe=await fetch(we);if(!qe.ok)throw new Error("Failed to fetch discount reports");const se=await qe.json();return console.log("Discount Summary result:",se),se},enabled:!!s.startDate&&!!s.endDate,refetchInterval:3e4}),{data:R,isLoading:L}=Ft({queryKey:["/api/discount-reports/orders",s.startDate,s.endDate],queryFn:async()=>{var ye,_e;let we="http://101.53.9.76:5273/api/discount-reports/orders";s.startDate&&s.endDate&&(we+=`?startDate=${s.startDate}&endDate=${s.endDate}`),console.log("Fetching discount orders from:",we);const qe=await fetch(we);if(!qe.ok)throw new Error("Failed to fetch discount orders");const se=await qe.json();return console.log("Discount Orders result:",se),console.log("Discount Orders structure:",{isArray:Array.isArray(se),hasOrders:!!se.orders,firstOrder:((ye=se.orders)==null?void 0:ye[0])||se[0],totalCount:((_e=se.orders)==null?void 0:_e.length)||se.length}),se},enabled:!!s.startDate&&!!s.endDate,refetchInterval:3e4}),{data:U,isLoading:X}=Ft({queryKey:["/api/orders",m,"detail"],queryFn:async()=>{if(!m)return null;console.log("Fetching order detail for ID:",m);const we=await fetch(`http://101.53.9.76:5273/api/orders/${m}`);if(!we.ok)throw console.error("Failed to fetch order detail:",we.status,we.statusText),new Error("Failed to fetch order detail");const qe=await we.json();return console.log("Order detail response:",qe),qe},enabled:!!m&&x}),ue=_||A||O||M||I||L,he=((F=E==null?void 0:E.topProducts)==null?void 0:F.map(we=>({name:we.name,revenue:parseFloat(we.revenue.replace(/[₫.,]/g,"")),sold:we.totalSold})))||[],J=((ee=E==null?void 0:E.topProducts)==null?void 0:ee.slice(0,4).map((we,qe)=>({name:we.name,value:parseFloat(we.revenue.replace(/[₫.,]/g,"")),color:af[qe]})))||[],ne=((K=D==null?void 0:D.monthlyTrend)==null?void 0:K.map(we=>({month:we.month,profit:parseFloat(we.profit.replace(/[₫.,]/g,"")),margin:parseFloat(we.margin.replace("%",""))})))||[],G=we=>{var se;console.log("Viewing order detail for:",we),console.log("Available discount orders:",R);const qe=(se=R==null?void 0:R.orders)==null?void 0:se.find(ye=>ye.orderId===we);console.log("Found order with discounts:",qe),g(we),v(!0)},z=()=>{var tr,Sr,ks,$i;if(!b&&!E&&!j&&!D){alert("Chưa có dữ liệu để xuất báo cáo. Vui lòng chờ dữ liệu tải xong.");return}const we=ci.book_new(),qe=[["BÁO CÁO TỔNG QUAN DOANH THU"],[`Từ ngày: ${s.startDate} đến ngày: ${s.endDate}`],[`Thời gian xuất: ${new Date().toLocaleString("vi-VN")}`],[""],["Chỉ số","Giá trị","So với tháng trước"],["Tổng doanh thu",(b==null?void 0:b.totalRevenue)||"0₫",(b==null?void 0:b.revenueChange)||"0%"],["Tổng đơn hàng",(b==null?void 0:b.totalOrders)||"0",(b==null?void 0:b.ordersChange)||"0%"],["Tổng khách hàng",(b==null?void 0:b.totalCustomers)||"0",(b==null?void 0:b.customersChange)||"0%"],["Sản phẩm bán ra",(b==null?void 0:b.totalProductsSold)||"0",(b==null?void 0:b.productsChange)||"0%"]],se=ci.aoa_to_sheet(qe);ci.book_append_sheet(we,se,"Tổng quan");const ye=[["TOP SẢN PHẨM BÁN CHẠY"],[`Từ ngày: ${s.startDate} đến ngày: ${s.endDate}`],[""],["STT","Tên sản phẩm","Doanh thu","Số lượng bán","Lợi nhuận"]];((tr=E==null?void 0:E.topProducts)==null?void 0:tr.length)>0?E.topProducts.forEach((an,Go)=>{var ss;ye.push([(Go+1).toString(),an.name||"N/A",an.revenue||"0₫",((ss=an.totalSold)==null?void 0:ss.toString())||"0",an.profit||"0₫"])}):ye.push(["","Chưa có dữ liệu sản phẩm","","",""]);const _e=ci.aoa_to_sheet(ye);ci.book_append_sheet(we,_e,"Sản phẩm");const Ye=[["PHÂN TÍCH KHÁCH HÀNG"],[`Từ ngày: ${s.startDate} đến ngày: ${s.endDate}`],[""],["Chỉ số","Giá trị"],["Khách hàng mới",((Sr=j==null?void 0:j.newCustomers)==null?void 0:Sr.toString())||"0"],["Khách hàng quay lại",((ks=j==null?void 0:j.returningCustomers)==null?void 0:ks.toString())||"0"],["Tỷ lệ giữ chân",(j==null?void 0:j.retentionRate)||"0%"],["Giá trị trung bình đơn hàng",(j==null?void 0:j.averageOrderValue)||"0₫"]],at=ci.aoa_to_sheet(Ye);ci.book_append_sheet(we,at,"Khách hàng");const He=[["PHÂN TÍCH LỢI NHUẬN"],[`Từ ngày: ${s.startDate} đến ngày: ${s.endDate}`],[""],["Tháng","Lợi nhuận","Tỷ lệ lợi nhuận"]];(($i=D==null?void 0:D.monthlyTrend)==null?void 0:$i.length)>0?D.monthlyTrend.forEach(an=>{He.push([an.month||"N/A",an.profit||"0₫",an.margin||"0%"])}):He.push(["","Chưa có dữ liệu lợi nhuận","",""]);const pt=ci.aoa_to_sheet(He);ci.book_append_sheet(we,pt,"Lợi nhuận");const kt=`Bao_cao_tong_quan_${s.startDate.replace(/-/g,"")}_den_${s.endDate.replace(/-/g,"")}.xlsx`;YQ(we,kt),alert(`Đã xuất báo cáo thành công! File: ${kt}`)};return l.jsxs(Ri,{title:"Báo cáo & Phân tích",children:[l.jsxs("div",{className:"space-y-6","data-testid":"reports-page",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(oie,{className:"w-5 h-5"}),"Bộ lọc báo cáo"]})}),l.jsx(Ve,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Từ ngày"}),l.jsx(tt,{type:"date",value:s.startDate,onChange:we=>o(qe=>({...qe,startDate:we.target.value})),"data-testid":"input-start-date"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Đến ngày"}),l.jsx(tt,{type:"date",value:s.endDate,onChange:we=>o(qe=>({...qe,endDate:we.target.value})),"data-testid":"input-end-date"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Cửa hàng"}),l.jsxs(fa,{value:f,onValueChange:h,children:[l.jsx(Kn,{"data-testid":"select-store",children:l.jsx(da,{placeholder:"Tất cả cửa hàng"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả cửa hàng"}),w.map(we=>l.jsx(er,{value:we.storeId.toString(),children:we.name},we.storeId))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Loại báo cáo"}),l.jsxs(fa,{value:c,onValueChange:u,children:[l.jsx(Kn,{"data-testid":"select-report-type",children:l.jsx(da,{})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"summary",children:"Tổng quan"}),l.jsx(er,{value:"detailed",children:"Chi tiết"}),l.jsx(er,{value:"comparison",children:"So sánh"})]})]})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs(ke,{variant:"outline",onClick:()=>{console.log("Manual refresh button clicked"),t.invalidateQueries({queryKey:["/api/reports/sales-summary"]}),t.invalidateQueries({queryKey:["/api/reports/product-performance"]}),t.invalidateQueries({queryKey:["/api/reports/customer-analytics"]}),t.invalidateQueries({queryKey:["/api/reports/profit-analysis"]})},className:"flex-1",children:[l.jsx(uj,{className:"w-4 h-4 mr-2"}),"Refresh"]}),l.jsxs(ke,{className:"flex-1","data-testid":"button-export",onClick:z,disabled:ue,children:[l.jsx(Vf,{className:"w-4 h-4 mr-2"}),ue?"Đang tải...":"Xuất báo cáo"]})]})]})})]}),ue?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((we,qe)=>l.jsx(Ue,{className:"animate-pulse",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})},qe))}):l.jsxs(U0,{defaultValue:"overview",className:"space-y-6",children:[l.jsxs(ld,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-1",children:[l.jsx(Wn,{value:"overview",children:"Tổng quan"}),l.jsx(Wn,{value:"products",children:"Sản phẩm"}),l.jsx(Wn,{value:"payment",children:"Thanh toán"}),l.jsx(Wn,{value:"customers",children:"Khách hàng"}),l.jsx(Wn,{value:"profit",children:"Lợi nhuận"}),l.jsx(Wn,{value:"discounts",children:"Giảm giá"})]}),l.jsxs(Gn,{value:"overview",className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Ue,{"data-testid":"card-total-revenue",children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tổng doanh thu"}),l.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.totalRevenue)||"0₫"})]}),l.jsx(BT,{className:"h-8 w-8 text-green-600"})]}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(_s,{className:"h-4 w-4 text-green-600 mr-1"}),l.jsx("span",{className:"text-xs text-green-600",children:"+12.5% so với tháng trước"})]})]})}),l.jsx(Ue,{"data-testid":"card-total-orders",children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tổng đơn hàng"}),l.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.totalOrders)||0})]}),l.jsx(Lm,{className:"h-8 w-8 text-blue-600"})]}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(_s,{className:"h-4 w-4 text-green-600 mr-1"}),l.jsx("span",{className:"text-xs text-green-600",children:"+8.2% so với tháng trước"})]})]})}),l.jsx(Ue,{"data-testid":"card-total-customers",children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tổng khách hàng"}),l.jsx("p",{className:"text-2xl font-bold",children:(j==null?void 0:j.totalCustomers)||0})]}),l.jsx(qf,{className:"h-8 w-8 text-purple-600"})]}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(_s,{className:"h-4 w-4 text-green-600 mr-1"}),l.jsxs("span",{className:"text-xs text-green-600",children:["+",(j==null?void 0:j.newCustomers)||0," khách mới"]})]})]})}),l.jsx(Ue,{"data-testid":"card-products-sold",children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sản phẩm bán ra"}),l.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.totalProductsSold)||0})]}),l.jsx(ja,{className:"h-8 w-8 text-orange-600"})]}),l.jsx("div",{className:"flex items-center mt-2",children:l.jsxs("span",{className:"text-xs text-muted-foreground",children:["Phổ biến: ",(E==null?void 0:E.mostPopularProduct)||"N/A"]})})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(D1,{className:"w-5 h-5"}),"Doanh thu theo sản phẩm"]})}),l.jsx(Ve,{children:l.jsx(Wp,{width:"100%",height:300,children:l.jsxs(h5e,{data:he,children:[l.jsx(O1,{strokeDasharray:"3 3"}),l.jsx(Mf,{dataKey:"name"}),l.jsx(Ff,{}),l.jsx(Yi,{formatter:we=>[we.toLocaleString("vi-VN")+"₫","Doanh thu"]}),l.jsx(wd,{dataKey:"revenue",fill:"#8884d8"})]})})})]})]}),l.jsx(Gn,{value:"products",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Top sản phẩm bán chạy"})}),l.jsx(Ve,{children:l.jsx("div",{className:"space-y-4",children:(ae=E==null?void 0:E.topProducts)==null?void 0:ae.map((we,qe)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ct,{variant:"outline",children:qe+1}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:we.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Đã bán: ",we.totalSold]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:we.revenue}),l.jsxs("p",{className:"text-sm text-green-600",children:["Lợi nhuận: ",we.profit]})]})]},we.name))})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(tie,{className:"w-5 h-5"}),"Phân bố doanh thu"]})}),l.jsxs(Ve,{children:[l.jsx(Wp,{width:"100%",height:300,children:l.jsxs(c9,{children:[l.jsx(Nl,{data:J,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",children:J.map((we,qe)=>l.jsx(gg,{fill:af[qe%af.length]},`cell-${qe}`))}),l.jsx(Yi,{formatter:we=>[we.toLocaleString("vi-VN")+"₫","Doanh thu"]})]})}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:J.map((we,qe)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:af[qe%af.length]}}),l.jsx("span",{className:"text-xs",children:we.name})]},we.name))})]})]})]})}),l.jsx(Gn,{value:"payment",className:"space-y-6",children:l.jsx(F_e,{})}),l.jsx(Gn,{value:"customers",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Thống kê khách hàng"})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Tổng khách hàng:"}),l.jsx(Ct,{variant:"outline",children:(j==null?void 0:j.totalCustomers)||0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Khách mua hàng trong kỳ:"}),l.jsx(Ct,{className:"bg-purple-100 text-purple-800",children:(j==null?void 0:j.activeCustomers)||0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Tổng đơn hàng trong kỳ:"}),l.jsx(Ct,{className:"bg-orange-100 text-orange-800",children:(j==null?void 0:j.totalOrdersInPeriod)||0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Khách hàng mới:"}),l.jsx(Ct,{className:"bg-green-100 text-green-800",children:(j==null?void 0:j.newCustomers)||0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Khách hàng quay lại:"}),l.jsx(Ct,{className:"bg-blue-100 text-blue-800",children:(j==null?void 0:j.returningCustomers)||0})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Trung bình đơn/khách:"}),l.jsx(Ct,{variant:"outline",children:(j==null?void 0:j.averageOrdersPerCustomer)||"0.0"})]})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Khách hàng VIP"})}),l.jsx(Ve,{children:l.jsx("div",{className:"space-y-3",children:(q=j==null?void 0:j.topCustomers)==null?void 0:q.map((we,qe)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ct,{variant:"outline",children:qe+1}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:we.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[we.orders," đơn hàng"]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("p",{className:"font-medium text-green-600",children:we.totalSpent})})]},we.name))})})]})]})}),l.jsxs(Gn,{value:"profit",className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Tổng quan lợi nhuận"})}),l.jsx(Ve,{className:"space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-2",children:[l.jsx("h4",{className:"font-medium text-blue-800",children:"Doanh thu & Thuế"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Doanh thu (bao gồm thuế):"}),l.jsx("span",{className:"font-medium",children:D==null?void 0:D.totalRevenueIncludingTax})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:["Thuế VAT (",D==null?void 0:D.vatRate,"):"]}),l.jsx("span",{className:"font-medium text-orange-600",children:D==null?void 0:D.totalTax})]}),l.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[l.jsx("span",{children:"Doanh thu (chưa thuế):"}),l.jsx("span",{className:"font-medium",children:D==null?void 0:D.totalRevenueExcludingTax})]})]}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Chi phí"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Chi phí hàng bán:"}),l.jsx("span",{className:"font-medium",children:D==null?void 0:D.costOfGoodsSold})]})]}),l.jsxs("div",{className:"bg-green-50 p-3 rounded-lg space-y-2",children:[l.jsx("h4",{className:"font-medium text-green-800",children:"Lợi nhuận"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Lợi nhuận trước thuế:"}),l.jsx("span",{className:"font-medium text-green-600",children:D==null?void 0:D.profitBeforeTax})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Lợi nhuận sau thuế:"}),l.jsx("span",{className:"font-medium text-green-600",children:D==null?void 0:D.profitAfterTax})]}),l.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[l.jsx("span",{children:"Tỷ suất lợi nhuận:"}),l.jsx(Ct,{className:"bg-green-100 text-green-800",children:D==null?void 0:D.profitMargin})]})]}),(D==null?void 0:D.totalLoss)&&D.totalLoss!=="0₫"&&l.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-red-800",children:"Cảnh báo"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tổng lỗ (bán giá thấp hơn giá vốn):"}),l.jsx("span",{className:"font-medium text-red-600",children:D==null?void 0:D.totalLoss})]})]})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(eie,{className:"w-5 h-5"}),"Xu hướng lợi nhuận"]})}),l.jsx(Ve,{children:l.jsx(Wp,{width:"100%",height:250,children:l.jsxs(l9,{data:ne,children:[l.jsx(O1,{strokeDasharray:"3 3"}),l.jsx(Mf,{dataKey:"month"}),l.jsx(Ff,{}),l.jsx(Yi,{formatter:we=>[we.toLocaleString("vi-VN")+"₫","Lợi nhuận"]}),l.jsx(E0,{type:"monotone",dataKey:"profit",stroke:"#8884d8",strokeWidth:2})]})})})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Sản phẩm sinh lời cao nhất"})}),l.jsx(Ve,{children:l.jsx("div",{className:"space-y-3",children:(pe=D==null?void 0:D.topProfitableProducts)==null?void 0:pe.map((we,qe)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-green-50 to-emerald-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Ct,{variant:"outline",className:"bg-green-100 text-green-800",children:["#",qe+1]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:we.name}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsxs("p",{children:["Đã bán: ",l.jsx("span",{className:"font-medium",children:we.totalSold})," | Tỷ suất: ",l.jsx("span",{className:"font-medium text-green-600",children:we.margin})]}),l.jsxs("p",{children:["Giá nhập: ",l.jsx("span",{className:"text-red-600",children:we.costPrice})," → Giá bán: ",l.jsx("span",{className:"text-blue-600",children:we.sellPrice})]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-green-600",children:we.profit}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Lợi nhuận/sp: ",we.profitPerUnit]})]})]},we.name))})})]})]}),l.jsxs(Gn,{value:"discounts",className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Tổng giảm giá"}),l.jsx(BT,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[((W=k==null?void 0:k.totalDiscountAmount)==null?void 0:W.toLocaleString("vi-VN"))||"0","₫"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(k==null?void 0:k.totalDiscountApplications)||0," lần áp dụng"]})]})]}),l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Giảm giá theo %"}),l.jsx(M1,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[(()=>{var qe,se;const we=((qe=k==null?void 0:k.topDiscounts)==null?void 0:qe.find(ye=>{var _e;return(_e=ye.discountName)==null?void 0:_e.includes("%")}))||((se=k==null?void 0:k.topDiscounts)==null?void 0:se.find(ye=>ye.discountId===2));return((we==null?void 0:we.totalAmount)||0).toLocaleString("vi-VN")})(),"₫"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(()=>{var qe,se;const we=((qe=k==null?void 0:k.topDiscounts)==null?void 0:qe.find(ye=>{var _e;return(_e=ye.discountName)==null?void 0:_e.includes("%")}))||((se=k==null?void 0:k.topDiscounts)==null?void 0:se.find(ye=>ye.discountId===2));return(we==null?void 0:we.usageCount)||0})()," lần"]})]})]}),l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Giảm giá cố định"}),l.jsx(ja,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[(()=>{var qe,se,ye;const we=((qe=k==null?void 0:k.topDiscounts)==null?void 0:qe.find(_e=>{var Ye;return(Ye=_e.discountName)==null?void 0:Ye.includes("cố định")}))||((se=k==null?void 0:k.topDiscounts)==null?void 0:se.find(_e=>{var Ye;return(Ye=_e.discountName)==null?void 0:Ye.includes("bill")}))||((ye=k==null?void 0:k.topDiscounts)==null?void 0:ye.find(_e=>_e.discountId===3));return((we==null?void 0:we.totalAmount)||0).toLocaleString("vi-VN")})(),"₫"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(()=>{var qe,se,ye;const we=((qe=k==null?void 0:k.topDiscounts)==null?void 0:qe.find(_e=>{var Ye;return(Ye=_e.discountName)==null?void 0:Ye.includes("cố định")}))||((se=k==null?void 0:k.topDiscounts)==null?void 0:se.find(_e=>{var Ye;return(Ye=_e.discountName)==null?void 0:Ye.includes("bill")}))||((ye=k==null?void 0:k.topDiscounts)==null?void 0:ye.find(_e=>_e.discountId===3));return(we==null?void 0:we.usageCount)||0})()," lần"]})]})]}),l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Giảm giá TB/đơn"}),l.jsx(D1,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[((V=k==null?void 0:k.averageDiscountPerOrder)==null?void 0:V.toLocaleString("vi-VN"))||"0","₫"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bình mỗi đơn"})]})]})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Biểu đồ giảm giá theo loại"})}),l.jsx(Ve,{children:l.jsx(Wp,{width:"100%",height:300,children:l.jsxs(c9,{children:[l.jsx(Nl,{data:((fe=k==null?void 0:k.topDiscounts)==null?void 0:fe.map(we=>({name:we.discountName,value:we.totalAmount})))||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:we,value:qe})=>`${we}: ${Number(qe).toLocaleString("vi-VN")}₫`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:((k==null?void 0:k.topDiscounts)||[]).map((we,qe)=>l.jsx(gg,{fill:af[qe%af.length]},`cell-${qe}`))}),l.jsx(Yi,{formatter:we=>`${Number(we).toLocaleString("vi-VN")}₫`})]})})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Giảm giá theo ngày"})}),l.jsx(Ve,{children:l.jsx(Wp,{width:"100%",height:300,children:l.jsxs(l9,{data:(k==null?void 0:k.dailyDiscounts)||[],children:[l.jsx(O1,{strokeDasharray:"3 3"}),l.jsx(Mf,{dataKey:"date"}),l.jsx(Ff,{}),l.jsx(Yi,{formatter:we=>`${Number(we).toLocaleString("vi-VN")}₫`}),l.jsx(E0,{type:"monotone",dataKey:"totalAmount",stroke:"#8884d8"})]})})})]})]}),l.jsxs(Ue,{className:"discount-orders",children:[l.jsxs(Rt,{children:[l.jsx(Mt,{className:"font-roboto",children:"Chi tiết các đơn hàng được giảm giá"}),l.jsxs("p",{className:"text-sm text-muted-foreground font-roboto",children:["Tổng cộng: ",(R==null?void 0:R.totalCount)||((Se=R==null?void 0:R.orders)==null?void 0:Se.length)||0," đơn hàng"]})]}),l.jsx(Ve,{className:"font-roboto",children:l.jsxs("div",{className:"space-y-4",children:[((R==null?void 0:R.orders)||[]).map(we=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer font-roboto transition-colors",onClick:()=>G(we.orderId),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ct,{variant:"outline",className:"font-roboto",children:["#",we.orderNumber]}),l.jsx("span",{className:"font-medium font-roboto",children:we.customerName})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1 font-roboto",children:[new Date(we.orderDate).toLocaleDateString("vi-VN")," • ",we.discountCount," loại giảm giá"]}),l.jsx("div",{className:"flex gap-2 mt-2",children:we.discountDetails.map((qe,se)=>l.jsxs(Ct,{variant:"secondary",className:"text-xs font-roboto",children:[qe.discountName,": -",qe.discountAmount.toLocaleString("vi-VN"),"₫"]},se))})]}),l.jsxs("div",{className:"text-right font-roboto",children:[l.jsxs("p",{className:"text-lg font-bold text-green-600 font-roboto",children:[we.orderTotal.toLocaleString("vi-VN"),"₫"]}),l.jsxs("p",{className:"text-sm text-red-600 font-medium font-roboto",children:["Giảm: -",we.totalDiscountAmount.toLocaleString("vi-VN"),"₫"]}),l.jsxs("p",{className:"text-xs text-gray-500 font-roboto",children:[we.paymentMethod," • ",we.paymentStatus]}),l.jsxs(ke,{variant:"outline",size:"sm",className:"mt-2",onClick:qe=>{qe.stopPropagation(),G(we.orderId)},children:[l.jsx(Hf,{className:"w-4 h-4 mr-1"}),"Xem chi tiết"]})]})]},we.orderId)),(!(R!=null&&R.orders)||R.orders.length===0)&&l.jsx("div",{className:"text-center py-8 text-muted-foreground font-roboto",children:"Không có đơn hàng nào có giảm giá trong khoảng thời gian này"})]})})]})]})]})]}),l.jsx(Ya,{open:x,onOpenChange:v,children:l.jsxs(ka,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsxs(Ra,{children:["Chi tiết đơn hàng #",(U==null?void 0:U.orderNumber)||m]})}),X?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-2",children:"Đang tải..."})]}):U?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-gray-600",children:"Thông tin đơn hàng"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Số đơn:"})," #",U.orderNumber]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Khách hàng:"})," ",U.customerName||((ve=U.customer)==null?void 0:ve.hoTen)||"Khách lẻ"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Ngày:"})," ",new Date(U.createdAt).toLocaleString("vi-VN")]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Trạng thái:"})," ",l.jsx(Ct,{variant:"outline",children:U.status})]}),U.storeName&&l.jsxs("p",{children:[l.jsx("strong",{children:"Cửa hàng:"})," ",U.storeName]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-gray-600",children:"Thanh toán"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phương thức:"})," ",U.paymentMethod||"Chưa chọn"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Trạng thái:"})," ",l.jsx(Ct,{variant:U.paymentStatus==="paid"?"default":"secondary",children:U.paymentStatus})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tổng tiền:"})," ",l.jsxs("span",{className:"text-green-600 font-bold",children:[(gt=U.totalAmount)==null?void 0:gt.toLocaleString("vi-VN"),"₫"]})]}),U.discountAmount>0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Giảm giá:"})," ",l.jsxs("span",{className:"text-red-600 font-bold",children:["-",(Y=U.discountAmount)==null?void 0:Y.toLocaleString("vi-VN"),"₫"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Sản phẩm trong đơn hàng"}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left",children:"Sản phẩm"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Số lượng"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Đơn giá"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Thành tiền"})]})}),l.jsx("tbody",{children:(Oe=U.items)==null?void 0:Oe.map((we,qe)=>{var se,ye;return l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:we.productName}),we.productId&&l.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",we.productId]})]})}),l.jsx("td",{className:"px-4 py-2 text-center",children:we.quantity}),l.jsxs("td",{className:"px-4 py-2 text-right",children:[(se=we.price)==null?void 0:se.toLocaleString("vi-VN"),"₫"]}),l.jsxs("td",{className:"px-4 py-2 text-right font-medium",children:[(ye=we.totalPrice)==null?void 0:ye.toLocaleString("vi-VN"),"₫"]})]},qe)})})]})})]}),(()=>{var qe,se,ye;const we=(qe=R==null?void 0:R.orders)==null?void 0:qe.find(_e=>_e.orderId===m);return console.log("Modal - Looking for orderId:",m),console.log("Modal - Available orders:",(se=R==null?void 0:R.orders)==null?void 0:se.map(_e=>({id:_e.orderId,number:_e.orderNumber}))),console.log("Modal - Found order with discounts:",we),console.log("Modal - Discount details:",we==null?void 0:we.discountDetails),((ye=we==null?void 0:we.discountDetails)==null?void 0:ye.length)>0?l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Chi tiết giảm giá"}),l.jsx("div",{className:"space-y-2",children:we.discountDetails.map((_e,Ye)=>{var at,He;return l.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:_e.discountName}),l.jsx("p",{className:"text-sm text-gray-600",children:_e.discountTypeName})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-red-600 font-bold",children:["-",(at=_e.discountAmount)==null?void 0:at.toLocaleString("vi-VN"),"₫"]}),_e.discountValue&&l.jsx("p",{className:"text-sm text-gray-500",children:_e.discountType===1?`${_e.discountValue}%`:`${(He=_e.discountValue)==null?void 0:He.toLocaleString("vi-VN")}₫`})]})]},Ye)})})]}):l.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[l.jsx("p",{className:"text-yellow-800",children:"Không tìm thấy chi tiết giảm giá cho đơn hàng này"}),l.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:["OrderID: ",m,", Found: ",we?"Yes":"No"]})]})})(),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"space-y-2 text-right",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tạm tính:"}),l.jsxs("span",{children:[(Re=U.subTotal)==null?void 0:Re.toLocaleString("vi-VN"),"₫"]})]}),U.discountAmount>0&&l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Giảm giá:"}),l.jsxs("span",{children:["-",(Me=U.discountAmount)==null?void 0:Me.toLocaleString("vi-VN"),"₫"]})]}),U.taxAmount>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Thuế:"}),l.jsxs("span",{children:[(st=U.taxAmount)==null?void 0:st.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[l.jsx("span",{children:"Tổng cộng:"}),l.jsxs("span",{className:"text-green-600",children:[(qt=U.totalAmount)==null?void 0:qt.toLocaleString("vi-VN"),"₫"]})]})]})})]}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không thể tải thông tin đơn hàng"})]})})]})}function m5e(){mi();const[t,e]=T.useState(""),[r,n]=T.useState(""),[a,i]=T.useState(""),[s,o]=T.useState(new Set);T.useEffect(()=>{const v=new Date,w=new Date(v.getTime()-720*60*60*1e3);n(v.toISOString().split("T")[0]),e(w.toISOString().split("T")[0])},[]);const{data:c,isLoading:u,refetch:f}=Ft({queryKey:["/api/reports/cancelled-orders",t,r,a],queryFn:async()=>{const v=new URLSearchParams;t&&v.append("startDate",t),r&&v.append("endDate",r),a&&v.append("orderId",a);const w=`/api/reports/cancelled-orders${v.toString()?"?"+v.toString():""}`;return await At(w,{method:"GET"})},enabled:!!t&&!!r}),h=v=>{const w=new Set(s);w.has(v)?w.delete(v):w.add(v),o(w)},m=()=>{f()},g=()=>{i("");const v=new Date,w=new Date(v.getTime()-720*60*60*1e3);n(v.toISOString().split("T")[0]),e(w.toISOString().split("T")[0])},x=v=>{switch(v){case"cash":return"Tiền mặt";case"card":return"Thẻ ngân hàng";case"qr":return"QR Code";case"ewallet":return"Ví điện tử";case"banktransfer":return"Chuyển khoản";default:return"Tiền mặt"}};return l.jsx(Ri,{title:"Báo cáo đơn hàng đã hủy",children:l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Báo cáo đơn hàng đã hủy"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Theo dõi chi tiết các đơn hàng đã bị hủy và lý do hủy"})]}),l.jsx($T,{className:"h-8 w-8 text-red-500"})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(gl,{className:"h-5 w-5"}),"Tìm kiếm và lọc"]})}),l.jsx(Ve,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Từ ngày"}),l.jsx(tt,{type:"date",value:t,onChange:v=>e(v.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Đến ngày"}),l.jsx(tt,{type:"date",value:r,onChange:v=>n(v.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mã đơn hàng"}),l.jsx(tt,{placeholder:"Nhập mã đơn hàng...",value:a,onChange:v=>i(v.target.value)})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs(ke,{onClick:m,className:"flex-1",children:[l.jsx(gl,{className:"h-4 w-4 mr-2"}),"Tìm kiếm"]}),l.jsx(ke,{variant:"outline",onClick:g,children:"Xóa lọc"})]})]})})]}),c&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.summary.totalCancelledOrders}),l.jsx("p",{className:"text-sm text-gray-600",children:"Tổng đơn hàng hủy"})]})}),l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:c.summary.totalQuantityCancelled}),l.jsx("p",{className:"text-sm text-gray-600",children:"Tổng số lượng hủy"})]})}),l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"text-2xl font-bold text-red-700",children:[c.summary.totalLossAmount.toLocaleString("vi-VN"),"₫"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Tổng giá trị hủy"})]})}),l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[c.summary.averageLossPerOrder.toLocaleString("vi-VN"),"₫"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Trung bình mỗi đơn"})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Chi tiết đơn hàng đã hủy"})}),l.jsx(Ve,{children:u?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"Đang tải..."})]}):!c||c.orders.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx($T,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Không có đơn hàng hủy nào trong khoảng thời gian này"})]}):l.jsx("div",{className:"space-y-4",children:c.orders.map(v=>l.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"bg-red-50 p-4 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg",children:["Đơn hàng #",v.orderId]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[v.customerName," • ",new Date(v.createdAt).toLocaleString("vi-VN")]})]}),l.jsx(Ct,{variant:"destructive",children:"Đã hủy"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Tổng giá trị hủy"}),l.jsxs("p",{className:"font-bold text-red-600",children:[v.totalLossAmount.toLocaleString("vi-VN"),"₫"]})]}),l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>h(v.orderId),children:s.has(v.orderId)?l.jsxs(l.Fragment,{children:[l.jsx(cj,{className:"h-4 w-4 mr-1"})," Ẩn chi tiết"]}):l.jsxs(l.Fragment,{children:[l.jsx(Hf,{className:"h-4 w-4 mr-1"})," Xem chi tiết"]})})]})]}),l.jsx("div",{className:"mt-3 p-3 bg-red-100 border border-red-200 rounded",children:l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-medium text-red-700",children:"Lý do hủy:"}),l.jsx("span",{className:"text-red-600 ml-2",children:v.cancellationReason})]})})]}),s.has(v.orderId)&&l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Phương thức thanh toán:"}),l.jsx("span",{className:"ml-2",children:x(v.paymentMethod)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Tổng số lượng:"}),l.jsxs("span",{className:"ml-2",children:[v.totalQuantityCancelled," sản phẩm"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Ngày hủy:"}),l.jsx("span",{className:"ml-2",children:new Date(v.cancelledAt).toLocaleDateString("vi-VN")})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-3",children:"Chi tiết sản phẩm hủy:"}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left",children:"Sản phẩm"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Số lượng hủy"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Đơn giá"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Thành tiền hủy"})]})}),l.jsx("tbody",{children:v.items.map((w,S)=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-4 py-2",children:w.productName}),l.jsx("td",{className:"px-4 py-2 text-center font-medium text-red-600",children:w.quantity}),l.jsxs("td",{className:"px-4 py-2 text-right",children:[w.unitPrice.toLocaleString("vi-VN"),"₫"]}),l.jsxs("td",{className:"px-4 py-2 text-right font-medium text-red-600",children:[w.totalPrice.toLocaleString("vi-VN"),"₫"]})]},S))}),l.jsx("tfoot",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:3,className:"px-4 py-3 text-right font-bold",children:"Tổng giá trị hủy:"}),l.jsxs("td",{className:"px-4 py-3 text-right font-bold text-red-600",children:[v.totalLossAmount.toLocaleString("vi-VN"),"₫"]})]})})]})})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Tóm tắt tài chính:"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Tạm tính:"}),l.jsxs("p",{className:"font-medium",children:[v.subTotal.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Thuế:"}),l.jsxs("p",{className:"font-medium",children:[v.taxAmount.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Giảm giá:"}),l.jsxs("p",{className:"font-medium text-green-600",children:["-",v.discountAmount.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Tổng cộng:"}),l.jsxs("p",{className:"font-bold text-red-600",children:[v.totalAmount.toLocaleString("vi-VN"),"₫"]})]})]})]})]})]},v.orderId))})})]})]})})}var BO="Avatar",[g5e,IMe]=Li(BO),[v5e,bee]=g5e(BO),_ee=T.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=T.useState("idle");return l.jsx(v5e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:l.jsx(Lt.span,{...n,ref:e})})});_ee.displayName=BO;var See="AvatarImage",Nee=T.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=bee(See,r),o=x5e(n,i),c=Ja(u=>{a(u),s.onImageLoadingStatusChange(u)});return ga(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Lt.img,{...i,ref:e,src:n}):null});Nee.displayName=See;var Eee="AvatarFallback",Aee=T.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=bee(Eee,r),[s,o]=T.useState(n===void 0);return T.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?l.jsx(Lt.span,{...a,ref:e}):null});Aee.displayName=Eee;function u9(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x5e(t,{referrerPolicy:e,crossOrigin:r}){const n=w5e(),a=T.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,o]=T.useState(()=>u9(i,t));return ga(()=>{o(u9(i,t))},[i,t]),ga(()=>{const c=h=>()=>{o(h)};if(!i)return;const u=c("loaded"),f=c("error");return i.addEventListener("load",u),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,e]),s}function y5e(){return()=>{}}function w5e(){return T.useSyncExternalStore(y5e,()=>!0,()=>!1)}var Tee=_ee,Cee=Nee,jee=Aee;const K4=T.forwardRef(({className:t,...e},r)=>l.jsx(Tee,{ref:r,className:dt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));K4.displayName=Tee.displayName;const Oee=T.forwardRef(({className:t,...e},r)=>l.jsx(Cee,{ref:r,className:dt("aspect-square h-full w-full",t),...e}));Oee.displayName=Cee.displayName;const X4=T.forwardRef(({className:t,...e},r)=>l.jsx(jee,{ref:r,className:dt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));X4.displayName=jee.displayName;var $O="Checkbox",[b5e,PMe]=Li($O),[_5e,S5e]=b5e($O),Iee=T.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:c="on",onCheckedChange:u,form:f,...h}=t,[m,g]=T.useState(null),x=_r(e,E=>g(E)),v=T.useRef(!1),w=m?f||!!m.closest("form"):!0,[S=!1,b]=oc({prop:a,defaultProp:i,onChange:u}),_=T.useRef(S);return T.useEffect(()=>{const E=m==null?void 0:m.form;if(E){const A=()=>b(_.current);return E.addEventListener("reset",A),()=>E.removeEventListener("reset",A)}},[m,b]),l.jsxs(_5e,{scope:r,state:S,disabled:o,children:[l.jsx(Lt.button,{type:"button",role:"checkbox","aria-checked":bu(S)?"mixed":S,"aria-required":s,"data-state":Dee(S),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:x,onKeyDown:mt(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:mt(t.onClick,E=>{b(A=>bu(A)?!0:!A),w&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),w&&l.jsx(N5e,{control:m,bubbles:!v.current,name:n,value:c,checked:S,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"},defaultChecked:bu(i)?!1:i})]})});Iee.displayName=$O;var Pee="CheckboxIndicator",kee=T.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=S5e(Pee,r);return l.jsx(so,{present:n||bu(i.state)||i.state===!0,children:l.jsx(Lt.span,{"data-state":Dee(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});kee.displayName=Pee;var N5e=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...i}=t,s=T.useRef(null),o=Bj(r),c=bj(e);T.useEffect(()=>{const f=s.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&g){const x=new Event("click",{bubbles:n});f.indeterminate=bu(r),g.call(f,bu(r)?!1:r),f.dispatchEvent(x)}},[o,r,n]);const u=T.useRef(bu(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:s,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bu(t){return t==="indeterminate"}function Dee(t){return bu(t)?"indeterminate":t?"checked":"unchecked"}var Ree=Iee,E5e=kee;const I1=T.forwardRef(({className:t,...e},r)=>l.jsx(Ree,{ref:r,className:dt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(E5e,{className:dt("flex items-center justify-center text-current"),children:l.jsx(k2,{className:"h-4 w-4"})})}));I1.displayName=Ree.displayName;const A5e=Pt.object({fullName:Pt.string().min(1,"Họ tên là bắt buộc"),username:Pt.string().min(1,"Tên đăng nhập là bắt buộc"),password:Pt.string().optional(),email:Pt.string().email("Email không hợp lệ").optional(),phoneNumber:Pt.string().optional(),roleId:Pt.number().min(1,"Vai trò là bắt buộc"),isActive:Pt.boolean().default(!0),notes:Pt.string().optional(),assignedStores:Pt.array(Pt.number()).optional()}).refine(t=>t.password&&t.password.length>0?t.password.length>=6:!0,{message:"Mật khẩu tối thiểu 6 ký tự",path:["password"]}),T5e=Pt.object({roleName:Pt.string().min(1,"Tên vai trò là bắt buộc").max(50,"Tên vai trò tối đa 50 ký tự"),description:Pt.string().max(200,"Mô tả tối đa 200 ký tự").optional(),permissionIds:Pt.array(Pt.number()).optional()}),C5e=t=>{const e={Admin:"bg-red-100 text-red-800","Quản lý":"bg-blue-100 text-blue-800","Thu ngân":"bg-green-100 text-green-800",staff:"bg-gray-100 text-gray-800",inventory:"bg-orange-100 text-orange-800"};return e[t]||e.staff},f9=t=>{switch(t){case"admin":return l.jsx(Wh,{className:"w-4 h-4"});case"manager":return l.jsx(Fm,{className:"w-4 h-4"});case"cashier":return l.jsx(dj,{className:"w-4 h-4"});case"inventory":return l.jsx(ja,{className:"w-4 h-4"});default:return l.jsx(qf,{className:"w-4 h-4"})}};function j5e(){var gt;const{toast:t}=mi(),[e,r]=T.useState(""),[n,a]=T.useState("all"),[i,s]=T.useState(!1),[o,c]=T.useState(null),[u,f]=T.useState(!1),[h,m]=T.useState(null),[g,x]=T.useState(!1),[v,w]=T.useState(null),{data:S=[],isLoading:b}=Ft({queryKey:["/api/staff"],queryFn:async()=>{const Y=await fetch("http://101.53.9.76:5273/api/staff");if(!Y.ok)throw new Error("Failed to fetch staff");return Y.json()}}),{data:_=[],isLoading:E}=Ft({queryKey:["/api/role"],queryFn:async()=>{const Y=await fetch("http://101.53.9.76:5273/api/role");if(!Y.ok)throw new Error("Failed to fetch roles");return Y.json()}}),{data:A=[],isLoading:j}=Ft({queryKey:["/api/permission"],queryFn:async()=>{const Y=await fetch("http://101.53.9.76:5273/api/permission");if(!Y.ok)throw new Error("Failed to fetch permissions");return Y.json()}}),{data:O=[],isLoading:D}=Ft({queryKey:["/api/stores"],queryFn:async()=>{const Y=await fetch("http://101.53.9.76:5273/api/stores");if(!Y.ok)throw new Error("Failed to fetch stores");return Y.json()}}),{data:M=[],isLoading:k}=Ft({queryKey:["/api/staffstores/staff-assignments"],queryFn:async()=>{const Y=await fetch("http://101.53.9.76:5273/api/staffstores/staff-assignments");if(!Y.ok)throw new Error("Failed to fetch staff assignments");return Y.json()}}),I=b||E||j||D||k,R=async(Y,Oe=[])=>{var Re;try{const st=(((Re=M.find(qe=>qe.staffId===Y))==null?void 0:Re.assignedStores)||[]).map(qe=>qe.storeId),qt=Oe.filter(qe=>!st.includes(qe)),we=st.filter(qe=>!Oe.includes(qe));for(const qe of qt)(await fetch("http://101.53.9.76:5273/api/staffstores/assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({staffId:Y,storeId:qe}),credentials:"include"})).ok||console.error(`Failed to assign store ${qe} to staff ${Y}`);for(const qe of we)(await fetch(`http://101.53.9.76:5273/api/staffstores/unassign?staffId=${Y}&storeId=${qe}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"})).ok||console.error(`Failed to unassign store ${qe} from staff ${Y}`);Jt.invalidateQueries({queryKey:["/api/staffstores/staff-assignments"]})}catch(Me){throw console.error("Error handling store assignments:",Me),Me}},L=Yh({resolver:zm(A5e),defaultValues:{fullName:"",username:"",password:"",email:"",phoneNumber:"",roleId:0,isActive:!0,notes:""}}),U=Yh({resolver:zm(T5e),defaultValues:{roleName:"",description:"",permissionIds:[]}}),X=Vt({mutationFn:async Y=>{const{assignedStores:Oe,...Re}=Y,Me=await fetch("http://101.53.9.76:5273/api/staff",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re)});if(!Me.ok){const qt=await Me.text();throw new Error(`Failed to create staff: ${Me.status} - ${qt}`)}let st=null;return Me.status===204?(await Jt.invalidateQueries({queryKey:["/api/staff"]}),{assignedStores:Oe}):(st=await Me.json(),{...st,assignedStores:Oe})},onSuccess:async Y=>{try{if(await Jt.invalidateQueries({queryKey:["/api/staff"]}),Y!=null&&Y.assignedStores&&Y.assignedStores.length>0){const Oe=Jt.getQueryData(["/api/staff"]);if(Oe){const Re=Oe[Oe.length-1];Re!=null&&Re.staffId&&await R(Re.staffId,Y.assignedStores)}}t({title:"Thành công",description:"Nhân viên đã được thêm thành công"}),s(!1),L.reset()}catch(Oe){console.error("Error in post-creation steps:",Oe),t({title:"Cảnh báo",description:"Nhân viên đã được tạo nhưng có lỗi khi phân quyền cửa hàng",variant:"destructive"})}},onError:()=>{t({title:"Lỗi",description:"Không thể thêm nhân viên",variant:"destructive"})}}),ue=Vt({mutationFn:async({id:Y,data:Oe})=>{console.log("Updating staff with ID:",Y),console.log("Data being sent:",Oe);const{assignedStores:Re,...Me}=Oe,st=await fetch(`http://101.53.9.76:5273/api/staff/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Me)});if(console.log("Response status:",st.status),!st.ok){const we=await st.text();throw console.error("Update failed:",st.status,we),new Error(`Failed to update staff: ${st.status} - ${we}`)}let qt=null;return st.status!==204&&(qt=await st.json()),{staffResult:qt,assignedStores:Re,staffId:Y}},onSuccess:async Y=>{try{(Y==null?void 0:Y.assignedStores)!==void 0&&await R(Y.staffId,Y.assignedStores),t({title:"Thành công",description:"Thông tin nhân viên đã được cập nhật"}),Jt.invalidateQueries({queryKey:["/api/staff"]}),c(null),s(!1),L.reset()}catch(Oe){console.error("Error in update steps:",Oe),t({title:"Cảnh báo",description:"Thông tin nhân viên đã được cập nhật nhưng có lỗi khi phân quyền cửa hàng",variant:"destructive"})}},onError:()=>{t({title:"Lỗi",description:"Không thể cập nhật nhân viên",variant:"destructive"})}}),he=Vt({mutationFn:async Y=>{const Oe=await fetch(`http://101.53.9.76:5273/api/staff/${Y}`,{method:"DELETE"});if(!Oe.ok)throw new Error("Failed to delete staff");return Oe.status===204?{hardDelete:!0}:Oe.status===200?{hardDelete:!1,...await Oe.json()}:{}},onSuccess:Y=>{Y!=null&&Y.hardDelete?t({title:"Thành công",description:"Nhân viên đã được xóa hoàn toàn"}):t({title:"Thành công",description:(Y==null?void 0:Y.message)||"Nhân viên đã được đánh dấu không hoạt động",variant:"default"}),Jt.invalidateQueries({queryKey:["/api/staff"]})},onError:()=>{t({title:"Lỗi",description:"Không thể xóa nhân viên",variant:"destructive"})}}),J=Vt({mutationFn:async Y=>{const Oe=await fetch("http://101.53.9.76:5273/api/role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!Oe.ok){const Re=await Oe.text();throw new Error(`Failed to create role: ${Oe.status} - ${Re}`)}return Oe.json()},onSuccess:()=>{t({title:"Thành công",description:"Vai trò đã được thêm thành công"}),Jt.invalidateQueries({queryKey:["/api/role"]}),x(!1),U.reset()},onError:Y=>{t({title:"Lỗi",description:Y.message||"Không thể thêm vai trò",variant:"destructive"})}}),ne=Vt({mutationFn:async({id:Y,data:Oe})=>{const Re=await fetch(`http://101.53.9.76:5273/api/role/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe)});if(!Re.ok){const Me=await Re.text();throw new Error(`Failed to update role: ${Re.status} - ${Me}`)}return Re.status===204?null:Re.json()},onSuccess:()=>{t({title:"Thành công",description:"Vai trò đã được cập nhật thành công"}),Jt.invalidateQueries({queryKey:["/api/role"]}),x(!1),w(null),U.reset()},onError:Y=>{t({title:"Lỗi",description:Y.message||"Không thể cập nhật vai trò",variant:"destructive"})}}),G=Vt({mutationFn:async Y=>{const Oe=await fetch(`http://101.53.9.76:5273/api/role/${Y}`,{method:"DELETE"});if(!Oe.ok){const Re=await Oe.text();throw new Error(Re||`Failed to delete role: ${Oe.status}`)}},onSuccess:()=>{t({title:"Thành công",description:"Vai trò đã được xóa thành công"}),Jt.invalidateQueries({queryKey:["/api/role"]})},onError:Y=>{t({title:"Lỗi",description:Y.message||"Không thể xóa vai trò",variant:"destructive"})}}),z=Vt({mutationFn:async({roleId:Y,permissionId:Oe,action:Re})=>{const st=await fetch(Re==="add"?"http://101.53.9.76:5273/api/role/assign-permission":"http://101.53.9.76:5273/api/role/remove-permission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roleId:Y,permissionId:Oe})});if(!st.ok){const qt=await st.text();throw console.error("API Error:",st.status,qt),new Error(`Failed to update permission: ${st.status}`)}return st.status===204?{}:st.json()},onSuccess:()=>{t({title:"Thành công",description:"Quyền hạn đã được cập nhật"}),Jt.invalidateQueries({queryKey:["/api/role"]}),Jt.invalidateQueries({queryKey:["/api/permission"]}),h&&setTimeout(()=>{const Y=Jt.getQueryData(["/api/role"]),Oe=Y==null?void 0:Y.find(Re=>Re.roleId===h.roleId);Oe&&m(Oe)},100)},onError:()=>{t({title:"Lỗi",description:"Không thể cập nhật quyền hạn",variant:"destructive"})}}),F=(Y,Oe)=>{if(!h){console.error("No role selected for permission toggle");return}const Re={roleId:h.roleId,permissionId:Y,action:Oe?"remove":"add"};console.log("Toggling permission:",Re),console.log("Selected role:",h),z.mutate(Re)};T.useEffect(()=>{if(h&&_.length>0){const Y=_.find(Oe=>Oe.roleId===h.roleId);Y&&m(Y)}},[_,h==null?void 0:h.roleId]);const ee=Vt({mutationFn:async()=>{var Me;if(!h)throw new Error("No role selected");const Y=((Me=h.permissions)==null?void 0:Me.map(st=>st.permissionId))||[],Re=A.map(st=>st.permissionId).filter(st=>!Y.includes(st));for(const st of Re)if(!(await fetch("http://101.53.9.76:5273/api/role/assign-permission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roleId:h.roleId,permissionId:st})})).ok)throw new Error("Failed to assign permission");return{assigned:Re.length}},onSuccess:Y=>{t({title:"Thành công",description:`Đã chọn tất cả quyền hạn (${Y.assigned} quyền mới)`}),Jt.invalidateQueries({queryKey:["/api/role"]})},onError:()=>{t({title:"Lỗi",description:"Không thể chọn tất cả quyền hạn",variant:"destructive"})}}),K=Vt({mutationFn:async()=>{var Oe;if(!h)throw new Error("No role selected");const Y=((Oe=h.permissions)==null?void 0:Oe.map(Re=>Re.permissionId))||[];for(const Re of Y)if(!(await fetch("http://101.53.9.76:5273/api/role/remove-permission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roleId:h.roleId,permissionId:Re})})).ok)throw new Error("Failed to remove permission");return{removed:Y.length}},onSuccess:Y=>{t({title:"Thành công",description:`Đã hủy tất cả quyền hạn (${Y.removed} quyền)`}),Jt.invalidateQueries({queryKey:["/api/role"]})},onError:()=>{t({title:"Lỗi",description:"Không thể hủy tất cả quyền hạn",variant:"destructive"})}}),ae=S.filter(Y=>{var Me,st,qt,we,qe;const Oe=((Me=Y.fullName)==null?void 0:Me.toLowerCase().includes(e.toLowerCase()))||((st=Y.email)==null?void 0:st.toLowerCase().includes(e.toLowerCase()))||((qt=Y.username)==null?void 0:qt.toLowerCase().includes(e.toLowerCase()))||((we=Y.phoneNumber)==null?void 0:we.includes(e)),Re=n==="all"||((qe=Y.roleId)==null?void 0:qe.toString())===n;return Oe&&Re}),q=Y=>{if(console.log("onSubmit called with data:",Y),console.log("editingStaff:",o),!o&&(!Y.password||Y.password.length<6)){t({title:"Lỗi",description:"Mật khẩu là bắt buộc và tối thiểu 6 ký tự khi tạo nhân viên mới",variant:"destructive"});return}if(o){const Oe={...Y};(!Y.password||Y.password.length===0)&&delete Oe.password,console.log("Calling updateStaffMutation with:",{id:o.staffId,data:Oe}),ue.mutate({id:o.staffId,data:Oe})}else console.log("Calling addStaffMutation with:",Y),X.mutate(Y)},pe=Y=>{var Me;c(Y);const Oe=M.find(st=>st.staffId===Y.staffId),Re=((Me=Oe==null?void 0:Oe.assignedStores)==null?void 0:Me.map(st=>st.storeId))||[];L.reset({fullName:Y.fullName||"",username:Y.username||"",password:"",email:Y.email||"",phoneNumber:Y.phoneNumber||"",roleId:Y.roleId||0,isActive:Y.isActive??!0,notes:Y.notes||"",assignedStores:Re}),s(!0)},W=Y=>{confirm("Bạn có chắc muốn xóa nhân viên này?")&&he.mutate(Y)},V=Y=>{console.log("onRoleSubmit called with data:",Y),console.log("editingRole:",v),v?ne.mutate({id:v.roleId,data:Y}):J.mutate(Y)},fe=Y=>{confirm("Bạn có chắc muốn xóa vai trò này? Thao tác này không thể hoàn tác.")&&G.mutate(Y)},Se=S.length,ve=S.filter(Y=>Y.isActive).length;return _.map(Y=>({...Y,count:S.filter(Oe=>Oe.roleId===Y.roleId).length})),l.jsxs(Ri,{title:"Quản lý nhân viên",children:[l.jsxs("div",{className:"space-y-6","data-testid":"staff-page",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(qf,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng nhân viên"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Se})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(dj,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang hoạt động"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ve})]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Wh,{className:"w-6 h-6 text-orange-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vai trò"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.length})]})]})})})]}),l.jsxs(U0,{defaultValue:"list",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ld,{children:[l.jsx(Wn,{value:"list",children:"Danh sách nhân viên"}),l.jsx(Wn,{value:"roles",children:"Vai trò & Quyền hạn"}),l.jsx(Wn,{value:"schedule",children:"Lịch làm việc"})]}),l.jsxs(Ya,{open:i,onOpenChange:s,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{onClick:()=>{c(null),L.reset()},"data-testid":"button-add-staff",children:[l.jsx(L_,{className:"w-4 h-4 mr-2"}),"Thêm nhân viên"]})}),l.jsxs(ka,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsx(Ra,{children:o?"Chỉnh sửa nhân viên":"Thêm nhân viên mới"})}),l.jsx(Zh,{...L,children:l.jsxs("form",{onSubmit:L.handleSubmit(q),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(fr,{control:L.control,name:"fullName",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Họ và tên *"}),l.jsx(ir,{children:l.jsx(tt,{...Y,"data-testid":"input-staff-name"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:L.control,name:"username",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Tên đăng nhập *"}),l.jsx(ir,{children:l.jsx(tt,{...Y,"data-testid":"input-staff-username"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:L.control,name:"password",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:o?"Mật khẩu mới (để trống nếu không đổi)":"Mật khẩu *"}),l.jsx(ir,{children:l.jsx(tt,{...Y,type:"password",placeholder:o?"Nhập mật khẩu mới...":"Tối thiểu 6 ký tự","data-testid":"input-staff-password"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:L.control,name:"email",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Email"}),l.jsx(ir,{children:l.jsx(tt,{...Y,type:"email","data-testid":"input-staff-email"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:L.control,name:"phoneNumber",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Số điện thoại"}),l.jsx(ir,{children:l.jsx(tt,{...Y,"data-testid":"input-staff-phone"})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:L.control,name:"roleId",render:({field:Y})=>{var Oe;return l.jsxs(nr,{children:[l.jsx(ar,{children:"Vai trò *"}),l.jsxs(fa,{onValueChange:Re=>Y.onChange(parseInt(Re)),value:((Oe=Y.value)==null?void 0:Oe.toString())||"",children:[l.jsx(ir,{children:l.jsx(Kn,{"data-testid":"select-staff-role",children:l.jsx(da,{placeholder:"Chọn vai trò"})})}),l.jsx(Xn,{children:_.map(Re=>l.jsx(er,{value:Re.roleId.toString(),children:Re.roleName},Re.roleId))})]}),l.jsx(mr,{})]})}}),l.jsx(fr,{control:L.control,name:"assignedStores",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Cửa hàng được phép truy cập"}),l.jsx(ir,{children:l.jsxs("div",{className:"space-y-2",children:[O.map(Oe=>{var Re;return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(I1,{id:`store-${Oe.storeId}`,checked:((Re=Y.value)==null?void 0:Re.includes(Oe.storeId))||!1,onCheckedChange:Me=>{const st=Y.value||[];Me?Y.onChange([...st,Oe.storeId]):Y.onChange(st.filter(qt=>qt!==Oe.storeId))},"data-testid":`checkbox-store-${Oe.storeId}`}),l.jsx(Jr,{htmlFor:`store-${Oe.storeId}`,className:"text-sm font-normal cursor-pointer flex-1",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:Oe.name}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Oe.address}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Quản lý: ",Oe.manager]})]})})]},Oe.storeId)}),O.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Không có cửa hàng nào"})]})}),l.jsx(mr,{}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Chọn các cửa hàng mà nhân viên này có quyền truy cập. Admin có quyền truy cập tất cả cửa hàng."})]})}),l.jsx(fr,{control:L.control,name:"isActive",render:({field:Y})=>l.jsxs(nr,{className:"flex items-center justify-between rounded-lg border p-4",children:[l.jsx("div",{className:"space-y-0.5",children:l.jsx(ar,{className:"text-base",children:"Trạng thái hoạt động"})}),l.jsx(ir,{children:l.jsx(hu,{checked:Y.value,onCheckedChange:Y.onChange,"data-testid":"switch-staff-active"})})]})})]}),l.jsx(fr,{control:L.control,name:"notes",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Ghi chú"}),l.jsx(ir,{children:l.jsx(Au,{...Y,rows:3,"data-testid":"textarea-staff-notes"})}),l.jsx(mr,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:X.isPending||ue.isPending,"data-testid":"button-save-staff",children:X.isPending||ue.isPending?"Đang lưu...":o?"Cập nhật":"Thêm nhân viên"})]})]})})]})]})]}),l.jsxs(Gn,{value:"list",className:"space-y-6",children:[l.jsx(Ue,{children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(gl,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(tt,{placeholder:"Tìm nhân viên...",value:e,onChange:Y=>r(Y.target.value),className:"pl-9","data-testid":"input-search-staff"})]}),l.jsxs(fa,{value:n,onValueChange:a,children:[l.jsx(Kn,{className:"w-full md:w-48","data-testid":"select-filter-role",children:l.jsx(da,{placeholder:"Lọc theo vai trò"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả vai trò"}),_.map(Y=>l.jsx(er,{value:Y.roleId.toString(),children:Y.roleName},Y.roleId))]})]})]})})}),I?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((Y,Oe)=>l.jsx(Ue,{className:"animate-pulse",children:l.jsx(Ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},Oe))}):ae.length===0?l.jsx(Ue,{children:l.jsxs(Ve,{className:"p-12 text-center",children:[l.jsx(qf,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy nhân viên"}),l.jsx("p",{className:"text-gray-500 mb-4",children:e||n!=="all"?"Thử thay đổi bộ lọc tìm kiếm":"Bắt đầu bằng cách thêm nhân viên đầu tiên"}),l.jsxs(ke,{onClick:()=>s(!0),children:[l.jsx(L_,{className:"w-4 h-4 mr-2"}),"Thêm nhân viên"]})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ae.map(Y=>{var Oe;return l.jsx(Ue,{className:"hover:shadow-md transition-shadow","data-testid":`staff-card-${Y.staffId}`,children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(K4,{children:[l.jsx(Oee,{src:Y.avatar}),l.jsx(X4,{children:((Oe=Y.fullName)==null?void 0:Oe.split(" ").map(Re=>Re[0]).join("").toUpperCase())||"NV"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:Y.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:Y.email||Y.username})]})]}),l.jsxs(H1,{children:[l.jsx(z1,{asChild:!0,children:l.jsx(ke,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(cH,{className:"h-4 w-4"})})}),l.jsxs(Hm,{children:[l.jsxs(Xl,{onClick:()=>pe(Y),children:[l.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Chỉnh sửa"]}),l.jsxs(Xl,{onClick:()=>W(Y.staffId),className:"text-red-600",children:[l.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ct,{className:C5e(Y.roleName||"N/A"),variant:"outline",children:[f9(Y.roleName||"N/A"),l.jsx("span",{className:"ml-1",children:Y.roleName||"N/A"})]}),l.jsx(Ct,{variant:Y.isActive?"default":"secondary",children:Y.isActive?"Hoạt động":"Không hoạt động"})]}),(()=>{const Re=M.find(st=>st.staffId===Y.staffId),Me=(Re==null?void 0:Re.assignedStores)||[];return Re!=null&&Re.isAdmin?l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(ja,{className:"w-4 h-4 mr-2 text-blue-500"}),l.jsx("span",{className:"text-blue-600 font-medium",children:"Tất cả cửa hàng (Admin)"})]}):Me.length>0?l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(ja,{className:"w-4 h-4 mr-2 text-green-500"}),l.jsx("span",{className:"text-green-600 font-medium",children:"Cửa hàng được phân quyền:"})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Me.map(st=>l.jsx(Ct,{variant:"outline",className:"text-xs",children:st.name},st.storeId))})]}):l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(ja,{className:"w-4 h-4 mr-2 text-gray-400"}),l.jsx("span",{className:"text-gray-500",children:"Chưa được phân quyền cửa hàng nào"})]})})(),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(xc,{className:"w-4 h-4 mr-2"}),Y.username]}),Y.phoneNumber&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mm,{className:"w-4 h-4 mr-2"}),Y.phoneNumber]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(mf,{className:"w-4 h-4 mr-2"}),"Tạo: ",new Date(Y.createdAt).toLocaleDateString("vi-VN")]}),Y.notes&&l.jsxs("div",{className:"flex items-start",children:[l.jsx(Yae,{className:"w-4 h-4 mr-2 mt-0.5"}),l.jsx("span",{className:"text-xs",children:Y.notes})]})]})]})]})},Y.staffId)})})]}),l.jsxs(Gn,{value:"roles",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Quản lý vai trò & quyền hạn"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Tạo và quản lý các vai trò cùng quyền hạn tương ứng"})]}),l.jsxs(ke,{onClick:()=>{w(null),U.reset(),x(!0)},children:[l.jsx(L_,{className:"w-4 h-4 mr-2"}),"Thêm vai trò"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(Y=>{const Oe=S.filter(Re=>Re.roleId===Y.roleId).length;return l.jsxs(Ue,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f9(Y.roleName),Y.roleName]}),l.jsxs(Ct,{variant:"outline",className:"ml-auto",children:[Oe," NV"]})]})}),l.jsxs(Ve,{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Y.description||"Không có mô tả"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:"Quyền hạn:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Y.permissions&&Y.permissions.length>0?Y.permissions.map(Re=>l.jsx(Ct,{variant:"outline",className:"text-xs",children:Re.permissionName},Re.permissionId)):l.jsx("span",{className:"text-xs text-gray-400",children:"Chưa có quyền hạn"})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Trạng thái: ",l.jsx("span",{className:`font-medium ${Oe>0?"text-green-600":"text-gray-400"}`,children:Oe>0?"Đang sử dụng":"Chưa có NV"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>{w(Y),U.reset({roleName:Y.roleName,description:Y.description||"",permissionIds:Y.permissions?Y.permissions.map(Re=>Re.permissionId):[]}),x(!0)},children:[l.jsx(Gh,{className:"w-3 h-3 mr-1"}),"Sửa"]}),l.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>fe(Y.roleId),className:"text-red-600 hover:text-red-700",children:[l.jsx(Uo,{className:"w-3 h-3 mr-1"}),"Xóa"]})]})]})})]})]},Y.roleId)})})]}),l.jsx(Gn,{value:"schedule",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(Ue,{className:"lg:col-span-2",children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(vm,{className:"w-5 h-5"}),"Lịch làm việc hôm nay"]})}),l.jsx(Ve,{children:l.jsxs("div",{className:"space-y-4",children:[S.filter(Y=>Y.isActive).slice(0,5).map(Y=>{var Oe,Re;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(K4,{className:"w-8 h-8",children:l.jsx(X4,{className:"text-xs",children:((Oe=Y.fullName)==null?void 0:Oe.split(" ").map(Me=>Me[0]).join("").toUpperCase())||"NV"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:Y.fullName}),l.jsx("p",{className:"text-xs text-gray-500",children:(Re=_.find(Me=>Me.id===Y.role))==null?void 0:Re.name})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium",children:Y.workSchedule||"9:00-18:00"}),l.jsxs(Ct,{variant:"outline",className:"text-xs",children:[l.jsx(mf,{className:"w-3 h-3 mr-1"}),"Đang làm việc"]})]})]},Y.id)}),S.filter(Y=>Y.isActive).length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(vm,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),l.jsx("p",{className:"text-gray-500",children:"Chưa có nhân viên làm việc hôm nay"})]})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{className:"text-base",children:"Thống kê nhanh"})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Đang làm việc"}),l.jsxs(Ct,{variant:"default",children:[ve," người"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Nghỉ phép"}),l.jsx(Ct,{variant:"secondary",children:"0 người"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Ca sáng"}),l.jsxs(Ct,{variant:"outline",children:[Math.floor(ve*.6)," người"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Ca chiều"}),l.jsxs(Ct,{variant:"outline",children:[Math.ceil(ve*.4)," người"]})]})]}),l.jsx("div",{className:"pt-4 border-t",children:l.jsxs(ke,{className:"w-full",variant:"outline",children:[l.jsx(vm,{className:"w-4 h-4 mr-2"}),"Xem lịch đầy đủ"]})})]})]})]})})]})]}),l.jsx(Ya,{open:u,onOpenChange:f,children:l.jsxs(ka,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsxs(Ra,{className:"flex items-center gap-2",children:[l.jsx(Fm,{className:"w-5 h-5"}),"Cấu hình quyền hạn - ",h==null?void 0:h.roleName]})}),l.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Đã chọn: ",((gt=h==null?void 0:h.permissions)==null?void 0:gt.length)||0," / ",A.length," quyền"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>ee.mutate(),disabled:ee.isPending,children:"Chọn tất cả"}),l.jsx(ke,{variant:"outline",size:"sm",onClick:()=>K.mutate(),disabled:K.isPending,children:"Hủy tất cả"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(Y=>{var Re;const Oe=(Re=h==null?void 0:h.permissions)==null?void 0:Re.some(Me=>Me.permissionId===Y.permissionId);return l.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[l.jsx(I1,{id:`permission-${Y.permissionId}`,checked:Oe,onCheckedChange:()=>F(Y.permissionId,Oe),className:"mt-1","aria-describedby":`permission-desc-${Y.permissionId}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("label",{htmlFor:`permission-${Y.permissionId}`,className:"block text-sm font-medium text-gray-900 cursor-pointer",children:Y.permissionName}),l.jsx("p",{id:`permission-desc-${Y.permissionId}`,className:"text-xs text-gray-500 mt-1",children:Y.description}),l.jsx(Ct,{variant:"outline",className:"text-xs mt-1",children:Y.category})]})]},`permission-${Y.permissionId}`)})}),A.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Wh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"Không có quyền hạn nào được tìm thấy"})]})]}),l.jsx("div",{className:"flex justify-end items-center pt-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ke,{variant:"outline",onClick:()=>f(!1),children:"Đóng"}),l.jsx(ke,{onClick:()=>{t({title:"Thành công",description:"Cấu hình quyền hạn đã được lưu"}),f(!1)},children:"Lưu thay đổi"})]})})]})}),l.jsx(Ya,{open:g,onOpenChange:x,children:l.jsxs(ka,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsx(Ra,{children:v?"Chỉnh sửa vai trò":"Thêm vai trò mới"})}),l.jsx(Zh,{...U,children:l.jsxs("form",{onSubmit:U.handleSubmit(V),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx(fr,{control:U.control,name:"roleName",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Tên vai trò *"}),l.jsx(ir,{children:l.jsx(tt,{placeholder:"Nhập tên vai trò",...Y})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:U.control,name:"description",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Mô tả"}),l.jsx(ir,{children:l.jsx(Au,{placeholder:"Nhập mô tả vai trò",rows:3,...Y})}),l.jsx(mr,{})]})}),l.jsx(fr,{control:U.control,name:"permissionIds",render:({field:Y})=>l.jsxs(nr,{children:[l.jsx(ar,{children:"Quyền hạn"}),l.jsx(ir,{children:l.jsx("div",{className:"border rounded-lg p-4 max-h-60 overflow-y-auto",children:A.length===0?l.jsx("p",{className:"text-sm text-gray-500",children:"Đang tải quyền hạn..."}):l.jsx("div",{className:"grid grid-cols-1 gap-3",children:A.map(Oe=>{var Re;return l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(I1,{id:`role-permission-${Oe.permissionId}`,checked:((Re=Y.value)==null?void 0:Re.includes(Oe.permissionId))||!1,onCheckedChange:Me=>{const st=Y.value||[];Me?Y.onChange([...st,Oe.permissionId]):Y.onChange(st.filter(qt=>qt!==Oe.permissionId))}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:`role-permission-${Oe.permissionId}`,className:"block text-sm font-medium text-gray-900 cursor-pointer",children:Oe.permissionName}),Oe.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Oe.description}),Oe.category&&l.jsx(Ct,{variant:"outline",className:"text-xs mt-1",children:Oe.category})]})]},Oe.permissionId)})})})}),l.jsx(mr,{})]})})]}),l.jsx("div",{className:"flex justify-end items-center pt-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>{x(!1),w(null),U.reset()},children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:J.isPending||ne.isPending,children:J.isPending||ne.isPending?"Đang lưu...":v?"Cập nhật":"Thêm vai trò"})]})})]})})]})})]})}function O5e(){const t=El(),{data:e}=Ft({queryKey:["/api/TaxConfig"],queryFn:async()=>{const s=await At("/api/TaxConfig",{method:"GET"});return typeof s=="string"?JSON.parse(s):s}}),[r,n]=T.useState({enableVAT:!1,vatIncludedInPrice:!1,vatRate:0,vatLabel:"VAT",enableEnvTax:!1,envTaxRate:0});T.useEffect(()=>{e&&n(e)},[e]);const a=Vt({mutationFn:async s=>{const o=await At("/api/TaxConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return typeof o=="string"?JSON.parse(o):o},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/TaxConfig"]}),alert("Đã lưu cấu hình thuế!")}});function i(s){const{name:o,value:c,type:u,checked:f}=s.target;n(h=>({...h,[o]:u==="checkbox"?f:c}))}return l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("form",{onSubmit:s=>{s.preventDefault(),a.mutate(r)},className:"space-y-8",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(sH,{className:"w-5 h-5"})," Cấu hình thuế"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"Bật thuế VAT"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Áp dụng thuế giá trị gia tăng cho đơn hàng"})]}),l.jsx("input",{type:"checkbox",name:"enableVAT",checked:r.enableVAT,onChange:i,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"Thuế bao gồm trong giá"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Giá sản phẩm đã bao gồm thuế"})]}),l.jsx("input",{type:"checkbox",name:"vatIncludedInPrice",checked:r.vatIncludedInPrice,onChange:i,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Thuế suất VAT (%)"}),l.jsx("input",{name:"vatRate",type:"number",min:0,value:r.vatRate,onChange:i,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Nhãn thuế"}),l.jsx("input",{name:"vatLabel",value:r.vatLabel||"",onChange:i,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between md:col-span-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"Thuế bảo vệ môi trường"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Áp dụng cho một số mặt hàng"})]}),l.jsx("input",{type:"checkbox",name:"enableEnvTax",checked:r.enableEnvTax,onChange:i,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Thuế suất bảo vệ môi trường (%)"}),l.jsx("input",{name:"envTaxRate",type:"number",min:0,value:r.envTaxRate,onChange:i,className:"border rounded px-2 py-1 w-full"})]})]}),l.jsx("div",{className:"flex justify-end pt-2",children:l.jsxs(ke,{type:"submit",disabled:a.isPending,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Lưu cấu hình"]})})]})})})}const I5e=[{value:"cash",label:"Tiền mặt",icon:l.jsx(lc,{className:"w-4 h-4 inline"})},{value:"bankcard",label:"Thẻ ngân hàng",icon:l.jsx(_u,{className:"w-4 h-4 inline"})},{value:"qrcode",label:"QR Code",icon:l.jsx(D0,{className:"w-4 h-4 inline"})},{value:"ewallet",label:"Ví điện tử",icon:l.jsx(hH,{className:"w-4 h-4 inline"})},{value:"banktransfer",label:"Chuyển khoản",icon:l.jsx(lc,{className:"w-4 h-4 inline"})},{value:"partial",label:"Thanh toán một phần",icon:l.jsx(fH,{className:"w-4 h-4 inline"})}];function P5e(){const t=El(),{data:e}=Ft({queryKey:["/api/PaymentMethodConfig"],queryFn:async()=>{const c=await At("/api/PaymentMethodConfig",{method:"GET"});return c.status===404?null:c}}),[r,n]=T.useState({enableCash:!0,enableBankCard:!0,enableQRCode:!0,enableEWallet:!0,enableBankTransfer:!0,enablePartialPayment:!1,enableDrawer:!0,defaultMethod:"cash"}),[a,i]=T.useState(!1);T.useEffect(()=>{e&&(n(e),i(!1))},[e]);const s=Vt({mutationFn:async c=>await At("/api/PaymentMethodConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/PaymentMethodConfig"]}),t.invalidateQueries({queryKey:["/api/PaymentMethodConfig/enabled"]}),i(!1),window.dispatchEvent(new CustomEvent("paymentConfigChanged")),alert("Đã lưu cấu hình thanh toán!")}});function o(c){const{name:u,value:f,type:h}=c.target,m=c.target.checked;n(g=>({...g,[u]:h==="checkbox"?m:f})),i(!0)}return l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("form",{onSubmit:c=>{c.preventDefault(),s.mutate(r)},className:"space-y-8",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(_u,{className:"w-5 h-5"})," Phương thức thanh toán"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(lc,{})," Tiền mặt"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Thanh toán bằng tiền mặt"})]}),l.jsx("input",{type:"checkbox",name:"enableCash",checked:r.enableCash,onChange:o,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(_u,{})," Thẻ ngân hàng"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Thẻ tín dụng, thẻ ghi nợ"})]}),l.jsx("input",{type:"checkbox",name:"enableBankCard",checked:r.enableBankCard,onChange:o,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(D0,{})," QR Code"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"VietQR, VNPAY QR"})]}),l.jsx("input",{type:"checkbox",name:"enableQRCode",checked:r.enableQRCode,onChange:o,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(hH,{})," Ví điện tử"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"MoMo, ZaloPay, ShopeePay"})]}),l.jsx("input",{type:"checkbox",name:"enableEWallet",checked:r.enableEWallet,onChange:o,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(lc,{})," Chuyển khoản"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Chuyển khoản ngân hàng"})]}),l.jsx("input",{type:"checkbox",name:"enableBankTransfer",checked:r.enableBankTransfer,onChange:o,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(fH,{})," Thanh toán một phần"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Cho phép thanh toán không đủ số tiền"})]}),l.jsx("input",{type:"checkbox",name:"enablePartialPayment",checked:r.enablePartialPayment,onChange:o,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between md:col-span-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[l.jsx(Xae,{})," Ngăn kéo tiền"]}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Tự động mở ngăn kéo khi thanh toán"})]}),l.jsx("input",{type:"checkbox",name:"enableDrawer",checked:r.enableDrawer,onChange:o,className:"w-10 h-5 accent-blue-600"})]})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("label",{className:"block font-medium mb-2",children:"Phương thức mặc định"}),l.jsx("select",{name:"defaultMethod",value:r.defaultMethod,onChange:o,className:"border rounded px-2 py-1 w-full",children:I5e.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2",children:[a&&l.jsxs("span",{className:"text-orange-600 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Có thay đổi chưa lưu"]}),!a&&l.jsxs("span",{className:"text-green-600 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Đã lưu"]}),l.jsx(ke,{type:"submit",disabled:s.isPending||!a,className:a?"bg-orange-600 hover:bg-orange-700":"",children:s.isPending?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang lưu..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Lưu cấu hình"]})})]})]})})})}const k5e=[{value:"80mm",label:"80mm"},{value:"A4",label:"A4"},{value:"58mm",label:"58mm"}];function D5e(){const t=El(),{data:e}=Ft({queryKey:["/api/PrintConfig"],queryFn:async()=>await At("/api/PrintConfig",{method:"GET"})}),{data:r,isLoading:n,error:a}=Ft({queryKey:["/api/PrintConfig/printers"],queryFn:async()=>{console.log("Loading printers...");const m=await At("/api/PrintConfig/printers",{method:"GET"});return console.log("Printers data:",m),m}}),i=(r==null?void 0:r.printers)||[];console.log("Available printers:",i);const[s,o]=T.useState({printerName:"",paperSize:"80mm",printCopies:1,autoPrintBill:!0,autoPrintOnOrder:!1,printBarcode:!0,printLogo:!0,billHeader:"",billFooter:""});T.useEffect(()=>{e&&o(e)},[e]);const c=Vt({mutationFn:async m=>await At("/api/PrintConfig",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/PrintConfig"]}),alert("Đã lưu cấu hình in ấn!")}}),u=Vt({mutationFn:async m=>await At("/api/PrintConfig/test-printer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printerName:m})}),onSuccess:m=>{m.isConnected?alert(`✅ Kết nối thành công với máy in: ${m.printerName}`):alert(`❌ ${m.message||"Không thể kết nối với máy in"}`)},onError:()=>{alert("❌ Lỗi khi test máy in")}});function f(m){const g=m.target,{name:x,value:v,type:w}=g,S=g.checked;o(b=>({...b,[x]:w==="checkbox"?S:v}))}function h(){if(console.log("Test print clicked, printer:",s.printerName),!s.printerName){alert("Vui lòng chọn máy in trước khi test!");return}console.log("Calling test print API..."),u.mutate(s.printerName)}return l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("form",{onSubmit:m=>{m.preventDefault(),c.mutate(s)},className:"space-y-8",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(zf,{className:"w-5 h-5"})," Cấu hình in ấn"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Tên máy in"}),l.jsxs("select",{name:"printerName",value:s.printerName||"",onChange:f,className:"border rounded px-2 py-1 w-full",children:[l.jsx("option",{value:"",children:"Chọn máy in..."}),i.map(m=>l.jsx("option",{value:m,children:m},m))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Khổ giấy"}),l.jsx("select",{name:"paperSize",value:s.paperSize,onChange:f,className:"border rounded px-2 py-1 w-full",children:k5e.map(m=>l.jsx("option",{value:m.value,children:m.label},m.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Số bản in"}),l.jsx("input",{name:"printCopies",type:"number",min:1,value:s.printCopies,onChange:f,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"In hóa đơn"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Tự động in hóa đơn sau thanh toán"})]}),l.jsx("input",{type:"checkbox",name:"autoPrintBill",checked:s.autoPrintBill,onChange:f,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"Tự động in"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"In ngay khi hoàn thành đơn hàng"})]}),l.jsx("input",{type:"checkbox",name:"autoPrintOnOrder",checked:s.autoPrintOnOrder,onChange:f,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"In mã vạch"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"In mã vạch sản phẩm trên hóa đơn"})]}),l.jsx("input",{type:"checkbox",name:"printBarcode",checked:s.printBarcode,onChange:f,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"In logo"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Hiển thị logo cửa hàng trên hóa đơn"})]}),l.jsx("input",{type:"checkbox",name:"printLogo",checked:s.printLogo,onChange:f,className:"w-10 h-5 accent-blue-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Tiêu đề hóa đơn"}),l.jsx("textarea",{name:"billHeader",value:s.billHeader||"",onChange:f,className:"border rounded px-2 py-1 w-full",rows:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Chân trang hóa đơn"}),l.jsx("textarea",{name:"billFooter",value:s.billFooter||"",onChange:f,className:"border rounded px-2 py-1 w-full",rows:2})]}),l.jsxs("div",{className:"flex justify-between pt-2",children:[l.jsxs(ke,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:h,disabled:u.isPending||!s.printerName,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8v6M8 8v6m-4 4h16a2 2 0 002-2V6a2 2 0 00-2-2H4a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.isPending?"Đang test...":"In thử nghiệm"]}),l.jsxs(ke,{type:"submit",disabled:c.isPending,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Lưu cấu hình"]})]})]})})})}function R5e(){const t=El(),{data:e}=Ft({queryKey:["/api/QRSettings"],queryFn:async()=>{const x=await At("/api/QRSettings",{method:"GET"});return x.status===404?null:typeof x=="string"?JSON.parse(x):x}}),[r,n]=T.useState({bankCode:"",bankAccountNumber:"",bankAccountHolder:"",bankName:"",bankBranch:"",qrProvider:"vietqr",vietQRClientId:"",vietQRApiKey:"",vnPayApiKey:"",vnPaySecretKey:"",qrTemplate:"compact",isEnabled:!0,defaultDescription:"Thanh toan hoa don"}),[a,i]=T.useState(!1),[s,o]=T.useState(null);T.useEffect(()=>{e&&(n(e),i(!1))},[e]);const c=Vt({mutationFn:async x=>{const v=await At("/api/QRSettings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});return typeof v=="string"?JSON.parse(v):v},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/QRSettings"]}),i(!1),alert("Đã lưu cấu hình QR thành công!")},onError:x=>{alert(`Lỗi khi lưu: ${x.message}`)}}),u=Vt({mutationFn:async()=>{const x=await At("/api/QRSettings/test",{method:"GET"});return typeof x=="string"?JSON.parse(x):x},onSuccess:x=>{o(x)},onError:x=>{o({error:x.message})}});function f(x){const{name:v,value:w,type:S}=x.target,b=x.target.checked;n(_=>({..._,[v]:S==="checkbox"?b:w})),i(!0)}const h=[{value:"970436",label:"Vietcombank",fullName:"Ngân hàng TMCP Ngoại thương Việt Nam"},{value:"970415",label:"Vietinbank",fullName:"Ngân hàng TMCP Công Thương Việt Nam"},{value:"970422",label:"MB Bank",fullName:"Ngân hàng TMCP Quân đội"},{value:"970418",label:"BIDV",fullName:"Ngân hàng TMCP Đầu tư và Phát triển Việt Nam"},{value:"970405",label:"Agribank",fullName:"Ngân hàng Nông nghiệp và Phát triển Nông thôn Việt Nam"},{value:"970448",label:"OCB",fullName:"Ngân hàng TMCP Phương Đông"},{value:"970432",label:"VPBank",fullName:"Ngân hàng TMCP Việt Nam Thịnh vượng"},{value:"970407",label:"Techcombank",fullName:"Ngân hàng TMCP Kỹ thương Việt Nam"},{value:"970403",label:"Sacombank",fullName:"Ngân hàng TMCP Sài Gòn Thương tín"},{value:"970416",label:"ACB Bank",fullName:"Ngân hàng TMCP Á Châu"},{value:"970419",label:"NCB Bank",fullName:"Ngân hàng TMCP Quốc dân"}],m=x=>{const v=x.target.value,w=h.find(S=>S.value===v);n(S=>({...S,bankCode:v,bankName:w?w.fullName:""})),i(!0)},g=()=>{if(!r.bankCode||!r.bankAccountNumber||!r.bankAccountHolder)return null;const x=r.qrTemplate||"compact",v=encodeURIComponent(r.bankAccountHolder);return`https://api.vietqr.io/image/${r.bankCode}-${r.bankAccountNumber}-${x}.jpg?accountName=${v}&amount=100000`};return l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("form",{onSubmit:x=>{x.preventDefault(),c.mutate(r)},className:"space-y-8",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(D0,{className:"w-5 h-5"})," Cài đặt QR Code"]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"Kích hoạt QR Code"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Cho phép thanh toán qua mã QR"})]}),l.jsx("input",{type:"checkbox",name:"isEnabled",checked:r.isEnabled,onChange:f,className:"w-10 h-5 accent-blue-600"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Ngân hàng *"}),l.jsxs("select",{name:"bankCode",value:r.bankCode,onChange:m,className:"w-full border rounded px-3 py-2",required:!0,children:[l.jsx("option",{value:"",children:"Chọn ngân hàng"}),h.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Tên ngân hàng"}),l.jsx("input",{type:"text",name:"bankName",value:r.bankName,onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"Ví dụ: Ngân hàng TMCP Công Thương Việt Nam",readOnly:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tự động điền theo ngân hàng đã chọn"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Số tài khoản *"}),l.jsx("input",{type:"text",name:"bankAccountNumber",value:r.bankAccountNumber,onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"Nhập số tài khoản",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Tên chủ tài khoản *"}),l.jsx("input",{type:"text",name:"bankAccountHolder",value:r.bankAccountHolder,onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"Nhập tên chủ tài khoản",required:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block font-medium mb-2",children:"Chi nhánh"}),l.jsx("input",{type:"text",name:"bankBranch",value:r.bankBranch||"",onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"Chi nhánh ngân hàng (tùy chọn)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Nhà cung cấp QR"}),l.jsxs("select",{name:"qrProvider",value:r.qrProvider,onChange:f,className:"w-full border rounded px-3 py-2",children:[l.jsx("option",{value:"vietqr",children:"VietQR"}),l.jsx("option",{value:"vnpayqr",children:"VNPay QR"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Template QR"}),l.jsxs("select",{name:"qrTemplate",value:r.qrTemplate,onChange:f,className:"w-full border rounded px-3 py-2",children:[l.jsx("option",{value:"compact",children:"Compact"}),l.jsx("option",{value:"print",children:"Print"}),l.jsx("option",{value:"qr_only",children:"QR Only"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block font-medium mb-2",children:"Nội dung mặc định"}),l.jsx("input",{type:"text",name:"defaultDescription",value:r.defaultDescription||"",onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"Nội dung hiển thị trên QR"})]})]}),r.bankCode&&r.bankAccountNumber&&r.bankAccountHolder&&l.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[l.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Hf,{className:"w-5 h-5"})," Xem trước QR Code"]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:g()||"",alt:"Preview QR Code",className:"w-40 h-40 border rounded-lg mx-auto mb-2",onError:x=>{x.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM2QjczODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIwLjNlbSI+TG9hZGluZy4uLjwvdGV4dD4KPC9zdmc+"}}),l.jsx("p",{className:"text-sm text-green-600 font-medium print:text-black",children:"QR Code mẫu - 100,000₫"})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Ngân hàng:"})," ",r.bankName]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Số tài khoản:"})," ",r.bankAccountNumber]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Chủ tài khoản:"})," ",r.bankAccountHolder]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Template:"})," ",r.qrTemplate]})]})})]})]}),r.qrProvider==="vietqr"&&l.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Cấu hình VietQR API"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Client ID"}),l.jsx("input",{type:"text",name:"vietQRClientId",value:r.vietQRClientId||"",onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"VietQR Client ID (để trống dùng mặc định)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"API Key"}),l.jsx("input",{type:"text",name:"vietQRApiKey",value:r.vietQRApiKey||"",onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"VietQR API Key (để trống dùng mặc định)"})]})]})]}),r.qrProvider==="vnpayqr"&&l.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Cấu hình VNPay QR API"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"API Key"}),l.jsx("input",{type:"text",name:"vnPayApiKey",value:r.vnPayApiKey||"",onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"VNPay API Key"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2",children:"Secret Key"}),l.jsx("input",{type:"password",name:"vnPaySecretKey",value:r.vnPaySecretKey||"",onChange:f,className:"w-full border rounded px-3 py-2",placeholder:"VNPay Secret Key"})]})]})]}),s&&l.jsxs("div",{className:`border rounded-lg p-4 ${s.error?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Kết quả kiểm tra"}),s.error?l.jsx("p",{className:"text-red-600",children:s.error}):l.jsxs("div",{className:"text-green-600",children:[l.jsxs("p",{children:["✓ ",s.message]}),l.jsxs("p",{children:["Provider: ",s.provider]}),l.jsxs("p",{children:["Ngân hàng: ",s.bankName]}),l.jsxs("p",{children:["Chủ tài khoản: ",s.accountHolder]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center pt-2",children:[l.jsx("div",{className:"flex gap-2",children:l.jsxs(ke,{type:"button",variant:"outline",onClick:()=>u.mutate(),disabled:u.isPending,className:"flex items-center gap-2",children:[l.jsx(fj,{className:"w-4 h-4"}),u.isPending?"Đang kiểm tra...":"Kiểm tra cấu hình"]})}),l.jsxs("div",{className:"flex gap-2 items-center",children:[a&&l.jsxs("span",{className:"text-orange-600 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Có thay đổi chưa lưu"]}),l.jsx(ke,{type:"submit",disabled:c.isPending||!a,className:a?"bg-orange-600 hover:bg-orange-700":"",children:c.isPending?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang lưu..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Lưu cấu hình"]})})]})]})]})})})}function M5e(){const[t,e]=T.useState("store"),[,r]=Fi(),n=()=>{r("/einvoice-settings")},a=El(),{data:i}=Ft({queryKey:["/api/StoreInfo"],queryFn:async()=>{const h=await At("/api/StoreInfo",{method:"GET"});return typeof h=="string"?JSON.parse(h):h}}),[s,o]=T.useState({name:"",address:"",taxCode:"",phone:"",email:"",bankAccountName:"",bankAccountNumber:"",bankName:"",bankBranch:""});T.useEffect(()=>{i&&o(i)},[i]);const c=Vt({mutationFn:async h=>{const m=await At("/api/StoreInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});return typeof m=="string"?JSON.parse(m):m},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/StoreInfo"]}),alert("Đã lưu thông tin cửa hàng!")}});function u(h){o({...s,[h.target.name]:h.target.value})}function f(h){h.preventDefault(),c.mutate(s)}return l.jsx(Ri,{title:"Cài đặt hệ thống",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Cài đặt hệ thống"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Quản lý cấu hình và tuỳ chỉnh hệ thống POS"}),l.jsxs("div",{className:"flex mb-8 bg-gray-100 rounded-full overflow-hidden",children:[l.jsxs("button",{className:`flex-1 py-3 flex items-center justify-center gap-2 font-medium transition ${t==="store"?"bg-white shadow text-primary":"text-gray-700"}`,onClick:()=>e("store"),children:[l.jsx(Ji,{className:"w-5 h-5"})," Cửa hàng"]}),l.jsxs("button",{className:`flex-1 py-3 flex items-center justify-center gap-2 font-medium transition ${t==="tax"?"bg-white shadow text-primary":"text-gray-700"}`,onClick:()=>e("tax"),children:[l.jsx(sH,{className:"w-5 h-5"})," Thuế"]}),l.jsxs("button",{className:`flex-1 py-3 flex items-center justify-center gap-2 font-medium transition ${t==="payment"?"bg-white shadow text-primary":"text-gray-700"}`,onClick:()=>e("payment"),children:[l.jsx(_u,{className:"w-5 h-5"})," Thanh toán"]}),l.jsxs("button",{className:`flex-1 py-3 flex items-center justify-center gap-2 font-medium transition ${t==="qr"?"bg-white shadow text-primary":"text-gray-700"}`,onClick:()=>e("qr"),children:[l.jsx(D0,{className:"w-5 h-5"})," QR Code"]}),l.jsxs("button",{className:`flex-1 py-3 flex items-center justify-center gap-2 font-medium transition ${t==="einvoice"?"bg-white shadow text-primary":"text-gray-700"}`,onClick:n,children:[l.jsx(ul,{className:"w-5 h-5"})," Hóa đơn điện tử"]}),l.jsxs("button",{className:`flex-1 py-3 flex items-center justify-center gap-2 font-medium transition ${t==="print"?"bg-white shadow text-primary":"text-gray-700"}`,onClick:()=>e("print"),children:[l.jsx(zf,{className:"w-5 h-5"})," In ấn"]})]}),t==="store"&&l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsxs("form",{onSubmit:f,className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Tên cửa hàng *"}),l.jsx("input",{name:"name",value:s.name||"",onChange:u,required:!0,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Mã số thuế"}),l.jsx("input",{name:"taxCode",value:s.taxCode||"",onChange:u,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Số điện thoại"}),l.jsx("input",{name:"phone",value:s.phone||"",onChange:u,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Email"}),l.jsx("input",{name:"email",value:s.email||"",onChange:u,className:"border rounded px-2 py-1 w-full"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block font-medium",children:"Địa chỉ"}),l.jsx("input",{name:"address",value:s.address||"",onChange:u,className:"border rounded px-2 py-1 w-full"})]})]}),l.jsxs("div",{className:"mt-8",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(_u,{className:"w-5 h-5"})," Thông tin tài khoản ngân hàng"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Tên tài khoản"}),l.jsx("input",{name:"bankAccountName",value:s.bankAccountName||"",onChange:u,className:"border rounded px-2 py-1 w-full",placeholder:"Tên chủ tài khoản"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Số tài khoản"}),l.jsx("input",{name:"bankAccountNumber",value:s.bankAccountNumber||"",onChange:u,className:"border rounded px-2 py-1 w-full",placeholder:"Nhập số tài khoản"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Tên ngân hàng"}),l.jsx("input",{name:"bankName",value:s.bankName||"",onChange:u,className:"border rounded px-2 py-1 w-full",placeholder:"Tên ngân hàng"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium",children:"Chi nhánh"}),l.jsx("input",{name:"bankBranch",value:s.bankBranch||"",onChange:u,className:"border rounded px-2 py-1 w-full",placeholder:"Chi nhánh ngân hàng"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-xl p-4 mt-8",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:"Kiểm tra QR thanh toán"}),l.jsx("div",{className:"text-gray-500 text-sm",children:"Tạo mã QR thử nghiệm để kiểm tra cấu hình"})]}),l.jsxs(ke,{type:"button",variant:"outline",className:"flex items-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4h4v4H4V4zm6 0h4v4h-4V4zm6 0h4v4h-4V4zM4 10h4v4H4v-4zm6 0h4v4h-4v-4zm6 0h4v4h-4v-4zM4 16h4v4H4v-4zm6 0h4v4h-4v-4zm6 0h4v4h-4v-4z"})}),"Tạo QR thử nghiệm"]})]}),l.jsx("div",{className:"pt-2",children:l.jsx(ke,{type:"submit",disabled:c.isPending,children:c.isPending?"Đang lưu...":"Lưu thông tin"})})]})})})}),t==="tax"&&l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(O5e,{})}),t==="payment"&&l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(P5e,{})}),t==="qr"&&l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(R5e,{})}),t==="print"&&l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx(D5e,{})})]})})}var Mee="AlertDialog",[F5e,kMe]=Li(Mee,[AW]),Ec=AW(),Fee=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ec(e);return l.jsx(VW,{...n,...r,modal:!0})};Fee.displayName=Mee;var L5e="AlertDialogTrigger",Lee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Ec(r);return l.jsx(HW,{...a,...n,ref:e})});Lee.displayName=L5e;var B5e="AlertDialogPortal",Bee=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ec(e);return l.jsx(zW,{...n,...r})};Bee.displayName=B5e;var $5e="AlertDialogOverlay",$ee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Ec(r);return l.jsx(t3,{...a,...n,ref:e})});$ee.displayName=$5e;var Ph="AlertDialogContent",[U5e,V5e]=F5e(Ph),H5e=DV("AlertDialogContent"),Uee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Ec(r),s=T.useRef(null),o=_r(e,s),c=T.useRef(null);return l.jsx(z0e,{contentName:Ph,titleName:Vee,docsSlug:"alert-dialog",children:l.jsx(U5e,{scope:r,cancelRef:c,children:l.jsxs(r3,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:mt(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(H5e,{children:n}),l.jsx(q5e,{contentRef:s})]})})})});Uee.displayName=Ph;var Vee="AlertDialogTitle",Hee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Ec(r);return l.jsx(n3,{...a,...n,ref:e})});Hee.displayName=Vee;var zee="AlertDialogDescription",qee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Ec(r);return l.jsx(a3,{...a,...n,ref:e})});qee.displayName=zee;var z5e="AlertDialogAction",Wee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Ec(r);return l.jsx(i3,{...a,...n,ref:e})});Wee.displayName=z5e;var Gee="AlertDialogCancel",Kee=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=V5e(Gee,r),i=Ec(r),s=_r(e,a);return l.jsx(i3,{...i,...n,ref:s})});Kee.displayName=Gee;var q5e=({contentRef:t})=>{const e=`\`${Ph}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ph}\` by passing a \`${zee}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ph}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},W5e=Fee,G5e=Lee,K5e=Bee,Xee=$ee,Qee=Uee,Yee=Wee,Zee=Kee,Jee=Hee,ete=qee;const S2=W5e,N2=G5e,X5e=K5e,tte=T.forwardRef(({className:t,...e},r)=>l.jsx(Xee,{className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));tte.displayName=Xee.displayName;const Gg=T.forwardRef(({className:t,...e},r)=>l.jsxs(X5e,{children:[l.jsx(tte,{}),l.jsx(Qee,{ref:r,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Gg.displayName=Qee.displayName;const Kg=({className:t,...e})=>l.jsx("div",{className:dt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Kg.displayName="AlertDialogHeader";const Xg=({className:t,...e})=>l.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xg.displayName="AlertDialogFooter";const Qg=T.forwardRef(({className:t,...e},r)=>l.jsx(Jee,{ref:r,className:dt("text-lg font-semibold",t),...e}));Qg.displayName=Jee.displayName;const Yg=T.forwardRef(({className:t,...e},r)=>l.jsx(ete,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));Yg.displayName=ete.displayName;const Zg=T.forwardRef(({className:t,...e},r)=>l.jsx(Yee,{ref:r,className:dt(B2(),t),...e}));Zg.displayName=Yee.displayName;const Jg=T.forwardRef(({className:t,...e},r)=>l.jsx(Zee,{ref:r,className:dt(B2({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Jg.displayName=Zee.displayName;const Q5e=`
  @media print {
    * {
      color: #000 !important;
      background-color: transparent !important;
    }
    p, span, div, label, input, button, a, h1, h2, h3, h4, h5, h6 {
      color: #000 !important;
    }
    .text-gray-500, .text-gray-600, .text-gray-700, .text-gray-800, 
    .text-green-600, .text-green-700, .text-green-800,
    [class*="text-gray"], [class*="text-green"] {
      color: #000 !important;
    }
  }
`;function Y5e(){var J,ne;const{toast:t}=mi(),{hasPermission:e}=oo(),r=e("DeleteOrders"),[n,a]=T.useState(""),[i,s]=T.useState(""),[o,c]=T.useState("all"),[u,f]=T.useState("all"),[h,m]=T.useState("all"),{data:g=[],isLoading:x,refetch:v}=Ft({queryKey:["/api/orders"],queryFn:async()=>{const G=await At("/api/orders",{method:"GET"}),F=(typeof G=="string"?JSON.parse(G):G).map(ee=>({...ee,items:typeof ee.items=="string"?JSON.parse(ee.items):ee.items}));return console.log("orders:",F),F},refetchInterval:5e3}),{data:w}=Ft({queryKey:["/api/StoreInfo"],queryFn:async()=>{const G=await At("/api/StoreInfo",{method:"GET"});return G.status===404?null:typeof G=="string"?JSON.parse(G):G}}),{data:S}=Ft({queryKey:["/api/QRSettings"],queryFn:async()=>await At("/api/QRSettings",{method:"GET"}),staleTime:300*1e3}),{data:b}=Ft({queryKey:["/api/PrintConfig"],queryFn:async()=>await At("/api/PrintConfig",{method:"GET"}),staleTime:300*1e3}),{data:_=[]}=Ft({queryKey:["/api/storeswitch/my-stores"],queryFn:async()=>{try{const G=await At("/api/storeswitch/my-stores",{method:"GET",headers:{Username:"admin"}});return typeof G=="string"?JSON.parse(G):G}catch(G){return console.error("Error fetching stores:",G),[]}},staleTime:600*1e3}),E=(G,z)=>{if(!(S!=null&&S.isEnabled)||!(S!=null&&S.bankCode)||!(S!=null&&S.bankAccountNumber))return null;const F=S.qrTemplate||"compact",ee=encodeURIComponent(S.bankAccountHolder||"");let K=`https://api.vietqr.io/image/${S.bankCode}-${S.bankAccountNumber}-${F}.jpg?accountName=${ee}&amount=${G}`;if(z){const ae=encodeURIComponent(`thanh toan don hang theo hoa don ${z}`);K+=`&addInfo=${ae}`}else{const ae=encodeURIComponent(S.defaultDescription||"Thanh toan hoa don");K+=`&addInfo=${ae}`}return K},[A,j]=T.useState(null),O=T.useMemo(()=>g?g.filter(G=>{var z,F;if(i.trim()){const ee=i.toLowerCase(),K=G.orderId.toString().includes(ee),ae=((z=G.customerName)==null?void 0:z.toLowerCase().includes(ee))||!1,q=((F=G.storeName)==null?void 0:F.toLowerCase().includes(ee))||!1;if(!K&&!ae&&!q)return!1}return!(o!=="all"&&G.storeId!==o||u!=="all"&&G.paymentStatus!==u||h!=="all"&&G.status!==h)}):[],[g,i,o,u,h]),D=G=>{switch(G){case"paid":return"Đã thanh toán";case"pending":return"Chờ thanh toán";case"failed":return"Thanh toán thất bại";default:return"Đã thanh toán"}},M=G=>{switch(G){case"completed":return"Hoàn thành";case"pending":return"Đang xử lý";case"cancelled":return"Đã hủy";default:return"Hoàn thành"}},k=G=>{switch(G){case"paid":return l.jsx(Ct,{className:"bg-green-100 text-green-800 border-green-200 print:bg-white print:text-black print:border-black",children:D(G)});case"pending":return l.jsx(Ct,{className:"bg-yellow-100 text-yellow-800 border-yellow-200 print:bg-white print:text-black print:border-black",children:D(G)});case"failed":return l.jsx(Ct,{className:"bg-red-100 text-red-800 border-red-200 print:bg-white print:text-black print:border-black",children:D(G)});default:return l.jsx(Ct,{className:"bg-green-100 text-green-800 border-green-200 print:bg-white print:text-black print:border-black",children:D(G)})}},I=G=>{switch(G){case"completed":return l.jsx(Ct,{className:"bg-blue-100 text-blue-800 border-blue-200",children:M(G)});case"pending":return l.jsx(Ct,{className:"bg-orange-100 text-orange-800 border-orange-200",children:M(G)});case"cancelled":return l.jsx(Ct,{className:"bg-gray-100 text-gray-800 border-gray-200",children:M(G)});default:return l.jsx(Ct,{className:"bg-blue-100 text-blue-800 border-blue-200",children:M(G)})}},R=(G,z)=>G==="pending"?"border-l-4 border-l-yellow-400 bg-yellow-50":G==="failed"?"border-l-4 border-l-red-400 bg-red-50":z==="pending"?"border-l-4 border-l-orange-400 bg-orange-50":z==="cancelled"?"border-l-4 border-l-gray-400 bg-gray-50":G==="paid"&&z==="completed"?"border-l-4 border-l-green-400 bg-green-50 print:border-l-black print:bg-white":"",[,L]=Fi(),U=async G=>{try{await At(`/api/orders/${G}`,{method:"DELETE"}),t({title:"Thành công",description:"Đã xóa đơn hàng thành công"}),v()}catch(z){console.log("Delete error:",z),t({variant:"destructive",title:"Tạm thời không thể xóa đơn hàng",description:"Hệ thống đang có vấn đề với việc xóa đơn hàng. Vui lòng liên hệ admin để xóa thủ công hoặc đánh dấu đơn hàng là 'Đã hủy'."})}},X=async G=>{try{await At(`/api/orders/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Status:"cancelled",CancellationReason:n||"Không có lý do"})}),t({title:"Thành công",description:"Đã đánh dấu đơn hàng là đã hủy"}),a(""),v()}catch{t({variant:"destructive",title:"Lỗi",description:"Không thể cập nhật trạng thái đơn hàng"})}},ue=G=>{const z={orderId:G.orderId,items:G.items,customerName:G.customerName,totalAmount:G.totalAmount,paymentMethod:G.paymentMethod};localStorage.setItem("reopenOrder",JSON.stringify(z)),t({title:"Đã mở lại đơn hàng",description:`Đơn hàng #${G.orderId} đã được chuyển đến trang bán hàng để tiếp tục thanh toán`}),L("/sales")},he=T.useMemo(()=>{const G=O.length,z=O.filter(pe=>pe.paymentStatus==="paid").length,F=O.filter(pe=>pe.paymentStatus==="pending").length,ee=O.filter(pe=>pe.paymentStatus==="failed").length,K=O.filter(pe=>pe.status==="completed").length,ae=O.filter(pe=>pe.status==="pending").length,q=O.filter(pe=>pe.status==="cancelled").length;return{total:G,paid:z,pending:F,failed:ee,completed:K,processing:ae,cancelled:q}},[O]);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:Q5e}}),l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Danh sách đơn hàng"}),l.jsx(Ue,{className:"mb-6",children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),l.jsx(tt,{placeholder:"Tìm theo mã đơn, khách hàng, cửa hàng...",value:i,onChange:G=>s(G.target.value),className:"pl-9"})]}),l.jsxs(fa,{value:o,onValueChange:c,children:[l.jsx(Kn,{children:l.jsx(da,{placeholder:"Tất cả cửa hàng"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả cửa hàng"}),_.map(G=>l.jsx(er,{value:G.storeId.toString(),children:G.name},G.storeId))]})]}),l.jsxs(fa,{value:u,onValueChange:f,children:[l.jsx(Kn,{children:l.jsx(da,{placeholder:"Trạng thái thanh toán"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả"}),l.jsx(er,{value:"paid",children:"Đã thanh toán"}),l.jsx(er,{value:"pending",children:"Chờ thanh toán"}),l.jsx(er,{value:"failed",children:"Thanh toán thất bại"})]})]}),l.jsxs(fa,{value:h,onValueChange:m,children:[l.jsx(Kn,{children:l.jsx(da,{placeholder:"Trạng thái đơn hàng"})}),l.jsxs(Xn,{children:[l.jsx(er,{value:"all",children:"Tất cả"}),l.jsx(er,{value:"completed",children:"Hoàn thành"}),l.jsx(er,{value:"pending",children:"Đang xử lý"}),l.jsx(er,{value:"cancelled",children:"Đã hủy"})]})]})]})})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:he.total}),l.jsx("div",{className:"text-sm text-gray-600",children:"Tổng đơn"})]})}),l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600 print:text-black",children:he.paid}),l.jsx("div",{className:"text-sm text-gray-600",children:"Đã thanh toán"})]})}),l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:he.pending}),l.jsx("div",{className:"text-sm text-gray-600",children:"Chờ thanh toán"})]})}),l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:he.failed}),l.jsx("div",{className:"text-sm text-gray-600",children:"Thanh toán thất bại"})]})}),l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:he.completed}),l.jsx("div",{className:"text-sm text-gray-600",children:"Hoàn thành"})]})}),l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:he.processing}),l.jsx("div",{className:"text-sm text-gray-600",children:"Đang xử lý"})]})}),l.jsx(Ue,{className:"text-center",children:l.jsxs(Ve,{className:"p-3",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-600",children:he.cancelled}),l.jsx("div",{className:"text-sm text-gray-600",children:"Đã hủy"})]})})]}),l.jsx("div",{className:"mb-4",children:l.jsx(ke,{style:{backgroundColor:"#ef4444",color:"#fff"},onClick:()=>L("/sales"),children:"Đóng"})}),x?l.jsx("div",{children:"Đang tải..."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O.map(G=>l.jsx(Ue,{className:R(G.paymentStatus,G.status),children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"font-semibold text-lg mb-2",children:["Mã đơn: #",G.orderId]}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{children:["Khách hàng: ",l.jsx("span",{className:"font-medium",children:G.customerName||"Khách lẻ"})]}),l.jsxs("div",{children:["Cửa hàng: ",l.jsx("span",{className:"font-medium text-purple-600",children:G.storeName||"Cửa hàng chính"})]}),l.jsxs("div",{children:["Ngày tạo: ",l.jsx("span",{className:"font-medium",children:new Date(G.createdAt).toLocaleDateString("vi-VN")})]}),l.jsxs("div",{children:["Giờ tạo: ",l.jsx("span",{className:"font-medium",children:new Date(G.createdAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{children:["Tổng tiền: ",l.jsxs("span",{className:"font-bold text-blue-600",children:[Number(G.totalAmount).toLocaleString("vi-VN"),"₫"]})]}),G.discountAmount&&G.discountAmount>0&&l.jsxs(Ct,{className:"bg-red-100 text-red-800 border-red-200 text-xs",children:["Giảm ",Number(G.discountAmount).toLocaleString("vi-VN"),"₫"]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[k(G.paymentStatus),I(G.status)]}),G.status==="cancelled"&&G.cancellationReason&&l.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium text-red-700",children:"Lý do hủy:"}),l.jsx("p",{className:"text-red-600 mt-1",children:G.cancellationReason})]})}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[G.paymentStatus==="pending"&&l.jsxs("button",{onClick:()=>ue(G),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(vie,{className:"w-4 h-4 mr-1"}),"Mở lại"]}),G.status!=="cancelled"&&l.jsxs(S2,{children:[l.jsx(N2,{asChild:!0,children:l.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-orange-600 text-white text-sm rounded-md hover:bg-orange-700 transition-colors",children:[l.jsx(R0,{className:"w-4 h-4 mr-1"}),"Đánh dấu hủy"]})}),l.jsxs(Gg,{children:[l.jsxs(Kg,{children:[l.jsx(Qg,{children:"Xác nhận hủy đơn hàng"}),l.jsxs(Yg,{children:["Bạn có chắc chắn muốn đánh dấu đơn hàng #",G.orderId,' là đã hủy? Đơn hàng sẽ được giữ lại trong hệ thống với trạng thái "Đã hủy".']})]}),l.jsxs("div",{className:"py-4",children:[l.jsxs("label",{htmlFor:"cancellation-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:["Lý do hủy đơn hàng ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{id:"cancellation-reason",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,value:n,onChange:z=>a(z.target.value),placeholder:"Nhập lý do hủy đơn hàng (bắt buộc)",maxLength:500}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[n.length,"/500 ký tự"]})]}),l.jsxs(Xg,{children:[l.jsx(Jg,{onClick:()=>a(""),children:"Không"}),l.jsx(Zg,{onClick:()=>X(G.orderId),className:"bg-orange-600 hover:bg-orange-700",disabled:!n.trim(),children:"Đánh dấu hủy"})]})]})]}),r&&l.jsxs(S2,{children:[l.jsx(N2,{asChild:!0,children:l.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors",children:[l.jsx(Uo,{className:"w-4 h-4 mr-1"}),"Xóa"]})}),l.jsxs(Gg,{children:[l.jsxs(Kg,{children:[l.jsx(Qg,{children:"Xác nhận xóa đơn hàng"}),l.jsxs(Yg,{children:["Bạn có chắc chắn muốn xóa đơn hàng #",G.orderId,"? Hành động này không thể hoàn tác.",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Lưu ý:"}),' Hiện tại có vấn đề kỹ thuật với việc xóa đơn hàng. Khuyến nghị sử dụng "Đánh dấu hủy" thay thế.']})]}),l.jsxs(Xg,{children:[l.jsx(Jg,{children:"Hủy"}),l.jsx(Zg,{onClick:()=>U(G.orderId),className:"bg-red-600 hover:bg-red-700",children:"Thử xóa"})]})]})]})]})]}),l.jsx("div",{className:"ml-4",children:l.jsx(ke,{onClick:()=>j(G),size:"sm",className:"mb-2",children:"Xem & In"})})]})})},G.orderId))}),A&&l.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4 print:bg-white print:p-0",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg relative print:w-full print:max-w-full max-h-[90vh] overflow-y-auto print:overflow-visible print:max-h-none print:shadow-none print:rounded-none print:relative print:block print:no-break",style:{width:"80mm",maxWidth:"80mm",minWidth:"80mm",fontSize:"14px"},children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-black",onClick:()=>j(null),children:"Đóng"}),l.jsxs("div",{className:"text-center border-b pb-2 mb-2",children:[l.jsx("div",{className:"font-bold text-lg",children:(w==null?void 0:w.name)||"[Tên cửa hàng]"}),(w==null?void 0:w.address)&&l.jsxs("div",{className:"text-sm",children:["Đ/c: ",w.address]}),(w==null?void 0:w.taxCode)&&l.jsxs("div",{className:"text-sm",children:["MST: ",w.taxCode]}),(w==null?void 0:w.phone)&&l.jsxs("div",{className:"text-sm",children:["ĐT: ",w.phone]}),(w==null?void 0:w.email)&&l.jsxs("div",{className:"text-sm",children:["Email: ",w.email]})]}),l.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Đơn hàng #",A.orderId]}),l.jsxs("div",{children:["Khách hàng: ",A.customerName||"Khách lẻ"]}),l.jsxs("div",{children:["Cửa hàng: ",l.jsx("b",{className:"text-purple-600",children:A.storeName||"Cửa hàng chính"})]}),l.jsxs("div",{children:["Ngày tạo: ",new Date(A.createdAt).toLocaleDateString("vi-VN")]}),l.jsxs("div",{children:["Giờ tạo: ",new Date(A.createdAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("div",{className:"flex gap-2 my-2",children:[k(A.paymentStatus),I(A.status)]}),l.jsxs("div",{children:["Hình thức thanh toán: ",l.jsx("b",{children:A.paymentMethod||"Tiền mặt"})]}),l.jsxs("div",{children:["Thu Ngân: ",l.jsx("b",{children:A.cashierName||"Admin"})]}),l.jsxs("div",{className:"mt-4 print:no-break",children:[l.jsxs("table",{className:"w-full border print:no-break",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"border px-2 py-1",children:"Sản phẩm"}),l.jsx("th",{className:"border px-2 py-1",children:"SL"}),l.jsx("th",{className:"border px-2 py-1",children:"Đơn giá"}),l.jsx("th",{className:"border px-2 py-1",children:"Thành tiền"})]})}),l.jsx("tbody",{children:(J=A.items)==null?void 0:J.map((G,z)=>l.jsxs("tr",{children:[l.jsx("td",{className:"border px-2 py-1",children:G.productName}),l.jsx("td",{className:"border px-2 py-1 text-center",children:G.quantity}),l.jsxs("td",{className:"border px-2 py-1 text-right",children:[Number(G.price).toLocaleString("vi-VN"),"₫"]}),l.jsxs("td",{className:"border px-2 py-1 text-right",children:[Number(G.totalPrice).toLocaleString("vi-VN"),"₫"]})]},z))})]}),l.jsx("div",{className:"mt-2 text-right",children:(()=>{var ee;const G=((ee=A.items)==null?void 0:ee.reduce((K,ae)=>K+(Number(ae.totalPrice)||0),0))||0,z=Number(A.taxAmount)||0,F=Number(A.discountAmount)||0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Tạm tính: ",l.jsxs("b",{children:[G.toLocaleString("vi-VN"),"₫"]})]}),z>0&&l.jsxs("div",{children:["VAT 10%: ",l.jsxs("b",{children:[z.toLocaleString("vi-VN"),"₫"]})]}),F>0&&l.jsxs("div",{className:"text-red-600",children:["Giảm giá: ",l.jsxs("b",{children:["-",F.toLocaleString("vi-VN"),"₫"]})]})]})})()})]}),l.jsxs("div",{className:"mt-4 text-right font-bold text-lg border-t pt-2 print:no-break",children:["Tổng cộng: ",Number(A.totalAmount).toLocaleString("vi-VN"),"₫"]}),(A.paymentMethod==="qr"||A.paymentMethod==="QR Code"||((ne=A.paymentMethod)==null?void 0:ne.toLowerCase().includes("qr")))&&l.jsxs("div",{className:"mt-4 text-center print:mt-2 print:border-0 print:p-0 print:bg-white border rounded-lg p-4 bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200 print:no-break",children:[l.jsx("h4",{className:"font-semibold text-purple-800 mb-3 text-base print:text-black print:text-sm print:mb-1 print:font-bold",children:"Mã QR Thanh toán"}),E(A.totalAmount,A.orderId)?l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex justify-center mb-4 print:mb-1",children:l.jsx("div",{className:"p-2 bg-white rounded-xl shadow-lg border-2 border-purple-200 w-full max-w-full print:p-0 print:shadow-none print:border-0 print:rounded-none print:bg-transparent",children:l.jsx("img",{src:E(A.totalAmount,A.orderId)||"",alt:"QR Code thanh toán",className:"w-full h-auto object-contain mx-auto print:w-full print:h-auto",style:{width:"100%",height:"auto",minWidth:"200px",minHeight:"200px",maxWidth:"300px",display:"block"},onError:G=>{G.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNTAiIGhlaWdodD0iMjUwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjEyNSIgeT0iMTI1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM2QjczODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIwLjNlbSI+UVIgRXJyb3I8L3RleHQ+Cjwvc3ZnPg=="}})})})}):l.jsxs("div",{className:"text-center text-orange-600 py-6",children:[l.jsx("div",{className:"w-full h-48 mx-auto bg-orange-100 rounded-xl flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-orange-500 text-sm font-medium",children:"QR không khả dụng"})}),l.jsx("p",{className:"text-sm font-medium",children:"QR Code chưa được cấu hình"}),l.jsx("p",{className:"text-xs",children:"Vui lòng vào Settings > QR Code để cấu hình"})]}),l.jsx("div",{className:"mt-3 p-2 bg-purple-100 rounded-lg print:bg-transparent print:border print:border-black print:p-1 print:mt-1",children:l.jsxs("p",{className:"text-sm font-bold text-purple-800 print:text-black print:text-xs",children:["Số tiền: ",Number(A.totalAmount).toLocaleString("vi-VN"),"₫"]})})]}),l.jsx("div",{className:"mt-6 text-center font-semibold text-gray-700 print:text-black",children:"Cảm ơn - Hẹn gặp lại"}),l.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-end gap-2 print:hidden",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ke,{onClick:()=>window.print(),className:"bg-green-600 hover:bg-green-700 text-white flex items-center justify-center print:hidden",size:"lg",children:[l.jsx(zf,{className:"w-4 h-4 mr-2"}),"In đơn hàng"]}),(b==null?void 0:b.printCopies)&&b.printCopies>1&&l.jsxs(ke,{onClick:()=>{for(let G=0;G<(b.printCopies||1);G++)setTimeout(()=>window.print(),G*1e3)},variant:"outline",size:"sm",className:"text-green-600 border-green-600 hover:bg-green-50 print:hidden",children:["In ",b.printCopies," bản"]})]}),l.jsx(ke,{onClick:()=>j(null),variant:"secondary",children:"Đóng"})]})]})})]})]})}function Z5e(){var g,x,v,w;const[,t]=vne("/print-order/:orderId"),[,e]=Fi(),[r,n]=T.useState(!1),a=t!=null&&t.orderId?parseInt(t.orderId):null,{data:i}=Ft({queryKey:["/api/printconfig"],queryFn:()=>At("/api/printconfig",{method:"GET"})}),{data:s,isLoading:o}=Ft({queryKey:["/api/orders",a],queryFn:()=>At(`/api/orders/${a}`,{method:"GET"}),enabled:!!a}),c=((g=i==null?void 0:i.printerName)==null?void 0:g.includes("POS"))||((x=i==null?void 0:i.printerName)==null?void 0:x.includes("80"))||!1,u=S=>{switch(S){case"cash":return"Tiền mặt";case"card":return"Thẻ ngân hàng";case"qr":return"QR Code";case"ewallet":return"Ví điện tử";default:return"Tiền mặt"}},f=S=>{switch(S){case"paid":return"Đã thanh toán";case"pending":return"Chờ thanh toán";case"failed":return"Thanh toán thất bại";default:return"Đã thanh toán"}},h=S=>{switch(S){case"completed":return"Hoàn thành";case"pending":return"Đang xử lý";case"cancelled":return"Đã hủy";default:return"Hoàn thành"}},m=()=>{n(!0),window.print(),setTimeout(()=>n(!1),1e3)};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải chi tiết đơn hàng..."})]})}):s?l.jsxs(l.Fragment,{children:[c&&l.jsx("style",{children:`
          @media print {
            @page {
              size: 80mm auto;
              margin: 0;
            }
            * {
              box-sizing: border-box;
            }
            body {
              margin: 0;
              padding: 0;
              font-family: "Courier New", monospace;
              font-size: 9px;
              line-height: 1.1;
              width: 80mm;
              max-width: 80mm;
              overflow-x: hidden;
            }
            body * {
              visibility: hidden;
            }
            .print-content, .print-content * {
              visibility: visible;
            }
            /* Force all green colors to black for thermal printing */
            .text-green-600,
            .text-green-700,
            .text-green-800,
            .text-green-500,
            .text-green-900,
            [class*="text-green"] {
              color: #000 !important;
            }
            /* Force all gray colors to black for thermal printing */
            .text-gray-500,
            .text-gray-600,
            .text-gray-700,
            .text-gray-800,
            [class*="text-gray"] {
              color: #000 !important;
            }
            .bg-green-50,
            .bg-green-100,
            .bg-green-200,
            [class*="bg-green"] {
              background-color: transparent !important;
            }
            .border-green-200,
            .border-green-400,
            .border-green-600,
            [class*="border-green"] {
              border-color: #000 !important;
            }
            /* Force ALL text to black for thermal printing */
            * {
              color: #000 !important;
              background-color: transparent !important;
            }
            /* Ensure strong contrast for thermal printing */
            p, span, div, label, input, button, a {
              color: #000 !important;
            }
            .print-content {
              position: absolute;
              left: 0;
              top: 0;
              width: 80mm;
              max-width: 80mm;
              padding: 2mm;
              background: white;
              box-sizing: border-box;
              font-size: 9px;
              overflow-x: hidden;
              word-wrap: break-word;
            }
            .no-print {
              display: none !important;
            }
            .store-info {
              text-align: center;
              font-size: 10px;
              margin-bottom: 2mm;
              border-bottom: 1px dashed #000;
              padding-bottom: 2mm;
              width: 100%;
              max-width: 76mm;
            }
            .store-info .store-name {
              font-weight: bold;
              font-size: 12px;
              margin-bottom: 1mm;
              word-wrap: break-word;
            }
            .store-info div {
              font-size: 8px;
              margin: 0.5mm 0;
              word-wrap: break-word;
            }
            .order-header {
              text-align: center;
              font-weight: bold;
              font-size: 11px;
              margin: 2mm 0;
              word-wrap: break-word;
            }
            .order-details {
              font-size: 8px;
              margin-bottom: 2mm;
              border-bottom: 1px dashed #666;
              padding-bottom: 2mm;
              width: 100%;
              max-width: 76mm;
            }
            .order-details div {
              margin: 0.5mm 0;
              word-wrap: break-word;
            }
            .item-list {
              margin: 2mm 0;
            }
            .item {
              margin-bottom: 2mm;
              font-size: 8px;
              border-bottom: 1px dotted #ccc;
              padding-bottom: 1mm;
              width: 100%;
              max-width: 76mm;
            }
            .item-name {
              font-weight: bold;
              margin-bottom: 0.5mm;
              word-wrap: break-word;
              overflow-wrap: break-word;
              max-width: 76mm;
              white-space: normal;
            }
            .item-line {
              display: flex;
              justify-content: space-between;
              font-size: 7px;
              width: 100%;
              max-width: 76mm;
              flex-wrap: nowrap;
            }
            .totals {
              border-top: 1px dashed #000;
              padding-top: 2mm;
              margin-top: 2mm;
              width: 100%;
              max-width: 76mm;
            }
            .total-line {
              display: flex;
              justify-content: space-between;
              font-size: 8px;
              margin: 0.5mm 0;
              width: 100%;
              max-width: 76mm;
            }
            .grand-total {
              display: flex;
              justify-content: space-between;
              font-weight: bold;
              font-size: 10px;
              border-top: 2px solid #000;
              border-bottom: 2px solid #000;
              width: 100%;
              max-width: 76mm;
              padding: 1mm 0;
              margin: 2mm 0;
            }
            .footer {
              text-align: center;
              font-size: 8px;
              margin-top: 3mm;
              border-top: 1px dashed #000;
              padding-top: 2mm;
              width: 100%;
              max-width: 76mm;
              word-wrap: break-word;
              font-weight: bold;
              color: #000 !important;
            }
            .payment-status, .order-status {
              font-weight: bold;
              color: #000 !important;
              background: none !important;
              border: 1px solid #000 !important;
              padding: 1mm;
              margin: 0.5mm 0;
              display: inline-block;
              font-size: 7px;
            }
            .bank-info {
              font-weight: bold;
              color: #000 !important;
              font-size: 7px;
              text-align: center;
              margin: 1mm 0;
            }
          }
        `}),!c&&l.jsx("style",{children:`
          @media print {
            @page {
              size: A4;
              margin: 15mm;
            }
            body {
              margin: 0;
              padding: 0;
              font-family: Arial, sans-serif;
              font-size: 12px;
              line-height: 1.4;
            }
            body * {
              visibility: hidden;
            }
            .print-content, .print-content * {
              visibility: visible;
            }
            .print-content {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              background: white;
            }
            .no-print {
              display: none !important;
            }
            .payment-status, .order-status {
              font-weight: bold;
              color: #000 !important;
              background: none !important;
              border: 1px solid #000 !important;
              padding: 2mm;
              margin: 1mm;
              display: inline-block;
              font-size: 11px;
            }
            .bank-info {
              font-weight: bold;
              color: #000 !important;
              font-size: 11px;
              text-align: center;
              margin: 3mm 0;
            }
            .footer {
              color: #000 !important;
              font-weight: bold;
            }
            /* Force all green colors to black for thermal printing */
            .text-green-600,
            .text-green-700,
            .text-green-800,
            .text-green-500,
            .text-green-900,
            [class*="text-green"] {
              color: #000 !important;
            }
            /* Force all gray colors to black for thermal printing */
            .text-gray-500,
            .text-gray-600,
            .text-gray-700,
            .text-gray-800,
            [class*="text-gray"] {
              color: #000 !important;
            }
            .bg-green-50,
            .bg-green-100,
            .bg-green-200,
            [class*="bg-green"] {
              background-color: transparent !important;
            }
            .border-green-200,
            .border-green-400,
            .border-green-600,
            [class*="border-green"] {
              border-color: #000 !important;
            }
            /* Force ALL text to black for thermal printing */
            * {
              color: #000 !important;
              background-color: transparent !important;
            }
            /* Ensure strong contrast for thermal printing */
            p, span, div, label, input, button, a {
              color: #000 !important;
            }
          }
        `}),l.jsx("style",{children:`
        @media screen {
          .print-content {
            max-width: ${c?"80mm":"800px"};
            width: ${c?"80mm":"auto"};
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20px;
            overflow-x: ${c?"hidden":"auto"};
            word-wrap: break-word;
          }
          ${c?`
          .print-content * {
            max-width: 100%;
            word-wrap: break-word;
            overflow-wrap: break-word;
          }
          .print-content .item-name {
            white-space: normal;
            line-height: 1.2;
          }
          .print-content .item-line {
            font-size: 0.9em;
          }
          `:""}
        }
      `}),l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"no-print bg-white shadow-sm border-b p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ke,{variant:"outline",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[l.jsx(iH,{className:"h-4 w-4"}),"Quay lại"]}),l.jsxs("h1",{className:"text-2xl font-bold",children:["In đơn hàng #",s.orderId]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",c?"POS-80C":"A4",")"]})]}),l.jsxs(ke,{onClick:m,disabled:r,className:"flex items-center gap-2",children:[l.jsx(zf,{className:"h-4 w-4"}),r?"Đang in...":"In đơn hàng"]})]})}),l.jsxs("div",{className:"print-content p-8",children:[l.jsxs("div",{className:"store-info",children:[l.jsx("div",{className:"store-name",children:"Pinkwish Shop"}),l.jsx("div",{children:"Đ/c: Phú quốc - An giang"}),l.jsx("div",{children:"MST: 0123456789"}),l.jsx("div",{children:"ĐT: 0907999841"}),l.jsx("div",{children:"Email: pwshop@gmail.com"})]}),l.jsxs("div",{className:"order-header",children:["Đơn hàng #",s.orderId]}),l.jsxs("div",{className:"order-details",children:[l.jsxs("div",{children:["Khách hàng: ",s.customerName||((v=s.customer)==null?void 0:v.hoTen)||"Khách lẻ"]}),l.jsxs("div",{children:["Ngày: ",new Date(s.createdAt).toLocaleDateString("vi-VN")]}),l.jsxs("div",{children:["Giờ: ",new Date(s.createdAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("div",{children:["Thanh toán: ",u(s.paymentMethod)]}),l.jsx("div",{children:"Thu ngân: Admin"}),l.jsxs("div",{style:{marginTop:"2mm"},children:[l.jsx("span",{className:"payment-status",children:f(s.paymentStatus)}),l.jsx("span",{style:{margin:"0 2mm"}}),l.jsx("span",{className:"order-status",children:h(s.status)})]})]}),c?l.jsx("div",{className:"item-list",children:s.items.map((S,b)=>l.jsxs("div",{className:"item",children:[l.jsx("div",{className:"item-name",children:S.productName}),l.jsxs("div",{className:"item-line",children:[l.jsxs("span",{children:[S.quantity," x ",(S.totalPrice/S.quantity).toLocaleString("vi-VN"),"₫"]}),l.jsxs("span",{children:[S.totalPrice.toLocaleString("vi-VN"),"₫"]})]})]},b))}):l.jsxs("table",{className:"w-full border-collapse border border-gray-300 my-4",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left",children:"Sản phẩm"}),l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center",children:"SL"}),l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-right",children:"Đơn giá"}),l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-right",children:"Thành tiền"})]})}),l.jsx("tbody",{children:s.items.map((S,b)=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-3 py-2",children:S.productName}),l.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:S.quantity}),l.jsxs("td",{className:"border border-gray-300 px-3 py-2 text-right",children:[(S.totalPrice/S.quantity).toLocaleString("vi-VN"),"₫"]}),l.jsxs("td",{className:"border border-gray-300 px-3 py-2 text-right",children:[S.totalPrice.toLocaleString("vi-VN"),"₫"]})]},b))})]}),l.jsxs("div",{className:"totals",children:[l.jsxs("div",{className:"total-line",children:[l.jsx("span",{children:"Tạm tính:"}),l.jsxs("span",{children:[s.subTotal.toLocaleString("vi-VN"),"₫"]})]}),s.taxAmount>0&&l.jsxs("div",{className:"total-line",children:[l.jsx("span",{children:"VAT 10%:"}),l.jsxs("span",{children:[s.taxAmount.toLocaleString("vi-VN"),"₫"]})]}),s.discountAmount>0&&l.jsxs("div",{className:"total-line",children:[l.jsx("span",{children:"Giảm giá:"}),l.jsxs("span",{children:["-",s.discountAmount.toLocaleString("vi-VN"),"₫"]})]}),l.jsxs("div",{className:"grand-total",children:[l.jsx("span",{children:"TỔNG CỘNG:"}),l.jsxs("span",{children:[s.totalAmount.toLocaleString("vi-VN"),"₫"]})]})]}),l.jsxs("div",{className:"footer",children:[(s.paymentMethod==="qr"||s.paymentMethod==="QR Code"||((w=s.paymentMethod)==null?void 0:w.toLowerCase().includes("qr")))&&l.jsxs("div",{className:"bank-info",children:[l.jsx("div",{children:"Số TK: 8811192753"}),l.jsx("div",{children:"Ngân hàng TMCP Đầu tư và Phát triển Việt Nam"}),l.jsx("div",{children:"Tên chủ TK: HO KINH DOANH PINK WISH SHOP"})]}),l.jsx("div",{style:{marginTop:"2mm",fontSize:"9px",fontWeight:"bold",color:"#000"},children:"Cảm ơn - Hẹn gặp lại!"})]})]})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Không tìm thấy đơn hàng"}),l.jsx(ke,{onClick:()=>e("/orders"),className:"mt-4",variant:"outline",children:"Quay lại danh sách đơn hàng"})]})})}const J5e=[{value:"VNPT",label:"VNPT"},{value:"Viettel",label:"Viettel"},{value:"FPT",label:"FPT"},{value:"MISA",label:"MISA"},{value:"Other",label:"Khác"}],eMe=[{value:"0%",label:"0%"},{value:"5%",label:"5%"},{value:"10%",label:"10%"},{value:"KCT",label:"Không chịu thuế (KCT)"},{value:"KKKNT",label:"Không kê khai không nộp thuế (KKKNT)"}];function tMe(){const{toast:t}=mi(),[,e]=Fi(),[r,n]=T.useState({eInvoiceConfigId:0,isEnabled:!1,provider:"VNPT",apiUrl:"",defaultTemplate:"01GTKT0/001",defaultSymbol:"C22TKT",autoIssue:!1,autoSendEmail:!1,autoSendSMS:!1,companyTaxCode:"",companyName:"",defaultTaxRate:"10%"}),{data:a,isLoading:i}=Ft({queryKey:["/api/EInvoice/config"],queryFn:async()=>await At("/api/EInvoice/config",{method:"GET"})});T.useEffect(()=>{a&&n(a)},[a]);const s=Vt({mutationFn:async u=>await At("/api/EInvoice/config",{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{t({title:"Thành công",description:"Cấu hình hóa đơn điện tử đã được lưu"}),Jt.invalidateQueries({queryKey:["/api/EInvoice/config"]})},onError:u=>{t({title:"Lỗi",description:u.message||"Không thể lưu cấu hình",variant:"destructive"})}}),o=()=>{if(r.isEnabled&&(!r.companyTaxCode||!r.companyName||!r.apiUrl)){t({title:"Lỗi",description:"Vui lòng điền đầy đủ thông tin bắt buộc",variant:"destructive"});return}s.mutate(r)},c=(u,f)=>{n(h=>({...h,[u]:f}))};return i?l.jsx(Ri,{title:"Cấu hình hóa đơn điện tử",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải cấu hình..."})]})})}):l.jsx(Ri,{title:"Cấu hình hóa đơn điện tử",children:l.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ul,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cấu hình hóa đơn điện tử"}),l.jsx("p",{className:"text-gray-600",children:"Cấu hình hệ thống hóa đơn điện tử theo TT78/2022/TT-BTC"})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[r.isEnabled?l.jsx(lj,{className:"w-5 h-5 text-green-600"}):l.jsx(oH,{className:"w-5 h-5 text-orange-600"}),"Trạng thái hóa đơn điện tử"]})}),l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:r.isEnabled?"Đã kích hoạt":"Chưa kích hoạt"}),l.jsx("p",{className:"text-sm text-gray-600",children:r.isEnabled?"Hệ thống hóa đơn điện tử đang hoạt động":"Bật để sử dụng chức năng hóa đơn điện tử"})]}),l.jsx(hu,{checked:r.isEnabled,onCheckedChange:u=>c("isEnabled",u)})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Cấu hình nhà cung cấp"})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nhà cung cấp *"}),l.jsxs(fa,{value:r.provider,onValueChange:u=>c("provider",u),children:[l.jsx(Kn,{children:l.jsx(da,{})}),l.jsx(Xn,{children:J5e.map(u=>l.jsx(er,{value:u.value,children:u.label},u.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL API *"}),l.jsx(tt,{value:r.apiUrl||"",onChange:u=>c("apiUrl",u.target.value),placeholder:"https://api.example.com"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tài khoản"}),l.jsx(tt,{value:r.username||"",onChange:u=>c("username",u.target.value),placeholder:"Tên tài khoản"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu"}),l.jsx(tt,{type:"password",value:r.password||"",onChange:u=>c("password",u.target.value),placeholder:"Mật khẩu"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token xác thực"}),l.jsx(tt,{value:r.token||"",onChange:u=>c("token",u.target.value),placeholder:"Token API"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã công ty"}),l.jsx(tt,{value:r.companyCode||"",onChange:u=>c("companyCode",u.target.value),placeholder:"Mã công ty trên hệ thống"})]})]})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Thông tin công ty (Người bán)"})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã số thuế *"}),l.jsx(tt,{value:r.companyTaxCode||"",onChange:u=>c("companyTaxCode",u.target.value),placeholder:"0123456789",maxLength:13})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên công ty *"}),l.jsx(tt,{value:r.companyName||"",onChange:u=>c("companyName",u.target.value),placeholder:"Tên công ty"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ công ty"}),l.jsx(tt,{value:r.companyAddress||"",onChange:u=>c("companyAddress",u.target.value),placeholder:"Địa chỉ đầy đủ"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),l.jsx(tt,{value:r.companyPhone||"",onChange:u=>c("companyPhone",u.target.value),placeholder:"0123456789"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx(tt,{type:"email",value:r.companyEmail||"",onChange:u=>c("companyEmail",u.target.value),placeholder:"company@example.com"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tài khoản"}),l.jsx(tt,{value:r.companyBankAccount||"",onChange:u=>c("companyBankAccount",u.target.value),placeholder:"Số tài khoản ngân hàng"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên ngân hàng"}),l.jsx(tt,{value:r.companyBankName||"",onChange:u=>c("companyBankName",u.target.value),placeholder:"Tên ngân hàng"})]})]})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Cấu hình mẫu hóa đơn"})}),l.jsx(Ve,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mẫu số hóa đơn"}),l.jsx(tt,{value:r.defaultTemplate,onChange:u=>c("defaultTemplate",u.target.value),placeholder:"01GTKT0/001"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ký hiệu hóa đơn"}),l.jsx(tt,{value:r.defaultSymbol,onChange:u=>c("defaultSymbol",u.target.value),placeholder:"C22TKT"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thuế suất mặc định"}),l.jsxs(fa,{value:r.defaultTaxRate,onValueChange:u=>c("defaultTaxRate",u),children:[l.jsx(Kn,{children:l.jsx(da,{})}),l.jsx(Xn,{children:eMe.map(u=>l.jsx(er,{value:u.value,children:u.label},u.value))})]})]})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Cài đặt tự động"})}),l.jsx(Ve,{className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Tự động phát hành"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Tự động phát hành hóa đơn sau khi tạo"})]}),l.jsx(hu,{checked:r.autoIssue,onCheckedChange:u=>c("autoIssue",u)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Tự động gửi email"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Gửi hóa đơn qua email cho khách hàng"})]}),l.jsx(hu,{checked:r.autoSendEmail,onCheckedChange:u=>c("autoSendEmail",u)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Tự động gửi SMS"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Gửi thông báo hóa đơn qua SMS"})]}),l.jsx(hu,{checked:r.autoSendSMS,onCheckedChange:u=>c("autoSendSMS",u)})]})]})})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Template thông báo"})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Email"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,value:r.emailTemplate||"",onChange:u=>c("emailTemplate",u.target.value),placeholder:`Kính gửi quý khách,

Hóa đơn điện tử của quý khách đã được phát hành.

Trân trọng!`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template SMS"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,value:r.smsTemplate||"",onChange:u=>c("smsTemplate",u.target.value),placeholder:"Hóa đơn điện tử đã được phát hành. Xem tại: {link}"})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(ke,{onClick:()=>e("/vnpt-test"),variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",children:[l.jsx(fj,{className:"w-4 h-4 mr-2"}),"Test VNPT API"]}),l.jsxs(ke,{onClick:o,disabled:s.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(xie,{className:"w-4 h-4 mr-2"}),s.isPending?"Đang lưu...":"Lưu cấu hình"]})]})]})})}function rMe(){const{toast:t}=mi(),[e,r]=T.useState({apiUrl:"http://your-vnpt-server.com:8080",username:"",password:"",companyTaxCode:"",companyName:"",companyAddress:"",companyPhone:"",companyEmail:""}),[n,a]=T.useState({buyerName:"Khách hàng test",buyerTaxCode:"",buyerAddress:"Hà Nội",buyerPhone:"0123456789",buyerEmail:"test@example.com",items:[{itemName:"Sản phẩm test",quantity:1,unitPrice:1e5,taxRate:"10%"}]}),[i,s]=T.useState({account:"",acPass:"",pattern:"1/E-HOA_DON",serial:"E23TEA",convert:0,fkey:"",xmlData:`<Inv>
  <key>INV001</key>
  <Invoice>
    <CusCode>KH001</CusCode>
    <CusName>Khách hàng test MTT</CusName>
    <CusAddress>Hà Nội</CusAddress>
    <Products>
      <Product>
        <ProdName>Sản phẩm MTT</ProdName>
        <ProdUnit>Cái</ProdUnit>
        <ProdQuantity>1</ProdQuantity>
        <ProdPrice>100000</ProdPrice>
        <Amount>100000</Amount>
      </Product>
    </Products>
    <Total>100000</Total>
  </Invoice>
</Inv>`}),o=Vt({mutationFn:async()=>(await fetch("/api/EInvoice/test-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),onSuccess:m=>{t({title:"Test Authentication",description:m.success?"Đăng nhập VNPT thành công!":`Lỗi: ${m.message}`,variant:m.success?"default":"destructive"})}}),c=Vt({mutationFn:async()=>(await At("/api/EInvoice/config",{method:"PUT",body:JSON.stringify({isEnabled:!0,provider:"VNPT",apiUrl:e.apiUrl,username:e.username,password:e.password,companyTaxCode:e.companyTaxCode,companyName:e.companyName,companyAddress:e.companyAddress,companyPhone:e.companyPhone,companyEmail:e.companyEmail,defaultTemplate:"01GTKT0/001",defaultSymbol:"C22TKT",defaultTaxRate:"10%"}),headers:{"Content-Type":"application/json"}}),(await fetch("/api/EInvoice/test-create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()),onSuccess:m=>{t({title:"Test Create Invoice",description:m.success?"Tạo hóa đơn test thành công!":`Lỗi: ${m.message}`,variant:m.success?"default":"destructive"})}}),u=Vt({mutationFn:async()=>(await fetch("/api/EInvoice/mtt/import-and-publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account:i.account||e.username,acpass:i.acPass||e.password,xmlInvData:i.xmlData,username:e.username,password:e.password,pattern:i.pattern,serial:i.serial,convert:i.convert})})).json(),onSuccess:m=>{t({title:"MTT Import and Publish",description:m.success?"Import và publish MTT thành công!":`Lỗi: ${m.message}`,variant:m.success?"default":"destructive"})}}),f=Vt({mutationFn:async()=>(await fetch("/api/EInvoice/mtt/import-by-pattern",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account:i.account||e.username,acpass:i.acPass||e.password,xmlInvData:i.xmlData,username:e.username,password:e.password,pattern:i.pattern,serial:i.serial,convert:i.convert})})).json(),onSuccess:m=>{t({title:"MTT Import by Pattern",description:m.success?"Import theo pattern MTT thành công!":`Lỗi: ${m.message}`,variant:m.success?"default":"destructive"})}}),h=Vt({mutationFn:async()=>(await fetch("/api/EInvoice/mtt/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account:i.account||e.username,acpass:i.acPass||e.password,username:e.username,password:e.password,pattern:i.pattern,serial:i.serial,fkey:i.fkey})})).json(),onSuccess:m=>{t({title:"MTT Send",description:m.success?"Gửi hóa đơn MTT thành công!":`Lỗi: ${m.message}`,variant:m.success?"default":"destructive"})}});return l.jsx(Ri,{title:"Test VNPT API",children:l.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fj,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Test VNPT API"}),l.jsx("p",{className:"text-gray-600",children:"Kiểm tra kết nối và tạo hóa đơn thử nghiệm với VNPT"})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(Fm,{className:"w-5 h-5"}),"Cấu hình VNPT"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API URL *"}),l.jsx(tt,{value:e.apiUrl,onChange:m=>r(g=>({...g,apiUrl:m.target.value})),placeholder:"http://your-vnpt-server.com:8080"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),l.jsx(tt,{value:e.username,onChange:m=>r(g=>({...g,username:m.target.value})),placeholder:"Tài khoản VNPT"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),l.jsx(tt,{type:"password",value:e.password,onChange:m=>r(g=>({...g,password:m.target.value})),placeholder:"Mật khẩu VNPT"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã số thuế công ty *"}),l.jsx(tt,{value:e.companyTaxCode,onChange:m=>r(g=>({...g,companyTaxCode:m.target.value})),placeholder:"0123456789"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên công ty *"}),l.jsx(tt,{value:e.companyName,onChange:m=>r(g=>({...g,companyName:m.target.value})),placeholder:"Tên công ty đầy đủ"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ công ty"}),l.jsx(tt,{value:e.companyAddress,onChange:m=>r(g=>({...g,companyAddress:m.target.value})),placeholder:"Địa chỉ công ty"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),l.jsx(tt,{value:e.companyPhone,onChange:m=>r(g=>({...g,companyPhone:m.target.value})),placeholder:"0123456789"})]})]}),l.jsx("div",{children:l.jsxs(ke,{onClick:()=>o.mutate(),disabled:o.isPending||!e.username||!e.password,className:"bg-green-600 hover:bg-green-700",children:[l.jsx(b1,{className:"w-4 h-4 mr-2"}),o.isPending?"Đang test...":"Test Authentication"]})})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(ul,{className:"w-5 h-5"}),"Hóa đơn thử nghiệm"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên khách hàng"}),l.jsx(tt,{value:n.buyerName,onChange:m=>a(g=>({...g,buyerName:m.target.value})),placeholder:"Tên khách hàng"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã số thuế khách hàng"}),l.jsx(tt,{value:n.buyerTaxCode,onChange:m=>a(g=>({...g,buyerTaxCode:m.target.value})),placeholder:"MST khách hàng (tùy chọn)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),l.jsx(tt,{value:n.buyerAddress,onChange:m=>a(g=>({...g,buyerAddress:m.target.value})),placeholder:"Địa chỉ khách hàng"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),l.jsx(tt,{value:n.buyerPhone,onChange:m=>a(g=>({...g,buyerPhone:m.target.value})),placeholder:"0123456789"})]})]}),l.jsx("div",{children:l.jsxs(ke,{onClick:()=>c.mutate(),disabled:c.isPending||!e.companyTaxCode||!e.companyName,className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),c.isPending?"Đang tạo...":"Tạo hóa đơn test"]})})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(Fm,{className:"w-5 h-5"}),"Test MTT APIs (Máy tính tiền)"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account MTT"}),l.jsx(tt,{value:i.account,onChange:m=>s(g=>({...g,account:m.target.value})),placeholder:"Tài khoản MTT (để trống = dùng username)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AC Password MTT"}),l.jsx(tt,{type:"password",value:i.acPass,onChange:m=>s(g=>({...g,acPass:m.target.value})),placeholder:"Mật khẩu MTT (để trống = dùng password)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pattern"}),l.jsx(tt,{value:i.pattern,onChange:m=>s(g=>({...g,pattern:m.target.value})),placeholder:"1/E-HOA_DON"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serial"}),l.jsx(tt,{value:i.serial,onChange:m=>s(g=>({...g,serial:m.target.value})),placeholder:"E23TEA"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Convert (0/1)"}),l.jsx(tt,{type:"number",value:i.convert,onChange:m=>s(g=>({...g,convert:parseInt(m.target.value)||0})),placeholder:"0",min:"0",max:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fkey (cho Send)"}),l.jsx(tt,{value:i.fkey,onChange:m=>s(g=>({...g,fkey:m.target.value})),placeholder:"Khóa hóa đơn cho Send API"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"XML Data"}),l.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-md resize-none font-mono text-sm",value:i.xmlData,onChange:m=>s(g=>({...g,xmlData:m.target.value})),placeholder:"XML data cho hóa đơn MTT"})]}),l.jsxs("div",{className:"flex gap-3 flex-wrap",children:[l.jsxs(ke,{onClick:()=>u.mutate(),disabled:u.isPending||!e.username||!e.password,className:"bg-purple-600 hover:bg-purple-700",children:[l.jsx(b1,{className:"w-4 h-4 mr-2"}),u.isPending?"Đang import...":"Import & Publish MTT"]}),l.jsxs(ke,{onClick:()=>f.mutate(),disabled:f.isPending||!e.username||!e.password,className:"bg-indigo-600 hover:bg-indigo-700",children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),f.isPending?"Đang import...":"Import by Pattern MTT"]}),l.jsxs(ke,{onClick:()=>h.mutate(),disabled:h.isPending||!e.username||!e.password||!i.fkey,className:"bg-pink-600 hover:bg-pink-700",children:[l.jsx(b1,{className:"w-4 h-4 mr-2"}),h.isPending?"Đang gửi...":"Send MTT"]})]})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Hướng dẫn test"})}),l.jsx(Ve,{children:l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("p",{children:l.jsx("strong",{children:"Test cơ bản:"})}),l.jsx("p",{children:"1. Điền đầy đủ thông tin cấu hình VNPT (URL, username, password, mã số thuế)"}),l.jsx("p",{children:'2. Click "Test Authentication" để kiểm tra kết nối'}),l.jsx("p",{children:"3. Nếu authentication thành công, điền thông tin khách hàng test"}),l.jsx("p",{children:'4. Click "Tạo hóa đơn test" để tạo hóa đơn thử nghiệm'}),l.jsx("p",{className:"mt-4",children:l.jsx("strong",{children:"Test MTT APIs:"})}),l.jsx("p",{children:"5. Điền thông tin MTT (account, pattern, serial, XML data)"}),l.jsx("p",{children:'6. Click "Import & Publish MTT" để test import và publish từ máy tính tiền'}),l.jsx("p",{children:'7. Click "Import by Pattern MTT" để test import theo pattern'}),l.jsx("p",{children:'8. Điền Fkey và click "Send MTT" để test gửi hóa đơn'}),l.jsx("p",{children:"9. Kiểm tra kết quả trong toast notification"})]})})]})]})})}var UO="Progress",VO=100,[nMe,DMe]=Li(UO),[aMe,iMe]=nMe(UO),rte=T.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=sMe,...s}=t;(a||a===0)&&!d9(a)&&console.error(oMe(`${a}`,"Progress"));const o=d9(a)?a:VO;n!==null&&!h9(n,o)&&console.error(lMe(`${n}`,"Progress"));const c=h9(n,o)?n:null,u=E2(c)?i(c,o):void 0;return l.jsx(aMe,{scope:r,value:c,max:o,children:l.jsx(Lt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":E2(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ite(c,o),"data-value":c??void 0,"data-max":o,...s,ref:e})})});rte.displayName=UO;var nte="ProgressIndicator",ate=T.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=iMe(nte,r);return l.jsx(Lt.div,{"data-state":ite(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});ate.displayName=nte;function sMe(t,e){return`${Math.round(t/e*100)}%`}function ite(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function E2(t){return typeof t=="number"}function d9(t){return E2(t)&&!isNaN(t)&&t>0}function h9(t,e){return E2(t)&&!isNaN(t)&&t<=e&&t>=0}function oMe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${VO}\`.`}function lMe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${VO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ste=rte,cMe=ate;const Q4=T.forwardRef(({className:t,value:e,...r},n)=>l.jsx(ste,{ref:n,className:dt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:l.jsx(cMe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Q4.displayName=ste.displayName;const uMe="http://101.53.9.76:5273",Ul=`${uMe}/api/DataManagement`,Vl={getDatabaseInfo:async()=>{const t=localStorage.getItem("staffId"),e=await fetch(`${Ul}/database-info`,{method:"GET",headers:{"Content-Type":"application/json",StaffId:t||""}});if(!e.ok){const r=await e.json();throw new Error(r.message||"Lỗi khi tải thông tin database")}return e.json()},backupDatabase:async t=>{const e=localStorage.getItem("staffId"),r=await fetch(`${Ul}/backup`,{method:"POST",headers:{"Content-Type":"application/json",StaffId:e||""},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Lỗi khi sao lưu database")}return r.json()},getBackupFiles:async()=>{const t=localStorage.getItem("staffId"),e=await fetch(`${Ul}/backup-files`,{method:"GET",headers:{"Content-Type":"application/json",StaffId:t||""}});if(!e.ok){const n=await e.json();throw new Error(n.message||"Lỗi khi lấy danh sách backup files")}return(await e.json()).files},uploadBackupFile:async t=>{const e=new FormData;e.append("file",t);const r=await fetch(`${Ul}/upload-backup`,{method:"POST",headers:{StaffId:"1"},body:e});if(!r.ok){const n=await r.json();throw new Error(n.message||"Lỗi khi upload backup file")}return r.json()},downloadBackupFile:async t=>{const e=await fetch(`${Ul}/download-backup/${encodeURIComponent(t)}`,{method:"GET",headers:{StaffId:"1"}});if(!e.ok){const i=await e.json();throw new Error(i.message||"Lỗi khi download backup file")}const r=await e.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)},backupAndDownload:async()=>{const t=await fetch(`${Ul}/backup-and-download`,{method:"POST",headers:{StaffId:"1"}});if(!t.ok){let s="Lỗi khi tạo backup và download";try{const o=await t.json();s=o.message||o.error||s}catch{s=`HTTP ${t.status}: ${t.statusText}`}throw new Error(s)}let e="backup.bak";const r=t.headers.get("Content-Disposition");if(r){const s=r.match(/filename="?([^"]+)"?/);s&&(e=s[1])}const n=await t.blob(),a=window.URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)},getBackupHistory:async()=>{const t=localStorage.getItem("staffId"),e=await fetch(`${Ul}/backup-history`,{method:"GET",headers:{"Content-Type":"application/json",StaffId:t||""}});if(!e.ok){const n=await e.json();throw new Error(n.message||"Lỗi khi lấy lịch sử backup")}return(await e.json()).history},restoreDatabase:async t=>{const e=localStorage.getItem("staffId"),r=await fetch(`${Ul}/restore`,{method:"POST",headers:{"Content-Type":"application/json",StaffId:e||""},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Lỗi khi phục hồi database")}return r.json()},deleteSalesData:async t=>{const e=localStorage.getItem("staffId"),r=await fetch(`${Ul}/sales-data`,{method:"DELETE",headers:{"Content-Type":"application/json",StaffId:e||""},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Lỗi khi xóa dữ liệu bán hàng")}return r.json()}},fMe="http://101.53.9.76:5273",wT=`${fMe}/api/BackupSettings`,dMe=()=>{const{toast:t}=mi(),[e,r]=T.useState(null),[n,a]=T.useState(!1),[i,s]=T.useState(0),[o,c]=T.useState(0),[u,f]=T.useState(""),[h,m]=T.useState(""),[g,x]=T.useState(""),[v,w]=T.useState(!1),[S,b]=T.useState([]),[_,E]=T.useState(""),[A,j]=T.useState(null),[O,D]=T.useState([]),[M,k]=T.useState("server"),[I,R]=T.useState({backupTime:"13:00",isEnabled:!0,notes:""}),[L,U]=T.useState(!1),[X,ue]=T.useState(!1);T.useEffect(()=>{he(),J(),ne(),G()},[]);const he=async()=>{try{const V=await Vl.getDatabaseInfo();r(V)}catch(V){console.error("Error loading database info:",V),t({variant:"destructive",title:"Lỗi",description:V.message||"Lỗi khi tải thông tin database"})}},J=async()=>{try{const V=await Vl.getBackupFiles();b(V)}catch(V){console.error("Error loading backup files:",V)}},ne=async()=>{try{const V=await Vl.getBackupHistory();D(V)}catch(V){console.error("Error loading backup history:",V)}},G=async()=>{try{const V=await fetch(`${wT}`);if(V.ok){const fe=await V.json(),Se=Math.floor(fe.backupTime.totalSeconds/3600),ve=Math.floor(fe.backupTime.totalSeconds%3600/60),gt=`${Se.toString().padStart(2,"0")}:${ve.toString().padStart(2,"0")}`;R({backupTime:gt,isEnabled:fe.isEnabled,notes:fe.notes||""})}}catch(V){console.error("Error loading backup settings:",V)}},z=async()=>{U(!0);try{if((await fetch(`${wT}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).ok)t({title:"Thành công",description:"Cài đặt backup đã được cập nhật"});else throw new Error("Failed to update backup settings")}catch(V){console.error("Error updating backup settings:",V),t({variant:"destructive",title:"Lỗi",description:V.message||"Lỗi khi cập nhật cài đặt backup"})}finally{U(!1)}},F=async()=>{ue(!0);try{if((await fetch(`${wT}/test`,{method:"POST"})).ok)t({title:"Thành công",description:"Backup thử nghiệm đã hoàn thành"}),ne();else throw new Error("Failed to run test backup")}catch(V){console.error("Error running test backup:",V),t({variant:"destructive",title:"Lỗi",description:V.message||"Lỗi khi chạy backup thử nghiệm"})}finally{ue(!1)}},ee=async()=>{a(!0),s(0);try{if(M==="download")await Vl.backupAndDownload(),s(100),t({title:"Thành công",description:"Sao lưu database và download về máy thành công!"});else{const V=await Vl.backupDatabase({backupPath:u.trim()||void 0});s(100),t({title:"Thành công",description:`Sao lưu database thành công! File: ${V.fileName}`})}f(""),await he(),await ne()}catch(V){console.error("Error creating backup:",V),t({variant:"destructive",title:"Lỗi",description:V.message||"Lỗi khi sao lưu database"})}finally{a(!1),s(0)}},K=async V=>{try{await Vl.downloadBackupFile(V),t({title:"Thành công",description:`Đã download file ${V} về máy`})}catch(fe){console.error("Error downloading backup:",fe),t({variant:"destructive",title:"Lỗi",description:fe.message||"Lỗi khi download backup file"})}},ae=async V=>{if(V){a(!0);try{const fe=await Vl.uploadBackupFile(V);t({title:"Thành công",description:`Upload file ${fe.originalName} thành công!`}),j(V),m(fe.filePath),await J()}catch(fe){console.error("Error uploading file:",fe),t({variant:"destructive",title:"Lỗi",description:fe.message||"Lỗi khi upload file backup"})}finally{a(!1)}}},q=async()=>{if(!h.trim()){t({variant:"destructive",title:"Lỗi",description:"Vui lòng chọn file backup hoặc upload file mới"});return}a(!0),c(0);try{const V=await Vl.restoreDatabase({backupFilePath:h});c(100),t({title:"Thành công",description:"Phục hồi database thành công!"}),m(""),E(""),j(null),w(!1),await he()}catch(V){console.error("Error restoring database:",V),t({variant:"destructive",title:"Lỗi",description:V.message||"Lỗi khi phục hồi database"})}finally{a(!1),c(0)}},pe=async()=>{if(g!=="DELETE SALES DATA"){t({variant:"destructive",title:"Lỗi",description:'Vui lòng nhập chính xác "DELETE SALES DATA"'});return}a(!0);try{const V=await Vl.deleteSalesData({confirmationText:g});t({title:"Thành công",description:"Xóa dữ liệu bán hàng thành công!"}),x(""),await he()}catch(V){console.error("Error deleting sales data:",V),t({variant:"destructive",title:"Lỗi",description:V.message||"Lỗi khi xóa dữ liệu bán hàng"})}finally{a(!1)}},W=V=>{if(V===0)return"0 Bytes";const fe=1024,Se=["Bytes","KB","MB","GB"],ve=Math.floor(Math.log(V)/Math.log(fe));return parseFloat((V/Math.pow(fe,ve)).toFixed(2))+" "+Se[ve]};return l.jsx(Ri,{title:"Quản Lý Dữ Liệu",children:l.jsxs("div",{className:"container mx-auto p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản Lý Dữ Liệu"}),l.jsxs(Ct,{variant:"outline",children:[l.jsx(Wh,{className:"h-4 w-4 mr-1"}),"Cấp quyền"]})]}),l.jsxs(Ue,{className:"mb-6",children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(rm,{className:"h-5 w-5 text-blue-600"}),"Thông Tin Database"]})}),l.jsx(Ve,{children:e?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rm,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Tên Database"}),l.jsx("p",{className:"font-semibold",children:e.databaseName})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fie,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Kích Thước"}),l.jsxs("p",{className:"font-semibold",children:[e.sizeMB," MB"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rm,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Server"}),l.jsx("p",{className:"font-semibold",children:e.serverName})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mf,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Backup Cuối"}),l.jsx("p",{className:"font-semibold",children:e.lastBackup||"Chưa có"})]})]})]}):l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(Mp,{className:"h-8 w-8 animate-spin text-gray-400"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải thông tin..."})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(Vf,{className:"h-5 w-5 text-green-600"}),"Sao Lưu Dữ Liệu"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Jr,{children:"Chọn phương thức sao lưu:"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg cursor-pointer transition-colors ${M==="server"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[l.jsx("input",{type:"radio",name:"backupMode",value:"server",checked:M==="server",onChange:V=>k(V.target.value),className:"h-4 w-4 text-blue-600"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rm,{className:"h-4 w-4 text-blue-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Lưu trên Server"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Lưu file backup trên server"})]})]})]}),l.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg cursor-pointer transition-colors ${M==="download"?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[l.jsx("input",{type:"radio",name:"backupMode",value:"download",checked:M==="download",onChange:V=>k(V.target.value),className:"h-4 w-4 text-green-600"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lx,{className:"h-4 w-4 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Download về máy"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Tải trực tiếp về máy local"})]})]})]})]})]}),M==="server"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Đường dẫn sao lưu (tùy chọn)"}),l.jsx(tt,{placeholder:"Để trống sẽ dùng đường dẫn mặc định",value:u,onChange:V=>f(V.target.value),disabled:n}),l.jsx("p",{className:"text-sm text-gray-600",children:"Mặc định: C:\\temp\\RetailPoint_backup_[timestamp].bak"})]}),M==="download"&&l.jsxs(uf,{children:[l.jsx(Lx,{className:"h-4 w-4"}),l.jsx(ff,{children:"File backup sẽ được tải trực tiếp về thư mục Downloads của bạn."})]}),i>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Tiến trình sao lưu:"}),l.jsx(Q4,{value:i,className:"w-full"})]}),l.jsx(ke,{onClick:ee,disabled:n,className:"w-full",children:n?l.jsxs(l.Fragment,{children:[l.jsx(Mp,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang sao lưu..."]}):l.jsxs(l.Fragment,{children:[M==="download"?l.jsx(Lx,{className:"h-4 w-4 mr-2"}):l.jsx(Vf,{className:"h-4 w-4 mr-2"}),M==="download"?"Tạo Backup & Download":"Tạo Backup"]})})]})]}),l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(sh,{className:"h-5 w-5 text-blue-600"}),"Phục Hồi Dữ Liệu"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs(uf,{children:[l.jsx(Oi,{className:"h-4 w-4"}),l.jsxs(ff,{children:[l.jsx("strong",{children:"Cảnh báo:"})," Phục hồi sẽ ghi đè toàn bộ dữ liệu hiện tại!"]})]}),l.jsxs(Ya,{open:v,onOpenChange:w,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{variant:"outline",className:"w-full",disabled:n,children:[l.jsx(sh,{className:"h-4 w-4 mr-2"}),"Phục Hồi Database"]})}),l.jsxs(ka,{className:"max-w-md",children:[l.jsx(Da,{children:l.jsx(Ra,{children:"Phục Hồi Database"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(uf,{children:[l.jsx(Oi,{className:"h-4 w-4"}),l.jsx(ff,{children:"Phục hồi sẽ ghi đè toàn bộ dữ liệu hiện tại!"})]}),S.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Chọn từ backup files đã upload:"}),l.jsxs(fa,{value:_,onValueChange:V=>{E(V),m(V),j(null)},children:[l.jsx(Kn,{children:l.jsx(da,{placeholder:"Chọn file backup..."})}),l.jsx(Xn,{children:S.map(V=>l.jsx(er,{value:V.filePath,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:V.fileName}),l.jsxs("span",{className:"text-xs text-gray-500",children:[W(V.size)," - ",new Date(V.lastModified).toLocaleString()]})]})},V.fileName))})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 border-t border-gray-300"}),l.jsx("span",{className:"text-sm text-gray-500",children:"HOẶC"}),l.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Upload file backup mới:"}),l.jsx("div",{className:"flex items-center justify-center w-full",children:l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx(sh,{className:"w-8 h-8 mb-2 text-gray-500"}),l.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[l.jsx("span",{className:"font-semibold",children:"Click để chọn"})," hoặc kéo thả file"]}),l.jsx("p",{className:"text-xs text-gray-500",children:".bak hoặc .sql files"})]}),l.jsx("input",{type:"file",className:"hidden",accept:".bak,.sql",onChange:V=>{var Se;const fe=(Se=V.target.files)==null?void 0:Se[0];fe&&(ae(fe),E(""))},disabled:n})]})}),A&&l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:l.jsxs("p",{className:"text-sm text-green-800",children:["✓ Đã upload: ",A.name]})})]}),o>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Tiến trình phục hồi:"}),l.jsx(Q4,{value:o,className:"w-full"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(ke,{variant:"outline",onClick:()=>{w(!1),m(""),E(""),j(null)},disabled:n,children:"Hủy"}),l.jsx(ke,{onClick:q,disabled:n||!h.trim(),children:n?l.jsxs(l.Fragment,{children:[l.jsx(Mp,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang phục hồi..."]}):l.jsxs(l.Fragment,{children:[l.jsx(sh,{className:"h-4 w-4 mr-2"}),"Phục Hồi"]})})]})]})]})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(mf,{className:"h-5 w-5 text-orange-600"}),"Lịch Sử Backup"]})}),l.jsx(Ve,{children:O.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left p-2",children:"Thời gian"}),l.jsx("th",{className:"text-left p-2",children:"Loại"}),l.jsx("th",{className:"text-left p-2",children:"Tên file"}),l.jsx("th",{className:"text-left p-2",children:"Kích thước"}),l.jsx("th",{className:"text-left p-2",children:"Trạng thái"}),l.jsx("th",{className:"text-left p-2",children:"Ghi chú"}),l.jsx("th",{className:"text-left p-2",children:"Thao tác"})]})}),l.jsx("tbody",{children:O.map(V=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"p-2",children:new Date(V.backupDate).toLocaleString("vi-VN")}),l.jsx("td",{className:"p-2",children:l.jsx(Ct,{variant:V.backupType==="Auto"?"default":"outline",children:V.backupType==="Auto"?"Tự động":"Thủ công"})}),l.jsx("td",{className:"p-2 font-mono text-xs",children:V.fileName}),l.jsxs("td",{className:"p-2",children:[V.fileSizeMB.toFixed(2)," MB"]}),l.jsx("td",{className:"p-2",children:l.jsx(Ct,{variant:V.status==="Success"?"default":"destructive",children:V.status==="Success"?"Thành công":"Thất bại"})}),l.jsx("td",{className:"p-2 text-xs text-gray-600",children:V.note}),l.jsx("td",{className:"p-2",children:V.status==="Success"&&l.jsxs(ke,{size:"sm",variant:"outline",onClick:()=>K(V.fileName),className:"h-8 px-2 text-xs",children:[l.jsx(Lx,{className:"h-3 w-3 mr-1"}),"Download"]})})]},V.id))})]})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(mf,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Chưa có lịch sử backup nào"})]})})]})}),l.jsx("div",{className:"mt-6",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(mf,{className:"h-5 w-5 text-blue-600"}),"Cài Đặt Backup Tự Động"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{htmlFor:"backup-time",children:"Thời gian backup hàng ngày"}),l.jsx(tt,{id:"backup-time",type:"time",value:I.backupTime,onChange:V=>R({...I,backupTime:V.target.value})}),l.jsx("p",{className:"text-xs text-gray-500",children:"Hệ thống sẽ tự động backup dữ liệu vào thời gian này mỗi ngày"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:"Trạng thái"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"backup-enabled",checked:I.isEnabled,onChange:V=>R({...I,isEnabled:V.target.checked}),className:"rounded"}),l.jsx(Jr,{htmlFor:"backup-enabled",children:I.isEnabled?"Đang bật":"Đang tắt"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{htmlFor:"backup-notes",children:"Ghi chú (tùy chọn)"}),l.jsx(Au,{id:"backup-notes",placeholder:"Nhập ghi chú về cài đặt backup...",value:I.notes,onChange:V=>R({...I,notes:V.target.value}),rows:2})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ke,{onClick:z,disabled:L,className:"flex items-center gap-2",children:[L&&l.jsx(Mp,{className:"h-4 w-4 animate-spin"}),"Lưu cài đặt"]}),l.jsxs(ke,{variant:"outline",onClick:F,disabled:X,className:"flex items-center gap-2",children:[X&&l.jsx(Mp,{className:"h-4 w-4 animate-spin"}),"Chạy thử backup"]})]}),l.jsxs(uf,{children:[l.jsx(Wh,{className:"h-4 w-4"}),l.jsx(ff,{children:'Backup tự động sẽ chạy vào thời gian đã cài đặt mỗi ngày. Bạn có thể tắt tính năng này bằng cách bỏ chọn "Đang bật".'})]})]})]})}),l.jsx("div",{className:"mt-6 max-w-md mx-auto",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(Uo,{className:"h-5 w-5 text-yellow-600"}),"Xóa Dữ Liệu Bán Hàng"]})}),l.jsxs(Ve,{className:"space-y-4",children:[l.jsxs(uf,{children:[l.jsx(Oi,{className:"h-4 w-4"}),l.jsx(ff,{children:"Xóa tất cả đơn hàng, chi tiết đơn hàng và dữ liệu thanh toán"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Jr,{children:'Nhập "DELETE SALES DATA" để xác nhận:'}),l.jsx(tt,{placeholder:"DELETE SALES DATA",value:g,onChange:V=>x(V.target.value),disabled:n})]}),l.jsxs(S2,{children:[l.jsx(N2,{asChild:!0,children:l.jsxs(ke,{variant:"destructive",disabled:n||g!=="DELETE SALES DATA",className:"w-full",children:[l.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Xóa Dữ Liệu Bán Hàng"]})}),l.jsxs(Gg,{children:[l.jsxs(Kg,{children:[l.jsx(Qg,{children:"Bạn có chắc chắn?"}),l.jsx(Yg,{children:"Thao tác này sẽ xóa vĩnh viễn tất cả dữ liệu bán hàng và không thể hoàn tác."})]}),l.jsxs(Xg,{children:[l.jsx(Jg,{children:"Hủy"}),l.jsx(Zg,{onClick:pe,children:"Xóa"})]})]})]})]})]})})]})})};function hMe({onStoreSelected:t,showTitle:e=!0}){const{user:r,currentStore:n,availableStores:a,switchStore:i,loadAvailableStores:s}=oo(),[o,c]=T.useState(null),[u,f]=T.useState(!1);T.useEffect(()=>{s()},[]),T.useEffect(()=>{n?c(n.storeId):r!=null&&r.storeId&&c(r.storeId)},[n,r]);const h=async g=>{f(!0);try{await i(g.storeId),c(g.storeId),t==null||t(g)}catch(x){console.error("Error switching store:",x)}finally{f(!1)}},m=a;return m.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx(Ji,{className:"w-16 h-16 text-gray-300 mx-auto mb-6"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Chưa có cửa hàng nào được phân quyền"}),l.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:"Hiện tại bạn chưa được phân quyền vào cửa hàng nào. Vui lòng liên hệ với quản trị viên để được cấp quyền truy cập các cửa hàng."}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Lưu ý:"})," Sau khi được cấp quyền, bạn cần đăng xuất và đăng nhập lại để cập nhật quyền truy cập."]})})]})}):l.jsxs("div",{className:"space-y-4",children:[e&&l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chọn cửa hàng"}),l.jsx("p",{className:"text-gray-600",children:"Vui lòng chọn cửa hàng để tiếp tục làm việc"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(g=>l.jsxs(Ue,{className:`cursor-pointer transition-all hover:shadow-md ${o===g.storeId?"ring-2 ring-blue-500 bg-blue-50":"hover:border-blue-300"}`,onClick:()=>h(g),children:[l.jsx(Rt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Mt,{className:"text-lg flex items-center gap-2",children:[l.jsx(Ji,{className:"w-5 h-5"}),g.name]}),o===g.storeId&&l.jsxs(Ct,{className:"bg-green-100 text-green-800",children:[l.jsx(k2,{className:"w-3 h-3 mr-1"}),"Đang chọn"]})]})}),l.jsxs(Ve,{className:"space-y-2",children:[g.address&&l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[l.jsx(Of,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:g.address})]}),g.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Mm,{className:"w-4 h-4"}),l.jsx("span",{children:g.phone})]}),g.email&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(R1,{className:"w-4 h-4"}),l.jsx("span",{children:g.email})]}),g.manager&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(xc,{className:"w-4 h-4"}),l.jsxs("span",{children:["QL: ",g.manager]})]})]})]},g.storeId))}),(r==null?void 0:r.roleName)==="Admin"&&l.jsx("div",{className:"text-center pt-4 border-t",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Với quyền Admin, bạn có thể truy cập tất cả cửa hàng"})})]})}function pMe(){const{user:t,logout:e}=oo(),[,r]=Fi(),n=()=>{const i=localStorage.getItem("intendedRoute");i&&i!=="/login"&&i!=="/store-selection"?(localStorage.removeItem("intendedRoute"),r(i)):r("/dashboard")},a=()=>{e(),r("/login")};return t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[l.jsx(Ue,{className:"mb-6",children:l.jsx(Ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(xc,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:t.fullName}),l.jsxs("p",{className:"text-sm text-gray-600",children:[t.username," • ",t.roleName]})]})]}),l.jsxs(ke,{variant:"outline",size:"sm",onClick:a,className:"flex items-center gap-2",children:[l.jsx(UT,{className:"w-4 h-4"}),"Đăng xuất"]})]})})}),l.jsx(Ue,{children:l.jsx(Ve,{className:"p-6",children:l.jsx(hMe,{onStoreSelected:n,showTitle:!0})})}),l.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:l.jsx("p",{children:"RetailPoint POS • Hệ thống quản lý bán hàng đa cửa hàng"})})]})}):(r("/login"),null)}const g1={name:"",address:"",phone:"",email:"",taxCode:"",manager:"",isActive:!0,notes:""};function mMe(){const{user:t}=oo(),{toast:e}=mi(),r=El(),[n,a]=T.useState(!1),[i,s]=T.useState(null),[o,c]=T.useState(g1),{data:u=[],isLoading:f}=Ft({queryKey:["/api/Stores/all"],queryFn:async()=>await At("/api/Stores/all",{method:"GET"})}),{data:h}=Ft({queryKey:["/api/Stores/stats"],queryFn:async()=>await At("/api/Stores/stats",{method:"GET"})}),m=Vt({mutationFn:async _=>await At("/api/Stores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/Stores/all"]}),r.invalidateQueries({queryKey:["/api/Stores/stats"]}),a(!1),c(g1),e({title:"Thành công",description:"Cửa hàng đã được tạo thành công!"})},onError:_=>{e({title:"Lỗi",description:_.message||"Có lỗi xảy ra khi tạo cửa hàng",variant:"destructive"})}}),g=Vt({mutationFn:async _=>await At(`/api/Stores/${_.storeId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/Stores/all"]}),r.invalidateQueries({queryKey:["/api/Stores/stats"]}),a(!1),s(null),c(g1),e({title:"Thành công",description:"Cửa hàng đã được cập nhật thành công!"})},onError:_=>{e({title:"Lỗi",description:_.message||"Có lỗi xảy ra khi cập nhật cửa hàng",variant:"destructive"})}}),x=Vt({mutationFn:async _=>await At(`/api/Stores/${_}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/Stores/all"]}),r.invalidateQueries({queryKey:["/api/Stores/stats"]}),e({title:"Thành công",description:"Cửa hàng đã được vô hiệu hóa!"})},onError:_=>{e({title:"Lỗi",description:_.message||"Có lỗi xảy ra khi vô hiệu hóa cửa hàng",variant:"destructive"})}});Vt({mutationFn:async _=>await At(`/api/Stores/${_}/activate`,{method:"POST"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/Stores/all"]}),r.invalidateQueries({queryKey:["/api/Stores/stats"]}),e({title:"Thành công",description:"Cửa hàng đã được kích hoạt!"})},onError:_=>{e({title:"Lỗi",description:_.message||"Có lỗi xảy ra khi kích hoạt cửa hàng",variant:"destructive"})}}),Vt({mutationFn:async _=>await At(`/api/Stores/${_}/deactivate`,{method:"POST"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/Stores/all"]}),r.invalidateQueries({queryKey:["/api/Stores/stats"]}),e({title:"Thành công",description:"Cửa hàng đã được vô hiệu hóa!"})},onError:_=>{e({title:"Lỗi",description:_.message||"Có lỗi xảy ra khi vô hiệu hóa cửa hàng",variant:"destructive"})}});const v=_=>{_.preventDefault(),i?g.mutate({...o,storeId:i.storeId}):m.mutate(o)},w=_=>{s(_),c(_),a(!0)},S=_=>{x.mutate(_)},b=()=>{c(g1),s(null)};return(t==null?void 0:t.roleName)!=="Admin"?l.jsx(Ri,{title:"Quản lý cửa hàng",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Oi,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Không có quyền truy cập"}),l.jsx("p",{className:"text-gray-600",children:"Chỉ Admin mới có thể quản lý cửa hàng"})]})}):l.jsx(Ri,{title:"Quản lý cửa hàng",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Quản lý cửa hàng"}),l.jsx("p",{className:"text-gray-600",children:"Quản lý thông tin các cửa hàng trong hệ thống"})]}),l.jsxs(Ya,{open:n,onOpenChange:a,children:[l.jsx(fc,{asChild:!0,children:l.jsxs(ke,{onClick:b,className:"flex items-center gap-2",children:[l.jsx(Jl,{className:"w-4 h-4"}),"Thêm cửa hàng"]})}),l.jsxs(ka,{className:"max-w-2xl",children:[l.jsxs(Da,{children:[l.jsx(Ra,{children:i?"Chỉnh sửa cửa hàng":"Thêm cửa hàng mới"}),l.jsx(WW,{children:i?"Cập nhật thông tin cửa hàng":"Nhập thông tin cửa hàng mới"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"name",children:"Tên cửa hàng *"}),l.jsx(tt,{id:"name",value:o.name,onChange:_=>c(E=>({...E,name:_.target.value})),placeholder:"Nhập tên cửa hàng",required:!0})]}),l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"manager",children:"Quản lý"}),l.jsx(tt,{id:"manager",value:o.manager||"",onChange:_=>c(E=>({...E,manager:_.target.value})),placeholder:"Tên quản lý cửa hàng"})]})]}),l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"address",children:"Địa chỉ"}),l.jsx(Au,{id:"address",value:o.address||"",onChange:_=>c(E=>({...E,address:_.target.value})),placeholder:"Nhập địa chỉ cửa hàng",rows:2})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"phone",children:"Số điện thoại"}),l.jsx(tt,{id:"phone",value:o.phone||"",onChange:_=>c(E=>({...E,phone:_.target.value})),placeholder:"0xxx-xxx-xxx"})]}),l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"email",children:"Email"}),l.jsx(tt,{id:"email",type:"email",value:o.email||"",onChange:_=>c(E=>({...E,email:_.target.value})),placeholder:"store@company.com"})]}),l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"taxCode",children:"Mã số thuế"}),l.jsx(tt,{id:"taxCode",value:o.taxCode||"",onChange:_=>c(E=>({...E,taxCode:_.target.value})),placeholder:"0123456789"})]})]}),l.jsxs("div",{children:[l.jsx(Jr,{htmlFor:"notes",children:"Ghi chú"}),l.jsx(Au,{id:"notes",value:o.notes||"",onChange:_=>c(E=>({...E,notes:_.target.value})),placeholder:"Ghi chú về cửa hàng",rows:2})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:_=>c(E=>({...E,isActive:_.target.checked})),className:"rounded"}),l.jsx(Jr,{htmlFor:"isActive",children:"Cửa hàng đang hoạt động"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ke,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Hủy"}),l.jsx(ke,{type:"submit",disabled:m.isPending||g.isPending,children:i?"Cập nhật":"Tạo mới"})]})]})]})]})]}),f?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{children:"Đang tải dữ liệu..."})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(_=>l.jsxs(Ue,{className:"relative",children:[l.jsx(Rt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Mt,{className:"text-lg flex items-center gap-2",children:[l.jsx(Ji,{className:"w-5 h-5"}),_.name]}),l.jsx(Ct,{variant:_.isActive?"default":"secondary",children:_.isActive?"Hoạt động":"Tạm dừng"})]})}),l.jsxs(Ve,{className:"space-y-3",children:[_.address&&l.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[l.jsx(Of,{className:"w-4 h-4 mt-0.5 text-gray-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:_.address})]}),_.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Mm,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-gray-700",children:_.phone})]}),_.email&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(R1,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-gray-700",children:_.email})]}),_.manager&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(xc,{className:"w-4 h-4 text-gray-500"}),l.jsxs("span",{className:"text-gray-700",children:["QL: ",_.manager]})]}),_.taxCode&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Zae,{className:"w-4 h-4 text-gray-500"}),l.jsxs("span",{className:"text-gray-700",children:["MST: ",_.taxCode]})]}),_.notes&&l.jsx("div",{className:"text-sm text-gray-600 italic",children:_.notes}),l.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[l.jsxs(ke,{size:"sm",variant:"outline",onClick:()=>w(_),className:"flex-1",children:[l.jsx(Gh,{className:"w-3 h-3 mr-1"}),"Sửa"]}),l.jsxs(S2,{children:[l.jsx(N2,{asChild:!0,children:l.jsx(ke,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(Uo,{className:"w-3 h-3"})})}),l.jsxs(Gg,{children:[l.jsxs(Kg,{children:[l.jsx(Qg,{children:"Xác nhận xóa cửa hàng"}),l.jsxs(Yg,{children:['Bạn có chắc chắn muốn xóa cửa hàng "',_.name,'"? Hành động này sẽ vô hiệu hóa cửa hàng và không thể hoàn tác.']})]}),l.jsxs(Xg,{children:[l.jsx(Jg,{children:"Hủy"}),l.jsx(Zg,{onClick:()=>_.storeId&&S(_.storeId),className:"bg-red-600 hover:bg-red-700",children:"Xóa"})]})]})]})]})]})]},_.storeId))}),!f&&u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ji,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Chưa có cửa hàng nào"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Tạo cửa hàng đầu tiên để bắt đầu"}),l.jsxs(ke,{onClick:()=>a(!0),children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Thêm cửa hàng đầu tiên"]})]})]})})}const gMe="http://101.53.9.76:5273";async function Hl(t,e={}){try{const r=`${gMe}${t}`,n={"Content-Type":"application/json"},a=localStorage.getItem("authToken");a&&(n.Authorization=`Bearer ${a}`);const i={...e,headers:{...n,...e.headers}},s=await fetch(r,i);return s.ok?{success:!0,data:await s.json()}:{success:!1,error:await s.text()||`HTTP error! status: ${s.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}const vMe={getDashboardMetrics:t=>Hl(`/dashboard/metrics?storeId=${t}`),getStores:()=>Hl("/stores"),getStore:t=>Hl(`/stores/${t}`),login:t=>Hl("/staff/login",{method:"POST",body:JSON.stringify(t)}),getUsers:()=>Hl("/users"),getCurrentUser:()=>Hl("/users/current"),getProducts:t=>{const e=t?`?storeId=${t}`:"";return Hl(`/products${e}`)},getOrders:t=>{const e=t?`?storeId=${t}`:"";return Hl(`/orders${e}`)},getCustomers:t=>{const e=t?`?storeId=${t}`:"";return Hl(`/customers${e}`)}};function p9(){var f,h;const{currentStore:t,user:e,availableStores:r}=oo(),[,n]=Fi(),{data:a,isLoading:i}=Ft({queryKey:["/api/dashboard/metrics",t==null?void 0:t.storeId],queryFn:async()=>{if(!(t!=null&&t.storeId))return null;const m=await vMe.getDashboardMetrics(t.storeId);return m.success?m.data:null},enabled:!!(t!=null&&t.storeId)}),{data:s}=Ft({queryKey:["/api/dashboard/metrics/stores",e==null?void 0:e.username],queryFn:async()=>{const m=await fetch("http://101.53.9.76:5273/api/dashboard/metrics/stores",{method:"GET",headers:{"Content-Type":"application/json",Username:(e==null?void 0:e.username)||"admin"},credentials:"include"});if(!m.ok)throw new Error("Failed to fetch stores");return m.json()},enabled:!!(e!=null&&e.username)}),o=a,c=m=>{(r==null?void 0:r.some(x=>x.storeId===m))?(console.log("Dashboard - Clicking authorized store with ID:",m),n(`/sales?storeId=${m}`)):console.warn("Dashboard - User không có quyền truy cập store:",m)},u=()=>{n("/store-selection")};return i?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),l.jsxs(ke,{variant:"outline",onClick:u,className:"flex items-center gap-2",children:[l.jsx(Ji,{className:"w-4 h-4"}),"Đổi cửa hàng"]})]}),t&&l.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[l.jsxs("h2",{className:"text-lg font-semibold text-blue-800",children:["Đang xem dữ liệu của: ",t.name]}),l.jsx("p",{className:"text-blue-600",children:t.address})]}),s&&s.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Các cửa hàng được phép truy cập"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(m=>{var x;const g=r==null?void 0:r.some(v=>v.storeId===m.id);return l.jsxs(Ue,{className:`transition-all ${g?`cursor-pointer hover:shadow-md ${(t==null?void 0:t.storeId)===m.id?"ring-2 ring-blue-500 bg-blue-50":"hover:border-blue-300"}`:"opacity-50 cursor-not-allowed bg-gray-50"}`,onClick:()=>g&&c(m.id),children:[l.jsx(Rt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Mt,{className:"text-lg flex items-center gap-2",children:[l.jsx(Ji,{className:"w-5 h-5"}),m.name,!g&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Không có quyền)"})]}),g&&l.jsx(Qae,{className:"w-4 h-4 text-gray-400"})]})}),l.jsxs(Ve,{className:"space-y-2",children:[m.address&&l.jsx("p",{className:"text-sm text-gray-600",children:m.address}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Doanh thu hôm nay:"}),l.jsxs("span",{className:"font-medium",children:[((x=m.todayRevenue)==null?void 0:x.toLocaleString("vi-VN"))||"0"," đ"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tổng đơn hàng:"}),l.jsx("span",{className:"font-medium",children:m.totalOrders||0})]}),l.jsx(ke,{size:"sm",className:"w-full mt-2",disabled:!g,onClick:v=>{v.stopPropagation(),g&&c(m.id)},children:g?"Vào bán hàng":"Không có quyền"})]})]},m.id)})})]}),l.jsxs(U0,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(ld,{children:[l.jsx(Wn,{value:"overview",children:"Tổng quan"}),l.jsx(Wn,{value:"sales",children:"Bán hàng"}),l.jsx(Wn,{value:"inventory",children:"Kho hàng"})]}),l.jsx(Gn,{value:"overview",className:"space-y-4",children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Doanh thu hôm nay"}),l.jsx(BT,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[((f=o==null?void 0:o.todayRevenue)==null?void 0:f.toLocaleString("vi-VN"))||"0"," đ"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.revenueGrowth)||"+0%"," so với hôm qua"]})]})]}),l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Đơn hàng hôm nay"}),l.jsx(Lm,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.todayOrdersCount)||0}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.orderGrowth)||"+0%"," so với hôm qua"]})]})]}),l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Tổng khách hàng"}),l.jsx(qf,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalCustomers)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Trong hệ thống"})]})]}),l.jsxs(Ue,{children:[l.jsxs(Rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Mt,{className:"text-sm font-medium",children:"Sản phẩm sắp hết"}),l.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ve,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:(o==null?void 0:o.lowStockCount)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Cần nhập thêm"})]})]})]})}),l.jsx(Gn,{value:"sales",className:"space-y-4",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Thống kê bán hàng"})}),l.jsx(Ve,{children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Tổng đơn hàng"}),l.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalOrders)||0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Doanh thu hôm nay"}),l.jsxs("p",{className:"text-2xl font-bold",children:[((h=o==null?void 0:o.todayRevenue)==null?void 0:h.toLocaleString("vi-VN"))||"0"," đ"]})]})]})})]})}),l.jsx(Gn,{value:"inventory",className:"space-y-4",children:l.jsxs(Ue,{children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Thông tin kho hàng"})}),l.jsx(Ve,{children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Tổng sản phẩm"}),l.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalProducts)||0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Sản phẩm sắp hết"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:(o==null?void 0:o.lowStockCount)||0})]})]})})]})})]})]})}function xMe(){return l.jsxs(wne,{children:[l.jsx(Hn,{path:"/login",children:l.jsx(Uoe,{})}),l.jsx(Hn,{path:"/store-selection",children:l.jsx(_a,{children:l.jsx(pMe,{})})}),l.jsx(Hn,{path:"/dashboard",children:l.jsx(_a,{requiredPermission:"ViewDashboard",children:l.jsx(p9,{})})}),l.jsx(Hn,{path:"/",children:l.jsx(_a,{requiredPermission:"ViewDashboard",children:l.jsx(p9,{})})}),l.jsx(Hn,{path:"/sales",children:l.jsx(_a,{requiredPermission:"ViewOrders",children:l.jsx(J0e,{})})}),l.jsx(Hn,{path:"/products",children:l.jsx(_a,{requiredPermission:"ViewProducts",children:l.jsx(Bme,{})})}),l.jsx(Hn,{path:"/product-groups",children:l.jsx(_a,{requiredPermission:"ViewProducts",children:l.jsx(Vme,{})})}),l.jsx(Hn,{path:"/customers",children:l.jsx(_a,{requiredPermission:"ViewCustomers",children:l.jsx(qge,{})})}),l.jsx(Hn,{path:"/inventory",children:l.jsx(_a,{requiredPermission:"ViewProducts",children:l.jsx(Kge,{})})}),l.jsx(Hn,{path:"/reports",children:l.jsx(_a,{requiredPermission:"ViewReports",children:l.jsx(p5e,{})})}),l.jsx(Hn,{path:"/cancelled-orders-report",children:l.jsx(_a,{requiredPermission:"ViewReports",children:l.jsx(m5e,{})})}),l.jsx(Hn,{path:"/staff",children:l.jsx(_a,{requiredPermission:"ViewStaff",children:l.jsx(j5e,{})})}),l.jsx(Hn,{path:"/settings",children:l.jsx(_a,{requiredPermission:"ViewSettings",children:l.jsx(M5e,{})})}),l.jsx(Hn,{path:"/orders",children:l.jsx(_a,{requiredPermission:"ViewOrders",children:l.jsx(Y5e,{})})}),l.jsx(Hn,{path:"/print-order/:orderId",children:l.jsx(_a,{requiredPermission:"ViewOrders",children:l.jsx(Z5e,{})})}),l.jsx(Hn,{path:"/einvoice-settings",children:l.jsx(_a,{requiredPermission:"ViewSettings",children:l.jsx(tMe,{})})}),l.jsx(Hn,{path:"/vnpt-test",children:l.jsx(_a,{requiredPermission:"ViewSettings",children:l.jsx(rMe,{})})}),l.jsx(Hn,{path:"/data-management",children:l.jsx(_a,{requiredPermission:"ViewDataManagement",children:l.jsx(dMe,{})})}),l.jsx(Hn,{path:"/store-management",children:l.jsx(_a,{requiredPermission:"ManageStores",children:l.jsx(mMe,{})})}),l.jsx(Hn,{children:l.jsx(Moe,{})})]})}function yMe(){return l.jsx($ne,{client:Jt,children:l.jsx(koe,{children:l.jsxs(Ioe,{children:[l.jsx(sse,{}),l.jsx(xMe,{})]})})})}Qre.createRoot(document.getElementById("root")).render(l.jsx(yMe,{}));
